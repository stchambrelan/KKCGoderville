if(window.jQuery){if(window.__jQueryPlugins){for(var i=0;i<__jQueryPlugins.length;i++){__jQueryPlugins[0](jQuery);__jQueryPlugins.splice(0,1);}}
(function($){$.fn.texthtml=function(text){this.html(escapeHTML(text));return this;};$.expr[':'].icontains=function(obj,index,meta,stack){return(obj.textContent||obj.innerText||$(obj).text()||'').toLowerCase().indexOf(meta[3].toLowerCase())>=0;};})(jQuery);(function($){if(!$.__jQueryQuomodo){var defaultMap=$.map;$.map=function(){var obj=arguments[0];if(obj.length!=undefined)return defaultMap.apply(this,arguments);var z=[],fn=arguments[1],y=arguments[2];for(var x in obj)z.push([obj[x],x]);return defaultMap.apply(this,[z,function(v){return fn(v[0],v[1],y);}]);};var __defaultCss=$.fn.css;$.fn.css=function(){var defaultRes=__defaultCss.apply(this,arguments);if(defaultRes===undefined&&arguments.length==1&&(typeof arguments[0])=="string"&&(arguments[0].toLowerCase()=="background-position"||arguments[0].toLowerCase()=="backgroundposition")){var bpx=__defaultCss.apply(this,["background-position-x"]);var bpy=__defaultCss.apply(this,["background-position-y"]);if(bpx!==undefined&&bpy!==undefined)return bpx+" "+bpy;}
return defaultRes;};$.__jQueryQuomodo=true;}})(jQuery);(function($){if(!$.__quomodoCustom){$.__quomodoCustom=true;var __defaultOn=$.fn.on;$.fn.on=function(){var _arguments=arguments;return this.each(function(){($(this).data("customon")||__defaultOn).apply($(this),_arguments);});};$.fn.$on=function(){return __defaultOn.apply(this,arguments);};var __defaultVal=$.fn.val;$.fn.val=function(){if(!arguments.length||arguments[0]==undefined){var $first=this.eq(0);return($first.data("customval")||__defaultVal).apply($first,arguments);}else{var _arguments=arguments;return this.each(function(){var $this=$(this);($this.data("customval")||__defaultVal).apply($this,_arguments);});}};$.fn.$val=function(){return __defaultVal.apply(this,arguments);};var __defaultProp=$.fn.prop;$.fn.prop=function(){if(arguments.length<2||arguments[1]==undefined){var $first=this.eq(0);return($first.data("customprop")||__defaultProp).apply($first,arguments);}else{var _arguments=arguments;return this.each(function(){var $this=$(this);($this.data("customprop")||__defaultProp).apply($this,_arguments);});}};$.fn.$prop=function(){return __defaultProp.apply(this,arguments);};}})(jQuery);(function($){function create_option(option,x,y){var disabled=false;var selected=false;var value,name;if((typeof option)=="string")option=[option];if(option.splice){value=option[0];name=(option.length>0&&(typeof option[1])=="string")?option[1]:option[0];if(option.length>0&&(typeof option[1])=="boolean")disabled=option[1];else if(option.length>1)disabled=option[2];}else{value=(option.value!=undefined)?option.value:option;name=(option.name!=undefined)?option.name:value;if(option.disabled)disabled=option.disabled;if(option.selected)selected=option.selected;}
var opt=new Option(name,value);if(x&&x.splice&&indexOfItem(value,x)!=-1)selected=true;if(disabled)opt.disabled="disabled";if(selected)opt.selected="selected";var args=(x&&!x.splice)?x:((y)?y:null);if(args)create_attributes(opt,args);return opt;};function indexOfItem(theitem,thelist){return $.inArray(theitem,thelist);}
function create_attributes(e,arg){var z;for(var x in arg){z=arg[x];if((x=="innerHTML")&&(!(/</).test(z)))q_innerHTML(e,z);else{if(typeof z=="string"){try{e[x]=z;}catch(err){e.setAttribute(x,z);}}else for(var y in z){if(isIE&&y=="cursor"&&z[y]=="pointer")z[y]="hand";try{e[x][y]=z[y];}catch(err){var s="error in create_attributes";try{s+=" "+x+" for "+y+" value : "+z[y];}catch(err2){};try{s+="\r"+(err.message||err.description||"(no message)");}catch(err2){};try{s+="\rElement's innerHTML is: \r\r"+e.innerHTML;}catch(err2){};debugmail(s);};}}}}
function create_elem(t,arg,text){var e=document.createElement(t);if(arg)create_attributes(e,arg);if(text)e.appendChild(document.createTextNode(text));return e;}
$.fn.options=function(options){if(!this.length)return this;var select=this.get(0);if(select.tagName.toLowerCase()!="select")return this;if(select.options)select.options.length=0;this.empty().unbind("click").bind("click",function(event){q_stopPropagation(event);});if(options){for(var i in options){var opt=options[i];if((typeof opt)=="string")opt=[opt];if(!opt.splice&&opt.label){var optargs=(opt.args)?opt.args:{};optargs.label=opt.label;var group=create_elem("OPTGROUP",optargs);select.appendChild(group);for(var j in opt.options)select.options[select.options.length]=create_option(opt.options[j]);}else select.options[select.options.length]=create_option(opt);}}
$("option[disabled]",this).css({'color':'#cccccc'});var currentOnChange=this.data("selecthandler")||select.onchange||(jQuery._data("events")&&jQuery._data("events").change&&jQuery._data("events").change[0].handler);this.attr("onchange","");this.data("customon",function(){var d=arguments[0];var e=arguments[2];var f=arguments[3];if(typeof d=="string"&&d=="change"){this.unbind("change");if($.isFunction(e))f=e;this.data("selecthandler",f);this.get(0).onchange=function(event){if(this.options[this.selectedIndex].disabled)$(this).val($(this).data("currentSelectedVal"));else{$(this).data("currentSelectedVal",$(this).val());if(f)f.apply(this,[event]);}};return this;}else return this.$on.apply(this,arguments);});this.data("customval",function(){var v=this.$val.apply(this,arguments);if(arguments.length)this.data("currentSelectedVal",this.$val());return v;});this.bind("change",currentOnChange);return this;};$.fn.horizontalselect=function(options){if(!this.length)return this;var div=this.get(0);if(div.tagName.toLowerCase()!="div")return this;if(!options||!options.values||!options.values.length)return this;var table=$('<table cellspacing="0" cellpadding="0" border="0" class="q_horizontalselect_table"></table>');var tr=$('<tr></tr>').appendTo(table);var padding=(options.padding==undefined)?1:options.padding;var values=options.values;var srcs=[];for(var j=0;j<values.length;j++){$('<td style="padding:'+padding+'px">').appendTo(tr).append('<img style="border:solid 2px transparent" />').find("img:last").attr("index",j).attr("rel",values[j].value).attr("src",values[j].src).css("height",options.imgheight||30).hover(function(event){var d=$(this).parents(".q_horizontalselect_table:eq(0)");if($(this).attr("rel")==d.data("selected"))return;if(event.type=="mouseenter")$(this).css("border-color","").addClass("clubbordercolor3");else $(this).css("border-color","transparent").removeClass("clubbordercolor3");}).click(function(event){var d=$(this).parents(".q_horizontalselect_table:eq(0)");if($(this).attr("rel")==d.data("selected"))return;d.data("selected",$(this).attr("rel"));d.parent().trigger("change");$("img",d).css("border-color","transparent");$(this).css("border-color","red");if(options.click)options.click(d.data("selected"));});srcs.push(values[j].src);}
var $this=this;q_waitimgsloaded(srcs,function(){$this.data("complete",true);if($this.data("completeval"))$this.val($this.data("completeval"));if(isie())$this.height($this.find(".q_horizontalselect_table:eq(0)").height()+17);});this.data("customval",function(){if(!arguments.length||arguments[0]==undefined)return $(".q_horizontalselect_table:eq(0)",this).data("selected");var v=arguments[0];var d=$(this).find(".q_horizontalselect_table:eq(0)");$("img",this).each(function(){if($(this).attr("rel")==v){$(this).click();var wdisplay=d.parent().width();var wcontainer=d.width();if(wdisplay<wcontainer)d.parent().scrollLeft(Math.max(0,Math.min(wcontainer-wdisplay,$(this).position().left+$(this).width()/2-wdisplay/2)));}});if(!this.data("complete"))this.data("completeval",v);return this;});this.append(table).unbind("mousedown").mousedown(function(event){q_stopPropagation(event);});return this;};})(jQuery);(function($){$.fn.appendQIframe=function(src,options){if(!this.length)return this;options=options||{};var iframew;if(options.width&&/(%|px)/.test(options.width))iframew=options.width;else if(options.percent)iframew=(options.width||100)+"%";else iframew=(options.width||100)+"px";var iframeh;if(options.height&&/(%|px)/.test(options.height))iframeh=options.height;else if(options.percent)iframeh=(options.height||100)+"%";else iframeh=(options.height||100)+"px";if(options.width&&/%/.test(options.width))options.percentw=true;if(options.height&&/%/.test(options.height))options.percenth=true;var html='<div class="overflow'+(options.noscroll?" noscroll":"")+'" onmousedown="q_stopPropagation( event )"';var style="width: "+iframew+" ; height: "+iframeh+";";var wrapperstyle=options.percent?' style="width: '+iframew+'; height: '+iframeh+'"':'';html+=' style="overflow: hidden ; margin: auto ; padding: 0px ; position: relative ; top: 0px ; left: 0px ; '+style+'"';html+=' align="center"><div class="qiframe-wrapper"'+wrapperstyle+'><iframe class="qiframe" scrolling="no" frameborder="0" onload="quomodo.iframe( this ).togglewait( false ) ; if ( this.onIframeLoaded ) this.onIframeLoaded() ;" src="'+escapeattribute(src)+'"';if(style.length)html+=' style="'+style+'"';html+='></iframe></div><div class="q_fsm_wait" style="position: absolute ; top: 0px ; left: 0px ;width:100%;height:100%;box-shadow:none;margin:0"><div class="q_fsm_wait_spinner"></div><div class="q_fsm_wait_text">'+common_message["defaultwait"]+'</div></div></div>';this.append(html);this.find(".q_fsm_wait").toggle(options.withWait==true);this.find("iframe").data("options",options);var iframe=quomodo.iframe(this.find("iframe").get(0));if(options.maxwidth){if(typeof(options.maxwidth)=="function")iframe.maxWidth=options.maxwidth();else iframe.maxWidth=options.maxwidth;}
if(options.maxheight){if(typeof(options.maxheight)=="function")iframe.maxHeight=options.maxheight();else iframe.maxHeight=options.maxheight;}
if(options.attach){for(var k in options.attach)iframe[k]=options.attach[k];}
if(iframe.onresize)iframe.onresize(options.width,options.height);iframe.attachTrigger=function(callback){iframe.trigger=function(){callback.apply(this,arguments);};};return this;};})(jQuery);(function($){$.fn.QGMap=function(options){if(!this.length)return this;options=$.extend({},options);var html='<iframe scrolling="no" frameborder="0" class="gm_mapframe" style="border:0px ; width:'+(options.width||'100%')+';height:'+(options.height||'100%')+';overflow:hidden;" src="/services/gmap/iframe_gmapv3.html"></iframe>';this.append(html);options.frame=this.find("iframe").get(0);quomodo.gmap.addmap(options);return this;};})(jQuery);(function($){function parseExcelString(s,delim,quote){var undef='undefined';delim=typeof delim==undef?',':delim;quote=typeof quote==undef?'"':quote;var doublequotere=new RegExp(quote+quote,"g");s=s.replace(/(\r\n)|(\n\r)/g,"\n");var regexsimple=new RegExp('[^'+delim+'\n\r]+','g');var regexquote=new RegExp(quote+'((([^'+delim+'\r\n'+quote+']|'+quote+quote+')*[\r\n'+delim+']+)*([^'+delim+'\r\n'+quote+']|'+quote+quote+')*)'+quote+'','g');var lastIndex=0;var ar=new Array();ar[0]=new Array();var res,k=0,l=0,maxk=0;while(1){var useregexpquote=false;if(s.charAt(lastIndex)==quote){regexquote.lastIndex=lastIndex;res=regexquote.exec(s);if(res!=null&&lastIndex+res[0].length==regexquote.lastIndex){lastIndex=regexquote.lastIndex;useregexpquote=true;}else{regexsimple.lastIndex=lastIndex;res=regexsimple.exec(s);lastIndex=regexsimple.lastIndex;}}else if(s.charAt(lastIndex)==delim){lastIndex++;ar[l][k]="";k++;if(lastIndex==s.length)break;continue;}else if((s.charAt(lastIndex)=='\n')||(s.charAt(lastIndex)=='\r')){lastIndex++;ar[l][k]="";l++;ar[l]=new Array();if(maxk<k)maxk=k;k=0;if(lastIndex==s.length)break;continue;}else{regexsimple.lastIndex=lastIndex;res=regexsimple.exec(s);lastIndex=regexsimple.lastIndex;}
if(res==null)break;if(useregexpquote){ar[l][k]=res[1].replace(doublequotere,quote);}else{ar[l][k]=res[0];}
if(lastIndex==s.length)break;var c=s.charAt(lastIndex);lastIndex++;if(c==delim){k++;}else if((c=='\r')||(c=='\n')){l++;ar[l]=new Array();if(maxk<k)maxk=k;k=0;}}
if(l==0)maxk=k;while(1){if(l>0&&((ar[l].length==0)||(ar[l].length==1&&ar[l][0].length==0))){l--;}else{break;}}
ar.ncols=maxk+1;ar.nrows=l+1;return ar;ar=(new Array(ar,maxk+1,l+1))[0];var lines=[];for(var i=0;i<l+1;i++){var line=[];for(var j=0;j<maxk+1;j++)line.push(ar[i][j]);lines.push(line);}
return lines;}
$.extend({csv:function(delim,quote){return function(text){return parseExcelString(text,delim,quote);};}});})(jQuery);(function($){$.fn.ellipsis=function(options){var defaults={'char':'...'};options=$.extend(defaults,options);if(!options.row&&!options.height)options.row=1;this.each(function(){if(options.html){var $this=$(this);var targetHeight=options.height;function search_and_destroy($target){if($target.contents().length==0){if($target.text().length>0){var text=$target.text();var start=1;var end=text.length;while(start<end){var length=Math.ceil((start+end)/2);$target.get(0).textContent=text.slice(0,length)+options['char'];if($this.height()<=targetHeight){start=length;}else{end=length-1;}}
if(start==1)return true;$target.get(0).textContent=text.slice(0,start)+options['char'];}else return true;return;}
var $lastelem=$target.contents().last().clone(true);$target.contents().last().remove();if($this.height()<=targetHeight){$target.append($lastelem);$lastelem=$target.contents().last();if($lastelem.contents().length>0){if(search_and_destroy($lastelem)){$target.contents().last().remove();return search_and_destroy($target);}}else if($lastelem.text().length>0){var text=$lastelem.text();var start=1;var end=text.length;while(start<end){var length=Math.ceil((start+end)/2);$lastelem.get(0).textContent=text.slice(0,length)+options['char'];if($this.height()<=targetHeight){start=length;}else{end=length-1;}}
if(start==1){$target.contents().last().remove();return search_and_destroy($target);}
$lastelem.get(0).textContent=text.slice(0,start)+options['char'];}else{$target.contents().last().remove();return search_and_destroy($target);}
return;}else return search_and_destroy($target);}
if(targetHeight<$this.height())search_and_destroy($this);}else{var $this=$(this);var text=$this.text();var origHeight=$this.height();$this.text('a');var rowHeight=$this.height();var targetHeight;if(options.row)
targetHeight=rowHeight*options.row;else{var rows=Math.floor(options.height/rowHeight);targetHeight=rowHeight*rows;}
if(origHeight<=targetHeight){$this.text(text);return;}
var start=1;var end=text.length;while(start<end){var length=Math.ceil((start+end)/2);$this.text(text.slice(0,length)+options['char']);if($this.height()<=targetHeight){start=length;}else{end=length-1;}}
$this.text(text.slice(0,start)+options['char']);}});return this;};})(jQuery);}
(function(){var jQueryPlugin=function($){var CustomForm=function(element,options){this.element=element;this.options=options;this.formElements=this.element.find('input, select');this.init();};CustomForm.prototype={init:function(){this.setup();this.bind();},setup:function(){var _this=this;this.formElements.each(function(){if(!$(this).data("cform")){_this.create($(this));$(this).data("cform",true);$(this).attr("cform","1");}});},bind:function(){var _this=this;$(document).unbind('toggleFormElement').bind('toggleFormElement',function(ev,element,fakeElement,className){if(_this.isRadio(element)){_this.toggleRadio(element,fakeElement,className);}
else{_this.toggleCheckbox(element,fakeElement,className);}});$(document).unbind('changeSelectValue').bind('changeSelectValue',function(ev,element,fakeSelect){element=element||ev.target;var $selected=$(element).find('option:selected');var disabled=$selected.attr("disabled")!==undefined;var optionName,value;if($selected.length==0){optionName=$(element).find('optgroup').attr("label");}else{optionName=$selected.html();value=$selected.get(0).value;}
var fn=$(element).data("fakeName");$(element).data("fakeSelect").html((fn)?fn(optionName,value):optionName);$(element).data("fakeSelect").removeClass(_this.setClass('disabled'));if(disabled)$(element).data("fakeSelect").addClass(_this.setClass('disabled'));});},create:function(element){var i,keyClass=this.options.keyClass.split(',');for(i=keyClass.length-1;i>=0;i--){if(element.hasClass($.trim(keyClass[i]))){if(element.get(0).nodeName=='INPUT'){this.createCustomInput(element);return;}
this.createCustomSelect(element);}}},createCustomSelect:function(element){var _this=this,newValue,fakeSelect=this.createFakeElement(element,'select');$(element).data("fakeSelect",fakeSelect);newValue=function(){$(document).trigger('changeSelectValue',[element,fakeSelect]);};if(!$(element).attr("cform")){if(this.options.enableWrapper===true){element.wrap('<div class="'+this.setClass('wrapper')+'"></div>');}
element.before(fakeSelect);}
element.on({change:function(){newValue();if(_this.options&&_this.options.onchange)_this.options.onchange();var fn=$(this).data("changeFn");if(fn)fn.apply(this);},focus:function(){fakeSelect.addClass(_this.setClass('focused'));newValue();},blur:function(){fakeSelect.removeClass(_this.setClass('focused'));newValue();},keyup:function(){newValue();},mousedown:function(){newValue();}});element.data("customval",function(){var v=this.$val.apply(this,arguments);if(arguments.length)$(document).trigger('changeSelectValue',[element,fakeSelect]);return v;});fakeSelect.attr('id','label_'+element.attr('id'));element.css({opacity:0,position:'relative',zIndex:10,width:fakeSelect.outerWidth(),height:(_this.options&&_this.options.setSelectHeight)?fakeSelect.outerHeight():"auto"});},createCustomInput:function(element){var _this=this,toggleFormElement,fakeElement=this.createFakeElement(element,element.get(0).type),className=this.toSlug(element.attr('name'));fakeElement.addClass(className);element.addClass(className);if(!$(element).attr("cform"))element.before(fakeElement);element.css({opacity:0,position:'absolute',left:-99999});element.data("customprop",function(){var v=this.$prop.apply(this,arguments);if(arguments.length>1){if(arguments[1]==true){if(_this.isRadio(this)){var elem=this.get(0);$('input.'+className).each(function(){if(this!=elem){$(this).prop('checked',false).prev().removeClass(_this.setClass('checked'));}});}
this.$prop('checked',true);if(!fakeElement.hasClass(_this.options.prefix+"checked"))fakeElement.addClass(_this.setClass('checked'));}else{this.$prop('checked',false);fakeElement.removeClass(_this.setClass('checked'));}}
return v;});toggleFormElement=function(){$(document).trigger('toggleFormElement',[element,fakeElement,className]);};if(element.prop('checked')){fakeElement.addClass(this.setClass('checked'));}
element.on({focus:function(){fakeElement.addClass(_this.setClass('focused'));if(_this.isRadio(element)){toggleFormElement();}},blur:function(){fakeElement.removeClass(_this.setClass('focused'));},keypress:function(ev){if(!ev.which&&((ev.charCode||ev.charCode===0)?ev.charCode:ev.keyCode)){ev.which=ev.charCode||ev.keyCode;}
if(_this.isRadio(element)){toggleFormElement();}},change:function(){fakeElement.addClass(_this.setClass('focused'));if(_this.isRadio(element)){toggleFormElement();}else{fakeElement.toggleClass(_this.setClass('checked'));}}});fakeElement.on({click:function(){if(element.attr('disabled')!==undefined)return;if(_this.isRadio(element)){toggleFormElement();}
else{_this.toggleCheckbox(element,fakeElement,className);}
var events={};if(typeof(jQuery._data)==="function"){events=jQuery._data(element.get(0),"events")||{};}else if(typeof(element.data)==='function'){events=element.data("events")||{};}
if(events.click&&events.click.length>0){for(var i=0;i<events.click.length;i++){events.click[i].handler.apply(element.get(0),arguments);}}
if(element.get(0).onclick){element.get(0).onclick.apply(element.get(0),arguments);}}});if(this.options.enableWrapper===true){element.wrap('<div class="'+this.setClass('wrapper')+'"></div>');element.before(fakeElement);}
fakeElement.html('<span class="custom-form-checked-inner"></span>');if(this.options.eventClass){fakeElement.addClass(this.options.eventClass.out);fakeElement.on({mouseenter:function(){if(element.attr('disabled')!==undefined)return;$(this).addClass(_this.options.eventClass.over).removeClass(_this.options.eventClass.out);},mouseleave:function(){if(element.attr('disabled')!==undefined)return;$(this).addClass(_this.options.eventClass.out).removeClass(_this.options.eventClass.over);}});if(this.options.eventClass.checked)fakeElement.find("span").addClass(this.options.eventClass.checked);}},toggleRadio:function(element,fakeElement,className){$('input.'+className).prop('checked',false);$('span.'+className).removeClass(this.setClass('checked')).removeClass(this.setClass('focused'));fakeElement.addClass(this.setClass('checked')).addClass(this.setClass('focused'));fakeElement.next('input.'+className).prop('checked',true);},toggleCheckbox:function(element,fakeElement,className){if(element.prop('checked')){fakeElement.next('input.'+className).prop('checked',false);fakeElement.removeClass(this.setClass('checked'));}
else{fakeElement.next('input.'+className).prop('checked',true);fakeElement.addClass(this.setClass('checked'));}},createFakeElement:function(element,type){if($(element).attr("cform")=="1")return $(element).prev();var disabled;var value=(function(){if(type!='select')return "";var $selected=$(element).find('option:selected');var optionName,value;if($selected.length==0){optionName=$(element).find('optgroup').attr("label");disabled=true;}else{optionName=$selected.html();value=$selected.get(0).value;disabled=$selected.attr('disabled')!==undefined;}
var fn=$(element).data("fakeName");return(fn)?fn(optionName,value):optionName;})(),fakeElement=$('<span class="'+this.setClass(type)+'">'+value+'</span>');if(disabled||element.attr('disabled')!==undefined){fakeElement.addClass(this.setClass('disabled'));}
return fakeElement;},isRadio:function(element){return element.get(0).type=='radio';},setClass:function(name){return this.options.prefix+name;},toSlug:function(text){return text.toLowerCase().replace(/ /g,'-').replace(/[^\w-]+/g,'');}};var defaultOptions={prefix:'custom-form-',keyClass:'cform',enableWrapper:false};$.fn.customForm=function(options){options=$.extend({},defaultOptions,options);return new CustomForm(this,options);};};if(window.jQuery)jQueryPlugin(jQuery);else{if(!window.__jQueryPlugins)window.__jQueryPlugins=[];window.__jQueryPlugins.push(jQueryPlugin);}})();(function(){'use strict';var $;var Swiper=function(container,params){if(!(this instanceof Swiper))return new Swiper(container,params);var defaults={direction:'horizontal',touchEventsTarget:'container',initialSlide:0,speed:300,autoplay:false,autoplayDisableOnInteraction:true,autoplayStopOnLast:false,iOSEdgeSwipeDetection:false,iOSEdgeSwipeThreshold:20,freeMode:false,freeModeMomentum:true,freeModeMomentumRatio:1,freeModeMomentumBounce:true,freeModeMomentumBounceRatio:1,freeModeSticky:false,freeModeMinimumVelocity:0.02,autoHeight:false,setWrapperSize:false,virtualTranslate:false,effect:'slide',coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:true},flip:{slideShadows:true,limitRotation:true},cube:{slideShadows:true,shadow:true,shadowOffset:20,shadowScale:0.94},fade:{crossFade:false},parallax:false,scrollbar:null,scrollbarHide:true,scrollbarDraggable:false,scrollbarSnapOnRelease:false,keyboardControl:false,mousewheelControl:false,mousewheelReleaseOnEdges:false,mousewheelInvert:false,mousewheelForceToAxis:false,mousewheelSensitivity:1,hashnav:false,breakpoints:undefined,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:'column',slidesPerGroup:1,centeredSlides:false,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:false,touchRatio:1,touchAngle:45,simulateTouch:true,shortSwipes:true,longSwipes:true,longSwipesRatio:0.5,longSwipesMs:300,followFinger:true,onlyExternal:false,threshold:0,touchMoveStopPropagation:true,uniqueNavElements:true,pagination:null,paginationElement:'span',paginationClickable:false,paginationHide:false,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:'bullets',resistance:true,resistanceRatio:0.85,nextButton:null,prevButton:null,watchSlidesProgress:false,watchSlidesVisibility:false,grabCursor:false,preventClicks:true,preventClicksPropagation:true,slideToClickedSlide:false,lazyLoading:false,lazyLoadingInPrevNext:false,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:false,preloadImages:true,updateOnImagesReady:true,loop:false,loopAdditionalSlides:0,loopedSlides:null,control:undefined,controlInverse:false,controlBy:'slide',allowSwipeToPrev:true,allowSwipeToNext:true,swipeHandler:null,noSwiping:true,noSwipingClass:'swiper-no-swiping',slideClass:'swiper-slide',slideActiveClass:'swiper-slide-active',slideVisibleClass:'swiper-slide-visible',slideDuplicateClass:'swiper-slide-duplicate',slideNextClass:'swiper-slide-next',slidePrevClass:'swiper-slide-prev',wrapperClass:'swiper-wrapper',bulletClass:'swiper-pagination-bullet',bulletActiveClass:'swiper-pagination-bullet-active',buttonDisabledClass:'swiper-button-disabled',paginationCurrentClass:'swiper-pagination-current',paginationTotalClass:'swiper-pagination-total',paginationHiddenClass:'swiper-pagination-hidden',paginationProgressbarClass:'swiper-pagination-progressbar',observer:false,observeParents:false,a11y:false,prevSlideMessage:'Previous slide',nextSlideMessage:'Next slide',firstSlideMessage:'This is the first slide',lastSlideMessage:'This is the last slide',paginationBulletMessage:'Go to slide {{index}}',runCallbacksOnInit:true};var initialVirtualTranslate=params&&params.virtualTranslate;params=params||{};var originalParams={};for(var param in params){if(typeof params[param]==='object'&&params[param]!==null&&!(params[param].nodeType||params[param]===window||params[param]===document||(typeof Dom7!=='undefined'&&params[param]instanceof Dom7)||(typeof jQuery!=='undefined'&&params[param]instanceof jQuery))){originalParams[param]={};for(var deepParam in params[param]){originalParams[param][deepParam]=params[param][deepParam];}}
else{originalParams[param]=params[param];}}
for(var def in defaults){if(typeof params[def]==='undefined'){params[def]=defaults[def];}
else if(typeof params[def]==='object'){for(var deepDef in defaults[def]){if(typeof params[def][deepDef]==='undefined'){params[def][deepDef]=defaults[def][deepDef];}}}}
var s=this;s.params=params;s.originalParams=originalParams;s.classNames=[];if(typeof $!=='undefined'&&typeof Dom7!=='undefined'){$=Dom7;}
if(typeof $==='undefined'){if(typeof Dom7==='undefined'){$=window.Dom7||window.Zepto||window.jQuery;}
else{$=Dom7;}
if(!$)return;}
s.$=$;s.currentBreakpoint=undefined;s.getActiveBreakpoint=function(){if(!s.params.breakpoints)return false;var breakpoint=false;var points=[],point;for(point in s.params.breakpoints){if(s.params.breakpoints.hasOwnProperty(point)){points.push(point);}}
points.sort(function(a,b){return parseInt(a,10)>parseInt(b,10);});for(var i=0;i<points.length;i++){point=points[i];if(point>=window.innerWidth&&!breakpoint){breakpoint=point;}}
return breakpoint||'max';};s.setBreakpoint=function(){var breakpoint=s.getActiveBreakpoint();if(breakpoint&&s.currentBreakpoint!==breakpoint){var breakPointsParams=breakpoint in s.params.breakpoints?s.params.breakpoints[breakpoint]:s.originalParams;var needsReLoop=s.params.loop&&(breakPointsParams.slidesPerView!==s.params.slidesPerView);for(var param in breakPointsParams){s.params[param]=breakPointsParams[param];}
s.currentBreakpoint=breakpoint;if(needsReLoop&&s.destroyLoop){s.reLoop(true);}}};if(s.params.breakpoints){s.setBreakpoint();}
s.container=$(container);if(s.container.length===0)return;if(s.container.length>1){var swipers=[];s.container.each(function(){var container=this;swipers.push(new Swiper(this,params));});return swipers;}
s.container[0].swiper=s;s.container.data('swiper',s);s.classNames.push('swiper-container-'+s.params.direction);if(s.params.freeMode){s.classNames.push('swiper-container-free-mode');}
if(!s.support.flexbox){s.classNames.push('swiper-container-no-flexbox');s.params.slidesPerColumn=1;}
if(s.params.autoHeight){s.classNames.push('swiper-container-autoheight');}
if(s.params.parallax||s.params.watchSlidesVisibility){s.params.watchSlidesProgress=true;}
if(['cube','coverflow','flip'].indexOf(s.params.effect)>=0){if(s.support.transforms3d){s.params.watchSlidesProgress=true;s.classNames.push('swiper-container-3d');}
else{s.params.effect='slide';}}
if(s.params.effect!=='slide'){s.classNames.push('swiper-container-'+s.params.effect);}
if(s.params.effect==='cube'){s.params.resistanceRatio=0;s.params.slidesPerView=1;s.params.slidesPerColumn=1;s.params.slidesPerGroup=1;s.params.centeredSlides=false;s.params.spaceBetween=0;s.params.virtualTranslate=true;s.params.setWrapperSize=false;}
if(s.params.effect==='fade'||s.params.effect==='flip'){s.params.slidesPerView=1;s.params.slidesPerColumn=1;s.params.slidesPerGroup=1;s.params.watchSlidesProgress=true;s.params.spaceBetween=0;s.params.setWrapperSize=false;if(typeof initialVirtualTranslate==='undefined'){s.params.virtualTranslate=true;}}
if(s.params.grabCursor&&s.support.touch){s.params.grabCursor=false;}
s.wrapper=s.container.children('.'+s.params.wrapperClass);if(s.params.pagination){s.paginationContainer=$(s.params.pagination);if(s.params.uniqueNavElements&&typeof s.params.pagination==='string'&&s.paginationContainer.length>1&&s.container.find(s.params.pagination).length===1){s.paginationContainer=s.container.find(s.params.pagination);}
if(s.params.paginationType==='bullets'&&s.params.paginationClickable){s.paginationContainer.addClass('swiper-pagination-clickable');}
else{s.params.paginationClickable=false;}
s.paginationContainer.addClass('swiper-pagination-'+s.params.paginationType);}
if(s.params.nextButton||s.params.prevButton){if(s.params.nextButton){s.nextButton=$(s.params.nextButton);if(s.params.uniqueNavElements&&typeof s.params.nextButton==='string'&&s.nextButton.length>1&&s.container.find(s.params.nextButton).length===1){s.nextButton=s.container.find(s.params.nextButton);}}
if(s.params.prevButton){s.prevButton=$(s.params.prevButton);if(s.params.uniqueNavElements&&typeof s.params.prevButton==='string'&&s.prevButton.length>1&&s.container.find(s.params.prevButton).length===1){s.prevButton=s.container.find(s.params.prevButton);}}}
s.isHorizontal=function(){return s.params.direction==='horizontal';};s.rtl=s.isHorizontal()&&(s.container[0].dir.toLowerCase()==='rtl'||s.container.css('direction')==='rtl');if(s.rtl){s.classNames.push('swiper-container-rtl');}
if(s.rtl){s.wrongRTL=s.wrapper.css('display')==='-webkit-box';}
if(s.params.slidesPerColumn>1){s.classNames.push('swiper-container-multirow');}
if(s.device.android){s.classNames.push('swiper-container-android');}
s.container.addClass(s.classNames.join(' '));s.translate=0;s.progress=0;s.velocity=0;s.lockSwipeToNext=function(){s.params.allowSwipeToNext=false;};s.lockSwipeToPrev=function(){s.params.allowSwipeToPrev=false;};s.lockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=false;};s.unlockSwipeToNext=function(){s.params.allowSwipeToNext=true;};s.unlockSwipeToPrev=function(){s.params.allowSwipeToPrev=true;};s.unlockSwipes=function(){s.params.allowSwipeToNext=s.params.allowSwipeToPrev=true;};function round(a){return Math.floor(a);}
if(s.params.grabCursor){s.container[0].style.cursor='move';s.container[0].style.cursor='-webkit-grab';s.container[0].style.cursor='-moz-grab';s.container[0].style.cursor='grab';}
s.imagesToLoad=[];s.imagesLoaded=0;s.loadImage=function(imgElement,src,srcset,checkForComplete,callback){var image;function onReady(){if(callback)callback();}
if(!imgElement.complete||!checkForComplete){if(src){image=new window.Image();image.onload=onReady;image.onerror=onReady;if(srcset){image.srcset=srcset;}
if(src){image.src=src;}}else{onReady();}}else{onReady();}};s.preloadImages=function(){s.imagesToLoad=s.container.find('img');function _onReady(){if(typeof s==='undefined'||s===null)return;if(s.imagesLoaded!==undefined)s.imagesLoaded++;if(s.imagesLoaded===s.imagesToLoad.length){if(s.params.updateOnImagesReady)s.update();s.emit('onImagesReady',s);}}
for(var i=0;i<s.imagesToLoad.length;i++){s.loadImage(s.imagesToLoad[i],(s.imagesToLoad[i].currentSrc||s.imagesToLoad[i].getAttribute('src')),(s.imagesToLoad[i].srcset||s.imagesToLoad[i].getAttribute('srcset')),true,_onReady);}};s.autoplayTimeoutId=undefined;s.autoplaying=false;s.autoplayPaused=false;function autoplay(){s.autoplayTimeoutId=setTimeout(function(){if(s.params.loop){s.fixLoop();s._slideNext();s.emit('onAutoplay',s);}
else{if(!s.isEnd){s._slideNext();s.emit('onAutoplay',s);}
else{if(!params.autoplayStopOnLast){s._slideTo(0);s.emit('onAutoplay',s);}
else{s.stopAutoplay();}}}},s.params.autoplay);}
s.startAutoplay=function(){if(typeof s.autoplayTimeoutId!=='undefined')return false;if(!s.params.autoplay)return false;if(s.autoplaying)return false;s.autoplaying=true;s.emit('onAutoplayStart',s);autoplay();};s.stopAutoplay=function(internal){if(!s.autoplayTimeoutId)return;if(s.autoplayTimeoutId)clearTimeout(s.autoplayTimeoutId);s.autoplaying=false;s.autoplayTimeoutId=undefined;s.emit('onAutoplayStop',s);};s.pauseAutoplay=function(speed){if(s.autoplayPaused)return;if(s.autoplayTimeoutId)clearTimeout(s.autoplayTimeoutId);s.autoplayPaused=true;if(speed===0){s.autoplayPaused=false;autoplay();}
else{s.wrapper.transitionEnd(function(){if(!s)return;s.autoplayPaused=false;if(!s.autoplaying){s.stopAutoplay();}
else{autoplay();}});}};s.minTranslate=function(){return(-s.snapGrid[0]);};s.maxTranslate=function(){return(-s.snapGrid[s.snapGrid.length-1]);};s.updateAutoHeight=function(){var slide=s.slides.eq(s.activeIndex)[0];if(typeof slide!=='undefined'){var newHeight=slide.offsetHeight;if(newHeight)s.wrapper.css('height',newHeight+'px');}};s.updateContainerSize=function(){var width,height;if(typeof s.params.width!=='undefined'){width=s.params.width;}
else{width=s.container[0].clientWidth;}
if(typeof s.params.height!=='undefined'){height=s.params.height;}
else{height=s.container[0].clientHeight;}
if(width===0&&s.isHorizontal()||height===0&&!s.isHorizontal()){return;}
width=width-parseInt(s.container.css('padding-left'),10)-parseInt(s.container.css('padding-right'),10);height=height-parseInt(s.container.css('padding-top'),10)-parseInt(s.container.css('padding-bottom'),10);s.width=width;s.height=height;s.size=s.isHorizontal()?s.width:s.height;};s.updateSlidesSize=function(){s.slides=s.wrapper.children('.'+s.params.slideClass);s.snapGrid=[];s.slidesGrid=[];s.slidesSizesGrid=[];var spaceBetween=s.params.spaceBetween,slidePosition=-s.params.slidesOffsetBefore,i,prevSlideSize=0,index=0;if(typeof s.size==='undefined')return;if(typeof spaceBetween==='string'&&spaceBetween.indexOf('%')>=0){spaceBetween=parseFloat(spaceBetween.replace('%',''))/100*s.size;}
s.virtualSize=-spaceBetween;if(s.rtl)s.slides.css({marginLeft:'',marginTop:''});else s.slides.css({marginRight:'',marginBottom:''});var slidesNumberEvenToRows;if(s.params.slidesPerColumn>1){if(Math.floor(s.slides.length/s.params.slidesPerColumn)===s.slides.length/s.params.slidesPerColumn){slidesNumberEvenToRows=s.slides.length;}
else{slidesNumberEvenToRows=Math.ceil(s.slides.length/s.params.slidesPerColumn)*s.params.slidesPerColumn;}
if(s.params.slidesPerView!=='auto'&&s.params.slidesPerColumnFill==='row'){slidesNumberEvenToRows=Math.max(slidesNumberEvenToRows,s.params.slidesPerView*s.params.slidesPerColumn);}}
var slideSize;var slidesPerColumn=s.params.slidesPerColumn;var slidesPerRow=slidesNumberEvenToRows/slidesPerColumn;var numFullColumns=slidesPerRow-(s.params.slidesPerColumn*slidesPerRow-s.slides.length);for(i=0;i<s.slides.length;i++){slideSize=0;var slide=s.slides.eq(i);if(s.params.slidesPerColumn>1){var newSlideOrderIndex;var column,row;if(s.params.slidesPerColumnFill==='column'){column=Math.floor(i/slidesPerColumn);row=i-column*slidesPerColumn;if(column>numFullColumns||(column===numFullColumns&&row===slidesPerColumn-1)){if(++row>=slidesPerColumn){row=0;column++;}}
newSlideOrderIndex=column+row*slidesNumberEvenToRows/slidesPerColumn;slide.css({'-webkit-box-ordinal-group':newSlideOrderIndex,'-moz-box-ordinal-group':newSlideOrderIndex,'-ms-flex-order':newSlideOrderIndex,'-webkit-order':newSlideOrderIndex,'order':newSlideOrderIndex});}
else{row=Math.floor(i/slidesPerRow);column=i-row*slidesPerRow;}
slide.css({'margin-top':(row!==0&&s.params.spaceBetween)&&(s.params.spaceBetween+'px')}).attr('data-swiper-column',column).attr('data-swiper-row',row);}
if(slide.css('display')==='none')continue;if(s.params.slidesPerView==='auto'){slideSize=s.isHorizontal()?slide.outerWidth(true):slide.outerHeight(true);if(s.params.roundLengths)slideSize=round(slideSize);}
else{slideSize=(s.size-(s.params.slidesPerView-1)*spaceBetween)/s.params.slidesPerView;if(s.params.roundLengths)slideSize=round(slideSize);if(s.isHorizontal()){s.slides[i].style.width=slideSize+'px';}
else{s.slides[i].style.height=slideSize+'px';}}
s.slides[i].swiperSlideSize=slideSize;s.slidesSizesGrid.push(slideSize);if(s.params.centeredSlides){slidePosition=slidePosition+slideSize/2+prevSlideSize/2+spaceBetween;if(i===0)slidePosition=slidePosition-s.size/2-spaceBetween;if(Math.abs(slidePosition)<1/1000)slidePosition=0;if((index)%s.params.slidesPerGroup===0)s.snapGrid.push(slidePosition);s.slidesGrid.push(slidePosition);}
else{if((index)%s.params.slidesPerGroup===0)s.snapGrid.push(slidePosition);s.slidesGrid.push(slidePosition);slidePosition=slidePosition+slideSize+spaceBetween;}
s.virtualSize+=slideSize+spaceBetween;prevSlideSize=slideSize;index++;}
s.virtualSize=Math.max(s.virtualSize,s.size)+s.params.slidesOffsetAfter;var newSlidesGrid;if(s.rtl&&s.wrongRTL&&(s.params.effect==='slide'||s.params.effect==='coverflow')){s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+'px'});}
if(!s.support.flexbox||s.params.setWrapperSize){if(s.isHorizontal())s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+'px'});else s.wrapper.css({height:s.virtualSize+s.params.spaceBetween+'px'});}
if(s.params.slidesPerColumn>1){s.virtualSize=(slideSize+s.params.spaceBetween)*slidesNumberEvenToRows;s.virtualSize=Math.ceil(s.virtualSize/s.params.slidesPerColumn)-s.params.spaceBetween;s.wrapper.css({width:s.virtualSize+s.params.spaceBetween+'px'});if(s.params.centeredSlides){newSlidesGrid=[];for(i=0;i<s.snapGrid.length;i++){if(s.snapGrid[i]<s.virtualSize+s.snapGrid[0])newSlidesGrid.push(s.snapGrid[i]);}
s.snapGrid=newSlidesGrid;}}
if(!s.params.centeredSlides){newSlidesGrid=[];for(i=0;i<s.snapGrid.length;i++){if(s.snapGrid[i]<=s.virtualSize-s.size){newSlidesGrid.push(s.snapGrid[i]);}}
s.snapGrid=newSlidesGrid;if(Math.floor(s.virtualSize-s.size)-Math.floor(s.snapGrid[s.snapGrid.length-1])>1){s.snapGrid.push(s.virtualSize-s.size);}}
if(s.snapGrid.length===0)s.snapGrid=[0];if(s.params.spaceBetween!==0){if(s.isHorizontal()){if(s.rtl)s.slides.css({marginLeft:spaceBetween+'px'});else s.slides.css({marginRight:spaceBetween+'px'});}
else s.slides.css({marginBottom:spaceBetween+'px'});}
if(s.params.watchSlidesProgress){s.updateSlidesOffset();}};s.updateSlidesOffset=function(){for(var i=0;i<s.slides.length;i++){s.slides[i].swiperSlideOffset=s.isHorizontal()?s.slides[i].offsetLeft:s.slides[i].offsetTop;}};s.updateSlidesProgress=function(translate){if(typeof translate==='undefined'){translate=s.translate||0;}
if(s.slides.length===0)return;if(typeof s.slides[0].swiperSlideOffset==='undefined')s.updateSlidesOffset();var offsetCenter=-translate;if(s.rtl)offsetCenter=translate;s.slides.removeClass(s.params.slideVisibleClass);for(var i=0;i<s.slides.length;i++){var slide=s.slides[i];var slideProgress=(offsetCenter-slide.swiperSlideOffset)/(slide.swiperSlideSize+s.params.spaceBetween);if(s.params.watchSlidesVisibility){var slideBefore=-(offsetCenter-slide.swiperSlideOffset);var slideAfter=slideBefore+s.slidesSizesGrid[i];var isVisible=(slideBefore>=0&&slideBefore<s.size)||(slideAfter>0&&slideAfter<=s.size)||(slideBefore<=0&&slideAfter>=s.size);if(isVisible){s.slides.eq(i).addClass(s.params.slideVisibleClass);}}
slide.progress=s.rtl?-slideProgress:slideProgress;}};s.updateProgress=function(translate){if(typeof translate==='undefined'){translate=s.translate||0;}
var translatesDiff=s.maxTranslate()-s.minTranslate();var wasBeginning=s.isBeginning;var wasEnd=s.isEnd;if(translatesDiff===0){s.progress=0;s.isBeginning=s.isEnd=true;}
else{s.progress=(translate-s.minTranslate())/(translatesDiff);s.isBeginning=s.progress<=0;s.isEnd=s.progress>=1;}
if(s.isBeginning&&!wasBeginning)s.emit('onReachBeginning',s);if(s.isEnd&&!wasEnd)s.emit('onReachEnd',s);if(s.params.watchSlidesProgress)s.updateSlidesProgress(translate);s.emit('onProgress',s,s.progress);};s.updateActiveIndex=function(){var translate=s.rtl?s.translate:-s.translate;var newActiveIndex,i,snapIndex;for(i=0;i<s.slidesGrid.length;i++){if(typeof s.slidesGrid[i+1]!=='undefined'){if(translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1]-(s.slidesGrid[i+1]-s.slidesGrid[i])/2){newActiveIndex=i;}
else if(translate>=s.slidesGrid[i]&&translate<s.slidesGrid[i+1]){newActiveIndex=i+1;}}
else{if(translate>=s.slidesGrid[i]){newActiveIndex=i;}}}
if(newActiveIndex<0||typeof newActiveIndex==='undefined')newActiveIndex=0;snapIndex=Math.floor(newActiveIndex/s.params.slidesPerGroup);if(snapIndex>=s.snapGrid.length)snapIndex=s.snapGrid.length-1;if(newActiveIndex===s.activeIndex){return;}
s.snapIndex=snapIndex;s.previousIndex=s.activeIndex;s.activeIndex=newActiveIndex;s.updateClasses();};s.updateClasses=function(){s.slides.removeClass(s.params.slideActiveClass+' '+s.params.slideNextClass+' '+s.params.slidePrevClass);var activeSlide=s.slides.eq(s.activeIndex);activeSlide.addClass(s.params.slideActiveClass);var nextSlide=activeSlide.next('.'+s.params.slideClass).addClass(s.params.slideNextClass);if(s.params.loop&&nextSlide.length===0){s.slides.eq(0).addClass(s.params.slideNextClass);}
var prevSlide=activeSlide.prev('.'+s.params.slideClass).addClass(s.params.slidePrevClass);if(s.params.loop&&prevSlide.length===0){s.slides.eq(-1).addClass(s.params.slidePrevClass);}
if(s.paginationContainer&&s.paginationContainer.length>0){var current,total=s.params.loop?Math.ceil((s.slides.length-s.loopedSlides*2)/s.params.slidesPerGroup):s.snapGrid.length;if(s.params.loop){current=Math.ceil((s.activeIndex-s.loopedSlides)/s.params.slidesPerGroup);if(current>s.slides.length-1-s.loopedSlides*2){current=current-(s.slides.length-s.loopedSlides*2);}
if(current>total-1)current=current-total;if(current<0&&s.params.paginationType!=='bullets')current=total+current;}
else{if(typeof s.snapIndex!=='undefined'){current=s.snapIndex;}
else{current=s.activeIndex||0;}}
if(s.params.paginationType==='bullets'&&s.bullets&&s.bullets.length>0){s.bullets.removeClass(s.params.bulletActiveClass);if(s.paginationContainer.length>1){s.bullets.each(function(){if($(this).index()===current)$(this).addClass(s.params.bulletActiveClass);});}
else{s.bullets.eq(current).addClass(s.params.bulletActiveClass);}}
if(s.params.paginationType==='fraction'){s.paginationContainer.find('.'+s.params.paginationCurrentClass).text(current+1);s.paginationContainer.find('.'+s.params.paginationTotalClass).text(total);}
if(s.params.paginationType==='progress'){var scale=(current+1)/total,scaleX=scale,scaleY=1;if(!s.isHorizontal()){scaleY=scale;scaleX=1;}
s.paginationContainer.find('.'+s.params.paginationProgressbarClass).transform('translate3d(0,0,0) scaleX('+scaleX+') scaleY('+scaleY+')').transition(s.params.speed);}
if(s.params.paginationType==='custom'&&s.params.paginationCustomRender){s.paginationContainer.html(s.params.paginationCustomRender(s,current+1,total));s.emit('onPaginationRendered',s,s.paginationContainer[0]);}}
if(!s.params.loop){if(s.params.prevButton&&s.prevButton&&s.prevButton.length>0){if(s.isBeginning){s.prevButton.addClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.disable(s.prevButton);}
else{s.prevButton.removeClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.enable(s.prevButton);}}
if(s.params.nextButton&&s.nextButton&&s.nextButton.length>0){if(s.isEnd){s.nextButton.addClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.disable(s.nextButton);}
else{s.nextButton.removeClass(s.params.buttonDisabledClass);if(s.params.a11y&&s.a11y)s.a11y.enable(s.nextButton);}}}};s.updatePagination=function(){if(!s.params.pagination)return;if(s.paginationContainer&&s.paginationContainer.length>0){var paginationHTML='';if(s.params.paginationType==='bullets'){var numberOfBullets=s.params.loop?Math.ceil((s.slides.length-s.loopedSlides*2)/s.params.slidesPerGroup):s.snapGrid.length;for(var i=0;i<numberOfBullets;i++){if(s.params.paginationBulletRender){paginationHTML+=s.params.paginationBulletRender(i,s.params.bulletClass);}
else{paginationHTML+='<'+s.params.paginationElement+' class="'+s.params.bulletClass+' rpd-pbg-funcolor"></'+s.params.paginationElement+'>';}}
s.paginationContainer.html(paginationHTML);s.bullets=s.paginationContainer.find('.'+s.params.bulletClass);if(s.params.paginationClickable&&s.params.a11y&&s.a11y){s.a11y.initPagination();}}
if(s.params.paginationType==='fraction'){if(s.params.paginationFractionRender){paginationHTML=s.params.paginationFractionRender(s,s.params.paginationCurrentClass,s.params.paginationTotalClass);}
else{paginationHTML='<span class="rpd-p3"><span class="'+s.params.paginationCurrentClass+'"></span>'+
' / '+
'<span class="'+s.params.paginationTotalClass+'"></span></span>';}
s.paginationContainer.html(paginationHTML);}
if(s.params.paginationType==='progress'){if(s.params.paginationProgressRender){paginationHTML=s.params.paginationProgressRender(s,s.params.paginationProgressbarClass);}
else{paginationHTML='<span class="'+s.params.paginationProgressbarClass+'"></span>';}
s.paginationContainer.html(paginationHTML);}
if(s.params.paginationType!=='custom'){s.emit('onPaginationRendered',s,s.paginationContainer[0]);}}};s.update=function(updateTranslate){s.updateContainerSize();s.updateSlidesSize();s.updateProgress();s.updatePagination();s.updateClasses();if(s.params.scrollbar&&s.scrollbar){s.scrollbar.set();}
function forceSetTranslate(){newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate());s.setWrapperTranslate(newTranslate);s.updateActiveIndex();s.updateClasses();}
if(updateTranslate){var translated,newTranslate;if(s.controller&&s.controller.spline){s.controller.spline=undefined;}
if(s.params.freeMode){forceSetTranslate();if(s.params.autoHeight){s.updateAutoHeight();}}
else{if((s.params.slidesPerView==='auto'||s.params.slidesPerView>1)&&s.isEnd&&!s.params.centeredSlides){translated=s.slideTo(s.slides.length-1,0,false,true);}
else{translated=s.slideTo(s.activeIndex,0,false,true);}
if(!translated){forceSetTranslate();}}}
else if(s.params.autoHeight){s.updateAutoHeight();}};s.onResize=function(forceUpdatePagination){if(s.params.breakpoints){s.setBreakpoint();}
var allowSwipeToPrev=s.params.allowSwipeToPrev;var allowSwipeToNext=s.params.allowSwipeToNext;s.params.allowSwipeToPrev=s.params.allowSwipeToNext=true;s.updateContainerSize();s.updateSlidesSize();if(s.params.slidesPerView==='auto'||s.params.freeMode||forceUpdatePagination)s.updatePagination();if(s.params.scrollbar&&s.scrollbar){s.scrollbar.set();}
if(s.controller&&s.controller.spline){s.controller.spline=undefined;}
var slideChangedBySlideTo=false;if(s.params.freeMode){var newTranslate=Math.min(Math.max(s.translate,s.maxTranslate()),s.minTranslate());s.setWrapperTranslate(newTranslate);s.updateActiveIndex();s.updateClasses();if(s.params.autoHeight){s.updateAutoHeight();}}
else{s.updateClasses();if((s.params.slidesPerView==='auto'||s.params.slidesPerView>1)&&s.isEnd&&!s.params.centeredSlides){slideChangedBySlideTo=s.slideTo(s.slides.length-1,0,false,true);}
else{slideChangedBySlideTo=s.slideTo(s.activeIndex,0,false,true);}}
if(s.params.lazyLoading&&!slideChangedBySlideTo&&s.lazy){s.lazy.load();}
s.params.allowSwipeToPrev=allowSwipeToPrev;s.params.allowSwipeToNext=allowSwipeToNext;};var desktopEvents=['mousedown','mousemove','mouseup'];if(window.navigator.pointerEnabled)desktopEvents=['pointerdown','pointermove','pointerup'];else if(window.navigator.msPointerEnabled)desktopEvents=['MSPointerDown','MSPointerMove','MSPointerUp'];s.touchEvents={start:s.support.touch||!s.params.simulateTouch?'touchstart':desktopEvents[0],move:s.support.touch||!s.params.simulateTouch?'touchmove':desktopEvents[1],end:s.support.touch||!s.params.simulateTouch?'touchend':desktopEvents[2]};if(window.navigator.pointerEnabled||window.navigator.msPointerEnabled){(s.params.touchEventsTarget==='container'?s.container:s.wrapper).addClass('swiper-wp8-'+s.params.direction);}
s.initEvents=function(detach){var actionDom=detach?'off':'on';var action=detach?'removeEventListener':'addEventListener';var touchEventsTarget=s.params.touchEventsTarget==='container'?s.container[0]:s.wrapper[0];var target=s.support.touch?touchEventsTarget:document;var moveCapture=s.params.nested?true:false;if(s.browser.ie){touchEventsTarget[action](s.touchEvents.start,s.onTouchStart,false);target[action](s.touchEvents.move,s.onTouchMove,moveCapture);target[action](s.touchEvents.end,s.onTouchEnd,false);}
else{if(s.support.touch){touchEventsTarget[action](s.touchEvents.start,s.onTouchStart,false);touchEventsTarget[action](s.touchEvents.move,s.onTouchMove,moveCapture);touchEventsTarget[action](s.touchEvents.end,s.onTouchEnd,false);}
if(params.simulateTouch&&!s.device.ios&&!s.device.android){touchEventsTarget[action]('mousedown',s.onTouchStart,false);document[action]('mousemove',s.onTouchMove,moveCapture);document[action]('mouseup',s.onTouchEnd,false);}}
window[action]('resize',s.onResize);if(s.params.nextButton&&s.nextButton&&s.nextButton.length>0){s.nextButton[actionDom]('click',s.onClickNext);if(s.params.a11y&&s.a11y)s.nextButton[actionDom]('keydown',s.a11y.onEnterKey);}
if(s.params.prevButton&&s.prevButton&&s.prevButton.length>0){s.prevButton[actionDom]('click',s.onClickPrev);if(s.params.a11y&&s.a11y)s.prevButton[actionDom]('keydown',s.a11y.onEnterKey);}
if(s.params.pagination&&s.params.paginationClickable){s.paginationContainer[actionDom]('click','.'+s.params.bulletClass,s.onClickIndex);if(s.params.a11y&&s.a11y)s.paginationContainer[actionDom]('keydown','.'+s.params.bulletClass,s.a11y.onEnterKey);}
if(s.params.preventClicks||s.params.preventClicksPropagation)touchEventsTarget[action]('click',s.preventClicks,true);};s.attachEvents=function(){s.initEvents();};s.detachEvents=function(){s.initEvents(true);};s.allowClick=true;s.preventClicks=function(e){if(!s.allowClick){if(s.params.preventClicks)e.preventDefault();if(s.params.preventClicksPropagation&&s.animating){e.stopPropagation();e.stopImmediatePropagation();}}};s.onClickNext=function(e){e.preventDefault();if(s.isEnd&&!s.params.loop)return;s.slideNext();};s.onClickPrev=function(e){e.preventDefault();if(s.isBeginning&&!s.params.loop)return;s.slidePrev();};s.onClickIndex=function(e){e.preventDefault();var index=$(this).index()*s.params.slidesPerGroup;if(s.params.loop)index=index+s.loopedSlides;s.slideTo(index);};function findElementInEvent(e,selector){var el=$(e.target);if(!el.is(selector)){if(typeof selector==='string'){el=el.parents(selector);}
else if(selector.nodeType){var found;el.parents().each(function(index,_el){if(_el===selector)found=selector;});if(!found)return undefined;else return selector;}}
if(el.length===0){return undefined;}
return el[0];}
s.updateClickedSlide=function(e){var slide=findElementInEvent(e,'.'+s.params.slideClass);var slideFound=false;if(slide){for(var i=0;i<s.slides.length;i++){if(s.slides[i]===slide)slideFound=true;}}
if(slide&&slideFound){s.clickedSlide=slide;s.clickedIndex=$(slide).index();}
else{s.clickedSlide=undefined;s.clickedIndex=undefined;return;}
if(s.params.slideToClickedSlide&&s.clickedIndex!==undefined&&s.clickedIndex!==s.activeIndex){var slideToIndex=s.clickedIndex,realIndex,duplicatedSlides;if(s.params.loop){if(s.animating)return;realIndex=$(s.clickedSlide).attr('data-swiper-slide-index');if(s.params.centeredSlides){if((slideToIndex<s.loopedSlides-s.params.slidesPerView/2)||(slideToIndex>s.slides.length-s.loopedSlides+s.params.slidesPerView/2)){s.fixLoop();slideToIndex=s.wrapper.children('.'+s.params.slideClass+'[data-swiper-slide-index="'+realIndex+'"]:not(.swiper-slide-duplicate)').eq(0).index();setTimeout(function(){s.slideTo(slideToIndex);},0);}
else{s.slideTo(slideToIndex);}}
else{if(slideToIndex>s.slides.length-s.params.slidesPerView){s.fixLoop();slideToIndex=s.wrapper.children('.'+s.params.slideClass+'[data-swiper-slide-index="'+realIndex+'"]:not(.swiper-slide-duplicate)').eq(0).index();setTimeout(function(){s.slideTo(slideToIndex);},0);}
else{s.slideTo(slideToIndex);}}}
else{s.slideTo(slideToIndex);}}};var isTouched,isMoved,allowTouchCallbacks,touchStartTime,isScrolling,currentTranslate,startTranslate,allowThresholdMove,formElements='input, select, textarea, button',lastClickTime=Date.now(),clickTimeout,velocities=[],allowMomentumBounce;s.animating=false;s.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var isTouchEvent,startMoving;s.onTouchStart=function(e){if(e.originalEvent)e=e.originalEvent;isTouchEvent=e.type==='touchstart';if(!isTouchEvent&&'which'in e&&e.which===3)return;if(s.params.noSwiping&&findElementInEvent(e,'.'+s.params.noSwipingClass)){s.allowClick=true;return;}
if(s.params.swipeHandler){if(!findElementInEvent(e,s.params.swipeHandler))return;}
var startX=s.touches.currentX=e.type==='touchstart'?e.targetTouches[0].pageX:e.pageX;var startY=s.touches.currentY=e.type==='touchstart'?e.targetTouches[0].pageY:e.pageY;if(s.device.ios&&s.params.iOSEdgeSwipeDetection&&startX<=s.params.iOSEdgeSwipeThreshold){return;}
isTouched=true;isMoved=false;allowTouchCallbacks=true;isScrolling=undefined;startMoving=undefined;s.touches.startX=startX;s.touches.startY=startY;touchStartTime=Date.now();s.allowClick=true;s.updateContainerSize();s.swipeDirection=undefined;if(s.params.threshold>0)allowThresholdMove=false;if(e.type!=='touchstart'){var preventDefault=true;if($(e.target).is(formElements))preventDefault=false;if(document.activeElement&&$(document.activeElement).is(formElements)){document.activeElement.blur();}
if(preventDefault){e.preventDefault();}}
s.emit('onTouchStart',s,e);};s.onTouchMove=function(e){if(e.originalEvent)e=e.originalEvent;if(isTouchEvent&&e.type==='mousemove')return;if(e.preventedByNestedSwiper){s.touches.startX=e.type==='touchmove'?e.targetTouches[0].pageX:e.pageX;s.touches.startY=e.type==='touchmove'?e.targetTouches[0].pageY:e.pageY;return;}
if(s.params.onlyExternal){s.allowClick=false;if(isTouched){s.touches.startX=s.touches.currentX=e.type==='touchmove'?e.targetTouches[0].pageX:e.pageX;s.touches.startY=s.touches.currentY=e.type==='touchmove'?e.targetTouches[0].pageY:e.pageY;touchStartTime=Date.now();}
return;}
if(isTouchEvent&&document.activeElement){if(e.target===document.activeElement&&$(e.target).is(formElements)){isMoved=true;s.allowClick=false;return;}}
if(allowTouchCallbacks){s.emit('onTouchMove',s,e);}
if(e.targetTouches&&e.targetTouches.length>1)return;s.touches.currentX=e.type==='touchmove'?e.targetTouches[0].pageX:e.pageX;s.touches.currentY=e.type==='touchmove'?e.targetTouches[0].pageY:e.pageY;if(typeof isScrolling==='undefined'){var touchAngle=Math.atan2(Math.abs(s.touches.currentY-s.touches.startY),Math.abs(s.touches.currentX-s.touches.startX))*180/Math.PI;isScrolling=s.isHorizontal()?touchAngle>s.params.touchAngle:(90-touchAngle>s.params.touchAngle);}
if(isScrolling){s.emit('onTouchMoveOpposite',s,e);}
if(typeof startMoving==='undefined'&&s.browser.ieTouch){if(s.touches.currentX!==s.touches.startX||s.touches.currentY!==s.touches.startY){startMoving=true;}}
if(!isTouched)return;if(isScrolling){isTouched=false;return;}
if(!startMoving&&s.browser.ieTouch){return;}
s.allowClick=false;s.emit('onSliderMove',s,e);e.preventDefault();if(s.params.touchMoveStopPropagation&&!s.params.nested){e.stopPropagation();}
if(!isMoved){if(params.loop){s.fixLoop();}
startTranslate=s.getWrapperTranslate();s.setWrapperTransition(0);if(s.animating){s.wrapper.trigger('webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd');}
if(s.params.autoplay&&s.autoplaying){if(s.params.autoplayDisableOnInteraction){s.stopAutoplay();}
else{s.pauseAutoplay();}}
allowMomentumBounce=false;if(s.params.grabCursor){s.container[0].style.cursor='move';s.container[0].style.cursor='-webkit-grabbing';s.container[0].style.cursor='-moz-grabbin';s.container[0].style.cursor='grabbing';}}
isMoved=true;var diff=s.touches.diff=s.isHorizontal()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY;diff=diff*s.params.touchRatio;if(s.rtl)diff=-diff;s.swipeDirection=diff>0?'prev':'next';currentTranslate=diff+startTranslate;var disableParentSwiper=true;if((diff>0&&currentTranslate>s.minTranslate())){disableParentSwiper=false;if(s.params.resistance)currentTranslate=s.minTranslate()-1+Math.pow(-s.minTranslate()+startTranslate+diff,s.params.resistanceRatio);}
else if(diff<0&&currentTranslate<s.maxTranslate()){disableParentSwiper=false;if(s.params.resistance)currentTranslate=s.maxTranslate()+1-Math.pow(s.maxTranslate()-startTranslate-diff,s.params.resistanceRatio);}
if(disableParentSwiper){e.preventedByNestedSwiper=true;}
if(!s.params.allowSwipeToNext&&s.swipeDirection==='next'&&currentTranslate<startTranslate){currentTranslate=startTranslate;}
if(!s.params.allowSwipeToPrev&&s.swipeDirection==='prev'&&currentTranslate>startTranslate){currentTranslate=startTranslate;}
if(!s.params.followFinger)return;if(s.params.threshold>0){if(Math.abs(diff)>s.params.threshold||allowThresholdMove){if(!allowThresholdMove){allowThresholdMove=true;s.touches.startX=s.touches.currentX;s.touches.startY=s.touches.currentY;currentTranslate=startTranslate;s.touches.diff=s.isHorizontal()?s.touches.currentX-s.touches.startX:s.touches.currentY-s.touches.startY;return;}}
else{currentTranslate=startTranslate;return;}}
if(s.params.freeMode||s.params.watchSlidesProgress){s.updateActiveIndex();}
if(s.params.freeMode){if(velocities.length===0){velocities.push({position:s.touches[s.isHorizontal()?'startX':'startY'],time:touchStartTime});}
velocities.push({position:s.touches[s.isHorizontal()?'currentX':'currentY'],time:(new window.Date()).getTime()});}
s.updateProgress(currentTranslate);s.setWrapperTranslate(currentTranslate);};s.onTouchEnd=function(e){if(e.originalEvent)e=e.originalEvent;if(allowTouchCallbacks){s.emit('onTouchEnd',s,e);}
allowTouchCallbacks=false;if(!isTouched)return;if(s.params.grabCursor&&isMoved&&isTouched){s.container[0].style.cursor='move';s.container[0].style.cursor='-webkit-grab';s.container[0].style.cursor='-moz-grab';s.container[0].style.cursor='grab';}
var touchEndTime=Date.now();var timeDiff=touchEndTime-touchStartTime;if(s.allowClick){s.updateClickedSlide(e);s.emit('onTap',s,e);if(timeDiff<300&&(touchEndTime-lastClickTime)>300){if(clickTimeout)clearTimeout(clickTimeout);clickTimeout=setTimeout(function(){if(!s)return;if(s.params.paginationHide&&s.paginationContainer.length>0&&!$(e.target).hasClass(s.params.bulletClass)){s.paginationContainer.toggleClass(s.params.paginationHiddenClass);}
s.emit('onClick',s,e);},300);}
if(timeDiff<300&&(touchEndTime-lastClickTime)<300){if(clickTimeout)clearTimeout(clickTimeout);s.emit('onDoubleTap',s,e);}}
lastClickTime=Date.now();setTimeout(function(){if(s)s.allowClick=true;},0);if(!isTouched||!isMoved||!s.swipeDirection||s.touches.diff===0||currentTranslate===startTranslate){isTouched=isMoved=false;return;}
isTouched=isMoved=false;var currentPos;if(s.params.followFinger){currentPos=s.rtl?s.translate:-s.translate;}
else{currentPos=-currentTranslate;}
if(s.params.freeMode){if(currentPos<-s.minTranslate()){s.slideTo(s.activeIndex);return;}
else if(currentPos>-s.maxTranslate()){if(s.slides.length<s.snapGrid.length){s.slideTo(s.snapGrid.length-1);}
else{s.slideTo(s.slides.length-1);}
return;}
if(s.params.freeModeMomentum){if(velocities.length>1){var lastMoveEvent=velocities.pop(),velocityEvent=velocities.pop();var distance=lastMoveEvent.position-velocityEvent.position;var time=lastMoveEvent.time-velocityEvent.time;s.velocity=distance/time;s.velocity=s.velocity/2;if(Math.abs(s.velocity)<s.params.freeModeMinimumVelocity){s.velocity=0;}
if(time>150||(new window.Date().getTime()-lastMoveEvent.time)>300){s.velocity=0;}}else{s.velocity=0;}
velocities.length=0;var momentumDuration=1000*s.params.freeModeMomentumRatio;var momentumDistance=s.velocity*momentumDuration;var newPosition=s.translate+momentumDistance;if(s.rtl)newPosition=-newPosition;var doBounce=false;var afterBouncePosition;var bounceAmount=Math.abs(s.velocity)*20*s.params.freeModeMomentumBounceRatio;if(newPosition<s.maxTranslate()){if(s.params.freeModeMomentumBounce){if(newPosition+s.maxTranslate()<-bounceAmount){newPosition=s.maxTranslate()-bounceAmount;}
afterBouncePosition=s.maxTranslate();doBounce=true;allowMomentumBounce=true;}
else{newPosition=s.maxTranslate();}}
else if(newPosition>s.minTranslate()){if(s.params.freeModeMomentumBounce){if(newPosition-s.minTranslate()>bounceAmount){newPosition=s.minTranslate()+bounceAmount;}
afterBouncePosition=s.minTranslate();doBounce=true;allowMomentumBounce=true;}
else{newPosition=s.minTranslate();}}
else if(s.params.freeModeSticky){var j=0,nextSlide;for(j=0;j<s.snapGrid.length;j+=1){if(s.snapGrid[j]>-newPosition){nextSlide=j;break;}}
if(Math.abs(s.snapGrid[nextSlide]-newPosition)<Math.abs(s.snapGrid[nextSlide-1]-newPosition)||s.swipeDirection==='next'){newPosition=s.snapGrid[nextSlide];}else{newPosition=s.snapGrid[nextSlide-1];}
if(!s.rtl)newPosition=-newPosition;}
if(s.velocity!==0){if(s.rtl){momentumDuration=Math.abs((-newPosition-s.translate)/s.velocity);}
else{momentumDuration=Math.abs((newPosition-s.translate)/s.velocity);}}
else if(s.params.freeModeSticky){s.slideReset();return;}
if(s.params.freeModeMomentumBounce&&doBounce){s.updateProgress(afterBouncePosition);s.setWrapperTransition(momentumDuration);s.setWrapperTranslate(newPosition);s.onTransitionStart();s.animating=true;s.wrapper.transitionEnd(function(){if(!s||!allowMomentumBounce)return;s.emit('onMomentumBounce',s);s.setWrapperTransition(s.params.speed);s.setWrapperTranslate(afterBouncePosition);s.wrapper.transitionEnd(function(){if(!s)return;s.onTransitionEnd();});});}else if(s.velocity){s.updateProgress(newPosition);s.setWrapperTransition(momentumDuration);s.setWrapperTranslate(newPosition);s.onTransitionStart();if(!s.animating){s.animating=true;s.wrapper.transitionEnd(function(){if(!s)return;s.onTransitionEnd();});}}else{s.updateProgress(newPosition);}
s.updateActiveIndex();}
if(!s.params.freeModeMomentum||timeDiff>=s.params.longSwipesMs){s.updateProgress();s.updateActiveIndex();}
return;}
var i,stopIndex=0,groupSize=s.slidesSizesGrid[0];for(i=0;i<s.slidesGrid.length;i+=s.params.slidesPerGroup){if(typeof s.slidesGrid[i+s.params.slidesPerGroup]!=='undefined'){if(currentPos>=s.slidesGrid[i]&&currentPos<s.slidesGrid[i+s.params.slidesPerGroup]){stopIndex=i;groupSize=s.slidesGrid[i+s.params.slidesPerGroup]-s.slidesGrid[i];}}
else{if(currentPos>=s.slidesGrid[i]){stopIndex=i;groupSize=s.slidesGrid[s.slidesGrid.length-1]-s.slidesGrid[s.slidesGrid.length-2];}}}
var ratio=(currentPos-s.slidesGrid[stopIndex])/groupSize;if(timeDiff>s.params.longSwipesMs){if(!s.params.longSwipes){s.slideTo(s.activeIndex);return;}
if(s.swipeDirection==='next'){if(ratio>=s.params.longSwipesRatio)s.slideTo(stopIndex+s.params.slidesPerGroup);else s.slideTo(stopIndex);}
if(s.swipeDirection==='prev'){if(ratio>(1-s.params.longSwipesRatio))s.slideTo(stopIndex+s.params.slidesPerGroup);else s.slideTo(stopIndex);}}
else{if(!s.params.shortSwipes){s.slideTo(s.activeIndex);return;}
if(s.swipeDirection==='next'){s.slideTo(stopIndex+s.params.slidesPerGroup);}
if(s.swipeDirection==='prev'){s.slideTo(stopIndex);}}};s._slideTo=function(slideIndex,speed){return s.slideTo(slideIndex,speed,true,true);};s.slideTo=function(slideIndex,speed,runCallbacks,internal){if(typeof runCallbacks==='undefined')runCallbacks=true;if(typeof slideIndex==='undefined')slideIndex=0;if(slideIndex<0)slideIndex=0;s.snapIndex=Math.floor(slideIndex/s.params.slidesPerGroup);if(s.snapIndex>=s.snapGrid.length)s.snapIndex=s.snapGrid.length-1;var translate=-s.snapGrid[s.snapIndex];if(s.params.autoplay&&s.autoplaying){if(internal||!s.params.autoplayDisableOnInteraction){s.pauseAutoplay(speed);}
else{s.stopAutoplay();}}
s.updateProgress(translate);for(var i=0;i<s.slidesGrid.length;i++){if(-Math.floor(translate*100)>=Math.floor(s.slidesGrid[i]*100)){slideIndex=i;}}
if(!s.params.allowSwipeToNext&&translate<s.translate&&translate<s.minTranslate()){return false;}
if(!s.params.allowSwipeToPrev&&translate>s.translate&&translate>s.maxTranslate()){if((s.activeIndex||0)!==slideIndex)return false;}
if(typeof speed==='undefined')speed=s.params.speed;s.previousIndex=s.activeIndex||0;s.activeIndex=slideIndex;if((s.rtl&&-translate===s.translate)||(!s.rtl&&translate===s.translate)){if(s.params.autoHeight){s.updateAutoHeight();}
s.updateClasses();if(s.params.effect!=='slide'){s.setWrapperTranslate(translate);}
return false;}
s.updateClasses();s.onTransitionStart(runCallbacks);if(speed===0){s.setWrapperTranslate(translate);s.setWrapperTransition(0);s.onTransitionEnd(runCallbacks);}
else{s.setWrapperTranslate(translate);s.setWrapperTransition(speed);if(!s.animating){s.animating=true;s.wrapper.transitionEnd(function(){if(!s)return;s.onTransitionEnd(runCallbacks);});}}
return true;};s.onTransitionStart=function(runCallbacks){if(typeof runCallbacks==='undefined')runCallbacks=true;if(s.params.autoHeight){s.updateAutoHeight();}
if(s.lazy)s.lazy.onTransitionStart();if(runCallbacks){s.emit('onTransitionStart',s);if(s.activeIndex!==s.previousIndex){s.emit('onSlideChangeStart',s);if(s.activeIndex>s.previousIndex){s.emit('onSlideNextStart',s);}
else{s.emit('onSlidePrevStart',s);}}}};s.onTransitionEnd=function(runCallbacks){s.animating=false;s.setWrapperTransition(0);if(typeof runCallbacks==='undefined')runCallbacks=true;if(s.lazy)s.lazy.onTransitionEnd();if(runCallbacks){s.emit('onTransitionEnd',s);if(s.activeIndex!==s.previousIndex){s.emit('onSlideChangeEnd',s);if(s.activeIndex>s.previousIndex){s.emit('onSlideNextEnd',s);}
else{s.emit('onSlidePrevEnd',s);}}}
if(s.params.hashnav&&s.hashnav){s.hashnav.setHash();}};s.slideNext=function(runCallbacks,speed,internal){if(s.params.loop){if(s.animating)return false;s.fixLoop();var clientLeft=s.container[0].clientLeft;return s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal);}
else return s.slideTo(s.activeIndex+s.params.slidesPerGroup,speed,runCallbacks,internal);};s._slideNext=function(speed){return s.slideNext(true,speed,true);};s.slidePrev=function(runCallbacks,speed,internal){if(s.params.loop){if(s.animating)return false;s.fixLoop();var clientLeft=s.container[0].clientLeft;return s.slideTo(s.activeIndex-1,speed,runCallbacks,internal);}
else return s.slideTo(s.activeIndex-1,speed,runCallbacks,internal);};s._slidePrev=function(speed){return s.slidePrev(true,speed,true);};s.slideReset=function(runCallbacks,speed,internal){return s.slideTo(s.activeIndex,speed,runCallbacks);};s.setWrapperTransition=function(duration,byController){s.wrapper.transition(duration);if(s.params.effect!=='slide'&&s.effects[s.params.effect]){s.effects[s.params.effect].setTransition(duration);}
if(s.params.parallax&&s.parallax){s.parallax.setTransition(duration);}
if(s.params.scrollbar&&s.scrollbar){s.scrollbar.setTransition(duration);}
if(s.params.control&&s.controller){s.controller.setTransition(duration,byController);}
s.emit('onSetTransition',s,duration);};s.setWrapperTranslate=function(translate,updateActiveIndex,byController){var x=0,y=0,z=0;if(s.isHorizontal()){x=s.rtl?-translate:translate;}
else{y=translate;}
if(s.params.roundLengths){x=round(x);y=round(y);}
if(!s.params.virtualTranslate){if(s.support.transforms3d)s.wrapper.transform('translate3d('+x+'px, '+y+'px, '+z+'px)');else s.wrapper.transform('translate('+x+'px, '+y+'px)');}
s.translate=s.isHorizontal()?x:y;var progress;var translatesDiff=s.maxTranslate()-s.minTranslate();if(translatesDiff===0){progress=0;}
else{progress=(translate-s.minTranslate())/(translatesDiff);}
if(progress!==s.progress){s.updateProgress(translate);}
if(updateActiveIndex)s.updateActiveIndex();if(s.params.effect!=='slide'&&s.effects[s.params.effect]){s.effects[s.params.effect].setTranslate(s.translate);}
if(s.params.parallax&&s.parallax){s.parallax.setTranslate(s.translate);}
if(s.params.scrollbar&&s.scrollbar){s.scrollbar.setTranslate(s.translate);}
if(s.params.control&&s.controller){s.controller.setTranslate(s.translate,byController);}
s.emit('onSetTranslate',s,s.translate);};s.getTranslate=function(el,axis){var matrix,curTransform,curStyle,transformMatrix;if(typeof axis==='undefined'){axis='x';}
if(s.params.virtualTranslate){return s.rtl?-s.translate:s.translate;}
curStyle=window.getComputedStyle(el,null);if(window.WebKitCSSMatrix){curTransform=curStyle.transform||curStyle.webkitTransform;if(curTransform.split(',').length>6){curTransform=curTransform.split(', ').map(function(a){return a.replace(',','.');}).join(', ');}
transformMatrix=new window.WebKitCSSMatrix(curTransform==='none'?'':curTransform);}
else{transformMatrix=curStyle.MozTransform||curStyle.OTransform||curStyle.MsTransform||curStyle.msTransform||curStyle.transform||curStyle.getPropertyValue('transform').replace('translate(','matrix(1, 0, 0, 1,');matrix=transformMatrix.toString().split(',');}
if(axis==='x'){if(window.WebKitCSSMatrix)
curTransform=transformMatrix.m41;else if(matrix.length===16)
curTransform=parseFloat(matrix[12]);else
curTransform=parseFloat(matrix[4]);}
if(axis==='y'){if(window.WebKitCSSMatrix)
curTransform=transformMatrix.m42;else if(matrix.length===16)
curTransform=parseFloat(matrix[13]);else
curTransform=parseFloat(matrix[5]);}
if(s.rtl&&curTransform)curTransform=-curTransform;return curTransform||0;};s.getWrapperTranslate=function(axis){if(typeof axis==='undefined'){axis=s.isHorizontal()?'x':'y';}
return s.getTranslate(s.wrapper[0],axis);};s.observers=[];function initObserver(target,options){options=options||{};var ObserverFunc=window.MutationObserver||window.WebkitMutationObserver;var observer=new ObserverFunc(function(mutations){mutations.forEach(function(mutation){s.onResize(true);s.emit('onObserverUpdate',s,mutation);});});observer.observe(target,{attributes:typeof options.attributes==='undefined'?true:options.attributes,childList:typeof options.childList==='undefined'?true:options.childList,characterData:typeof options.characterData==='undefined'?true:options.characterData});s.observers.push(observer);}
s.initObservers=function(){if(s.params.observeParents){var containerParents=s.container.parents();for(var i=0;i<containerParents.length;i++){initObserver(containerParents[i]);}}
initObserver(s.container[0],{childList:false});initObserver(s.wrapper[0],{attributes:false});};s.disconnectObservers=function(){for(var i=0;i<s.observers.length;i++){s.observers[i].disconnect();}
s.observers=[];};s.createLoop=function(){s.wrapper.children('.'+s.params.slideClass+'.'+s.params.slideDuplicateClass).remove();var slides=s.wrapper.children('.'+s.params.slideClass);if(s.params.slidesPerView==='auto'&&!s.params.loopedSlides)s.params.loopedSlides=slides.length;s.loopedSlides=parseInt(s.params.loopedSlides||s.params.slidesPerView,10);s.loopedSlides=s.loopedSlides+s.params.loopAdditionalSlides;if(s.loopedSlides>slides.length){s.loopedSlides=slides.length;}
var prependSlides=[],appendSlides=[],i;slides.each(function(index,el){var slide=$(this);if(index<s.loopedSlides)appendSlides.push(el);if(index<slides.length&&index>=slides.length-s.loopedSlides)prependSlides.push(el);slide.attr('data-swiper-slide-index',index);});for(i=0;i<appendSlides.length;i++){s.wrapper.append($(appendSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass));}
for(i=prependSlides.length-1;i>=0;i--){s.wrapper.prepend($(prependSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass));}};s.destroyLoop=function(){s.wrapper.children('.'+s.params.slideClass+'.'+s.params.slideDuplicateClass).remove();s.slides.removeAttr('data-swiper-slide-index');};s.reLoop=function(updatePosition){var oldIndex=s.activeIndex-s.loopedSlides;s.destroyLoop();s.createLoop();s.updateSlidesSize();if(updatePosition){s.slideTo(oldIndex+s.loopedSlides,0,false);}};s.fixLoop=function(){var newIndex;if(s.activeIndex<s.loopedSlides){newIndex=s.slides.length-s.loopedSlides*3+s.activeIndex;newIndex=newIndex+s.loopedSlides;s.slideTo(newIndex,0,false,true);}
else if((s.params.slidesPerView==='auto'&&s.activeIndex>=s.loopedSlides*2)||(s.activeIndex>s.slides.length-s.params.slidesPerView*2)){newIndex=-s.slides.length+s.activeIndex+s.loopedSlides;newIndex=newIndex+s.loopedSlides;s.slideTo(newIndex,0,false,true);}};s.appendSlide=function(slides){if(s.params.loop){s.destroyLoop();}
if(typeof slides==='object'&&slides.length){for(var i=0;i<slides.length;i++){if(slides[i])s.wrapper.append(slides[i]);}}
else{s.wrapper.append(slides);}
if(s.params.loop){s.createLoop();}
if(!(s.params.observer&&s.support.observer)){s.update(true);}};s.prependSlide=function(slides){if(s.params.loop){s.destroyLoop();}
var newActiveIndex=s.activeIndex+1;if(typeof slides==='object'&&slides.length){for(var i=0;i<slides.length;i++){if(slides[i])s.wrapper.prepend(slides[i]);}
newActiveIndex=s.activeIndex+slides.length;}
else{s.wrapper.prepend(slides);}
if(s.params.loop){s.createLoop();}
if(!(s.params.observer&&s.support.observer)){s.update(true);}
s.slideTo(newActiveIndex,0,false);};s.removeSlide=function(slidesIndexes){if(s.params.loop){s.destroyLoop();s.slides=s.wrapper.children('.'+s.params.slideClass);}
var newActiveIndex=s.activeIndex,indexToRemove;if(typeof slidesIndexes==='object'&&slidesIndexes.length){for(var i=0;i<slidesIndexes.length;i++){indexToRemove=slidesIndexes[i];if(s.slides[indexToRemove])s.slides.eq(indexToRemove).remove();if(indexToRemove<newActiveIndex)newActiveIndex--;}
newActiveIndex=Math.max(newActiveIndex,0);}
else{indexToRemove=slidesIndexes;if(s.slides[indexToRemove])s.slides.eq(indexToRemove).remove();if(indexToRemove<newActiveIndex)newActiveIndex--;newActiveIndex=Math.max(newActiveIndex,0);}
if(s.params.loop){s.createLoop();}
if(!(s.params.observer&&s.support.observer)){s.update(true);}
if(s.params.loop){s.slideTo(newActiveIndex+s.loopedSlides,0,false);}
else{s.slideTo(newActiveIndex,0,false);}};s.removeAllSlides=function(){var slidesIndexes=[];for(var i=0;i<s.slides.length;i++){slidesIndexes.push(i);}
s.removeSlide(slidesIndexes);};s.effects={fade:{setTranslate:function(){for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i);var offset=slide[0].swiperSlideOffset;var tx=-offset;if(!s.params.virtualTranslate)tx=tx-s.translate;var ty=0;if(!s.isHorizontal()){ty=tx;tx=0;}
var slideOpacity=s.params.fade.crossFade?Math.max(1-Math.abs(slide[0].progress),0):1+Math.min(Math.max(slide[0].progress,-1),0);slide.css({opacity:slideOpacity}).transform('translate3d('+tx+'px, '+ty+'px, 0px)');}},setTransition:function(duration){s.slides.transition(duration);if(s.params.virtualTranslate&&duration!==0){var eventTriggered=false;s.slides.transitionEnd(function(){if(eventTriggered)return;if(!s)return;eventTriggered=true;s.animating=false;var triggerEvents=['webkitTransitionEnd','transitionend','oTransitionEnd','MSTransitionEnd','msTransitionEnd'];for(var i=0;i<triggerEvents.length;i++){s.wrapper.trigger(triggerEvents[i]);}});}}},flip:{setTranslate:function(){for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i);var progress=slide[0].progress;if(s.params.flip.limitRotation){progress=Math.max(Math.min(slide[0].progress,1),-1);}
var offset=slide[0].swiperSlideOffset;var rotate=-180*progress,rotateY=rotate,rotateX=0,tx=-offset,ty=0;if(!s.isHorizontal()){ty=tx;tx=0;rotateX=-rotateY;rotateY=0;}
else if(s.rtl){rotateY=-rotateY;}
slide[0].style.zIndex=-Math.abs(Math.round(progress))+s.slides.length;if(s.params.flip.slideShadows){var shadowBefore=s.isHorizontal()?slide.find('.swiper-slide-shadow-left'):slide.find('.swiper-slide-shadow-top');var shadowAfter=s.isHorizontal()?slide.find('.swiper-slide-shadow-right'):slide.find('.swiper-slide-shadow-bottom');if(shadowBefore.length===0){shadowBefore=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?'left':'top')+'"></div>');slide.append(shadowBefore);}
if(shadowAfter.length===0){shadowAfter=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?'right':'bottom')+'"></div>');slide.append(shadowAfter);}
if(shadowBefore.length)shadowBefore[0].style.opacity=Math.max(-progress,0);if(shadowAfter.length)shadowAfter[0].style.opacity=Math.max(progress,0);}
slide.transform('translate3d('+tx+'px, '+ty+'px, 0px) rotateX('+rotateX+'deg) rotateY('+rotateY+'deg)');}},setTransition:function(duration){s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);if(s.params.virtualTranslate&&duration!==0){var eventTriggered=false;s.slides.eq(s.activeIndex).transitionEnd(function(){if(eventTriggered)return;if(!s)return;if(!$(this).hasClass(s.params.slideActiveClass))return;eventTriggered=true;s.animating=false;var triggerEvents=['webkitTransitionEnd','transitionend','oTransitionEnd','MSTransitionEnd','msTransitionEnd'];for(var i=0;i<triggerEvents.length;i++){s.wrapper.trigger(triggerEvents[i]);}});}}},cube:{setTranslate:function(){var wrapperRotate=0,cubeShadow;if(s.params.cube.shadow){if(s.isHorizontal()){cubeShadow=s.wrapper.find('.swiper-cube-shadow');if(cubeShadow.length===0){cubeShadow=$('<div class="swiper-cube-shadow"></div>');s.wrapper.append(cubeShadow);}
cubeShadow.css({height:s.width+'px'});}
else{cubeShadow=s.container.find('.swiper-cube-shadow');if(cubeShadow.length===0){cubeShadow=$('<div class="swiper-cube-shadow"></div>');s.container.append(cubeShadow);}}}
for(var i=0;i<s.slides.length;i++){var slide=s.slides.eq(i);var slideAngle=i*90;var round=Math.floor(slideAngle/360);if(s.rtl){slideAngle=-slideAngle;round=Math.floor(-slideAngle/360);}
var progress=Math.max(Math.min(slide[0].progress,1),-1);var tx=0,ty=0,tz=0;if(i%4===0){tx=-round*4*s.size;tz=0;}
else if((i-1)%4===0){tx=0;tz=-round*4*s.size;}
else if((i-2)%4===0){tx=s.size+round*4*s.size;tz=s.size;}
else if((i-3)%4===0){tx=-s.size;tz=3*s.size+s.size*4*round;}
if(s.rtl){tx=-tx;}
if(!s.isHorizontal()){ty=tx;tx=0;}
var transform='rotateX('+(s.isHorizontal()?0:-slideAngle)+'deg) rotateY('+(s.isHorizontal()?slideAngle:0)+'deg) translate3d('+tx+'px, '+ty+'px, '+tz+'px)';if(progress<=1&&progress>-1){wrapperRotate=i*90+progress*90;if(s.rtl)wrapperRotate=-i*90-progress*90;}
slide.transform(transform);if(s.params.cube.slideShadows){var shadowBefore=s.isHorizontal()?slide.find('.swiper-slide-shadow-left'):slide.find('.swiper-slide-shadow-top');var shadowAfter=s.isHorizontal()?slide.find('.swiper-slide-shadow-right'):slide.find('.swiper-slide-shadow-bottom');if(shadowBefore.length===0){shadowBefore=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?'left':'top')+'"></div>');slide.append(shadowBefore);}
if(shadowAfter.length===0){shadowAfter=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?'right':'bottom')+'"></div>');slide.append(shadowAfter);}
if(shadowBefore.length)shadowBefore[0].style.opacity=Math.max(-progress,0);if(shadowAfter.length)shadowAfter[0].style.opacity=Math.max(progress,0);}}
s.wrapper.css({'-webkit-transform-origin':'50% 50% -'+(s.size/2)+'px','-moz-transform-origin':'50% 50% -'+(s.size/2)+'px','-ms-transform-origin':'50% 50% -'+(s.size/2)+'px','transform-origin':'50% 50% -'+(s.size/2)+'px'});if(s.params.cube.shadow){if(s.isHorizontal()){cubeShadow.transform('translate3d(0px, '+(s.width/2+s.params.cube.shadowOffset)+'px, '+(-s.width/2)+'px) rotateX(90deg) rotateZ(0deg) scale('+(s.params.cube.shadowScale)+')');}
else{var shadowAngle=Math.abs(wrapperRotate)-Math.floor(Math.abs(wrapperRotate)/90)*90;var multiplier=1.5-(Math.sin(shadowAngle*2*Math.PI/360)/2+Math.cos(shadowAngle*2*Math.PI/360)/2);var scale1=s.params.cube.shadowScale,scale2=s.params.cube.shadowScale/multiplier,offset=s.params.cube.shadowOffset;cubeShadow.transform('scale3d('+scale1+', 1, '+scale2+') translate3d(0px, '+(s.height/2+offset)+'px, '+(-s.height/2/scale2)+'px) rotateX(-90deg)');}}
var zFactor=(s.isSafari||s.isUiWebView)?(-s.size/2):0;s.wrapper.transform('translate3d(0px,0,'+zFactor+'px) rotateX('+(s.isHorizontal()?0:wrapperRotate)+'deg) rotateY('+(s.isHorizontal()?-wrapperRotate:0)+'deg)');},setTransition:function(duration){s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);if(s.params.cube.shadow&&!s.isHorizontal()){s.container.find('.swiper-cube-shadow').transition(duration);}}},coverflow:{setTranslate:function(){var transform=s.translate;var center=s.isHorizontal()?-transform+s.width/2:-transform+s.height/2;var rotate=s.isHorizontal()?s.params.coverflow.rotate:-s.params.coverflow.rotate;var translate=s.params.coverflow.depth;for(var i=0,length=s.slides.length;i<length;i++){var slide=s.slides.eq(i);var slideSize=s.slidesSizesGrid[i];var slideOffset=slide[0].swiperSlideOffset;var offsetMultiplier=(center-slideOffset-slideSize/2)/slideSize*s.params.coverflow.modifier;var rotateY=s.isHorizontal()?rotate*offsetMultiplier:0;var rotateX=s.isHorizontal()?0:rotate*offsetMultiplier;var translateZ=-translate*Math.abs(offsetMultiplier);var translateY=s.isHorizontal()?0:s.params.coverflow.stretch*(offsetMultiplier);var translateX=s.isHorizontal()?s.params.coverflow.stretch*(offsetMultiplier):0;if(Math.abs(translateX)<0.001)translateX=0;if(Math.abs(translateY)<0.001)translateY=0;if(Math.abs(translateZ)<0.001)translateZ=0;if(Math.abs(rotateY)<0.001)rotateY=0;if(Math.abs(rotateX)<0.001)rotateX=0;var slideTransform='translate3d('+translateX+'px,'+translateY+'px,'+translateZ+'px)  rotateX('+rotateX+'deg) rotateY('+rotateY+'deg)';slide.transform(slideTransform);slide[0].style.zIndex=-Math.abs(Math.round(offsetMultiplier))+1;if(s.params.coverflow.slideShadows){var shadowBefore=s.isHorizontal()?slide.find('.swiper-slide-shadow-left'):slide.find('.swiper-slide-shadow-top');var shadowAfter=s.isHorizontal()?slide.find('.swiper-slide-shadow-right'):slide.find('.swiper-slide-shadow-bottom');if(shadowBefore.length===0){shadowBefore=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?'left':'top')+'"></div>');slide.append(shadowBefore);}
if(shadowAfter.length===0){shadowAfter=$('<div class="swiper-slide-shadow-'+(s.isHorizontal()?'right':'bottom')+'"></div>');slide.append(shadowAfter);}
if(shadowBefore.length)shadowBefore[0].style.opacity=offsetMultiplier>0?offsetMultiplier:0;if(shadowAfter.length)shadowAfter[0].style.opacity=(-offsetMultiplier)>0?-offsetMultiplier:0;}}
if(s.browser.ie){var ws=s.wrapper[0].style;ws.perspectiveOrigin=center+'px 50%';}},setTransition:function(duration){s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);}}};s.lazy={initialImageLoaded:false,loadImageInSlide:function(index,loadInDuplicate){if(typeof index==='undefined')return;if(typeof loadInDuplicate==='undefined')loadInDuplicate=true;if(s.slides.length===0)return;var slide=s.slides.eq(index);var img=slide.find('.swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)');if(slide.hasClass('swiper-lazy')&&!slide.hasClass('swiper-lazy-loaded')&&!slide.hasClass('swiper-lazy-loading')){img=img.add(slide[0]);}
if(img.length===0)return;img.each(function(){var _img=$(this);_img.addClass('swiper-lazy-loading');var background=_img.attr('data-background');var src=_img.attr('data-src'),srcset=_img.attr('data-srcset');s.loadImage(_img[0],(src||background),srcset,false,function(){if(background){_img.css('background-image','url("'+background+'")');_img.removeAttr('data-background');}
else{if(srcset){_img.attr('srcset',srcset);_img.removeAttr('data-srcset');}
if(src){_img.attr('src',src);_img.removeAttr('data-src');}}
_img.addClass('swiper-lazy-loaded').removeClass('swiper-lazy-loading');slide.find('.swiper-lazy-preloader, .preloader').remove();if(s.params.loop&&loadInDuplicate){var slideOriginalIndex=slide.attr('data-swiper-slide-index');if(slide.hasClass(s.params.slideDuplicateClass)){var originalSlide=s.wrapper.children('[data-swiper-slide-index="'+slideOriginalIndex+'"]:not(.'+s.params.slideDuplicateClass+')');s.lazy.loadImageInSlide(originalSlide.index(),false);}
else{var duplicatedSlide=s.wrapper.children('.'+s.params.slideDuplicateClass+'[data-swiper-slide-index="'+slideOriginalIndex+'"]');s.lazy.loadImageInSlide(duplicatedSlide.index(),false);}}
s.emit('onLazyImageReady',s,slide[0],_img[0]);});s.emit('onLazyImageLoad',s,slide[0],_img[0]);});},load:function(){var i;if(s.params.watchSlidesVisibility){s.wrapper.children('.'+s.params.slideVisibleClass).each(function(){s.lazy.loadImageInSlide($(this).index());});}
else{if(s.params.slidesPerView>1){for(i=s.activeIndex;i<s.activeIndex+s.params.slidesPerView;i++){if(s.slides[i])s.lazy.loadImageInSlide(i);}}
else{s.lazy.loadImageInSlide(s.activeIndex);}}
if(s.params.lazyLoadingInPrevNext){if(s.params.slidesPerView>1||(s.params.lazyLoadingInPrevNextAmount&&s.params.lazyLoadingInPrevNextAmount>1)){var amount=s.params.lazyLoadingInPrevNextAmount;var spv=s.params.slidesPerView;var maxIndex=Math.min(s.activeIndex+spv+Math.max(amount,spv),s.slides.length);var minIndex=Math.max(s.activeIndex-Math.max(spv,amount),0);for(i=s.activeIndex+s.params.slidesPerView;i<maxIndex;i++){if(s.slides[i])s.lazy.loadImageInSlide(i);}
for(i=minIndex;i<s.activeIndex;i++){if(s.slides[i])s.lazy.loadImageInSlide(i);}}
else{var nextSlide=s.wrapper.children('.'+s.params.slideNextClass);if(nextSlide.length>0)s.lazy.loadImageInSlide(nextSlide.index());var prevSlide=s.wrapper.children('.'+s.params.slidePrevClass);if(prevSlide.length>0)s.lazy.loadImageInSlide(prevSlide.index());}}},onTransitionStart:function(){if(s.params.lazyLoading){if(s.params.lazyLoadingOnTransitionStart||(!s.params.lazyLoadingOnTransitionStart&&!s.lazy.initialImageLoaded)){s.lazy.load();}}},onTransitionEnd:function(){if(s.params.lazyLoading&&!s.params.lazyLoadingOnTransitionStart){s.lazy.load();}}};s.scrollbar={isTouched:false,setDragPosition:function(e){var sb=s.scrollbar;var x=0,y=0;var translate;var pointerPosition=s.isHorizontal()?((e.type==='touchstart'||e.type==='touchmove')?e.targetTouches[0].pageX:e.pageX||e.clientX):((e.type==='touchstart'||e.type==='touchmove')?e.targetTouches[0].pageY:e.pageY||e.clientY);var position=(pointerPosition)-sb.track.offset()[s.isHorizontal()?'left':'top']-sb.dragSize/2;var positionMin=-s.minTranslate()*sb.moveDivider;var positionMax=-s.maxTranslate()*sb.moveDivider;if(position<positionMin){position=positionMin;}
else if(position>positionMax){position=positionMax;}
position=-position/sb.moveDivider;s.updateProgress(position);s.setWrapperTranslate(position,true);},dragStart:function(e){var sb=s.scrollbar;sb.isTouched=true;e.preventDefault();e.stopPropagation();sb.setDragPosition(e);clearTimeout(sb.dragTimeout);sb.track.transition(0);if(s.params.scrollbarHide){sb.track.css('opacity',1);}
s.wrapper.transition(100);sb.drag.transition(100);s.emit('onScrollbarDragStart',s);},dragMove:function(e){var sb=s.scrollbar;if(!sb.isTouched)return;if(e.preventDefault)e.preventDefault();else e.returnValue=false;sb.setDragPosition(e);s.wrapper.transition(0);sb.track.transition(0);sb.drag.transition(0);s.emit('onScrollbarDragMove',s);},dragEnd:function(e){var sb=s.scrollbar;if(!sb.isTouched)return;sb.isTouched=false;if(s.params.scrollbarHide){clearTimeout(sb.dragTimeout);sb.dragTimeout=setTimeout(function(){sb.track.css('opacity',0);sb.track.transition(400);},1000);}
s.emit('onScrollbarDragEnd',s);if(s.params.scrollbarSnapOnRelease){s.slideReset();}},enableDraggable:function(){var sb=s.scrollbar;var target=s.support.touch?sb.track:document;$(sb.track).on(s.touchEvents.start,sb.dragStart);$(target).on(s.touchEvents.move,sb.dragMove);$(target).on(s.touchEvents.end,sb.dragEnd);},disableDraggable:function(){var sb=s.scrollbar;var target=s.support.touch?sb.track:document;$(sb.track).off(s.touchEvents.start,sb.dragStart);$(target).off(s.touchEvents.move,sb.dragMove);$(target).off(s.touchEvents.end,sb.dragEnd);},set:function(){if(!s.params.scrollbar)return;var sb=s.scrollbar;sb.track=$(s.params.scrollbar);if(s.params.uniqueNavElements&&typeof s.params.scrollbar==='string'&&sb.track.length>1&&s.container.find(s.params.scrollbar).length===1){sb.track=s.container.find(s.params.scrollbar);}
sb.drag=sb.track.find('.swiper-scrollbar-drag');if(sb.drag.length===0){sb.drag=$('<div class="swiper-scrollbar-drag"></div>');sb.track.append(sb.drag);}
sb.drag[0].style.width='';sb.drag[0].style.height='';sb.trackSize=s.isHorizontal()?sb.track[0].offsetWidth:sb.track[0].offsetHeight;sb.divider=s.size/s.virtualSize;sb.moveDivider=sb.divider*(sb.trackSize/s.size);sb.dragSize=sb.trackSize*sb.divider;if(s.isHorizontal()){sb.drag[0].style.width=sb.dragSize+'px';}
else{sb.drag[0].style.height=sb.dragSize+'px';}
if(sb.divider>=1){sb.track[0].style.display='none';}
else{sb.track[0].style.display='';}
if(s.params.scrollbarHide){sb.track[0].style.opacity=0;}},setTranslate:function(){if(!s.params.scrollbar)return;var diff;var sb=s.scrollbar;var translate=s.translate||0;var newPos;var newSize=sb.dragSize;newPos=(sb.trackSize-sb.dragSize)*s.progress;if(s.rtl&&s.isHorizontal()){newPos=-newPos;if(newPos>0){newSize=sb.dragSize-newPos;newPos=0;}
else if(-newPos+sb.dragSize>sb.trackSize){newSize=sb.trackSize+newPos;}}
else{if(newPos<0){newSize=sb.dragSize+newPos;newPos=0;}
else if(newPos+sb.dragSize>sb.trackSize){newSize=sb.trackSize-newPos;}}
if(s.isHorizontal()){if(s.support.transforms3d){sb.drag.transform('translate3d('+(newPos)+'px, 0, 0)');}
else{sb.drag.transform('translateX('+(newPos)+'px)');}
sb.drag[0].style.width=newSize+'px';}
else{if(s.support.transforms3d){sb.drag.transform('translate3d(0px, '+(newPos)+'px, 0)');}
else{sb.drag.transform('translateY('+(newPos)+'px)');}
sb.drag[0].style.height=newSize+'px';}
if(s.params.scrollbarHide){clearTimeout(sb.timeout);sb.track[0].style.opacity=1;sb.timeout=setTimeout(function(){sb.track[0].style.opacity=0;sb.track.transition(400);},1000);}},setTransition:function(duration){if(!s.params.scrollbar)return;s.scrollbar.drag.transition(duration);}};s.controller={LinearSpline:function(x,y){this.x=x;this.y=y;this.lastIndex=x.length-1;var i1,i3;var l=this.x.length;this.interpolate=function(x2){if(!x2)return 0;i3=binarySearch(this.x,x2);i1=i3-1;return((x2-this.x[i1])*(this.y[i3]-this.y[i1]))/(this.x[i3]-this.x[i1])+this.y[i1];};var binarySearch=(function(){var maxIndex,minIndex,guess;return function(array,val){minIndex=-1;maxIndex=array.length;while(maxIndex-minIndex>1)
if(array[guess=maxIndex+minIndex>>1]<=val){minIndex=guess;}else{maxIndex=guess;}
return maxIndex;};})();},getInterpolateFunction:function(c){if(!s.controller.spline)s.controller.spline=s.params.loop?new s.controller.LinearSpline(s.slidesGrid,c.slidesGrid):new s.controller.LinearSpline(s.snapGrid,c.snapGrid);},setTranslate:function(translate,byController){var controlled=s.params.control;var multiplier,controlledTranslate;function setControlledTranslate(c){translate=c.rtl&&c.params.direction==='horizontal'?-s.translate:s.translate;if(s.params.controlBy==='slide'){s.controller.getInterpolateFunction(c);controlledTranslate=-s.controller.spline.interpolate(-translate);}
if(!controlledTranslate||s.params.controlBy==='container'){multiplier=(c.maxTranslate()-c.minTranslate())/(s.maxTranslate()-s.minTranslate());controlledTranslate=(translate-s.minTranslate())*multiplier+c.minTranslate();}
if(s.params.controlInverse){controlledTranslate=c.maxTranslate()-controlledTranslate;}
c.updateProgress(controlledTranslate);c.setWrapperTranslate(controlledTranslate,false,s);c.updateActiveIndex();}
if(s.isArray(controlled)){for(var i=0;i<controlled.length;i++){if(controlled[i]!==byController&&controlled[i]instanceof Swiper){setControlledTranslate(controlled[i]);}}}
else if(controlled instanceof Swiper&&byController!==controlled){setControlledTranslate(controlled);}},setTransition:function(duration,byController){var controlled=s.params.control;var i;function setControlledTransition(c){c.setWrapperTransition(duration,s);if(duration!==0){c.onTransitionStart();c.wrapper.transitionEnd(function(){if(!controlled)return;if(c.params.loop&&s.params.controlBy==='slide'){c.fixLoop();}
c.onTransitionEnd();});}}
if(s.isArray(controlled)){for(i=0;i<controlled.length;i++){if(controlled[i]!==byController&&controlled[i]instanceof Swiper){setControlledTransition(controlled[i]);}}}
else if(controlled instanceof Swiper&&byController!==controlled){setControlledTransition(controlled);}}};s.hashnav={init:function(){if(!s.params.hashnav)return;s.hashnav.initialized=true;var hash=document.location.hash.replace('#','');if(!hash)return;var speed=0;for(var i=0,length=s.slides.length;i<length;i++){var slide=s.slides.eq(i);var slideHash=slide.attr('data-hash');if(slideHash===hash&&!slide.hasClass(s.params.slideDuplicateClass)){var index=slide.index();s.slideTo(index,speed,s.params.runCallbacksOnInit,true);}}},setHash:function(){if(!s.hashnav.initialized||!s.params.hashnav)return;document.location.hash=s.slides.eq(s.activeIndex).attr('data-hash')||'';}};function handleKeyboard(e){if(e.originalEvent)e=e.originalEvent;var kc=e.keyCode||e.charCode;if(!s.params.allowSwipeToNext&&(s.isHorizontal()&&kc===39||!s.isHorizontal()&&kc===40)){return false;}
if(!s.params.allowSwipeToPrev&&(s.isHorizontal()&&kc===37||!s.isHorizontal()&&kc===38)){return false;}
if(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey){return;}
if(document.activeElement&&document.activeElement.nodeName&&(document.activeElement.nodeName.toLowerCase()==='input'||document.activeElement.nodeName.toLowerCase()==='textarea')){return;}
if(kc===37||kc===39||kc===38||kc===40){var inView=false;if(s.container.parents('.swiper-slide').length>0&&s.container.parents('.swiper-slide-active').length===0){return;}
var windowScroll={left:window.pageXOffset,top:window.pageYOffset};var windowWidth=window.innerWidth;var windowHeight=window.innerHeight;var swiperOffset=s.container.offset();if(s.rtl)swiperOffset.left=swiperOffset.left-s.container[0].scrollLeft;var swiperCoord=[[swiperOffset.left,swiperOffset.top],[swiperOffset.left+s.width,swiperOffset.top],[swiperOffset.left,swiperOffset.top+s.height],[swiperOffset.left+s.width,swiperOffset.top+s.height]];for(var i=0;i<swiperCoord.length;i++){var point=swiperCoord[i];if(point[0]>=windowScroll.left&&point[0]<=windowScroll.left+windowWidth&&point[1]>=windowScroll.top&&point[1]<=windowScroll.top+windowHeight){inView=true;}}
if(!inView)return;}
if(s.isHorizontal()){if(kc===37||kc===39){if(e.preventDefault)e.preventDefault();else e.returnValue=false;}
if((kc===39&&!s.rtl)||(kc===37&&s.rtl))s.slideNext();if((kc===37&&!s.rtl)||(kc===39&&s.rtl))s.slidePrev();}
else{if(kc===38||kc===40){if(e.preventDefault)e.preventDefault();else e.returnValue=false;}
if(kc===40)s.slideNext();if(kc===38)s.slidePrev();}}
s.disableKeyboardControl=function(){s.params.keyboardControl=false;$(document).off('keydown',handleKeyboard);};s.enableKeyboardControl=function(){s.params.keyboardControl=true;$(document).on('keydown',handleKeyboard);};s.mousewheel={event:false,lastScrollTime:(new window.Date()).getTime()};if(s.params.mousewheelControl){try{new window.WheelEvent('wheel');s.mousewheel.event='wheel';}catch(e){if(window.WheelEvent||(s.container[0]&&'wheel'in s.container[0])){s.mousewheel.event='wheel';}}
if(!s.mousewheel.event&&window.WheelEvent){}
if(!s.mousewheel.event&&document.onmousewheel!==undefined){s.mousewheel.event='mousewheel';}
if(!s.mousewheel.event){s.mousewheel.event='DOMMouseScroll';}}
function handleMousewheel(e){if(e.originalEvent)e=e.originalEvent;var we=s.mousewheel.event;var delta=0;var rtlFactor=s.rtl?-1:1;if(we==='mousewheel'){if(s.params.mousewheelForceToAxis){if(s.isHorizontal()){if(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY))delta=e.wheelDeltaX*rtlFactor;else return;}
else{if(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX))delta=e.wheelDeltaY;else return;}}
else{delta=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?-e.wheelDeltaX*rtlFactor:-e.wheelDeltaY;}}
else if(we==='DOMMouseScroll')delta=-e.detail;else if(we==='wheel'){if(s.params.mousewheelForceToAxis){if(s.isHorizontal()){if(Math.abs(e.deltaX)>Math.abs(e.deltaY))delta=-e.deltaX*rtlFactor;else return;}
else{if(Math.abs(e.deltaY)>Math.abs(e.deltaX))delta=-e.deltaY;else return;}}
else{delta=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX*rtlFactor:-e.deltaY;}}
if(delta===0)return;if(s.params.mousewheelInvert)delta=-delta;if(!s.params.freeMode){if((new window.Date()).getTime()-s.mousewheel.lastScrollTime>60){if(delta<0){if((!s.isEnd||s.params.loop)&&!s.animating)s.slideNext();else if(s.params.mousewheelReleaseOnEdges)return true;}
else{if((!s.isBeginning||s.params.loop)&&!s.animating)s.slidePrev();else if(s.params.mousewheelReleaseOnEdges)return true;}}
s.mousewheel.lastScrollTime=(new window.Date()).getTime();}
else{var position=s.getWrapperTranslate()+delta*s.params.mousewheelSensitivity;var wasBeginning=s.isBeginning,wasEnd=s.isEnd;if(position>=s.minTranslate())position=s.minTranslate();if(position<=s.maxTranslate())position=s.maxTranslate();s.setWrapperTransition(0);s.setWrapperTranslate(position);s.updateProgress();s.updateActiveIndex();if(!wasBeginning&&s.isBeginning||!wasEnd&&s.isEnd){s.updateClasses();}
if(s.params.freeModeSticky){clearTimeout(s.mousewheel.timeout);s.mousewheel.timeout=setTimeout(function(){s.slideReset();},300);}
else{if(s.params.lazyLoading&&s.lazy){s.lazy.load();}}
if(position===0||position===s.maxTranslate())return;}
if(s.params.autoplay)s.stopAutoplay();if(e.preventDefault)e.preventDefault();else e.returnValue=false;return false;}
s.disableMousewheelControl=function(){if(!s.mousewheel.event)return false;s.container.off(s.mousewheel.event,handleMousewheel);return true;};s.enableMousewheelControl=function(){if(!s.mousewheel.event)return false;s.container.on(s.mousewheel.event,handleMousewheel);return true;};function setParallaxTransform(el,progress){el=$(el);var p,pX,pY;var rtlFactor=s.rtl?-1:1;p=el.attr('data-swiper-parallax')||'0';pX=el.attr('data-swiper-parallax-x');pY=el.attr('data-swiper-parallax-y');if(pX||pY){pX=pX||'0';pY=pY||'0';}
else{if(s.isHorizontal()){pX=p;pY='0';}
else{pY=p;pX='0';}}
if((pX).indexOf('%')>=0){pX=parseInt(pX,10)*progress*rtlFactor+'%';}
else{pX=pX*progress*rtlFactor+'px';}
if((pY).indexOf('%')>=0){pY=parseInt(pY,10)*progress+'%';}
else{pY=pY*progress+'px';}
el.transform('translate3d('+pX+', '+pY+',0px)');}
s.parallax={setTranslate:function(){s.container.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function(){setParallaxTransform(this,s.progress);});s.slides.each(function(){var slide=$(this);slide.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function(){var progress=Math.min(Math.max(slide[0].progress,-1),1);setParallaxTransform(this,progress);});});},setTransition:function(duration){if(typeof duration==='undefined')duration=s.params.speed;s.container.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function(){var el=$(this);var parallaxDuration=parseInt(el.attr('data-swiper-parallax-duration'),10)||duration;if(duration===0)parallaxDuration=0;el.transition(parallaxDuration);});}};s._plugins=[];for(var plugin in s.plugins){var p=s.plugins[plugin](s,s.params[plugin]);if(p)s._plugins.push(p);}
s.callPlugins=function(eventName){for(var i=0;i<s._plugins.length;i++){if(eventName in s._plugins[i]){s._plugins[i][eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);}}};function normalizeEventName(eventName){if(eventName.indexOf('on')!==0){if(eventName[0]!==eventName[0].toUpperCase()){eventName='on'+eventName[0].toUpperCase()+eventName.substring(1);}
else{eventName='on'+eventName;}}
return eventName;}
s.emitterEventListeners={};s.emit=function(eventName){if(s.params[eventName]){s.params[eventName](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);}
var i;if(s.emitterEventListeners[eventName]){for(i=0;i<s.emitterEventListeners[eventName].length;i++){s.emitterEventListeners[eventName][i](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);}}
if(s.callPlugins)s.callPlugins(eventName,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);};s.on=function(eventName,handler){eventName=normalizeEventName(eventName);if(!s.emitterEventListeners[eventName])s.emitterEventListeners[eventName]=[];s.emitterEventListeners[eventName].push(handler);return s;};s.off=function(eventName,handler){var i;eventName=normalizeEventName(eventName);if(typeof handler==='undefined'){s.emitterEventListeners[eventName]=[];return s;}
if(!s.emitterEventListeners[eventName]||s.emitterEventListeners[eventName].length===0)return;for(i=0;i<s.emitterEventListeners[eventName].length;i++){if(s.emitterEventListeners[eventName][i]===handler)s.emitterEventListeners[eventName].splice(i,1);}
return s;};s.once=function(eventName,handler){eventName=normalizeEventName(eventName);var _handler=function(){handler(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);s.off(eventName,_handler);};s.on(eventName,_handler);return s;};s.a11y={makeFocusable:function($el){$el.attr('tabIndex','0');return $el;},addRole:function($el,role){$el.attr('role',role);return $el;},addLabel:function($el,label){$el.attr('aria-label',label);return $el;},disable:function($el){$el.attr('aria-disabled',true);return $el;},enable:function($el){$el.attr('aria-disabled',false);return $el;},onEnterKey:function(event){if(event.keyCode!==13)return;if($(event.target).is(s.params.nextButton)){s.onClickNext(event);if(s.isEnd){s.a11y.notify(s.params.lastSlideMessage);}
else{s.a11y.notify(s.params.nextSlideMessage);}}
else if($(event.target).is(s.params.prevButton)){s.onClickPrev(event);if(s.isBeginning){s.a11y.notify(s.params.firstSlideMessage);}
else{s.a11y.notify(s.params.prevSlideMessage);}}
if($(event.target).is('.'+s.params.bulletClass)){$(event.target)[0].click();}},liveRegion:$('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(message){var notification=s.a11y.liveRegion;if(notification.length===0)return;notification.html('');notification.html(message);},init:function(){if(s.params.nextButton&&s.nextButton&&s.nextButton.length>0){s.a11y.makeFocusable(s.nextButton);s.a11y.addRole(s.nextButton,'button');s.a11y.addLabel(s.nextButton,s.params.nextSlideMessage);}
if(s.params.prevButton&&s.prevButton&&s.prevButton.length>0){s.a11y.makeFocusable(s.prevButton);s.a11y.addRole(s.prevButton,'button');s.a11y.addLabel(s.prevButton,s.params.prevSlideMessage);}
$(s.container).append(s.a11y.liveRegion);},initPagination:function(){if(s.params.pagination&&s.params.paginationClickable&&s.bullets&&s.bullets.length){s.bullets.each(function(){var bullet=$(this);s.a11y.makeFocusable(bullet);s.a11y.addRole(bullet,'button');s.a11y.addLabel(bullet,s.params.paginationBulletMessage.replace(/{{index}}/,bullet.index()+1));});}},destroy:function(){if(s.a11y.liveRegion&&s.a11y.liveRegion.length>0)s.a11y.liveRegion.remove();}};s.init=function(){if(s.params.loop)s.createLoop();s.updateContainerSize();s.updateSlidesSize();s.updatePagination();if(s.params.scrollbar&&s.scrollbar){s.scrollbar.set();if(s.params.scrollbarDraggable){s.scrollbar.enableDraggable();}}
if(s.params.effect!=='slide'&&s.effects[s.params.effect]){if(!s.params.loop)s.updateProgress();s.effects[s.params.effect].setTranslate();}
if(s.params.loop){s.slideTo(s.params.initialSlide+s.loopedSlides,0,s.params.runCallbacksOnInit);}
else{s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit);if(s.params.initialSlide===0){if(s.parallax&&s.params.parallax)s.parallax.setTranslate();if(s.lazy&&s.params.lazyLoading){s.lazy.load();s.lazy.initialImageLoaded=true;}}}
s.attachEvents();if(s.params.observer&&s.support.observer){s.initObservers();}
if(s.params.preloadImages&&!s.params.lazyLoading){s.preloadImages();}
if(s.params.autoplay){s.startAutoplay();}
if(s.params.keyboardControl){if(s.enableKeyboardControl)s.enableKeyboardControl();}
if(s.params.mousewheelControl){if(s.enableMousewheelControl)s.enableMousewheelControl();}
if(s.params.hashnav){if(s.hashnav)s.hashnav.init();}
if(s.params.a11y&&s.a11y)s.a11y.init();s.emit('onInit',s);};s.cleanupStyles=function(){s.container.removeClass(s.classNames.join(' ')).removeAttr('style');s.wrapper.removeAttr('style');if(s.slides&&s.slides.length){s.slides.removeClass([s.params.slideVisibleClass,s.params.slideActiveClass,s.params.slideNextClass,s.params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-column').removeAttr('data-swiper-row');}
if(s.paginationContainer&&s.paginationContainer.length){s.paginationContainer.removeClass(s.params.paginationHiddenClass);}
if(s.bullets&&s.bullets.length){s.bullets.removeClass(s.params.bulletActiveClass);}
if(s.params.prevButton)$(s.params.prevButton).removeClass(s.params.buttonDisabledClass);if(s.params.nextButton)$(s.params.nextButton).removeClass(s.params.buttonDisabledClass);if(s.params.scrollbar&&s.scrollbar){if(s.scrollbar.track&&s.scrollbar.track.length)s.scrollbar.track.removeAttr('style');if(s.scrollbar.drag&&s.scrollbar.drag.length)s.scrollbar.drag.removeAttr('style');}};s.destroy=function(deleteInstance,cleanupStyles){s.detachEvents();s.stopAutoplay();if(s.params.scrollbar&&s.scrollbar){if(s.params.scrollbarDraggable){s.scrollbar.disableDraggable();}}
if(s.params.loop){s.destroyLoop();}
if(cleanupStyles){s.cleanupStyles();}
s.disconnectObservers();if(s.params.keyboardControl){if(s.disableKeyboardControl)s.disableKeyboardControl();}
if(s.params.mousewheelControl){if(s.disableMousewheelControl)s.disableMousewheelControl();}
if(s.params.a11y&&s.a11y)s.a11y.destroy();s.emit('onDestroy');if(deleteInstance!==false)s=null;};s.init();return s;};Swiper.prototype={isSafari:(function(){var ua=navigator.userAgent.toLowerCase();return(ua.indexOf('safari')>=0&&ua.indexOf('chrome')<0&&ua.indexOf('android')<0);})(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(arr){return Object.prototype.toString.apply(arr)==='[object Array]';},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:(window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1)||(window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1)},device:(function(){var ua=navigator.userAgent;var android=ua.match(/(Android);?[\s\/]+([\d.]+)?/);var ipad=ua.match(/(iPad).*OS\s([\d_]+)/);var ipod=ua.match(/(iPod)(.*OS\s([\d_]+))?/);var iphone=!ipad&&ua.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:ipad||iphone||ipod,android:android};})(),support:{touch:(window.Modernizr&&Modernizr.touch===true)||(function(){return!!(('ontouchstart'in window)||window.DocumentTouch&&document instanceof DocumentTouch);})(),transforms3d:(window.Modernizr&&Modernizr.csstransforms3d===true)||(function(){var div=document.createElement('div').style;return('webkitPerspective'in div||'MozPerspective'in div||'OPerspective'in div||'MsPerspective'in div||'perspective'in div);})(),flexbox:(function(){var div=document.createElement('div').style;var styles=('alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient').split(' ');for(var i=0;i<styles.length;i++){if(styles[i]in div)return true;}})(),observer:(function(){return('MutationObserver'in window||'WebkitMutationObserver'in window);})()},plugins:{}};var swiperDomPlugins=['jQuery','Zepto','Dom7'];for(var i=0;i<swiperDomPlugins.length;i++){if(window[swiperDomPlugins[i]]){addLibraryPlugin(window[swiperDomPlugins[i]]);}}
var domLib;if(typeof Dom7==='undefined'){domLib=window.Dom7||window.Zepto||window.jQuery;}
else{domLib=Dom7;}
function addLibraryPlugin(lib){lib.fn.swiper=function(params){var firstInstance;lib(this).each(function(){var s=new Swiper(this,params);if(!firstInstance)firstInstance=s;});return firstInstance;};}
if(domLib){if(!('transitionEnd'in domLib.fn)){domLib.fn.transitionEnd=function(callback){var events=['webkitTransitionEnd','transitionend','oTransitionEnd','MSTransitionEnd','msTransitionEnd'],i,j,dom=this;function fireCallBack(e){if(e.target!==this)return;callback.call(this,e);for(i=0;i<events.length;i++){dom.off(events[i],fireCallBack);}}
if(callback){for(i=0;i<events.length;i++){dom.on(events[i],fireCallBack);}}
return this;};}
if(!('transform'in domLib.fn)){domLib.fn.transform=function(transform){for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransform=elStyle.MsTransform=elStyle.msTransform=elStyle.MozTransform=elStyle.OTransform=elStyle.transform=transform;}
return this;};}
if(!('transition'in domLib.fn)){domLib.fn.transition=function(duration){if(typeof duration!=='string'){duration=duration+'ms';}
for(var i=0;i<this.length;i++){var elStyle=this[i].style;elStyle.webkitTransitionDuration=elStyle.MsTransitionDuration=elStyle.msTransitionDuration=elStyle.MozTransitionDuration=elStyle.OTransitionDuration=elStyle.transitionDuration=duration;}
return this;};}}
window.Swiper=Swiper;})();if(typeof(module)!=='undefined')
{module.exports=window.Swiper;}
else if(typeof define==='function'&&define.amd){define([],function(){'use strict';return window.Swiper;});}/*! lightgallery - v1.2.15 - 2016-03-10
* http://sachinchoolur.github.io/lightGallery/
* Copyright (c) 2016 Sachin N; Licensed Apache 2.0 */
(function($,window,document,undefined){'use strict';var defaults={mode:'lg-slide',cssEasing:'ease',easing:'linear',speed:600,height:'100%',width:'100%',addClass:'',startClass:'lg-start-zoom',backdropDuration:150,hideBarsDelay:6000,useLeft:false,closable:true,loop:true,escKey:true,keyPress:true,controls:true,slideEndAnimatoin:true,hideControlOnEnd:false,mousewheel:true,appendSubHtmlTo:'.lg-sub-html',preload:1,showAfterLoad:true,selector:'',selectWithin:'',nextHtml:'',prevHtml:'',index:false,iframeMaxWidth:'100%',download:true,counter:true,appendCounterTo:'.lg-toolbar',swipeThreshold:50,enableSwipe:true,enableDrag:true,dynamic:false,dynamicEl:[],galleryId:1};function Plugin(element,options){this.el=element;this.$el=$(element);this.s=$.extend({},defaults,options);if(this.s.dynamic&&this.s.dynamicEl!=='undefined'&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length){throw('When using dynamic mode, you must also define dynamicEl as an Array.');}
this.modules={};this.lGalleryOn=false;this.lgBusy=false;this.hideBartimeout=false;this.isTouch=('ontouchstart'in document.documentElement);if(this.s.slideEndAnimatoin){this.s.hideControlOnEnd=false;}
if(this.s.dynamic){this.$items=this.s.dynamicEl;}else{if(this.s.selector==='this'){this.$items=this.$el;}else if(this.s.selector!==''){if(this.s.selectWithin){this.$items=$(this.s.selectWithin).find(this.s.selector);}else{this.$items=this.$el.find($(this.s.selector));}}else{this.$items=this.$el.children();}}
this.$slide='';this.$outer='';this.init();return this;}
Plugin.prototype.init=function(){var _this=this;if(_this.s.preload>_this.$items.length){_this.s.preload=_this.$items.length;}
var _hash=window.location.hash;if(_hash.indexOf('lg='+this.s.galleryId)>0){_this.index=parseInt(_hash.split('&slide=')[1],10);$('body').addClass('lg-from-hash');if(!$('body').hasClass('lg-on')){setTimeout(function(){_this.build(_this.index);$('body').addClass('lg-on');});}}
if(_this.s.dynamic){_this.$el.trigger('onBeforeOpen.lg');_this.index=_this.s.index||0;if(!$('body').hasClass('lg-on')){setTimeout(function(){_this.build(_this.index);$('body').addClass('lg-on');});}}else{_this.$items.on('click.lgcustom',function(event){try{event.preventDefault();event.preventDefault();}catch(er){event.returnValue=false;}
_this.$el.trigger('onBeforeOpen.lg');_this.index=_this.s.index||_this.$items.index(this);if(!$('body').hasClass('lg-on')){_this.build(_this.index);$('body').addClass('lg-on');}});}};Plugin.prototype.build=function(index){var _this=this;_this.structure();$.each($.fn.lightGallery.modules,function(key){_this.modules[key]=new $.fn.lightGallery.modules[key](_this.el);});_this.slide(index,false,false);if(_this.s.keyPress){_this.keyPress();}
if(_this.$items.length>1){_this.arrow();setTimeout(function(){_this.enableDrag();_this.enableSwipe();},50);if(_this.s.mousewheel){_this.mousewheel();}}
_this.counter();_this.closeGallery();_this.$el.trigger('onAfterOpen.lg');_this.$outer.on('mousemove.lg click.lg touchstart.lg',function(){_this.$outer.removeClass('lg-hide-items');clearTimeout(_this.hideBartimeout);_this.hideBartimeout=setTimeout(function(){_this.$outer.addClass('lg-hide-items');},_this.s.hideBarsDelay);});};Plugin.prototype.structure=function(){var list='';var controls='';var i=0;var subHtmlCont='';var template;var _this=this;$('body').append('<div class="lg-backdrop"></div>');$('.lg-backdrop').css('transition-duration',this.s.backdropDuration+'ms');for(i=0;i<this.$items.length;i++){list+='<div class="lg-item"></div>';}
if(this.s.controls&&this.$items.length>1){controls='<div class="lg-actions">'+
'<div class="lg-prev lg-icon">'+this.s.prevHtml+'</div>'+
'<div class="lg-next lg-icon">'+this.s.nextHtml+'</div>'+
'</div>';}
if(this.s.appendSubHtmlTo==='.lg-sub-html'){subHtmlCont='<div class="lg-sub-html"></div>';}
template='<div class="lg-outer '+this.s.addClass+' '+this.s.startClass+'">'+
'<div class="lg" style="width:'+this.s.width+'; height:'+this.s.height+'">'+
'<div class="lg-inner">'+list+'</div>'+
'<div class="lg-toolbar group">'+
'<span class="lg-close lg-icon"></span>'+
'</div>'+
controls+
subHtmlCont+
'</div>'+
'</div>';$('body').append(template);this.$outer=$('.lg-outer');this.$slide=this.$outer.find('.lg-item');if(this.s.useLeft){this.$outer.addClass('lg-use-left');this.s.mode='lg-slide';}else{this.$outer.addClass('lg-use-css3');}
_this.setTop();$(window).on('resize.lg orientationchange.lg',function(){setTimeout(function(){_this.setTop();},100);});this.$slide.eq(this.index).addClass('lg-current');if(this.doCss()){this.$outer.addClass('lg-css3');}else{this.$outer.addClass('lg-css');this.s.speed=0;}
this.$outer.addClass(this.s.mode);if(this.s.enableDrag&&this.$items.length>1){this.$outer.addClass('lg-grab');}
if(this.s.showAfterLoad){this.$outer.addClass('lg-show-after-load');}
if(this.doCss()){var $inner=this.$outer.find('.lg-inner');$inner.css('transition-timing-function',this.s.cssEasing);$inner.css('transition-duration',this.s.speed+'ms');}
$('.lg-backdrop').addClass('in');setTimeout(function(){_this.$outer.addClass('lg-visible');},this.s.backdropDuration);if(this.s.download){this.$outer.find('.lg-toolbar').append('<a id="lg-download" target="_blank" download class="lg-download lg-icon"></a>');}
this.prevScrollTop=$(window).scrollTop();};Plugin.prototype.setTop=function(){if(this.s.height!=='100%'){var wH=$(window).height();var top=(wH-parseInt(this.s.height,10))/2;var $lGallery=this.$outer.find('.lg');if(wH>=parseInt(this.s.height,10)){$lGallery.css('top',top+'px');}else{$lGallery.css('top','0px');}}};Plugin.prototype.doCss=function(){var support=function(){var transition=['transition','MozTransition','WebkitTransition','OTransition','msTransition','KhtmlTransition'];var root=document.documentElement;var i=0;for(i=0;i<transition.length;i++){if(transition[i]in root.style){return true;}}};if(support()){return true;}
return false;};Plugin.prototype.isVideo=function(src,index){var html;if(this.s.dynamic){html=this.s.dynamicEl[index].html;}else{html=this.$items.eq(index).attr('data-html');}
if(!src&&html){return{html5:true};}
var youtube=src.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i);var vimeo=src.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i);var dailymotion=src.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i);var vk=src.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);if(youtube){return{youtube:youtube};}else if(vimeo){return{vimeo:vimeo};}else if(dailymotion){return{dailymotion:dailymotion};}else if(vk){return{vk:vk};}};Plugin.prototype.counter=function(){if(this.s.counter){$(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.$items.length+'</span></div>');}};Plugin.prototype.addHtml=function(index){var subHtml=null;var subHtmlUrl;if(this.s.dynamic){if(this.s.dynamicEl[index].subHtmlUrl){subHtmlUrl=this.s.dynamicEl[index].subHtmlUrl;}else{subHtml=this.s.dynamicEl[index].subHtml;}}else{if(this.$items.eq(index).attr('data-sub-html-url')){subHtmlUrl=this.$items.eq(index).attr('data-sub-html-url');}else{subHtml=this.$items.eq(index).attr('data-sub-html');}}
if(!subHtmlUrl){if(typeof subHtml!=='undefined'&&subHtml!==null){var fL=subHtml.substring(0,1);if(fL==='.'||fL==='#'){subHtml=$(subHtml).html();}else{subHtml=subHtml;}}else{subHtml='';}}
if(this.s.appendSubHtmlTo==='.lg-sub-html'){if(subHtmlUrl){this.$outer.find(this.s.appendSubHtmlTo).load(subHtmlUrl);}else{this.$outer.find(this.s.appendSubHtmlTo).html(subHtml);}}else{if(subHtmlUrl){this.$slide.eq(index).load(subHtmlUrl);}else{this.$slide.eq(index).append(subHtml);}}
if(typeof subHtml!=='undefined'&&subHtml!==null){if(subHtml===''){this.$outer.find(this.s.appendSubHtmlTo).addClass('lg-empty-html');}else{this.$outer.find(this.s.appendSubHtmlTo).removeClass('lg-empty-html');}}
this.$el.trigger('onAfterAppendSubHtml.lg',[index]);};Plugin.prototype.preload=function(index){var i=1;var j=1;for(i=1;i<=this.s.preload;i++){if(i>=this.$items.length-index){break;}
this.loadContent(index+i,false,0);}
for(j=1;j<=this.s.preload;j++){if(index-j<0){break;}
this.loadContent(index-j,false,0);}};Plugin.prototype.loadContent=function(index,rec,delay){var _this=this;var _hasPoster=false;var _$img;var _src;var _poster;var _srcset;var _sizes;var _html;var getResponsiveSrc=function(srcItms){var rsWidth=[];var rsSrc=[];for(var i=0;i<srcItms.length;i++){var __src=srcItms[i].split(' ');if(__src[0]===''){__src.splice(0,1);}
rsSrc.push(__src[0]);rsWidth.push(__src[1]);}
var wWidth=$(window).width();for(var j=0;j<rsWidth.length;j++){if(parseInt(rsWidth[j],10)>wWidth){_src=rsSrc[j];break;}}};if(_this.s.dynamic){if(_this.s.dynamicEl[index].poster){_hasPoster=true;_poster=_this.s.dynamicEl[index].poster;}
_html=_this.s.dynamicEl[index].html;_src=_this.s.dynamicEl[index].src;if(_this.s.dynamicEl[index].responsive){var srcDyItms=_this.s.dynamicEl[index].responsive.split(',');getResponsiveSrc(srcDyItms);}
_srcset=_this.s.dynamicEl[index].srcset;_sizes=_this.s.dynamicEl[index].sizes;}else{if(_this.$items.eq(index).attr('data-poster')){_hasPoster=true;_poster=_this.$items.eq(index).attr('data-poster');}
_html=_this.$items.eq(index).attr('data-html');_src=_this.$items.eq(index).attr('href')||_this.$items.eq(index).attr('data-src');if(_this.$items.eq(index).attr('data-responsive')){var srcItms=_this.$items.eq(index).attr('data-responsive').split(',');getResponsiveSrc(srcItms);}
_srcset=_this.$items.eq(index).attr('data-srcset');_sizes=_this.$items.eq(index).attr('data-sizes');}
var iframe=false;if(_this.s.dynamic){if(_this.s.dynamicEl[index].iframe){iframe=true;}}else{if(_this.$items.eq(index).attr('data-iframe')==='true'){iframe=true;}}
var _isVideo=_this.isVideo(_src,index);if(!_this.$slide.eq(index).hasClass('lg-loaded')){if(iframe){_this.$slide.eq(index).prepend('<div class="lg-video-cont" style="max-width:'+_this.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+_src+'"  allowfullscreen="true"></iframe></div></div>');}else if(_hasPoster){var videoClass='';if(_isVideo&&_isVideo.youtube){videoClass='lg-has-youtube';}else if(_isVideo&&_isVideo.vimeo){videoClass='lg-has-vimeo';}else{videoClass='lg-has-html5';}
_this.$slide.eq(index).prepend('<div class="lg-video-cont '+videoClass+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+_poster+'" /></div></div>');}else if(_isVideo){_this.$slide.eq(index).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>');_this.$el.trigger('hasVideo.lg',[index,_src,_html]);}else{_this.$slide.eq(index).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+_src+'" /></div>');}
_this.$el.trigger('onAferAppendSlide.lg',[index]);_$img=_this.$slide.eq(index).find('.lg-object');if(_sizes){_$img.attr('sizes',_sizes);}
if(_srcset){_$img.attr('srcset',_srcset);try{picturefill({elements:[_$img[0]]});}catch(e){console.error('Make sure you have included Picturefill version 2');}}
if(this.s.appendSubHtmlTo!=='.lg-sub-html'){_this.addHtml(index);}
_this.$slide.eq(index).addClass('lg-loaded');}
_this.$slide.eq(index).find('.lg-object').on('load.lg error.lg',function(){var _speed=0;if(delay&&!$('body').hasClass('lg-from-hash')){_speed=delay;}
setTimeout(function(){_this.$slide.eq(index).addClass('lg-complete');_this.$el.trigger('onSlideItemLoad.lg',[index,delay||0]);},_speed);});if(_isVideo&&_isVideo.html5&&!_hasPoster){_this.$slide.eq(index).addClass('lg-complete');}
if(rec===true){if(!_this.$slide.eq(index).hasClass('lg-complete')){_this.$slide.eq(index).find('.lg-object').on('load.lg error.lg',function(){_this.preload(index);});}else{_this.preload(index);}}};Plugin.prototype.slide=function(index,fromTouch,fromThumb){var _prevIndex=this.$outer.find('.lg-current').index();var _this=this;if(_this.lGalleryOn&&(_prevIndex===index)){return;}
var _length=this.$slide.length;var _time=_this.lGalleryOn?this.s.speed:0;var _next=false;var _prev=false;if(!_this.lgBusy){if(this.s.download){var _src;if(_this.s.dynamic){_src=_this.s.dynamicEl[index].downloadUrl!==false&&(_this.s.dynamicEl[index].downloadUrl||_this.s.dynamicEl[index].src);}else{_src=_this.$items.eq(index).attr('data-download-url')!=='false'&&(_this.$items.eq(index).attr('data-download-url')||_this.$items.eq(index).attr('href')||_this.$items.eq(index).attr('data-src'));}
if(_src){$('#lg-download').attr('href',_src);_this.$outer.removeClass('lg-hide-download');}else{_this.$outer.addClass('lg-hide-download');}}
this.$el.trigger('onBeforeSlide.lg',[_prevIndex,index,fromTouch,fromThumb]);_this.lgBusy=true;clearTimeout(_this.hideBartimeout);if(this.s.appendSubHtmlTo==='.lg-sub-html'){setTimeout(function(){_this.addHtml(index);},_time);}
this.arrowDisable(index);if(!fromTouch){_this.$outer.addClass('lg-no-trans');this.$slide.removeClass('lg-prev-slide lg-next-slide');if(index<_prevIndex){_prev=true;if((index===0)&&(_prevIndex===_length-1)&&!fromThumb){_prev=false;_next=true;}}else if(index>_prevIndex){_next=true;if((index===_length-1)&&(_prevIndex===0)&&!fromThumb){_prev=true;_next=false;}}
if(_prev){this.$slide.eq(index).addClass('lg-prev-slide');this.$slide.eq(_prevIndex).addClass('lg-next-slide');}else if(_next){this.$slide.eq(index).addClass('lg-next-slide');this.$slide.eq(_prevIndex).addClass('lg-prev-slide');}
setTimeout(function(){_this.$slide.removeClass('lg-current');_this.$slide.eq(index).addClass('lg-current');_this.$outer.removeClass('lg-no-trans');},50);}else{var touchPrev=index-1;var touchNext=index+1;if((index===0)&&(_prevIndex===_length-1)){touchNext=0;touchPrev=_length-1;}else if((index===_length-1)&&(_prevIndex===0)){touchNext=0;touchPrev=_length-1;}
this.$slide.removeClass('lg-prev-slide lg-current lg-next-slide');_this.$slide.eq(touchPrev).addClass('lg-prev-slide');_this.$slide.eq(touchNext).addClass('lg-next-slide');_this.$slide.eq(index).addClass('lg-current');}
if(_this.lGalleryOn){setTimeout(function(){_this.loadContent(index,true,0);},this.s.speed+50);setTimeout(function(){_this.lgBusy=false;_this.$el.trigger('onAfterSlide.lg',[_prevIndex,index,fromTouch,fromThumb]);},this.s.speed);}else{_this.loadContent(index,true,_this.s.backdropDuration);_this.lgBusy=false;_this.$el.trigger('onAfterSlide.lg',[_prevIndex,index,fromTouch,fromThumb]);}
_this.lGalleryOn=true;if(this.s.counter){$('#lg-counter-current').text(index+1);}}};Plugin.prototype.goToNextSlide=function(fromTouch){var _this=this;if(!_this.lgBusy){if((_this.index+1)<_this.$slide.length){_this.index++;_this.$el.trigger('onBeforeNextSlide.lg',[_this.index]);_this.slide(_this.index,fromTouch,false);}else{if(_this.s.loop){_this.index=0;_this.$el.trigger('onBeforeNextSlide.lg',[_this.index]);_this.slide(_this.index,fromTouch,false);}else if(_this.s.slideEndAnimatoin){_this.$outer.addClass('lg-right-end');setTimeout(function(){_this.$outer.removeClass('lg-right-end');},400);}}}};Plugin.prototype.goToPrevSlide=function(fromTouch){var _this=this;if(!_this.lgBusy){if(_this.index>0){_this.index--;_this.$el.trigger('onBeforePrevSlide.lg',[_this.index,fromTouch]);_this.slide(_this.index,fromTouch,false);}else{if(_this.s.loop){_this.index=_this.$items.length-1;_this.$el.trigger('onBeforePrevSlide.lg',[_this.index,fromTouch]);_this.slide(_this.index,fromTouch,false);}else if(_this.s.slideEndAnimatoin){_this.$outer.addClass('lg-left-end');setTimeout(function(){_this.$outer.removeClass('lg-left-end');},400);}}}};Plugin.prototype.keyPress=function(){var _this=this;if(this.$items.length>1){$(window).on('keyup.lg',function(e){if(_this.$items.length>1){if(e.keyCode===37){e.preventDefault();_this.goToPrevSlide();}
if(e.keyCode===39){e.preventDefault();_this.goToNextSlide();}}});}
$(window).on('keydown.lg',function(e){if(_this.s.escKey===true&&e.keyCode===27){e.preventDefault();if(!_this.$outer.hasClass('lg-thumb-open')){_this.destroy();}else{_this.$outer.removeClass('lg-thumb-open');}}});};Plugin.prototype.arrow=function(){var _this=this;this.$outer.find('.lg-prev').on('click.lg',function(){_this.goToPrevSlide();});this.$outer.find('.lg-next').on('click.lg',function(){_this.goToNextSlide();});};Plugin.prototype.arrowDisable=function(index){if(!this.s.loop&&this.s.hideControlOnEnd){if((index+1)<this.$slide.length){this.$outer.find('.lg-next').removeAttr('disabled').removeClass('disabled');}else{this.$outer.find('.lg-next').attr('disabled','disabled').addClass('disabled');}
if(index>0){this.$outer.find('.lg-prev').removeAttr('disabled').removeClass('disabled');}else{this.$outer.find('.lg-prev').attr('disabled','disabled').addClass('disabled');}}};Plugin.prototype.setTranslate=function($el,xValue,yValue){if(this.s.useLeft){$el.css('left',xValue);}else{$el.css({transform:'translate3d('+(xValue)+'px, '+yValue+'px, 0px)'});}};Plugin.prototype.touchMove=function(startCoords,endCoords){var distance=endCoords-startCoords;if(Math.abs(distance)>15){this.$outer.addClass('lg-dragging');this.setTranslate(this.$slide.eq(this.index),distance,0);this.setTranslate($('.lg-prev-slide'),-this.$slide.eq(this.index).width()+distance,0);this.setTranslate($('.lg-next-slide'),this.$slide.eq(this.index).width()+distance,0);}};Plugin.prototype.touchEnd=function(distance){var _this=this;if(_this.s.mode!=='lg-slide'){_this.$outer.addClass('lg-slide');}
this.$slide.not('.lg-current, .lg-prev-slide, .lg-next-slide').css('opacity','0');setTimeout(function(){_this.$outer.removeClass('lg-dragging');if((distance<0)&&(Math.abs(distance)>_this.s.swipeThreshold)){_this.goToNextSlide(true);}else if((distance>0)&&(Math.abs(distance)>_this.s.swipeThreshold)){_this.goToPrevSlide(true);}else if(Math.abs(distance)<5){_this.$el.trigger('onSlideClick.lg');}
_this.$slide.removeAttr('style');});setTimeout(function(){if(!_this.$outer.hasClass('lg-dragging')&&_this.s.mode!=='lg-slide'){_this.$outer.removeClass('lg-slide');}},_this.s.speed+100);};Plugin.prototype.enableSwipe=function(){var _this=this;var startCoords=0;var endCoords=0;var isMoved=false;if(_this.s.enableSwipe&&_this.isTouch&&_this.doCss()){_this.$slide.on('touchstart.lg',function(e){if(!_this.$outer.hasClass('lg-zoomed')&&!_this.lgBusy){e.preventDefault();_this.manageSwipeClass();startCoords=e.originalEvent.targetTouches[0].pageX;}});_this.$slide.on('touchmove.lg',function(e){if(!_this.$outer.hasClass('lg-zoomed')){e.preventDefault();endCoords=e.originalEvent.targetTouches[0].pageX;_this.touchMove(startCoords,endCoords);isMoved=true;}});_this.$slide.on('touchend.lg',function(){if(!_this.$outer.hasClass('lg-zoomed')){if(isMoved){isMoved=false;_this.touchEnd(endCoords-startCoords);}else{_this.$el.trigger('onSlideClick.lg');}}});}};Plugin.prototype.enableDrag=function(){var _this=this;var startCoords=0;var endCoords=0;var isDraging=false;var isMoved=false;if(_this.s.enableDrag&&!_this.isTouch&&_this.doCss()){_this.$slide.on('mousedown.lg',function(e){if(!_this.$outer.hasClass('lg-zoomed')){if($(e.target).hasClass('lg-object')||$(e.target).hasClass('lg-video-play')){e.preventDefault();if(!_this.lgBusy){_this.manageSwipeClass();startCoords=e.pageX;isDraging=true;_this.$outer.scrollLeft+=1;_this.$outer.scrollLeft-=1;_this.$outer.removeClass('lg-grab').addClass('lg-grabbing');_this.$el.trigger('onDragstart.lg');}}}});$(window).on('mousemove.lg',function(e){if(isDraging){isMoved=true;endCoords=e.pageX;_this.touchMove(startCoords,endCoords);_this.$el.trigger('onDragmove.lg');}});$(window).on('mouseup.lg',function(e){if(isMoved){isMoved=false;_this.touchEnd(endCoords-startCoords);_this.$el.trigger('onDragend.lg');}else if($(e.target).hasClass('lg-object')||$(e.target).hasClass('lg-video-play')){_this.$el.trigger('onSlideClick.lg');}
if(isDraging){isDraging=false;_this.$outer.removeClass('lg-grabbing').addClass('lg-grab');}});}};Plugin.prototype.manageSwipeClass=function(){var touchNext=this.index+1;var touchPrev=this.index-1;var length=this.$slide.length;if(this.s.loop){if(this.index===0){touchPrev=length-1;}else if(this.index===length-1){touchNext=0;}}
this.$slide.removeClass('lg-next-slide lg-prev-slide');if(touchPrev>-1){this.$slide.eq(touchPrev).addClass('lg-prev-slide');}
this.$slide.eq(touchNext).addClass('lg-next-slide');};Plugin.prototype.mousewheel=function(){var _this=this;_this.$outer.on('mousewheel.lg',function(e){if(!e.deltaY){return;}
if(e.deltaY>0){_this.goToPrevSlide();}else{_this.goToNextSlide();}
e.preventDefault();});};Plugin.prototype.closeGallery=function(){var _this=this;var mousedown=false;this.$outer.find('.lg-close').on('click.lg',function(){_this.destroy();});if(_this.s.closable){_this.$outer.on('mousedown.lg',function(e){if($(e.target).is('.lg-outer')||$(e.target).is('.lg-item ')||$(e.target).is('.lg-img-wrap')){mousedown=true;}else{mousedown=false;}});_this.$outer.on('mouseup.lg',function(e){if($(e.target).is('.lg-outer')||$(e.target).is('.lg-item ')||$(e.target).is('.lg-img-wrap')&&mousedown){if(!_this.$outer.hasClass('lg-dragging')){_this.destroy();}}});}};Plugin.prototype.destroy=function(d){var _this=this;if(!d){_this.$el.trigger('onBeforeClose.lg');}
$(window).scrollTop(_this.prevScrollTop);if(d){if(!_this.s.dynamic){this.$items.off('click.lg click.lgcustom');}
$.removeData(_this.el,'lightGallery');}
this.$el.off('.lg.tm');$.each($.fn.lightGallery.modules,function(key){if(_this.modules[key]){_this.modules[key].destroy();}});this.lGalleryOn=false;clearTimeout(_this.hideBartimeout);this.hideBartimeout=false;$(window).off('.lg');$('body').removeClass('lg-on lg-from-hash');if(_this.$outer){_this.$outer.removeClass('lg-visible');}
$('.lg-backdrop').removeClass('in');setTimeout(function(){if(_this.$outer){_this.$outer.remove();}
$('.lg-backdrop').remove();if(!d){_this.$el.trigger('onCloseAfter.lg');}},_this.s.backdropDuration+50);};$.fn.lightGallery=function(options){return this.each(function(){if(!$.data(this,'lightGallery')){$.data(this,'lightGallery',new Plugin(this,options));}else{try{$(this).data('lightGallery').init();}catch(err){console.error('lightGallery has not initiated properly');}}});};$.fn.lightGallery.modules={};})(jQuery,window,document);(function($,window,document,undefined){'use strict';var defaults={autoplay:false,pause:5000,progressBar:true,fourceAutoplay:false,autoplayControls:true,appendAutoplayControlsTo:'.lg-toolbar'};var Autoplay=function(element){this.core=$(element).data('lightGallery');this.$el=$(element);if(this.core.$items.length<2){return false;}
this.core.s=$.extend({},defaults,this.core.s);this.interval=false;this.fromAuto=true;this.canceledOnTouch=false;this.fourceAutoplayTemp=this.core.s.fourceAutoplay;if(!this.core.doCss()){this.core.s.progressBar=false;}
this.init();return this;};Autoplay.prototype.init=function(){var _this=this;if(_this.core.s.autoplayControls){_this.controls();}
if(_this.core.s.progressBar){_this.core.$outer.find('.lg').append('<div class="lg-progress-bar"><div class="lg-progress"></div></div>');}
_this.progress();if(_this.core.s.autoplay){_this.startlAuto();}
_this.$el.on('onDragstart.lg.tm touchstart.lg.tm',function(){if(_this.interval){_this.cancelAuto();_this.canceledOnTouch=true;}});_this.$el.on('onDragend.lg.tm touchend.lg.tm onSlideClick.lg.tm',function(){if(!_this.interval&&_this.canceledOnTouch){_this.startlAuto();_this.canceledOnTouch=false;}});};Autoplay.prototype.progress=function(){var _this=this;var _$progressBar;var _$progress;_this.$el.on('onBeforeSlide.lg.tm',function(){if(_this.core.s.progressBar&&_this.fromAuto){_$progressBar=_this.core.$outer.find('.lg-progress-bar');_$progress=_this.core.$outer.find('.lg-progress');if(_this.interval){_$progress.removeAttr('style');_$progressBar.removeClass('lg-start');setTimeout(function(){_$progress.css('transition','width '+(_this.core.s.speed+_this.core.s.pause)+'ms ease 0s');_$progressBar.addClass('lg-start');},20);}}
if(!_this.fromAuto&&!_this.core.s.fourceAutoplay){_this.cancelAuto();}
_this.fromAuto=false;});};Autoplay.prototype.controls=function(){var _this=this;var _html='<span class="lg-autoplay-button lg-icon"></span>';$(this.core.s.appendAutoplayControlsTo).append(_html);_this.core.$outer.find('.lg-autoplay-button').on('click.lg',function(){if($(_this.core.$outer).hasClass('lg-show-autoplay')){_this.cancelAuto();_this.core.s.fourceAutoplay=false;}else{if(!_this.interval){_this.startlAuto();_this.core.s.fourceAutoplay=_this.fourceAutoplayTemp;}}});};Autoplay.prototype.startlAuto=function(){var _this=this;_this.core.$outer.find('.lg-progress').css('transition','width '+(_this.core.s.speed+_this.core.s.pause)+'ms ease 0s');_this.core.$outer.addClass('lg-show-autoplay');_this.core.$outer.find('.lg-progress-bar').addClass('lg-start');_this.interval=setInterval(function(){if(_this.core.index+1<_this.core.$items.length){_this.core.index=_this.core.index;}else{_this.core.index=-1;}
_this.core.index++;_this.fromAuto=true;_this.core.slide(_this.core.index,false,false);},_this.core.s.speed+_this.core.s.pause);};Autoplay.prototype.cancelAuto=function(){clearInterval(this.interval);this.interval=false;this.core.$outer.find('.lg-progress').removeAttr('style');this.core.$outer.removeClass('lg-show-autoplay');this.core.$outer.find('.lg-progress-bar').removeClass('lg-start');};Autoplay.prototype.destroy=function(){this.cancelAuto();this.core.$outer.find('.lg-progress-bar').remove();};$.fn.lightGallery.modules.autoplay=Autoplay;})(jQuery,window,document);(function($,window,document,undefined){'use strict';var defaults={fullScreen:true};var Fullscreen=function(element){this.core=$(element).data('lightGallery');this.$el=$(element);this.core.s=$.extend({},defaults,this.core.s);this.init();return this;};Fullscreen.prototype.init=function(){var fullScreen='';if(this.core.s.fullScreen){if(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled&&!document.mozFullScreenEnabled&&!document.msFullscreenEnabled){return;}else{fullScreen='<span class="lg-fullscreen lg-icon"></span>';this.core.$outer.find('.lg-toolbar').append(fullScreen);this.fullScreen();}}};Fullscreen.prototype.requestFullscreen=function(){var el=document.documentElement;if(el.requestFullscreen){el.requestFullscreen();}else if(el.msRequestFullscreen){el.msRequestFullscreen();}else if(el.mozRequestFullScreen){el.mozRequestFullScreen();}else if(el.webkitRequestFullscreen){el.webkitRequestFullscreen();}};Fullscreen.prototype.exitFullscreen=function(){if(document.exitFullscreen){document.exitFullscreen();}else if(document.msExitFullscreen){document.msExitFullscreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.webkitExitFullscreen){document.webkitExitFullscreen();}};Fullscreen.prototype.fullScreen=function(){var _this=this;$(document).on('fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg',function(){_this.core.$outer.toggleClass('lg-fullscreen-on');});this.core.$outer.find('.lg-fullscreen').on('click.lg',function(){if(!document.fullscreenElement&&!document.mozFullScreenElement&&!document.webkitFullscreenElement&&!document.msFullscreenElement){_this.requestFullscreen();}else{_this.exitFullscreen();}});};Fullscreen.prototype.destroy=function(){this.exitFullscreen();$(document).off('fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg');};$.fn.lightGallery.modules.fullscreen=Fullscreen;})(jQuery,window,document);(function($,window,document,undefined){'use strict';var defaults={pager:false};var Pager=function(element){this.core=$(element).data('lightGallery');this.$el=$(element);this.core.s=$.extend({},defaults,this.core.s);if(this.core.s.pager&&this.core.$items.length>1){this.init();}
return this;};Pager.prototype.init=function(){var _this=this;var pagerList='';var $pagerCont;var $pagerOuter;var timeout;_this.core.$outer.find('.lg').append('<div class="lg-pager-outer"></div>');if(_this.core.s.dynamic){for(var i=0;i<_this.core.s.dynamicEl.length;i++){pagerList+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+_this.core.s.dynamicEl[i].thumb+'" /></div></span>';}}else{_this.core.$items.each(function(){if(!_this.core.s.exThumbImage){pagerList+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+$(this).find('img').attr('src')+'" /></div></span>';}else{pagerList+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+$(this).attr(_this.core.s.exThumbImage)+'" /></div></span>';}});}
$pagerOuter=_this.core.$outer.find('.lg-pager-outer');$pagerOuter.html(pagerList);$pagerCont=_this.core.$outer.find('.lg-pager-cont');$pagerCont.on('click.lg touchend.lg',function(){var _$this=$(this);_this.core.index=_$this.index();_this.core.slide(_this.core.index,false,false);});$pagerOuter.on('mouseover.lg',function(){clearTimeout(timeout);$pagerOuter.addClass('lg-pager-hover');});$pagerOuter.on('mouseout.lg',function(){timeout=setTimeout(function(){$pagerOuter.removeClass('lg-pager-hover');});});_this.core.$el.on('onBeforeSlide.lg.tm',function(e,prevIndex,index){$pagerCont.removeClass('lg-pager-active');$pagerCont.eq(index).addClass('lg-pager-active');});};Pager.prototype.destroy=function(){};$.fn.lightGallery.modules.pager=Pager;})(jQuery,window,document);(function($,window,document,undefined){'use strict';var defaults={thumbnail:true,animateThumb:true,currentPagerPosition:'middle',thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:false,showThumbByDefault:true,toogleThumb:true,pullCaptionUp:true,enableThumbDrag:true,enableThumbSwipe:true,swipeThreshold:50,loadYoutubeThumbnail:true,youtubeThumbSize:1,loadVimeoThumbnail:true,vimeoThumbSize:'thumbnail_small',loadDailymotionThumbnail:true};var Thumbnail=function(element){this.core=$(element).data('lightGallery');this.core.s=$.extend({},defaults,this.core.s);this.$el=$(element);this.$thumbOuter=null;this.thumbOuterWidth=0;this.thumbTotalWidth=(this.core.$items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin));this.thumbIndex=this.core.index;this.left=0;this.init();return this;};Thumbnail.prototype.init=function(){var _this=this;if(this.core.s.thumbnail&&this.core.$items.length>1){if(this.core.s.showThumbByDefault){setTimeout(function(){_this.core.$outer.addClass('lg-thumb-open');},700);}
if(this.core.s.pullCaptionUp){this.core.$outer.addClass('lg-pull-caption-up');}
this.build();if(this.core.s.animateThumb){if(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()){this.enableThumbDrag();}
if(this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()){this.enableThumbSwipe();}
this.thumbClickable=false;}else{this.thumbClickable=true;}
this.toogle();this.thumbkeyPress();}};Thumbnail.prototype.build=function(){var _this=this;var thumbList='';var vimeoErrorThumbSize='';var $thumb;var html='<div class="lg-thumb-outer">'+
'<div class="lg-thumb group">'+
'</div>'+
'</div>';switch(this.core.s.vimeoThumbSize){case 'thumbnail_large':vimeoErrorThumbSize='640';break;case 'thumbnail_medium':vimeoErrorThumbSize='200x150';break;case 'thumbnail_small':vimeoErrorThumbSize='100x75';}
_this.core.$outer.addClass('lg-has-thumb');_this.core.$outer.find('.lg').append(html);_this.$thumbOuter=_this.core.$outer.find('.lg-thumb-outer');_this.thumbOuterWidth=_this.$thumbOuter.width();if(_this.core.s.animateThumb){_this.core.$outer.find('.lg-thumb').css({width:_this.thumbTotalWidth+'px',position:'relative'});}
if(this.core.s.animateThumb){_this.$thumbOuter.css('height',_this.core.s.thumbContHeight+'px');}
function getThumb(src,thumb,index){var isVideo=_this.core.isVideo(src,index)||{};var thumbImg;var vimeoId='';if(isVideo.youtube||isVideo.vimeo||isVideo.dailymotion){if(isVideo.youtube){if(_this.core.s.loadYoutubeThumbnail){thumbImg='//img.youtube.com/vi/'+isVideo.youtube[1]+'/'+_this.core.s.youtubeThumbSize+'.jpg';}else{thumbImg=thumb;}}else if(isVideo.vimeo){if(_this.core.s.loadVimeoThumbnail){thumbImg='//i.vimeocdn.com/video/error_'+vimeoErrorThumbSize+'.jpg';vimeoId=isVideo.vimeo[1];}else{thumbImg=thumb;}}else if(isVideo.dailymotion){if(_this.core.s.loadDailymotionThumbnail){thumbImg='//www.dailymotion.com/thumbnail/video/'+isVideo.dailymotion[1];}else{thumbImg=thumb;}}}else{thumbImg=thumb;}
thumbList+='<div data-vimeo-id="'+vimeoId+'" class="lg-thumb-item" style="width:'+_this.core.s.thumbWidth+'px; margin-right: '+_this.core.s.thumbMargin+'px"><img src="'+thumbImg+'" /></div>';vimeoId='';}
if(_this.core.s.dynamic){for(var i=0;i<_this.core.s.dynamicEl.length;i++){getThumb(_this.core.s.dynamicEl[i].src,_this.core.s.dynamicEl[i].thumb,i);}}else{_this.core.$items.each(function(i){if(!_this.core.s.exThumbImage){getThumb($(this).attr('href')||$(this).attr('data-src'),$(this).find('img').attr('src'),i);}else{getThumb($(this).attr('href')||$(this).attr('data-src'),$(this).attr(_this.core.s.exThumbImage),i);}});}
_this.core.$outer.find('.lg-thumb').html(thumbList);$thumb=_this.core.$outer.find('.lg-thumb-item');$thumb.each(function(){var $this=$(this);var vimeoVideoId=$this.attr('data-vimeo-id');if(vimeoVideoId){$.getJSON('//www.vimeo.com/api/v2/video/'+vimeoVideoId+'.json?callback=?',{format:'json'},function(data){$this.find('img').attr('src',data[0][_this.core.s.vimeoThumbSize]);});}});$thumb.eq(_this.core.index).addClass('active');_this.core.$el.on('onBeforeSlide.lg.tm',function(){$thumb.removeClass('active');$thumb.eq(_this.core.index).addClass('active');});$thumb.on('click.lg touchend.lg',function(){var _$this=$(this);setTimeout(function(){if((_this.thumbClickable&&!_this.core.lgBusy)||!_this.core.doCss()){_this.core.index=_$this.index();_this.core.slide(_this.core.index,false,true);}},50);});_this.core.$el.on('onBeforeSlide.lg.tm',function(){_this.animateThumb(_this.core.index);});$(window).on('resize.lg.thumb orientationchange.lg.thumb',function(){setTimeout(function(){_this.animateThumb(_this.core.index);_this.thumbOuterWidth=_this.$thumbOuter.width();},200);});};Thumbnail.prototype.setTranslate=function(value){this.core.$outer.find('.lg-thumb').css({transform:'translate3d(-'+(value)+'px, 0px, 0px)'});};Thumbnail.prototype.animateThumb=function(index){var $thumb=this.core.$outer.find('.lg-thumb');if(this.core.s.animateThumb){var position;switch(this.core.s.currentPagerPosition){case 'left':position=0;break;case 'middle':position=(this.thumbOuterWidth/2)-(this.core.s.thumbWidth/2);break;case 'right':position=this.thumbOuterWidth-this.core.s.thumbWidth;}
this.left=((this.core.s.thumbWidth+this.core.s.thumbMargin)*index-1)-position;if(this.left>(this.thumbTotalWidth-this.thumbOuterWidth)){this.left=this.thumbTotalWidth-this.thumbOuterWidth;}
if(this.left<0){this.left=0;}
if(this.core.lGalleryOn){if(!$thumb.hasClass('on')){this.core.$outer.find('.lg-thumb').css('transition-duration',this.core.s.speed+'ms');}
if(!this.core.doCss()){$thumb.animate({left:-this.left+'px'},this.core.s.speed);}}else{if(!this.core.doCss()){$thumb.css('left',-this.left+'px');}}
this.setTranslate(this.left);}};Thumbnail.prototype.enableThumbDrag=function(){var _this=this;var startCoords=0;var endCoords=0;var isDraging=false;var isMoved=false;var tempLeft=0;_this.$thumbOuter.addClass('lg-grab');_this.core.$outer.find('.lg-thumb').on('mousedown.lg.thumb',function(e){if(_this.thumbTotalWidth>_this.thumbOuterWidth){e.preventDefault();startCoords=e.pageX;isDraging=true;_this.core.$outer.scrollLeft+=1;_this.core.$outer.scrollLeft-=1;_this.thumbClickable=false;_this.$thumbOuter.removeClass('lg-grab').addClass('lg-grabbing');}});$(window).on('mousemove.lg.thumb',function(e){if(isDraging){tempLeft=_this.left;isMoved=true;endCoords=e.pageX;_this.$thumbOuter.addClass('lg-dragging');tempLeft=tempLeft-(endCoords-startCoords);if(tempLeft>(_this.thumbTotalWidth-_this.thumbOuterWidth)){tempLeft=_this.thumbTotalWidth-_this.thumbOuterWidth;}
if(tempLeft<0){tempLeft=0;}
_this.setTranslate(tempLeft);}});$(window).on('mouseup.lg.thumb',function(){if(isMoved){isMoved=false;_this.$thumbOuter.removeClass('lg-dragging');_this.left=tempLeft;if(Math.abs(endCoords-startCoords)<_this.core.s.swipeThreshold){_this.thumbClickable=true;}}else{_this.thumbClickable=true;}
if(isDraging){isDraging=false;_this.$thumbOuter.removeClass('lg-grabbing').addClass('lg-grab');}});};Thumbnail.prototype.enableThumbSwipe=function(){var _this=this;var startCoords=0;var endCoords=0;var isMoved=false;var tempLeft=0;_this.core.$outer.find('.lg-thumb').on('touchstart.lg',function(e){if(_this.thumbTotalWidth>_this.thumbOuterWidth){e.preventDefault();startCoords=e.originalEvent.targetTouches[0].pageX;_this.thumbClickable=false;}});_this.core.$outer.find('.lg-thumb').on('touchmove.lg',function(e){if(_this.thumbTotalWidth>_this.thumbOuterWidth){e.preventDefault();endCoords=e.originalEvent.targetTouches[0].pageX;isMoved=true;_this.$thumbOuter.addClass('lg-dragging');tempLeft=_this.left;tempLeft=tempLeft-(endCoords-startCoords);if(tempLeft>(_this.thumbTotalWidth-_this.thumbOuterWidth)){tempLeft=_this.thumbTotalWidth-_this.thumbOuterWidth;}
if(tempLeft<0){tempLeft=0;}
_this.setTranslate(tempLeft);}});_this.core.$outer.find('.lg-thumb').on('touchend.lg',function(){if(_this.thumbTotalWidth>_this.thumbOuterWidth){if(isMoved){isMoved=false;_this.$thumbOuter.removeClass('lg-dragging');if(Math.abs(endCoords-startCoords)<_this.core.s.swipeThreshold){_this.thumbClickable=true;}
_this.left=tempLeft;}else{_this.thumbClickable=true;}}else{_this.thumbClickable=true;}});};Thumbnail.prototype.toogle=function(){var _this=this;if(_this.core.s.toogleThumb){_this.core.$outer.addClass('lg-can-toggle');_this.$thumbOuter.append('<span class="lg-toogle-thumb lg-icon"></span>');_this.core.$outer.find('.lg-toogle-thumb').on('click.lg',function(){_this.core.$outer.toggleClass('lg-thumb-open');});}};Thumbnail.prototype.thumbkeyPress=function(){var _this=this;$(window).on('keydown.lg.thumb',function(e){if(e.keyCode===38){e.preventDefault();_this.core.$outer.addClass('lg-thumb-open');}else if(e.keyCode===40){e.preventDefault();_this.core.$outer.removeClass('lg-thumb-open');}});};Thumbnail.prototype.destroy=function(){if(this.core.s.thumbnail&&this.core.$items.length>1){$(window).off('resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb');this.$thumbOuter.remove();this.core.$outer.removeClass('lg-has-thumb');}};$.fn.lightGallery.modules.Thumbnail=Thumbnail;})(jQuery,window,document);(function($,window,document,undefined){'use strict';var defaults={videoMaxWidth:'855px',youtubePlayerParams:false,vimeoPlayerParams:false,dailymotionPlayerParams:false,vkPlayerParams:false,videojs:false};var Video=function(element){this.core=$(element).data('lightGallery');this.$el=$(element);this.core.s=$.extend({},defaults,this.core.s);this.videoLoaded=false;this.init();return this;};Video.prototype.init=function(){var _this=this;_this.core.$el.on('hasVideo.lg.tm',function(event,index,src,html){_this.core.$slide.eq(index).find('.lg-video').append(_this.loadVideo(src,'lg-object',true,index,html));if(html){if(_this.core.s.videojs){try{videojs(_this.core.$slide.eq(index).find('.lg-html5').get(0),{},function(){if(!_this.videoLoaded){this.play();}});}catch(e){console.error('Make sure you have included videojs');}}else{_this.core.$slide.eq(index).find('.lg-html5').get(0).play();}}});_this.core.$el.on('onAferAppendSlide.lg.tm',function(event,index){_this.core.$slide.eq(index).find('.lg-video-cont').css('max-width',_this.core.s.videoMaxWidth);_this.videoLoaded=true;});var loadOnClick=function($el){if($el.find('.lg-object').hasClass('lg-has-poster')&&$el.find('.lg-object').is(':visible')){if(!$el.hasClass('lg-has-video')){$el.addClass('lg-video-playing lg-has-video');var _src;var _html;var _loadVideo=function(_src,_html){$el.find('.lg-video').append(_this.loadVideo(_src,'',false,_this.core.index,_html));if(_html){if(_this.core.s.videojs){try{videojs(_this.core.$slide.eq(_this.core.index).find('.lg-html5').get(0),{},function(){this.play();});}catch(e){console.error('Make sure you have included videojs');}}else{_this.core.$slide.eq(_this.core.index).find('.lg-html5').get(0).play();}}};if(_this.core.s.dynamic){_src=_this.core.s.dynamicEl[_this.core.index].src;_html=_this.core.s.dynamicEl[_this.core.index].html;_loadVideo(_src,_html);}else{_src=_this.core.$items.eq(_this.core.index).attr('href')||_this.core.$items.eq(_this.core.index).attr('data-src');_html=_this.core.$items.eq(_this.core.index).attr('data-html');_loadVideo(_src,_html);}
var $tempImg=$el.find('.lg-object');$el.find('.lg-video').append($tempImg);if(!$el.find('.lg-video-object').hasClass('lg-html5')){$el.removeClass('lg-complete');$el.find('.lg-video-object').on('load.lg error.lg',function(){$el.addClass('lg-complete');});}}else{var youtubePlayer=$el.find('.lg-youtube').get(0);var vimeoPlayer=$el.find('.lg-vimeo').get(0);var dailymotionPlayer=$el.find('.lg-dailymotion').get(0);var html5Player=$el.find('.lg-html5').get(0);if(youtubePlayer){youtubePlayer.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}','*');}else if(vimeoPlayer){try{$f(vimeoPlayer).api('play');}catch(e){console.error('Make sure you have included froogaloop2 js');}}else if(dailymotionPlayer){dailymotionPlayer.contentWindow.postMessage('play','*');}else if(html5Player){if(_this.core.s.videojs){try{videojs(html5Player).play();}catch(e){console.error('Make sure you have included videojs');}}else{html5Player.play();}}
$el.addClass('lg-video-palying');}}};if(_this.core.doCss()&&_this.core.$items.length>1&&((_this.core.s.enableSwipe&&_this.core.isTouch)||(_this.core.s.enableDrag&&!_this.core.isTouch))){_this.core.$el.on('onSlideClick.lg.tm',function(){var $el=_this.core.$slide.eq(_this.core.index);loadOnClick($el);});}else{_this.core.$slide.on('click.lg',function(){loadOnClick($(this));});}
_this.core.$el.on('onBeforeSlide.lg.tm',function(event,prevIndex,index){var $videoSlide=_this.core.$slide.eq(prevIndex);var youtubePlayer=$videoSlide.find('.lg-youtube').get(0);var vimeoPlayer=$videoSlide.find('.lg-vimeo').get(0);var dailymotionPlayer=$videoSlide.find('.lg-dailymotion').get(0);var vkPlayer=$videoSlide.find('.lg-vk').get(0);var html5Player=$videoSlide.find('.lg-html5').get(0);if(youtubePlayer){youtubePlayer.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}','*');}else if(vimeoPlayer){try{$f(vimeoPlayer).api('pause');}catch(e){console.error('Make sure you have included froogaloop2 js');}}else if(dailymotionPlayer){dailymotionPlayer.contentWindow.postMessage('pause','*');}else if(html5Player){if(_this.core.s.videojs){try{videojs(html5Player).pause();}catch(e){console.error('Make sure you have included videojs');}}else{html5Player.pause();}}if(vkPlayer){$(vkPlayer).attr('src',$(vkPlayer).attr('src').replace('&autoplay','&noplay'));}
var _src;if(_this.core.s.dynamic){_src=_this.core.s.dynamicEl[index].src;}else{_src=_this.core.$items.eq(index).attr('href')||_this.core.$items.eq(index).attr('data-src');}
var _isVideo=_this.core.isVideo(_src,index)||{};if(_isVideo.youtube||_isVideo.vimeo||_isVideo.dailymotion||_isVideo.vk){_this.core.$outer.addClass('lg-hide-download');}});_this.core.$el.on('onAfterSlide.lg.tm',function(event,prevIndex){_this.core.$slide.eq(prevIndex).removeClass('lg-video-palying');});};Video.prototype.loadVideo=function(src,addClass,noposter,index,html){var video='';var autoplay=1;var a='';var isVideo=this.core.isVideo(src,index)||{};if(noposter){if(this.videoLoaded){autoplay=0;}else{autoplay=1;}}
if(isVideo.youtube){a='?wmode=opaque&autoplay='+autoplay+'&enablejsapi=1';if(this.core.s.youtubePlayerParams){a=a+'&'+$.param(this.core.s.youtubePlayerParams);}
video='<iframe class="lg-video-object lg-youtube '+addClass+'" width="560" height="315" src="//www.youtube.com/embed/'+isVideo.youtube[1]+a+'" frameborder="0" allowfullscreen></iframe>';}else if(isVideo.vimeo){a='?autoplay='+autoplay+'&api=1';if(this.core.s.vimeoPlayerParams){a=a+'&'+$.param(this.core.s.vimeoPlayerParams);}
video='<iframe class="lg-video-object lg-vimeo '+addClass+'" width="560" height="315"  src="//player.vimeo.com/video/'+isVideo.vimeo[1]+a+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';}else if(isVideo.dailymotion){a='?wmode=opaque&autoplay='+autoplay+'&api=postMessage';if(this.core.s.dailymotionPlayerParams){a=a+'&'+$.param(this.core.s.dailymotionPlayerParams);}
video='<iframe class="lg-video-object lg-dailymotion '+addClass+'" width="560" height="315" src="//www.dailymotion.com/embed/video/'+isVideo.dailymotion[1]+a+'" frameborder="0" allowfullscreen></iframe>';}else if(isVideo.html5){var fL=html.substring(0,1);if(fL==='.'||fL==='#'){html=$(html).html();}
video=html;}else if(isVideo.vk){a='&autoplay='+autoplay;if(this.core.s.vkPlayerParams){a=a+'&'+$.param(this.core.s.vkPlayerParams);}
video='<iframe class="lg-video-object lg-vk '+addClass+'" width="560" height="315" src="http://vk.com/video_ext.php?'+isVideo.vk[1]+a+'" frameborder="0" allowfullscreen></iframe>';}
return video;};Video.prototype.destroy=function(){this.videoLoaded=false;};$.fn.lightGallery.modules.video=Video;})(jQuery,window,document);(function($,window,document,undefined){'use strict';var defaults={scale:1,zoom:true,enableZoomAfter:300};var Zoom=function(element){this.core=$(element).data('lightGallery');this.core.s=$.extend({},defaults,this.core.s);if(this.core.s.zoom&&this.core.doCss()){this.init();this.zoomabletimeout=false;this.pageX=$(window).width()/2;this.pageY=($(window).height()/2)+$(window).scrollTop();}
return this;};Zoom.prototype.init=function(){var _this=this;var zoomIcons='<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>';this.core.$outer.find('.lg-toolbar').append(zoomIcons);_this.core.$el.on('onSlideItemLoad.lg.tm.zoom',function(event,index,delay){var _speed=_this.core.s.enableZoomAfter+delay;if($('body').hasClass('lg-from-hash')&&delay){_speed=0;}else{$('body').removeClass('lg-from-hash');}
_this.zoomabletimeout=setTimeout(function(){_this.core.$slide.eq(index).addClass('lg-zoomable');},_speed+30);});var scale=1;var zoom=function(scaleVal){var $image=_this.core.$outer.find('.lg-current .lg-image');var _x;var _y;var offsetX=($(window).width()-$image.width())/2;var offsetY=(($(window).height()-$image.height())/2)+$(window).scrollTop();_x=_this.pageX-offsetX;_y=_this.pageY-offsetY;var x=(scaleVal-1)*(_x);var y=(scaleVal-1)*(_y);$image.css('transform','scale3d('+scaleVal+', '+scaleVal+', 1)').attr('data-scale',scaleVal);$image.parent().css('transform','translate3d(-'+x+'px, -'+y+'px, 0)').attr('data-x',x).attr('data-y',y);};var callScale=function(){if(scale>1){_this.core.$outer.addClass('lg-zoomed');}else{_this.resetZoom();}
if(scale<1){scale=1;}
zoom(scale);};var actualSize=function(event,$image,index){var w=$image.width();var nw;if(_this.core.s.dynamic){nw=_this.core.s.dynamicEl[index].width||$image[0].naturalWidth||w;}else{nw=_this.core.$items.eq(index).attr('data-width')||$image[0].naturalWidth||w;}
var _scale;if(_this.core.$outer.hasClass('lg-zoomed')){scale=1;}else{if(nw>w){_scale=nw/w;scale=_scale||2;}}
_this.pageX=event.pageX||event.originalEvent.targetTouches[0].pageX;_this.pageY=event.pageY||event.originalEvent.targetTouches[0].pageY;callScale();setTimeout(function(){_this.core.$outer.removeClass('lg-grabbing').addClass('lg-grab');},10);};var tapped=false;_this.core.$el.on('onAferAppendSlide.lg.tm.zoom',function(event,index){var $image=_this.core.$slide.eq(index).find('.lg-image');$image.on('dblclick',function(event){actualSize(event,$image,index);});$image.on('touchstart',function(event){if(!tapped){tapped=setTimeout(function(){tapped=null;},300);}else{clearTimeout(tapped);tapped=null;actualSize(event,$image,index);}
event.preventDefault();});});$(window).on('resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom',function(){_this.pageX=$(window).width()/2;_this.pageY=($(window).height()/2)+$(window).scrollTop();zoom(scale);});$('#lg-zoom-out').on('click.lg',function(){if(_this.core.$outer.find('.lg-current .lg-image').length){scale-=_this.core.s.scale;callScale();}});$('#lg-zoom-in').on('click.lg',function(){if(_this.core.$outer.find('.lg-current .lg-image').length){scale+=_this.core.s.scale;callScale();}});_this.core.$el.on('onBeforeSlide.lg.tm',function(){scale=1;_this.resetZoom();});if(!_this.core.isTouch){_this.zoomDrag();}
if(_this.core.isTouch){_this.zoomSwipe();}};Zoom.prototype.resetZoom=function(){this.core.$outer.removeClass('lg-zoomed');this.core.$slide.find('.lg-img-wrap').removeAttr('style data-x data-y');this.core.$slide.find('.lg-image').removeAttr('style data-scale');this.pageX=$(window).width()/2;this.pageY=($(window).height()/2)+$(window).scrollTop();};Zoom.prototype.zoomSwipe=function(){var _this=this;var startCoords={};var endCoords={};var isMoved=false;var allowX=false;var allowY=false;_this.core.$slide.on('touchstart.lg',function(e){if(_this.core.$outer.hasClass('lg-zoomed')){var $image=_this.core.$slide.eq(_this.core.index).find('.lg-object');allowY=$image.outerHeight()*$image.attr('data-scale')>_this.core.$outer.find('.lg').height();allowX=$image.outerWidth()*$image.attr('data-scale')>_this.core.$outer.find('.lg').width();if((allowX||allowY)){e.preventDefault();startCoords={x:e.originalEvent.targetTouches[0].pageX,y:e.originalEvent.targetTouches[0].pageY};}}});_this.core.$slide.on('touchmove.lg',function(e){if(_this.core.$outer.hasClass('lg-zoomed')){var _$el=_this.core.$slide.eq(_this.core.index).find('.lg-img-wrap');var distanceX;var distanceY;e.preventDefault();isMoved=true;endCoords={x:e.originalEvent.targetTouches[0].pageX,y:e.originalEvent.targetTouches[0].pageY};_this.core.$outer.addClass('lg-zoom-dragging');if(allowY){distanceY=(-Math.abs(_$el.attr('data-y')))+(endCoords.y-startCoords.y);}else{distanceY=-Math.abs(_$el.attr('data-y'));}
if(allowX){distanceX=(-Math.abs(_$el.attr('data-x')))+(endCoords.x-startCoords.x);}else{distanceX=-Math.abs(_$el.attr('data-x'));}
if((Math.abs(endCoords.x-startCoords.x)>15)||(Math.abs(endCoords.y-startCoords.y)>15)){_$el.css('transform','translate3d('+distanceX+'px, '+distanceY+'px, 0)');}}});_this.core.$slide.on('touchend.lg',function(){if(_this.core.$outer.hasClass('lg-zoomed')){if(isMoved){isMoved=false;_this.core.$outer.removeClass('lg-zoom-dragging');_this.touchendZoom(startCoords,endCoords,allowX,allowY);}}});};Zoom.prototype.zoomDrag=function(){var _this=this;var startCoords={};var endCoords={};var isDraging=false;var isMoved=false;var allowX=false;var allowY=false;_this.core.$slide.on('mousedown.lg.zoom',function(e){var $image=_this.core.$slide.eq(_this.core.index).find('.lg-object');allowY=$image.outerHeight()*$image.attr('data-scale')>_this.core.$outer.find('.lg').height();allowX=$image.outerWidth()*$image.attr('data-scale')>_this.core.$outer.find('.lg').width();if(_this.core.$outer.hasClass('lg-zoomed')){if($(e.target).hasClass('lg-object')&&(allowX||allowY)){e.preventDefault();startCoords={x:e.pageX,y:e.pageY};isDraging=true;_this.core.$outer.scrollLeft+=1;_this.core.$outer.scrollLeft-=1;_this.core.$outer.removeClass('lg-grab').addClass('lg-grabbing');}}});$(window).on('mousemove.lg.zoom',function(e){if(isDraging){var _$el=_this.core.$slide.eq(_this.core.index).find('.lg-img-wrap');var distanceX;var distanceY;isMoved=true;endCoords={x:e.pageX,y:e.pageY};_this.core.$outer.addClass('lg-zoom-dragging');if(allowY){distanceY=(-Math.abs(_$el.attr('data-y')))+(endCoords.y-startCoords.y);}else{distanceY=-Math.abs(_$el.attr('data-y'));}
if(allowX){distanceX=(-Math.abs(_$el.attr('data-x')))+(endCoords.x-startCoords.x);}else{distanceX=-Math.abs(_$el.attr('data-x'));}
_$el.css('transform','translate3d('+distanceX+'px, '+distanceY+'px, 0)');}});$(window).on('mouseup.lg.zoom',function(e){if(isDraging){isDraging=false;_this.core.$outer.removeClass('lg-zoom-dragging');if(isMoved&&((startCoords.x!==endCoords.x)||(startCoords.y!==endCoords.y))){endCoords={x:e.pageX,y:e.pageY};_this.touchendZoom(startCoords,endCoords,allowX,allowY);}
isMoved=false;}
_this.core.$outer.removeClass('lg-grabbing').addClass('lg-grab');});};Zoom.prototype.touchendZoom=function(startCoords,endCoords,allowX,allowY){var _this=this;var _$el=_this.core.$slide.eq(_this.core.index).find('.lg-img-wrap');var $image=_this.core.$slide.eq(_this.core.index).find('.lg-object');var distanceX=(-Math.abs(_$el.attr('data-x')))+(endCoords.x-startCoords.x);var distanceY=(-Math.abs(_$el.attr('data-y')))+(endCoords.y-startCoords.y);var minY=(_this.core.$outer.find('.lg').height()-$image.outerHeight())/2;var maxY=Math.abs(($image.outerHeight()*Math.abs($image.attr('data-scale')))-_this.core.$outer.find('.lg').height()+minY);var minX=(_this.core.$outer.find('.lg').width()-$image.outerWidth())/2;var maxX=Math.abs(($image.outerWidth()*Math.abs($image.attr('data-scale')))-_this.core.$outer.find('.lg').width()+minX);if((Math.abs(endCoords.x-startCoords.x)>15)||(Math.abs(endCoords.y-startCoords.y)>15)){if(allowY){if(distanceY<=-maxY){distanceY=-maxY;}else if(distanceY>=-minY){distanceY=-minY;}}
if(allowX){if(distanceX<=-maxX){distanceX=-maxX;}else if(distanceX>=-minX){distanceX=-minX;}}
if(allowY){_$el.attr('data-y',Math.abs(distanceY));}else{distanceY=-Math.abs(_$el.attr('data-y'));}
if(allowX){_$el.attr('data-x',Math.abs(distanceX));}else{distanceX=-Math.abs(_$el.attr('data-x'));}
_$el.css('transform','translate3d('+distanceX+'px, '+distanceY+'px, 0)');}};Zoom.prototype.destroy=function(){var _this=this;_this.core.$el.off('.lg.zoom');$(window).off('.lg.zoom');_this.core.$slide.off('.lg.zoom');_this.core.$el.off('.lg.tm.zoom');_this.resetZoom();clearTimeout(_this.zoomabletimeout);_this.zoomabletimeout=false;};$.fn.lightGallery.modules.zoom=Zoom;})(jQuery,window,document);(function($,window,document,undefined){'use strict';var defaults={hash:true};var Hash=function(element){this.core=$(element).data('lightGallery');this.core.s=$.extend({},defaults,this.core.s);if(this.core.s.hash){this.oldHash=window.location.hash;this.init();}
return this;};Hash.prototype.init=function(){var _this=this;var _hash;_this.core.$el.on('onAfterSlide.lg.tm',function(event,prevIndex,index){window.location.hash='lg='+_this.core.s.galleryId+'&slide='+index;});$(window).on('hashchange',function(){_hash=window.location.hash;var _idx=parseInt(_hash.split('&slide=')[1],10);if((_hash.indexOf('lg='+_this.core.s.galleryId)>-1)){_this.core.slide(_idx);}else if(_this.core.lGalleryOn){_this.core.destroy();}});};Hash.prototype.destroy=function(){if(this.oldHash&&this.oldHash.indexOf('lg='+this.core.s.galleryId)<0){window.location.hash=this.oldHash;}else{if(history.pushState){history.pushState('',document.title,window.location.pathname+window.location.search);}else{window.location.hash='';}}};$.fn.lightGallery.modules.hash=Hash;})(jQuery,window,document);/*!
* Justified Gallery - v3.6.1
* http://miromannino.github.io/Justified-Gallery/
* Copyright (c) 2015 Miro Mannino
* Licensed under the MIT license.
*/(function($){var JustifiedGallery=function($gallery,settings){this.settings=settings;this.checkSettings();this.imgAnalyzerTimeout=null;this.entries=null;this.buildingRow={entriesBuff:[],width:0,height:0,aspectRatio:0};this.lastAnalyzedIndex=-1;this.yield={every:2,flushed:0};this.border=settings.border>=0?settings.border:settings.margins;this.maxRowHeight=this.retrieveMaxRowHeight();this.suffixRanges=this.retrieveSuffixRanges();this.offY=this.border;this.spinner={phase:0,timeSlot:150,$el:$('<div class="spinner"><span></span><span></span><span></span></div>'),intervalId:null};this.checkWidthIntervalId=null;this.galleryWidth=$gallery.width();this.$gallery=$gallery;this.quomodoRowHeight=null;};JustifiedGallery.prototype.getSuffix=function(width,height){var longestSide,i;longestSide=(width>height)?width:height;for(i=0;i<this.suffixRanges.length;i++){if(longestSide<=this.suffixRanges[i]){return this.settings.sizeRangeSuffixes[this.suffixRanges[i]];}}
return this.settings.sizeRangeSuffixes[this.suffixRanges[i-1]];};JustifiedGallery.prototype.removeSuffix=function(str,suffix){return str.substring(0,str.length-suffix.length);};JustifiedGallery.prototype.endsWith=function(str,suffix){return str.indexOf(suffix,str.length-suffix.length)!==-1;};JustifiedGallery.prototype.getUsedSuffix=function(str){for(var si in this.settings.sizeRangeSuffixes){if(this.settings.sizeRangeSuffixes.hasOwnProperty(si)){if(this.settings.sizeRangeSuffixes[si].length===0)continue;if(this.endsWith(str,this.settings.sizeRangeSuffixes[si]))return this.settings.sizeRangeSuffixes[si];}}
return '';};JustifiedGallery.prototype.newSrc=function(imageSrc,imgWidth,imgHeight){var newImageSrc;if(this.settings.thumbnailPath){newImageSrc=this.settings.thumbnailPath(imageSrc,imgWidth,imgHeight);}else{var matchRes=imageSrc.match(this.settings.extension);var ext=(matchRes!==null)?matchRes[0]:'';newImageSrc=imageSrc.replace(this.settings.extension,'');newImageSrc=this.removeSuffix(newImageSrc,this.getUsedSuffix(newImageSrc));newImageSrc+=this.getSuffix(imgWidth,imgHeight)+ext;}
return newImageSrc;};JustifiedGallery.prototype.showImg=function($entry,callback){if(this.settings.cssAnimation){$entry.addClass('entry-visible');if(callback)callback();}else{$entry.stop().fadeTo(this.settings.imagesAnimationDuration,1.0,callback);}};JustifiedGallery.prototype.extractImgSrcFromImage=function($image){var imageSrc=(typeof $image.data('safe-src')!=='undefined')?$image.data('safe-src'):$image.attr('src');$image.data('jg.originalSrc',imageSrc);return imageSrc;};JustifiedGallery.prototype.imgFromEntry=function($entry){var $img=$entry.find('> img');if($img.length===0)$img=$entry.find('> a > img');return $img.length===0?null:$img;};JustifiedGallery.prototype.captionFromEntry=function($entry){var $caption=$entry.find('> .caption');return $caption.length===0?null:$caption;};JustifiedGallery.prototype.displayEntry=function($entry,x,y,imgWidth,imgHeight,rowHeight){$entry.width(imgWidth);$entry.height(rowHeight);$entry.css('top',y);$entry.css('left',x);var $image=this.imgFromEntry($entry);if($image!==null){$image.css('width',imgWidth);$image.css('height',imgHeight);$image.css('margin-left',-imgWidth/2);$image.css('margin-top',-imgHeight/2);var imageSrc=$image.attr('src');var newImageSrc=this.newSrc(imageSrc,imgWidth,imgHeight);$image.one('error',function(){$image.attr('src',$image.data('jg.originalSrc'));});var loadNewImage=function(){if(imageSrc!==newImageSrc){$image.attr('src',newImageSrc);}};if($entry.data('jg.loaded')==='skipped'){this.onImageEvent(imageSrc,$.proxy(function(){this.showImg($entry,loadNewImage);$entry.data('jg.loaded',true);},this));}else{this.showImg($entry,loadNewImage);}}else{this.showImg($entry);}
this.displayEntryCaption($entry);};JustifiedGallery.prototype.displayEntryCaption=function($entry){var $image=this.imgFromEntry($entry);if($image!==null&&this.settings.captions){var $imgCaption=this.captionFromEntry($entry);if($imgCaption===null){var caption=$image.attr('alt');if(!this.isValidCaption(caption))caption=$entry.attr('title');if(this.isValidCaption(caption)){$imgCaption=$('<div class="caption">'+caption+'</div>');$entry.append($imgCaption);$entry.data('jg.createdCaption',true);}}
if($imgCaption!==null){if(!this.settings.cssAnimation)$imgCaption.stop().fadeTo(0,this.settings.captionSettings.nonVisibleOpacity);this.addCaptionEventsHandlers($entry);}}else{this.removeCaptionEventsHandlers($entry);}};JustifiedGallery.prototype.isValidCaption=function(caption){return(typeof caption!=='undefined'&&caption.length>0);};JustifiedGallery.prototype.onEntryMouseEnterForCaption=function(eventObject){var $caption=this.captionFromEntry($(eventObject.currentTarget));if(this.settings.cssAnimation){$caption.addClass('caption-visible').removeClass('caption-hidden');}else{$caption.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.visibleOpacity);}};JustifiedGallery.prototype.onEntryMouseLeaveForCaption=function(eventObject){var $caption=this.captionFromEntry($(eventObject.currentTarget));if(this.settings.cssAnimation){$caption.removeClass('caption-visible').removeClass('caption-hidden');}else{$caption.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.nonVisibleOpacity);}};JustifiedGallery.prototype.addCaptionEventsHandlers=function($entry){var captionMouseEvents=$entry.data('jg.captionMouseEvents');if(typeof captionMouseEvents==='undefined'){captionMouseEvents={mouseenter:$.proxy(this.onEntryMouseEnterForCaption,this),mouseleave:$.proxy(this.onEntryMouseLeaveForCaption,this)};$entry.on('mouseenter',undefined,undefined,captionMouseEvents.mouseenter);$entry.on('mouseleave',undefined,undefined,captionMouseEvents.mouseleave);$entry.data('jg.captionMouseEvents',captionMouseEvents);}};JustifiedGallery.prototype.removeCaptionEventsHandlers=function($entry){var captionMouseEvents=$entry.data('jg.captionMouseEvents');if(typeof captionMouseEvents!=='undefined'){$entry.off('mouseenter',undefined,captionMouseEvents.mouseenter);$entry.off('mouseleave',undefined,captionMouseEvents.mouseleave);$entry.removeData('jg.captionMouseEvents');}};JustifiedGallery.prototype.prepareBuildingRow=function(isLastRow){var i,$entry,imgAspectRatio,newImgW,newImgH,justify=true;var minHeight=0;var availableWidth=this.galleryWidth-2*this.border-((this.buildingRow.entriesBuff.length-1)*this.settings.margins);var rowHeight;if(this.settings.quomodoFixedWidth&&this.quomodoRowHeight)rowHeight=this.quomodoRowHeight;else{rowHeight=availableWidth/this.buildingRow.aspectRatio;if(this.settings.quomodoFixedWidth&&!this.quomodoRowHeight)this.quomodoRowHeight=rowHeight;}
var justifiable=this.buildingRow.width/availableWidth>this.settings.justifyThreshold;if(isLastRow&&this.settings.lastRow==='hide'&&!justifiable){for(i=0;i<this.buildingRow.entriesBuff.length;i++){$entry=this.buildingRow.entriesBuff[i];if(this.settings.cssAnimation)
$entry.removeClass('entry-visible');else
$entry.stop().fadeTo(0,0);}
return-1;}
if(isLastRow&&!this.quomodoRowHeight&&!justifiable&&this.settings.lastRow!=='justify'&&this.settings.lastRow!=='hide')justify=false;for(i=0;i<this.buildingRow.entriesBuff.length;i++){$entry=this.buildingRow.entriesBuff[i];imgAspectRatio=$entry.data('jg.width')/$entry.data('jg.height');if(justify||this.settings.quomodoFixedWidth){if(!isLastRow||!this.settings.quomodoFixedWidth)newImgW=(i===this.buildingRow.entriesBuff.length-1)?availableWidth:rowHeight*imgAspectRatio;else newImgW=(Math.abs(rowHeight*imgAspectRatio-availableWidth)<0.2*rowHeight*imgAspectRatio)?availableWidth:rowHeight*imgAspectRatio;newImgH=rowHeight;}else{newImgW=this.settings.rowHeight*imgAspectRatio;newImgH=this.settings.rowHeight;}
availableWidth-=Math.round(newImgW);$entry.data('jg.jwidth',Math.round(newImgW));$entry.data('jg.jheight',Math.ceil(newImgH));if(i===0||minHeight>newImgH)minHeight=newImgH;}
if(this.settings.fixedHeight&&minHeight>this.settings.rowHeight)
minHeight=this.settings.rowHeight;this.buildingRow.height=minHeight;return justify;};JustifiedGallery.prototype.clearBuildingRow=function(){this.buildingRow.entriesBuff=[];this.buildingRow.aspectRatio=0;this.buildingRow.width=0;};JustifiedGallery.prototype.flushRow=function(isLastRow){var settings=this.settings;var $entry,buildingRowRes,offX=this.border,i;buildingRowRes=this.prepareBuildingRow(isLastRow);if(isLastRow&&settings.lastRow==='hide'&&this.buildingRow.height===-1){this.clearBuildingRow();return;}
if(this.maxRowHeight.isPercentage){if(this.maxRowHeight.value*settings.rowHeight<this.buildingRow.height){this.buildingRow.height=this.maxRowHeight.value*settings.rowHeight;}}else{if(this.maxRowHeight.value>0&&this.maxRowHeight.value<this.buildingRow.height){this.buildingRow.height=this.maxRowHeight.value;}}
if(settings.lastRow==='center'||settings.lastRow==='right'){var availableWidth=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*settings.margins;for(i=0;i<this.buildingRow.entriesBuff.length;i++){$entry=this.buildingRow.entriesBuff[i];availableWidth-=$entry.data('jg.jwidth');}
if(settings.lastRow==='center')
offX+=availableWidth/2;else if(settings.lastRow==='right')
offX+=availableWidth;}
for(i=0;i<this.buildingRow.entriesBuff.length;i++){$entry=this.buildingRow.entriesBuff[i];this.displayEntry($entry,offX,this.offY,$entry.data('jg.jwidth'),$entry.data('jg.jheight'),this.buildingRow.height);offX+=$entry.data('jg.jwidth')+settings.margins;}
if(!this.settings.pagination||this.buildingPagination.pageIndex==0){this.$gallery.height(this.offY+this.buildingRow.height+
this.border+(this.isSpinnerActive()?this.getSpinnerHeight():0));}
if(!isLastRow||(this.buildingRow.height<=settings.rowHeight&&buildingRowRes)){this.offY+=this.buildingRow.height+settings.margins;this.clearBuildingRow();this.$gallery.trigger('jg.rowflush');}};JustifiedGallery.prototype.checkWidth=function(){if(this.settings.noAutoWidth){var galleryWidth=parseFloat(this.$gallery.width());this.galleryWidth=galleryWidth;this.rewind();this.startImgAnalyzer(true);return;}
this.checkWidthIntervalId=setInterval($.proxy(function(){var galleryWidth=parseFloat(this.$gallery.width());if(Math.abs(galleryWidth-this.galleryWidth)>this.settings.refreshSensitivity){this.galleryWidth=galleryWidth;this.rewind();this.startImgAnalyzer(true);}},this),this.settings.refreshTime);};JustifiedGallery.prototype.isSpinnerActive=function(){return this.spinner.intervalId!==null;};JustifiedGallery.prototype.getSpinnerHeight=function(){return this.spinner.$el.innerHeight();};JustifiedGallery.prototype.stopLoadingSpinnerAnimation=function(){clearInterval(this.spinner.intervalId);this.spinner.intervalId=null;this.$gallery.height(this.$gallery.height()-this.getSpinnerHeight());this.spinner.$el.detach();};JustifiedGallery.prototype.startLoadingSpinnerAnimation=function(){var spinnerContext=this.spinner;var $spinnerPoints=spinnerContext.$el.find('span');clearInterval(spinnerContext.intervalId);this.$gallery.append(spinnerContext.$el);this.$gallery.height(this.offY+this.buildingRow.height+this.getSpinnerHeight());spinnerContext.intervalId=setInterval(function(){if(spinnerContext.phase<$spinnerPoints.length){$spinnerPoints.eq(spinnerContext.phase).fadeTo(spinnerContext.timeSlot,1);}else{$spinnerPoints.eq(spinnerContext.phase-$spinnerPoints.length).fadeTo(spinnerContext.timeSlot,0);}
spinnerContext.phase=(spinnerContext.phase+1)%($spinnerPoints.length*2);},spinnerContext.timeSlot);};JustifiedGallery.prototype.rewind=function(){this.lastAnalyzedIndex=-1;this.offY=this.border;this.clearBuildingRow();};JustifiedGallery.prototype.updateEntries=function(norewind){this.entries=this.$gallery.find(this.settings.selector).toArray();if(this.entries.length===0)return false;if(this.settings.filter){this.modifyEntries(this.filterArray,norewind);}else{this.modifyEntries(this.resetFilters,norewind);}
if($.isFunction(this.settings.sort)){this.modifyEntries(this.sortArray,norewind);}else if(this.settings.randomize){this.modifyEntries(this.shuffleArray,norewind);}
return true;};JustifiedGallery.prototype.insertToGallery=function(entries){var that=this;$.each(entries,function(){$(this).appendTo(that.$gallery);});};JustifiedGallery.prototype.shuffleArray=function(a){var i,j,temp;for(i=a.length-1;i>0;i--){j=Math.floor(Math.random()*(i+1));temp=a[i];a[i]=a[j];a[j]=temp;}
this.insertToGallery(a);return a;};JustifiedGallery.prototype.sortArray=function(a){a.sort(this.settings.sort);this.insertToGallery(a);return a;};JustifiedGallery.prototype.resetFilters=function(a){for(var i=0;i<a.length;i++)$(a[i]).removeClass('jg-filtered');return a;};JustifiedGallery.prototype.filterArray=function(a){var settings=this.settings;if($.type(settings.filter)==='string'){return a.filter(function(el){var $el=$(el);if($el.is(settings.filter)){$el.removeClass('jg-filtered');return true;}else{$el.addClass('jg-filtered');return false;}});}else if($.isFunction(settings.filter)){return a.filter(settings.filter);}};JustifiedGallery.prototype.modifyEntries=function(functionToApply,norewind){var lastEntries=norewind?this.entries.splice(this.lastAnalyzedIndex+1,this.entries.length-this.lastAnalyzedIndex-1):this.entries;lastEntries=functionToApply.call(this,lastEntries);this.entries=norewind?this.entries.concat(lastEntries):lastEntries;};JustifiedGallery.prototype.destroy=function(){clearInterval(this.checkWidthIntervalId);$.each(this.entries,$.proxy(function(_,entry){var $entry=$(entry);$entry.css('width','');$entry.css('height','');$entry.css('top','');$entry.css('left','');$entry.data('jg.loaded',undefined);$entry.removeClass('jg-entry');var $img=this.imgFromEntry($entry);$img.css('width','');$img.css('height','');$img.css('margin-left','');$img.css('margin-top','');$img.attr('src',$img.data('jg.originalSrc'));$img.data('jg.originalSrc',undefined);this.removeCaptionEventsHandlers($entry);var $caption=this.captionFromEntry($entry);if($entry.data('jg.createdCaption')){$entry.data('jg.createdCaption',undefined);if($caption!==null)$caption.remove();}else{if($caption!==null)$caption.fadeTo(0,1);}},this));this.$gallery.css('height','');this.$gallery.removeClass('justified-gallery');this.$gallery.data('jg.controller',undefined);};JustifiedGallery.prototype.analyzeImages=function(isForResize){if(this.settings.pagination&&this.lastAnalyzedIndex==-1){this.$gallery.parent().find(".photoboxes2_swiper").hide();this.$gallery.removeClass("swiper-container swiper-container-horizontal").addClass("list-unstyled justified-gallery");if(this.$gallery.data("swiper")){this.$gallery.data("swiper").destroy(true,true);this.$gallery.removeData("swiper");}
if(this.$gallery.find(".swiper-wrapper").length>0){for(var i=0;i<this.entries.length;i++){var $entry=$(this.entries[i]);$entry.appendTo(this.$gallery);}
this.$gallery.find(".swiper-wrapper").remove();}
if(!this.buildingPagination)this.buildingPagination={};this.buildingPagination.pagesBuff=[];this.buildingPagination.pageIndex=0;this.buildingPagination.pagesBuff.push([]);this.buildingPagination.cols=null;this.buildingPagination.rows=0;}
var _this=this;for(var i=this.lastAnalyzedIndex+1;i<this.entries.length;i++){var $entry=$(this.entries[i]);if($entry.data('jg.loaded')===true||$entry.data('jg.loaded')==='skipped'){var availableWidth=this.galleryWidth-2*this.border-((this.buildingRow.entriesBuff.length-1)*this.settings.margins);var imgAspectRatio=$entry.data('jg.width')/$entry.data('jg.height');var bRowBreak=(function(){if(window.qsn_responsive_mod&&qsn_responsive_mod()=="xs"){var perRowXS=_this.settings.perRowXS;if(!perRowXS)return availableWidth/(_this.buildingRow.aspectRatio+imgAspectRatio)<_this.settings.rowHeight;if(i==0)return false;return(i%perRowXS)==0;}
var perRow=_this.settings.perRow;if(!perRow)return availableWidth/(_this.buildingRow.aspectRatio+imgAspectRatio)<_this.settings.rowHeight;if(i==0)return false;return(i%perRow)==0;})();if(bRowBreak&&!this.yield.restarted){var ncols=this.buildingRow.entriesBuff.length;this.flushRow(false);if(this.settings.pagination){if(this.buildingPagination.cols==null)this.buildingPagination.cols=ncols;this.buildingPagination.rows++;if(this.buildingPagination.rows==this.buildingPagination.cols){this.buildingPagination.pageIndex++;this.buildingPagination.rows=0;this.offY=this.border;}}
if(++this.yield.flushed>=this.yield.every){this.yield.restarted=true;this.startImgAnalyzer(isForResize);return;}}
this.yield.restarted=false;this.buildingRow.entriesBuff.push($entry);if(this.settings.pagination){if(!this.buildingPagination.pagesBuff[this.buildingPagination.pageIndex])this.buildingPagination.pagesBuff.push([]);this.buildingPagination.pagesBuff[this.buildingPagination.pageIndex].push($entry);}
this.buildingRow.aspectRatio+=imgAspectRatio;this.buildingRow.width+=imgAspectRatio*this.settings.rowHeight;this.lastAnalyzedIndex=i;}else if($entry.data('jg.loaded')!=='error'){return;}}
if(this.buildingRow.entriesBuff.length>0){if(this.settings.perRow)this.flushRow(false);else this.flushRow(true);}
if(this.settings.pagination&&this.buildingPagination.pagesBuff.length>1){var h=this.$gallery.height()-(this.isSpinnerActive()?this.getSpinnerHeight():0);this.$gallery.removeClass("list-unstyled justified-gallery").addClass("swiper-container swiper-container-horizontal").css("height","").width(this.galleryWidth);var $wrapper=$('<div class="swiper-wrapper"></div>').appendTo(this.$gallery);for(var i=0;i<this.buildingPagination.pagesBuff.length;i++){var $swiper=$('<div class="swiper-slide"><div class="justified-gallery list-unstyled"></div></div>').appendTo($wrapper);var $target=$swiper.find(".justified-gallery");$target.height(h).width(this.galleryWidth);$swiper.height(h).width(this.galleryWidth);for(var j=0;j<this.buildingPagination.pagesBuff[i].length;j++){this.buildingPagination.pagesBuff[i][j].appendTo($target);}}
this.$gallery.find(".swiper-slide").height(h).width(this.galleryWidth);this.$gallery.parent().find(".photoboxes2_swiper").show();var noteid=this.$gallery.parents(".note").attr("id");var gallery=new Swiper("#"+noteid+" .swiper-container",{"direction":'horizontal',"autoHeight":false,"nextButton":'#'+noteid+' .swiper-button-next2',"prevButton":'#'+noteid+' .swiper-button-prev2',"setWrapperSize":true,"centeredSlides":true,"slidesPerView":1,"slideToClickedSlide":true,"autoplay":undefined,"autoplayDisableOnInteraction":false,"autoplayStopOnLast":false,"pagination":"#"+noteid+" .swiper-pagination","paginationType":"fraction","paginationHide":false,"paginationClickable":true,"paginationWrapperClass":"rpd-p3 rpd-funcolor","initialSlide":0});this.$gallery.data("swiper",gallery);}
if(this.isSpinnerActive()){this.stopLoadingSpinnerAnimation();}
this.stopImgAnalyzerStarter();this.quomodoRowHeight=null;this.$gallery.trigger(isForResize?'jg.resize':'jg.complete');};JustifiedGallery.prototype.stopImgAnalyzerStarter=function(){this.yield.flushed=0;if(this.imgAnalyzerTimeout!==null)clearTimeout(this.imgAnalyzerTimeout);};JustifiedGallery.prototype.startImgAnalyzer=function(isForResize){var that=this;this.stopImgAnalyzerStarter();this.imgAnalyzerTimeout=setTimeout(function(){if(window.qsn_responsive_mod&&that.settings.noteid){if(!that.settings.rowHeight_md)that.settings.rowHeight_md=that.settings.rowHeight;if(qsn_responsive_mod()=="sm")that.settings.rowHeight=Math.round(that.settings.rowHeight_md*devicesDef.sm.contentWidth/devicesDef.md.contentWidth);else if(qsn_responsive_mod()=="lg")that.settings.rowHeight=Math.round(that.settings.rowHeight_md*devicesDef.lg.contentWidth/devicesDef.md.contentWidth);else that.settings.rowHeight=that.settings.rowHeight_md;}
that.analyzeImages(isForResize);},0.001);};JustifiedGallery.prototype.onImageEvent=function(imageSrc,onLoad,onError){if(!onLoad&&!onError)return;var memImage=new Image();var $memImage=$(memImage);if(onLoad){$memImage.one('load',function(){$memImage.off('load error');onLoad(memImage);});}
if(onError){$memImage.one('error',function(){$memImage.off('load error');onError(memImage);});}
memImage.src=imageSrc;};JustifiedGallery.prototype.init=function(){var imagesToLoad=false,skippedImages=false,that=this;$.each(this.entries,function(index,entry){var $entry=$(entry);var $image=that.imgFromEntry($entry);$entry.addClass('jg-entry');if($entry.data('jg.loaded')!==true&&$entry.data('jg.loaded')!=='skipped'){if(that.settings.rel!==null)$entry.attr('rel',that.settings.rel);if(that.settings.target!==null)$entry.attr('target',that.settings.target);if($image!==null){var imageSrc=that.extractImgSrcFromImage($image);$image.attr('src',imageSrc);if(that.settings.waitThumbnailsLoad===false){var width=parseFloat($image.attr('width'));var height=parseFloat($image.attr('height'));if(!isNaN(width)&&!isNaN(height)){$entry.data('jg.width',width);$entry.data('jg.height',height);$entry.data('jg.loaded','skipped');skippedImages=true;that.startImgAnalyzer(false);return true;}}
$entry.data('jg.loaded',false);imagesToLoad=true;if(!that.isSpinnerActive())that.startLoadingSpinnerAnimation();that.onImageEvent(imageSrc,function(loadImg){$entry.data('jg.width',loadImg.width);$entry.data('jg.height',loadImg.height);$entry.data('jg.loaded',true);that.startImgAnalyzer(false);},function(){$entry.data('jg.loaded','error');that.startImgAnalyzer(false);});}else{$entry.data('jg.loaded',true);$entry.data('jg.width',$entry.width()|parseFloat($entry.css('width'))|1);$entry.data('jg.height',$entry.height()|parseFloat($entry.css('height'))|1);}}});if(!imagesToLoad&&!skippedImages)this.startImgAnalyzer(false);this.checkWidth();};JustifiedGallery.prototype.checkOrConvertNumber=function(settingContainer,settingName){if($.type(settingContainer[settingName])==='string'){settingContainer[settingName]=parseFloat(settingContainer[settingName]);}
if($.type(settingContainer[settingName])==='number'){if(isNaN(settingContainer[settingName]))throw 'invalid number for '+settingName;}else{throw settingName+' must be a number';}};JustifiedGallery.prototype.checkSizeRangesSuffixes=function(){if($.type(this.settings.sizeRangeSuffixes)!=='object'){throw 'sizeRangeSuffixes must be defined and must be an object';}
var suffixRanges=[];for(var rangeIdx in this.settings.sizeRangeSuffixes){if(this.settings.sizeRangeSuffixes.hasOwnProperty(rangeIdx))suffixRanges.push(rangeIdx);}
var newSizeRngSuffixes={0:''};for(var i=0;i<suffixRanges.length;i++){if($.type(suffixRanges[i])==='string'){try{var numIdx=parseInt(suffixRanges[i].replace(/^[a-z]+/,''),10);newSizeRngSuffixes[numIdx]=this.settings.sizeRangeSuffixes[suffixRanges[i]];}catch(e){throw 'sizeRangeSuffixes keys must contains correct numbers ('+e+')';}}else{newSizeRngSuffixes[suffixRanges[i]]=this.settings.sizeRangeSuffixes[suffixRanges[i]];}}
this.settings.sizeRangeSuffixes=newSizeRngSuffixes;};JustifiedGallery.prototype.retrieveMaxRowHeight=function(){var newMaxRowHeight={};if($.type(this.settings.maxRowHeight)==='string'){if(this.settings.maxRowHeight.match(/^[0-9]+%$/)){newMaxRowHeight.value=parseFloat(this.settings.maxRowHeight.match(/^([0-9]+)%$/)[1])/100;newMaxRowHeight.isPercentage=false;}else{newMaxRowHeight.value=parseFloat(this.settings.maxRowHeight);newMaxRowHeight.isPercentage=true;}}else if($.type(this.settings.maxRowHeight)==='number'){newMaxRowHeight.value=this.settings.maxRowHeight;newMaxRowHeight.isPercentage=false;}else{throw 'maxRowHeight must be a number or a percentage';}
if(isNaN(newMaxRowHeight.value))throw 'invalid number for maxRowHeight';if(newMaxRowHeight.isPercentage){if(newMaxRowHeight.value<100)newMaxRowHeight.value=100;}else{if(newMaxRowHeight.value>0&&newMaxRowHeight.value<this.settings.rowHeight){newMaxRowHeight.value=this.settings.rowHeight;}}
return newMaxRowHeight;};JustifiedGallery.prototype.checkSettings=function(){this.checkSizeRangesSuffixes();this.checkOrConvertNumber(this.settings,'rowHeight');this.checkOrConvertNumber(this.settings,'margins');this.checkOrConvertNumber(this.settings,'border');if(this.settings.lastRow!=='justify'&&this.settings.lastRow!=='nojustify'&&this.settings.lastRow!=='left'&&this.settings.lastRow!=='center'&&this.settings.lastRow!=='right'&&this.settings.lastRow!=='hide'){throw 'lastRow must be "justify", "nojustify", "left", "center", "right" or "hide"';}
this.checkOrConvertNumber(this.settings,'justifyThreshold');if(this.settings.justifyThreshold<0||this.settings.justifyThreshold>1){throw 'justifyThreshold must be in the interval [0,1]';}
if($.type(this.settings.cssAnimation)!=='boolean'){throw 'cssAnimation must be a boolean';}
if($.type(this.settings.captions)!=='boolean')throw 'captions must be a boolean';this.checkOrConvertNumber(this.settings.captionSettings,'animationDuration');this.checkOrConvertNumber(this.settings.captionSettings,'visibleOpacity');if(this.settings.captionSettings.visibleOpacity<0||this.settings.captionSettings.visibleOpacity>1){throw 'captionSettings.visibleOpacity must be in the interval [0, 1]';}
this.checkOrConvertNumber(this.settings.captionSettings,'nonVisibleOpacity');if(this.settings.captionSettings.nonVisibleOpacity<0||this.settings.captionSettings.nonVisibleOpacity>1){throw 'captionSettings.nonVisibleOpacity must be in the interval [0, 1]';}
if($.type(this.settings.fixedHeight)!=='boolean')throw 'fixedHeight must be a boolean';this.checkOrConvertNumber(this.settings,'imagesAnimationDuration');this.checkOrConvertNumber(this.settings,'refreshTime');this.checkOrConvertNumber(this.settings,'refreshSensitivity');if($.type(this.settings.randomize)!=='boolean')throw 'randomize must be a boolean';if($.type(this.settings.selector)!=='string')throw 'selector must be a string';if(this.settings.sort!==false&&!$.isFunction(this.settings.sort)){throw 'sort must be false or a comparison function';}
if(this.settings.filter!==false&&!$.isFunction(this.settings.filter)&&$.type(this.settings.filter)!=='string'){throw 'filter must be false, a string or a filter function';}};JustifiedGallery.prototype.retrieveSuffixRanges=function(){var suffixRanges=[];for(var rangeIdx in this.settings.sizeRangeSuffixes){if(this.settings.sizeRangeSuffixes.hasOwnProperty(rangeIdx))suffixRanges.push(parseInt(rangeIdx,10));}
suffixRanges.sort(function(a,b){return a>b?1:a<b?-1:0;});return suffixRanges;};JustifiedGallery.prototype.updateSettings=function(newSettings){this.settings=$.extend({},this.settings,newSettings);this.checkSettings();this.border=this.settings.border>=0?this.settings.border:this.settings.margins;this.maxRowHeight=this.retrieveMaxRowHeight();this.suffixRanges=this.retrieveSuffixRanges();};$.fn.justifiedGallery=function(arg){return this.each(function(index,gallery){var $gallery=$(gallery);$gallery.addClass('justified-gallery');var controller=$gallery.data('jg.controller');if(typeof controller==='undefined'){if(typeof arg!=='undefined'&&arg!==null&&$.type(arg)!=='object'){if(arg==='destroy')return;throw 'The argument must be an object';}
controller=new JustifiedGallery($gallery,$.extend({},$.fn.justifiedGallery.defaults,arg));$gallery.data('jg.controller',controller);}else if(arg==='norewind'){}else if(arg==='destroy'){controller.destroy();return;}else{controller.updateSettings(arg);controller.rewind();}
if(!controller.updateEntries(arg==='norewind'))return;controller.init();});};$.fn.justifiedGallery.defaults={sizeRangeSuffixes:{},thumbnailPath:undefined,rowHeight:120,maxRowHeight:-1,margins:1,border:-1,lastRow:'nojustify',justifyThreshold:0.75,fixedHeight:false,waitThumbnailsLoad:true,captions:true,cssAnimation:false,imagesAnimationDuration:500,captionSettings:{animationDuration:500,visibleOpacity:0.7,nonVisibleOpacity:0.0},rel:null,target:null,extension:/\.[^.\\/]+$/,refreshTime:200,refreshSensitivity:0,randomize:false,sort:false,filter:false,selector:'> a, > div:not(.spinner)'};}(jQuery));;(function($,window,document){var pluginName="tooltipster",defaults={animation:'fade',arrow:true,arrowColor:'',autoClose:true,content:null,contentAsHTML:false,contentCloning:true,debug:true,delay:200,minWidth:0,maxWidth:null,functionInit:function(origin,content){},functionBefore:function(origin,continueTooltip){continueTooltip();},functionReady:function(origin,tooltip){},functionAfter:function(origin){},hideOnClick:false,icon:'(?)',iconCloning:true,iconDesktop:false,iconTouch:false,iconTheme:'tooltipster-icon',interactive:false,interactiveTolerance:350,multiple:false,offsetX:0,offsetY:0,onlyOne:false,position:'top',positionTracker:false,positionTrackerCallback:function(origin){if(this.option('trigger')=='hover'&&this.option('autoClose')){this.hide();}},restoration:'current',speed:350,timer:0,theme:'tooltipster-default',touchDevices:true,trigger:'hover',updateAnimation:true};function Plugin(element,options){this.bodyOverflowX;this.callbacks={hide:[],show:[]};this.checkInterval=null;this.Content;this.$el=$(element);this.$elProxy;this.elProxyPosition;this.enabled=true;this.options=$.extend({},defaults,options);this.mouseIsOverProxy=false;this.namespace='tooltipster-'+Math.round(Math.random()*100000);this.Status='hidden';this.timerHide=null;this.timerShow=null;this.$tooltip;this.options.iconTheme=this.options.iconTheme.replace('.','');this.options.theme=this.options.theme.replace('.','');this._init();}
Plugin.prototype={_init:function(){var self=this;if(document.querySelector){var initialTitle=null;if(self.$el.data('tooltipster-initialTitle')===undefined){initialTitle=self.$el.attr('title');if(initialTitle===undefined)initialTitle=null;self.$el.data('tooltipster-initialTitle',initialTitle);}
if(self.options.content!==null){self._content_set(self.options.content);}
else{self._content_set(initialTitle);}
var c=self.options.functionInit.call(self.$el,self.$el,self.Content);if(typeof c!=='undefined')self._content_set(c);self.$el.removeAttr('title').addClass('tooltipstered');if((!deviceHasTouchCapability&&self.options.iconDesktop)||(deviceHasTouchCapability&&self.options.iconTouch)){if(typeof self.options.icon==='string'){self.$elProxy=$('<span class="'+self.options.iconTheme+'"></span>');self.$elProxy.text(self.options.icon);}
else{if(self.options.iconCloning)self.$elProxy=self.options.icon.clone(true);else self.$elProxy=self.options.icon;}
self.$elProxy.insertAfter(self.$el);}
else{self.$elProxy=self.$el;}
if(self.options.trigger=='hover'){self.$elProxy.on('mouseenter.'+self.namespace,function(){if(!deviceIsPureTouch()||self.options.touchDevices){self.mouseIsOverProxy=true;self._show();}}).on('mouseleave.'+self.namespace,function(){if(!deviceIsPureTouch()||self.options.touchDevices){self.mouseIsOverProxy=false;}});if(deviceHasTouchCapability&&self.options.touchDevices){self.$elProxy.on('touchstart.'+self.namespace,function(){self._showNow();});}}
else if(self.options.trigger=='click'){self.$elProxy.on('click.'+self.namespace,function(){if(!deviceIsPureTouch()||self.options.touchDevices){self._show();}});}}},_show:function(){var self=this;if(self.Status!='shown'&&self.Status!='appearing'){if(self.options.delay){self.timerShow=setTimeout(function(){if(self.options.trigger=='click'||(self.options.trigger=='hover'&&self.mouseIsOverProxy)){self._showNow();}},self.options.delay);}
else self._showNow();}},_showNow:function(callback){var self=this;self.options.functionBefore.call(self.$el,self.$el,function(){if(self.enabled&&self.Content!==null){if(callback)self.callbacks.show.push(callback);self.callbacks.hide=[];clearTimeout(self.timerShow);self.timerShow=null;clearTimeout(self.timerHide);self.timerHide=null;if(self.options.onlyOne){$('.tooltipstered').not(self.$el).each(function(i,el){var $el=$(el),nss=$el.data('tooltipster-ns');$.each(nss,function(i,ns){var instance=$el.data(ns),s=instance.status(),ac=instance.option('autoClose');if(s!=='hidden'&&s!=='disappearing'&&ac){instance.hide();}});});}
var finish=function(){self.Status='shown';$.each(self.callbacks.show,function(i,c){c.call(self.$el);});self.callbacks.show=[];};if(self.Status!=='hidden'){var extraTime=0;if(self.Status==='disappearing'){self.Status='appearing';if(supportsTransitions()){self.$tooltip.clearQueue().removeClass('tooltipster-dying').addClass('tooltipster-'+self.options.animation+'-show');if(self.options.speed>0)self.$tooltip.delay(self.options.speed);self.$tooltip.queue(finish);}
else{self.$tooltip.stop().fadeIn(finish);}}
else if(self.Status==='shown'){finish();}}
else{self.Status='appearing';var extraTime=self.options.speed;self.bodyOverflowX=$('body').css('overflow-x');$('body').css('overflow-x','hidden');var animation='tooltipster-'+self.options.animation,animationSpeed='-webkit-transition-duration: '+self.options.speed+'ms; -webkit-animation-duration: '+self.options.speed+'ms; -moz-transition-duration: '+self.options.speed+'ms; -moz-animation-duration: '+self.options.speed+'ms; -o-transition-duration: '+self.options.speed+'ms; -o-animation-duration: '+self.options.speed+'ms; -ms-transition-duration: '+self.options.speed+'ms; -ms-animation-duration: '+self.options.speed+'ms; transition-duration: '+self.options.speed+'ms; animation-duration: '+self.options.speed+'ms;',minWidth=self.options.minWidth?'min-width:'+Math.round(self.options.minWidth)+'px;':'',maxWidth=self.options.maxWidth?'max-width:'+Math.round(self.options.maxWidth)+'px;':'',pointerEvents=self.options.interactive?'pointer-events: auto;':'';self.$tooltip=$('<div class="tooltipster-base '+self.options.theme+'" style="'+minWidth+' '+maxWidth+' '+pointerEvents+' '+animationSpeed+'"><div class="tooltipster-content"></div></div>');if(supportsTransitions())self.$tooltip.addClass(animation);self._content_insert();self.$tooltip.appendTo('body');self.reposition();self.options.functionReady.call(self.$el,self.$el,self.$tooltip);if(supportsTransitions()){self.$tooltip.addClass(animation+'-show');if(self.options.speed>0)self.$tooltip.delay(self.options.speed);self.$tooltip.queue(finish);}
else{self.$tooltip.css('display','none').fadeIn(self.options.speed,finish);}
self._interval_set();$(window).on('scroll.'+self.namespace+' resize.'+self.namespace,function(){self.reposition();});if(self.options.autoClose){$('body').off('.'+self.namespace);if(self.options.trigger=='hover'){if(deviceHasTouchCapability){setTimeout(function(){$('body').on('touchstart.'+self.namespace,function(){self.hide();});},0);}
if(self.options.interactive){if(deviceHasTouchCapability){self.$tooltip.on('touchstart.'+self.namespace,function(event){event.stopPropagation();});}
var tolerance=null;self.$elProxy.add(self.$tooltip).on('mouseleave.'+self.namespace+'-autoClose',function(){clearTimeout(tolerance);tolerance=setTimeout(function(){self.hide();},self.options.interactiveTolerance);}).on('mouseenter.'+self.namespace+'-autoClose',function(){clearTimeout(tolerance);});}
else{self.$elProxy.on('mouseleave.'+self.namespace+'-autoClose',function(){self.hide();});}
if(self.options.hideOnClick){self.$elProxy.on('click.'+self.namespace+'-autoClose',function(){self.hide();});}}
else if(self.options.trigger=='click'){setTimeout(function(){$('body').on('click.'+self.namespace+' touchstart.'+self.namespace,function(){self.hide();});},0);if(self.options.interactive){self.$tooltip.on('click.'+self.namespace+' touchstart.'+self.namespace,function(event){event.stopPropagation();});}}}}
if(self.options.timer>0){self.timerHide=setTimeout(function(){self.timerHide=null;self.hide();},self.options.timer+extraTime);}}});},_interval_set:function(){var self=this;self.checkInterval=setInterval(function(){if($('body').find(self.$el).length===0||$('body').find(self.$elProxy).length===0||self.Status=='hidden'||$('body').find(self.$tooltip).length===0){if(self.Status=='shown'||self.Status=='appearing')self.hide();self._interval_cancel();}
else{if(self.options.positionTracker){var p=self._repositionInfo(self.$elProxy),identical=false;if(areEqual(p.dimension,self.elProxyPosition.dimension)){if(self.$elProxy.css('position')==='fixed'){if(areEqual(p.position,self.elProxyPosition.position))identical=true;}
else{if(areEqual(p.offset,self.elProxyPosition.offset))identical=true;}}
if(!identical){self.reposition();self.options.positionTrackerCallback.call(self,self.$el);}}}},200);},_interval_cancel:function(){clearInterval(this.checkInterval);this.checkInterval=null;},_content_set:function(content){if(typeof content==='object'&&content!==null&&this.options.contentCloning){content=content.clone(true);}
this.Content=content;},_content_insert:function(){var self=this,$d=this.$tooltip.find('.tooltipster-content');if(typeof self.Content==='string'&&!self.options.contentAsHTML){$d.text(self.Content);}
else{$d.empty().append(self.Content);}},_update:function(content){var self=this;self._content_set(content);if(self.Content!==null){if(self.Status!=='hidden'){self._content_insert();self.reposition();if(self.options.updateAnimation){if(supportsTransitions()){self.$tooltip.css({'width':'','-webkit-transition':'all '+self.options.speed+'ms, width 0ms, height 0ms, left 0ms, top 0ms','-moz-transition':'all '+self.options.speed+'ms, width 0ms, height 0ms, left 0ms, top 0ms','-o-transition':'all '+self.options.speed+'ms, width 0ms, height 0ms, left 0ms, top 0ms','-ms-transition':'all '+self.options.speed+'ms, width 0ms, height 0ms, left 0ms, top 0ms','transition':'all '+self.options.speed+'ms, width 0ms, height 0ms, left 0ms, top 0ms'}).addClass('tooltipster-content-changing');setTimeout(function(){if(self.Status!='hidden'){self.$tooltip.removeClass('tooltipster-content-changing');setTimeout(function(){if(self.Status!=='hidden'){self.$tooltip.css({'-webkit-transition':self.options.speed+'ms','-moz-transition':self.options.speed+'ms','-o-transition':self.options.speed+'ms','-ms-transition':self.options.speed+'ms','transition':self.options.speed+'ms'});}},self.options.speed);}},self.options.speed);}
else{self.$tooltip.fadeTo(self.options.speed,0.5,function(){if(self.Status!='hidden'){self.$tooltip.fadeTo(self.options.speed,1);}});}}}}
else{self.hide();}},_repositionInfo:function($el){return{dimension:{height:$el.outerHeight(false),width:$el.outerWidth(false)},offset:$el.offset(),position:{left:parseInt($el.css('left')),top:parseInt($el.css('top'))}};},hide:function(callback){var self=this;if(callback)self.callbacks.hide.push(callback);self.callbacks.show=[];clearTimeout(self.timerShow);self.timerShow=null;clearTimeout(self.timerHide);self.timerHide=null;var finishCallbacks=function(){$.each(self.callbacks.hide,function(i,c){c.call(self.$el);});self.callbacks.hide=[];};if(self.Status=='shown'||self.Status=='appearing'){self.Status='disappearing';var finish=function(){self.Status='hidden';if(typeof self.Content=='object'&&self.Content!==null){self.Content.detach();}
self.$tooltip.remove();self.$tooltip=null;$(window).off('.'+self.namespace);$('body').off('.'+self.namespace).css('overflow-x',self.bodyOverflowX);$('body').off('.'+self.namespace);self.$elProxy.off('.'+self.namespace+'-autoClose');self.options.functionAfter.call(self.$el,self.$el);finishCallbacks();};if(supportsTransitions()){self.$tooltip.clearQueue().removeClass('tooltipster-'+self.options.animation+'-show').addClass('tooltipster-dying');if(self.options.speed>0)self.$tooltip.delay(self.options.speed);self.$tooltip.queue(finish);}
else{self.$tooltip.stop().fadeOut(self.options.speed,finish);}}
else if(self.Status=='hidden'){finishCallbacks();}
return self;},show:function(callback){this._showNow(callback);return this;},update:function(c){return this.content(c);},content:function(c){if(typeof c==='undefined'){return this.Content;}
else{this._update(c);return this;}},reposition:function(){var self=this;if($('body').find(self.$tooltip).length!==0){self.$tooltip.css('width','');self.elProxyPosition=self._repositionInfo(self.$elProxy);var arrowReposition=null,windowWidth=$(window).width(),proxy=self.elProxyPosition,tooltipWidth=self.$tooltip.outerWidth(false),tooltipInnerWidth=self.$tooltip.innerWidth()+1,tooltipHeight=self.$tooltip.outerHeight(false);if(self.$elProxy.is('area')){var areaShape=self.$elProxy.attr('shape'),mapName=self.$elProxy.parent().attr('name'),map=$('img[usemap="#'+mapName+'"]'),mapOffsetLeft=map.offset().left,mapOffsetTop=map.offset().top,areaMeasurements=self.$elProxy.attr('coords')!==undefined?self.$elProxy.attr('coords').split(','):undefined;if(areaShape=='circle'){var areaLeft=parseInt(areaMeasurements[0]),areaTop=parseInt(areaMeasurements[1]),areaWidth=parseInt(areaMeasurements[2]);proxy.dimension.height=areaWidth*2;proxy.dimension.width=areaWidth*2;proxy.offset.top=mapOffsetTop+areaTop-areaWidth;proxy.offset.left=mapOffsetLeft+areaLeft-areaWidth;}
else if(areaShape=='rect'){var areaLeft=parseInt(areaMeasurements[0]),areaTop=parseInt(areaMeasurements[1]),areaRight=parseInt(areaMeasurements[2]),areaBottom=parseInt(areaMeasurements[3]);proxy.dimension.height=areaBottom-areaTop;proxy.dimension.width=areaRight-areaLeft;proxy.offset.top=mapOffsetTop+areaTop;proxy.offset.left=mapOffsetLeft+areaLeft;}
else if(areaShape=='poly'){var areaXs=[],areaYs=[],areaSmallestX=0,areaSmallestY=0,areaGreatestX=0,areaGreatestY=0,arrayAlternate='even';for(var i=0;i<areaMeasurements.length;i++){var areaNumber=parseInt(areaMeasurements[i]);if(arrayAlternate=='even'){if(areaNumber>areaGreatestX){areaGreatestX=areaNumber;if(i===0){areaSmallestX=areaGreatestX;}}
if(areaNumber<areaSmallestX){areaSmallestX=areaNumber;}
arrayAlternate='odd';}
else{if(areaNumber>areaGreatestY){areaGreatestY=areaNumber;if(i==1){areaSmallestY=areaGreatestY;}}
if(areaNumber<areaSmallestY){areaSmallestY=areaNumber;}
arrayAlternate='even';}}
proxy.dimension.height=areaGreatestY-areaSmallestY;proxy.dimension.width=areaGreatestX-areaSmallestX;proxy.offset.top=mapOffsetTop+areaSmallestY;proxy.offset.left=mapOffsetLeft+areaSmallestX;}
else{proxy.dimension.height=map.outerHeight(false);proxy.dimension.width=map.outerWidth(false);proxy.offset.top=mapOffsetTop;proxy.offset.left=mapOffsetLeft;}}
var myLeft=0,myLeftMirror=0,myTop=0,offsetY=parseInt(self.options.offsetY),offsetX=parseInt(self.options.offsetX),practicalPosition=self.options.position;function dontGoOffScreenX(){var windowLeft=$(window).scrollLeft();if((myLeft-windowLeft)<0){arrowReposition=myLeft-windowLeft;myLeft=windowLeft;}
if(((myLeft+tooltipWidth)-windowLeft)>windowWidth){arrowReposition=myLeft-((windowWidth+windowLeft)-tooltipWidth);myLeft=(windowWidth+windowLeft)-tooltipWidth;}}
function dontGoOffScreenY(switchTo,switchFrom){if(((proxy.offset.top-$(window).scrollTop()-tooltipHeight-offsetY-12)<0)&&(switchFrom.indexOf('top')>-1)){practicalPosition=switchTo;}
if(((proxy.offset.top+proxy.dimension.height+tooltipHeight+12+offsetY)>($(window).scrollTop()+$(window).height()))&&(switchFrom.indexOf('bottom')>-1)){practicalPosition=switchTo;myTop=(proxy.offset.top-tooltipHeight)-offsetY-12;}}
if(practicalPosition=='top'){var leftDifference=(proxy.offset.left+tooltipWidth)-(proxy.offset.left+proxy.dimension.width);myLeft=(proxy.offset.left+offsetX)-(leftDifference/2);myTop=(proxy.offset.top-tooltipHeight)-offsetY-12;dontGoOffScreenX();dontGoOffScreenY('bottom','top');}
if(practicalPosition=='top-left'){myLeft=proxy.offset.left+offsetX;myTop=(proxy.offset.top-tooltipHeight)-offsetY-12;dontGoOffScreenX();dontGoOffScreenY('bottom-left','top-left');}
if(practicalPosition=='top-right'){myLeft=(proxy.offset.left+proxy.dimension.width+offsetX)-tooltipWidth;myTop=(proxy.offset.top-tooltipHeight)-offsetY-12;dontGoOffScreenX();dontGoOffScreenY('bottom-right','top-right');}
if(practicalPosition=='bottom'){var leftDifference=(proxy.offset.left+tooltipWidth)-(proxy.offset.left+proxy.dimension.width);myLeft=proxy.offset.left-(leftDifference/2)+offsetX;myTop=(proxy.offset.top+proxy.dimension.height)-offsetY+12;dontGoOffScreenX();dontGoOffScreenY('top','bottom');}
if(practicalPosition=='bottom-left'){myLeft=proxy.offset.left+offsetX;myTop=(proxy.offset.top+proxy.dimension.height)+offsetY+12;dontGoOffScreenX();dontGoOffScreenY('top-left','bottom-left');}
if(practicalPosition=='bottom-right'){myLeft=(proxy.offset.left+proxy.dimension.width+offsetX)-tooltipWidth;myTop=(proxy.offset.top+proxy.dimension.height)+offsetY+12;dontGoOffScreenX();dontGoOffScreenY('top-right','bottom-right');}
if(practicalPosition=='left'){myLeft=proxy.offset.left-offsetX-tooltipWidth-12;myLeftMirror=proxy.offset.left+offsetX+proxy.dimension.width+12;var topDifference=(proxy.offset.top+tooltipHeight)-(proxy.offset.top+proxy.dimension.height);myTop=proxy.offset.top-(topDifference/2)-offsetY;if((myLeft<0)&&((myLeftMirror+tooltipWidth)>windowWidth)){var borderWidth=parseFloat(self.$tooltip.css('border-width'))*2,newWidth=(tooltipWidth+myLeft)-borderWidth;self.$tooltip.css('width',newWidth+'px');tooltipHeight=self.$tooltip.outerHeight(false);myLeft=proxy.offset.left-offsetX-newWidth-12-borderWidth;topDifference=(proxy.offset.top+tooltipHeight)-(proxy.offset.top+proxy.dimension.height);myTop=proxy.offset.top-(topDifference/2)-offsetY;}
else if(myLeft<0){myLeft=proxy.offset.left+offsetX+proxy.dimension.width+12;arrowReposition='left';}}
if(practicalPosition=='right'){myLeft=proxy.offset.left+offsetX+proxy.dimension.width+12;myLeftMirror=proxy.offset.left-offsetX-tooltipWidth-12;var topDifference=(proxy.offset.top+tooltipHeight)-(proxy.offset.top+proxy.dimension.height);myTop=proxy.offset.top-(topDifference/2)-offsetY;if(((myLeft+tooltipWidth)>windowWidth)&&(myLeftMirror<0)){var borderWidth=parseFloat(self.$tooltip.css('border-width'))*2,newWidth=(windowWidth-myLeft)-borderWidth;self.$tooltip.css('width',newWidth+'px');tooltipHeight=self.$tooltip.outerHeight(false);topDifference=(proxy.offset.top+tooltipHeight)-(proxy.offset.top+proxy.dimension.height);myTop=proxy.offset.top-(topDifference/2)-offsetY;}
else if((myLeft+tooltipWidth)>windowWidth){myLeft=proxy.offset.left-offsetX-tooltipWidth-12;arrowReposition='right';}}
if(self.options.arrow){var arrowClass='tooltipster-arrow-'+practicalPosition;if(self.options.arrowColor.length<1){var arrowColor=self.$tooltip.css('background-color');}
else{var arrowColor=self.options.arrowColor;}
if(!arrowReposition){arrowReposition='';}
else if(arrowReposition=='left'){arrowClass='tooltipster-arrow-right';arrowReposition='';}
else if(arrowReposition=='right'){arrowClass='tooltipster-arrow-left';arrowReposition='';}
else{arrowReposition='left:'+Math.round(arrowReposition)+'px;';}
if((practicalPosition=='top')||(practicalPosition=='top-left')||(practicalPosition=='top-right')){var tooltipBorderWidth=parseFloat(self.$tooltip.css('border-bottom-width')),tooltipBorderColor=self.$tooltip.css('border-bottom-color');}
else if((practicalPosition=='bottom')||(practicalPosition=='bottom-left')||(practicalPosition=='bottom-right')){var tooltipBorderWidth=parseFloat(self.$tooltip.css('border-top-width')),tooltipBorderColor=self.$tooltip.css('border-top-color');}
else if(practicalPosition=='left'){var tooltipBorderWidth=parseFloat(self.$tooltip.css('border-right-width')),tooltipBorderColor=self.$tooltip.css('border-right-color');}
else if(practicalPosition=='right'){var tooltipBorderWidth=parseFloat(self.$tooltip.css('border-left-width')),tooltipBorderColor=self.$tooltip.css('border-left-color');}
else{var tooltipBorderWidth=parseFloat(self.$tooltip.css('border-bottom-width')),tooltipBorderColor=self.$tooltip.css('border-bottom-color');}
if(tooltipBorderWidth>1){tooltipBorderWidth++;}
var arrowBorder='';if(tooltipBorderWidth!==0){var arrowBorderSize='',arrowBorderColor='border-color: '+tooltipBorderColor+';';if(arrowClass.indexOf('bottom')!==-1){arrowBorderSize='margin-top: -'+Math.round(tooltipBorderWidth)+'px;';}
else if(arrowClass.indexOf('top')!==-1){arrowBorderSize='margin-bottom: -'+Math.round(tooltipBorderWidth)+'px;';}
else if(arrowClass.indexOf('left')!==-1){arrowBorderSize='margin-right: -'+Math.round(tooltipBorderWidth)+'px;';}
else if(arrowClass.indexOf('right')!==-1){arrowBorderSize='margin-left: -'+Math.round(tooltipBorderWidth)+'px;';}
arrowBorder='<span class="tooltipster-arrow-border" style="'+arrowBorderSize+' '+arrowBorderColor+';"></span>';}
self.$tooltip.find('.tooltipster-arrow').remove();var arrowConstruct='<div class="'+arrowClass+' tooltipster-arrow" style="'+arrowReposition+'">'+arrowBorder+'<span style="border-color:'+arrowColor+';"></span></div>';self.$tooltip.append(arrowConstruct);}
self.$tooltip.css({'top':Math.round(myTop)+'px','left':Math.round(myLeft)+'px'});}
return self;},enable:function(){this.enabled=true;return this;},disable:function(){this.hide();this.enabled=false;return this;},destroy:function(){var self=this;self.hide();if(self.$el[0]!==self.$elProxy[0]){self.$elProxy.remove();}
self.$el.removeData(self.namespace).off('.'+self.namespace);var ns=self.$el.data('tooltipster-ns');if(ns.length===1){var title=null;if(self.options.restoration==='previous'){title=self.$el.data('tooltipster-initialTitle');}
else if(self.options.restoration==='current'){title=(typeof self.Content==='string')?self.Content:$('<div></div>').append(self.Content).html();}
if(title){self.$el.attr('title',title);}
self.$el.removeClass('tooltipstered').removeData('tooltipster-ns').removeData('tooltipster-initialTitle');}
else{ns=$.grep(ns,function(el,i){return el!==self.namespace;});self.$el.data('tooltipster-ns',ns);}
return self;},elementIcon:function(){return(this.$el[0]!==this.$elProxy[0])?this.$elProxy[0]:undefined;},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:undefined;},option:function(o,val){if(typeof val=='undefined')return this.options[o];else{this.options[o]=val;return this;}},status:function(){return this.Status;}};$.fn[pluginName]=function(){var args=arguments;if(this.length===0){if(typeof args[0]==='string'){var methodIsStatic=true;switch(args[0]){case 'setDefaults':$.extend(defaults,args[1]);break;default:methodIsStatic=false;break;}
if(methodIsStatic)return true;else return this;}
else{return this;}}
else{if(typeof args[0]==='string'){var v='#*$~&';this.each(function(){var ns=$(this).data('tooltipster-ns'),self=ns?$(this).data(ns[0]):null;if(self){if(typeof self[args[0]]==='function'){var resp=self[args[0]](args[1],args[2]);}
else{throw new Error('Unknown method .tooltipster("'+args[0]+'")');}
if(resp!==self){v=resp;return false;}}
else{throw new Error('You called Tooltipster\'s "'+args[0]+'" method on an uninitialized element');}});return(v!=='#*$~&')?v:this;}
else{var instances=[],multipleIsSet=args[0]&&typeof args[0].multiple!=='undefined',multiple=(multipleIsSet&&args[0].multiple)||(!multipleIsSet&&defaults.multiple),debugIsSet=args[0]&&typeof args[0].debug!=='undefined',debug=(debugIsSet&&args[0].debug)||(!debugIsSet&&defaults.debug);this.each(function(){var go=false,ns=$(this).data('tooltipster-ns'),instance=null;if(!ns){go=true;}
else if(multiple){go=true;}
else if(debug){console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.');}
if(go){instance=new Plugin(this,args[0]);if(!ns)ns=[];ns.push(instance.namespace);$(this).data('tooltipster-ns',ns)
$(this).data(instance.namespace,instance);}
instances.push(instance);});if(multiple)return instances;else return this;}}};function areEqual(a,b){var same=true;$.each(a,function(i,el){if(typeof b[i]==='undefined'||a[i]!==b[i]){same=false;return false;}});return same;}
var deviceHasTouchCapability=!!('ontouchstart'in window);var deviceHasMouse=false;$('body').one('mousemove',function(){deviceHasMouse=true;});function deviceIsPureTouch(){return(!deviceHasMouse&&deviceHasTouchCapability);}
function supportsTransitions(){var b=document.body||document.documentElement,s=b.style,p='transition';if(typeof s[p]=='string'){return true;}
v=['Moz','Webkit','Khtml','O','ms'],p=p.charAt(0).toUpperCase()+p.substr(1);for(var i=0;i<v.length;i++){if(typeof s[v[i]+p]=='string'){return true;}}
return false;}})(jQuery,window,document);var Hyphenator;Hyphenator=(function(window){'use strict';var contextWindow=window;var supportedLangs=(function(){var r={},o=function(code,file,script,prompt){r[code]={'file':file,'script':script,'prompt':prompt};};o('be','be.js',1,'Мова гэтага сайта не можа быць вызначаны аўтаматычна. Калі ласка пакажыце мову:');o('ca','ca.js',0,'');o('cs','cs.js',0,'Jazyk této internetové stránky nebyl automaticky rozpoznán. Určete prosím její jazyk:');o('da','da.js',0,'Denne websides sprog kunne ikke bestemmes. Angiv venligst sprog:');o('bn','bn.js',4,'');o('de','de.js',0,'Die Sprache dieser Webseite konnte nicht automatisch bestimmt werden. Bitte Sprache angeben:');o('el','el-monoton.js',6,'');o('el-monoton','el-monoton.js',6,'');o('el-polyton','el-polyton.js',6,'');o('en','en-us.js',0,'The language of this website could not be determined automatically. Please indicate the main language:');o('en-gb','en-gb.js',0,'The language of this website could not be determined automatically. Please indicate the main language:');o('en-us','en-us.js',0,'The language of this website could not be determined automatically. Please indicate the main language:');o('eo','eo.js',0,'La lingvo de ĉi tiu retpaĝo ne rekoneblas aŭtomate. Bonvolu indiki ĝian ĉeflingvon:');o('es','es.js',0,'El idioma del sitio no pudo determinarse autom%E1ticamente. Por favor, indique el idioma principal:');o('et','et.js',0,'Veebilehe keele tuvastamine ebaõnnestus, palun valige kasutatud keel:');o('fi','fi.js',0,'Sivun kielt%E4 ei tunnistettu automaattisesti. M%E4%E4rit%E4 sivun p%E4%E4kieli:');o('fr','fr.js',0,'La langue de ce site n%u2019a pas pu %EAtre d%E9termin%E9e automatiquement. Veuillez indiquer une langue, s.v.p.%A0:');o('ga','ga.js',0,'Níorbh fhéidir teanga an tsuímh a fháil go huathoibríoch. Cuir isteach príomhtheanga an tsuímh:');o('grc','grc.js',6,'');o('gu','gu.js',7,'');o('hi','hi.js',5,'');o('hu','hu.js',0,'A weboldal nyelvét nem sikerült automatikusan megállapítani. Kérem adja meg a nyelvet:');o('hy','hy.js',3,'Չհաջողվեց հայտնաբերել այս կայքի լեզուն։ Խնդրում ենք նշեք հիմնական լեզուն՝');o('it','it.js',0,'Lingua del sito sconosciuta. Indicare una lingua, per favore:');o('kn','kn.js',8,'ಜಾಲ ತಾಣದ ಭಾಷೆಯನ್ನು ನಿರ್ಧರಿಸಲು ಸಾಧ್ಯವಾಗುತ್ತಿಲ್ಲ. ದಯವಿಟ್ಟು ಮುಖ್ಯ ಭಾಷೆಯನ್ನು ಸೂಚಿಸಿ:');o('la','la.js',0,'');o('lt','lt.js',0,'Nepavyko automatiškai nustatyti šios svetainės kalbos. Prašome įvesti kalbą:');o('lv','lv.js',0,'Šīs lapas valodu nevarēja noteikt automātiski. Lūdzu norādiet pamata valodu:');o('ml','ml.js',10,'ഈ വെ%u0D2C%u0D4D%u200Cസൈറ്റിന്റെ ഭാഷ കണ്ടുപിടിയ്ക്കാ%u0D28%u0D4D%u200D കഴിഞ്ഞില്ല. ഭാഷ ഏതാണെന്നു തിരഞ്ഞെടുക്കുക:');o('nb','nb-no.js',0,'Nettstedets språk kunne ikke finnes automatisk. Vennligst oppgi språk:');o('no','nb-no.js',0,'Nettstedets språk kunne ikke finnes automatisk. Vennligst oppgi språk:');o('nb-no','nb-no.js',0,'Nettstedets språk kunne ikke finnes automatisk. Vennligst oppgi språk:');o('nl','nl.js',0,'De taal van deze website kan niet automatisch worden bepaald. Geef de hoofdtaal op:');o('or','or.js',11,'');o('pa','pa.js',13,'');o('pl','pl.js',0,'Języka tej strony nie można ustalić automatycznie. Proszę wskazać język:');o('pt','pt.js',0,'A língua deste site não pôde ser determinada automaticamente. Por favor indique a língua principal:');o('ru','ru.js',1,'Язык этого сайта не может быть определен автоматически. Пожалуйста укажите язык:');o('sk','sk.js',0,'');o('sl','sl.js',0,'Jezika te spletne strani ni bilo mogoče samodejno določiti. Prosim navedite jezik:');o('sr-cyrl','sr-cyrl.js',1,'Језик овог сајта није детектован аутоматски. Молим вас наведите језик:');o('sr-latn','sr-latn.js',0,'Jezika te spletne strani ni bilo mogoče samodejno določiti. Prosim navedite jezik:');o('sv','sv.js',0,'Spr%E5ket p%E5 den h%E4r webbplatsen kunde inte avg%F6ras automatiskt. V%E4nligen ange:');o('ta','ta.js',14,'');o('te','te.js',15,'');o('tr','tr.js',0,'Bu web sitesinin dili otomatik olarak tespit edilememiştir. Lütfen dökümanın dilini seçiniz%A0:');o('uk','uk.js',1,'Мова цього веб-сайту не може бути визначена автоматично. Будь ласка, вкажіть головну мову:');o('ro','ro.js',0,'Limba acestui sit nu a putut fi determinată automat. Alege limba principală:');return r;}());var locality=(function getLocality(){var r={isBookmarklet:false,basePath:"//mnater.github.io/Hyphenator/",isLocal:false};var fullPath;function getBasePath(path){return path.substring(0,path.lastIndexOf("/")+1);}
function findCurrentScript(){var scripts=contextWindow.document.getElementsByTagName('script');var num=scripts.length-1;var currScript;var src;while(num>0){currScript=scripts[num];if(currScript.hasAttribute("src")&&currScript.src.indexOf("Hyphenator")!==-1){src=currScript.src;break;}
num-=1;}
return src;}
r.isLocal=true;return r;if(!!document.currentScript){fullPath=document.currentScript.src;}else{fullPath=findCurrentScript();}
r.basePath=getBasePath(fullPath);if(fullPath.indexOf("bm=true")!==-1){r.isBookmarklet=true;}
if(window.location.href.indexOf(r.basePath)!==-1){r.isLocal=true;}
return r;}());var basePath=locality.basePath;var isLocal=locality.isLocal;var documentLoaded=false;var persistentConfig=false;var doFrames=false;var dontHyphenate={'video':true,'audio':true,'script':true,'code':true,'pre':true,'img':true,'br':true,'samp':true,'kbd':true,'var':true,'abbr':true,'acronym':true,'sub':true,'sup':true,'button':true,'option':true,'label':true,'textarea':true,'input':true,'math':true,'svg':true,'style':true};var enableCache=true;var storageType='local';var storage;var enableReducedPatternSet=false;var enableRemoteLoading=true;var displayToggleBox=false;var onError=function(e){window.alert("Hyphenator.js says:\n\nAn Error occurred:\n"+e.message);};var onWarning=function(e){window.console.log(e.message);};function createElem(tagname,context){context=context||contextWindow;var el;if(window.document.createElementNS){el=context.document.createElementNS('http://www.w3.org/1999/xhtml',tagname);}else if(window.document.createElement){el=context.document.createElement(tagname);}
return el;}
function forEachKey(o,f){var k;if(Object.hasOwnProperty("keys")){Object.keys(o).forEach(f);}else{for(k in o){if(o.hasOwnProperty(k)){f(k);}}}}
var css3=false;function css3_gethsupport(){var support=false,supportedBrowserLangs={},property='',checkLangSupport,createLangSupportChecker=function(prefix){var testStrings=['aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz','абвгдеёжзийклмнопрстуфхцчшщъыьэюя','أبتثجحخدذرزسشصضطظعغفقكلمنهوي','աբգդեզէըթժիլխծկհձղճմյնշոչպջռսվտրցւփքօֆ','ঁংঃঅআইঈউঊঋঌএঐওঔকখগঘঙচছজঝঞটঠডঢণতথদধনপফবভমযরলশষসহ়ঽািীুূৃৄেৈোৌ্ৎৗড়ঢ়য়ৠৡৢৣ','ँंःअआइईउऊऋऌएऐओऔकखगघङचछजझञटठडढणतथदधनपफबभमयरलळवशषसहऽािीुूृॄेैोौ्॒॑ॠॡॢॣ','αβγδεζηθικλμνξοπρσςτυφχψω','બહઅઆઇઈઉઊઋૠએઐઓઔાિીુૂૃૄૢૣેૈોૌકખગઘઙચછજઝઞટઠડઢણતથદધનપફસભમયરલળવશષ','ಂಃಅಆಇಈಉಊಋಌಎಏಐಒಓಔಕಖಗಘಙಚಛಜಝಞಟಠಡಢಣತಥದಧನಪಫಬಭಮಯರಱಲಳವಶಷಸಹಽಾಿೀುೂೃೄೆೇೈೊೋೌ್ೕೖೞೠೡ','ກຂຄງຈຊຍດຕຖທນບປຜຝພຟມຢຣລວສຫອຮະັາິີຶືຸູົຼເແໂໃໄ່້໊໋ໜໝ','ംഃഅആഇഈഉഊഋഌഎഏഐഒഓഔകഖഗഘങചഛജഝഞടഠഡഢണതഥദധനപഫബഭമയരറലളഴവശഷസഹാിീുൂൃെേൈൊോൌ്ൗൠൡൺൻർൽൾൿ','ଁଂଃଅଆଇଈଉଊଋଌଏଐଓଔକଖଗଘଙଚଛଜଝଞଟଠଡଢଣତଥଦଧନପଫବଭମଯରଲଳଵଶଷସହାିୀୁୂୃେୈୋୌ୍ୗୠୡ','أبتثجحخدذرزسشصضطظعغفقكلمنهوي','ਁਂਃਅਆਇਈਉਊਏਐਓਔਕਖਗਘਙਚਛਜਝਞਟਠਡਢਣਤਥਦਧਨਪਫਬਭਮਯਰਲਲ਼ਵਸ਼ਸਹਾਿੀੁੂੇੈੋੌ੍ੰੱ','ஃஅஆஇஈஉஊஎஏஐஒஓஔகஙசஜஞடணதநனபமயரறலளழவஷஸஹாிீுூெேைொோௌ்ௗ','ఁంఃఅఆఇఈఉఊఋఌఎఏఐఒఓఔకఖగఘఙచఛజఝఞటఠడఢణతథదధనపఫబభమయరఱలళవశషసహాిీుూృౄెేైొోౌ్ౕౖౠౡ'],f=function(lang){var shadow,computedHeight,bdy,r=false;if(supportedBrowserLangs.hasOwnProperty(lang)){r=supportedBrowserLangs[lang];}else if(supportedLangs.hasOwnProperty(lang)){bdy=window.document.getElementsByTagName('body')[0];shadow=createElem('div',window);shadow.id='Hyphenator_LanguageChecker';shadow.style.width='5em';shadow.style.padding='0';shadow.style.border='none';shadow.style[prefix]='auto';shadow.style.hyphens='auto';shadow.style.fontSize='12px';shadow.style.lineHeight='12px';shadow.style.wordWrap='normal';shadow.style.visibility='hidden';shadow.lang=lang;shadow.style['-webkit-locale']="'"+lang+"'";shadow.innerHTML=testStrings[supportedLangs[lang].script];bdy.appendChild(shadow);computedHeight=shadow.offsetHeight;bdy.removeChild(shadow);r=!!(computedHeight>12);supportedBrowserLangs[lang]=r;}else{r=false;}
return r;};return f;},s;if(window.getComputedStyle){s=window.getComputedStyle(window.document.getElementsByTagName('body')[0],null);if(s.hyphens!==undefined){support=true;property='hyphens';checkLangSupport=createLangSupportChecker('hyphens');}else if(s['-webkit-hyphens']!==undefined){support=true;property='-webkit-hyphens';checkLangSupport=createLangSupportChecker('-webkit-hyphens');}else if(s.MozHyphens!==undefined){support=true;property='-moz-hyphens';checkLangSupport=createLangSupportChecker('MozHyphens');}else if(s['-ms-hyphens']!==undefined){support=true;property='-ms-hyphens';checkLangSupport=createLangSupportChecker('-ms-hyphens');}}
return{support:support,property:property,supportedBrowserLangs:supportedBrowserLangs,checkLangSupport:checkLangSupport};}
var css3_h9n;var hyphenateClass='hyphenate';var urlHyphenateClass='urlhyphenate';var classPrefix='Hyphenator'+Math.round(Math.random()*1000);var hideClass=classPrefix+'hide';var hideClassRegExp=new RegExp("\\s?\\b"+hideClass+"\\b","g");var unhideClass=classPrefix+'unhide';var unhideClassRegExp=new RegExp("\\s?\\b"+unhideClass+"\\b","g");var css3hyphenateClass=classPrefix+'css3hyphenate';var css3hyphenateClassHandle;var dontHyphenateClass='donthyphenate';var min=6;var leftmin=0;var rightmin=0;var compound="auto";var orphanControl=1;var isBookmarklet=locality.isBookmarklet;var mainLanguage=null;var defaultLanguage='';var elements=(function(){var makeElement=function(element){return{element:element,hyphenated:false,treated:false};},makeElementCollection=function(){var counters=[0,0],list={},add=function(el,lang){var elo=makeElement(el);if(!list.hasOwnProperty(lang)){list[lang]=[];}
list[lang].push(elo);counters[0]+=1;return elo;},each=function(fn){forEachKey(list,function(k){if(fn.length===2){fn(k,list[k]);}else{fn(list[k]);}});};return{counters:counters,list:list,add:add,each:each};};return makeElementCollection();}());var exceptions={};var docLanguages={};var url='(?:\\w*:\/\/)?(?:(?:\\w*:)?(?:\\w*)@)?(?:(?:(?:[\\d]{1,3}\\.){3}(?:[\\d]{1,3}))|(?:(?:www\\.|[a-zA-Z]\\.)?[a-zA-Z0-9\\-\\.]+\\.(?:[a-z]{2,4})))(?::\\d*)?(?:\/[\\w#!:\\.?\\+=&%@!\\-]*)*';var mail='[\\w-\\.]+@[\\w\\.]+';var zeroWidthSpace=(function(){var zws,ua=window.navigator.userAgent.toLowerCase();zws=String.fromCharCode(8203);if(ua.indexOf('msie 6')!==-1){zws='';}
if(ua.indexOf('opera')!==-1&&ua.indexOf('version/10.00')!==-1){zws='';}
return zws;}());var onBeforeWordHyphenation=function(word){return word;};var onAfterWordHyphenation=function(word){return word;};var onHyphenationDone=function(context){return context;};var selectorFunction=false;function flattenNodeList(nl){var parentElements=[],i=1,j=0,isParent=true;parentElements.push(nl[0]);while(i<nl.length){while(j<parentElements.length){if(parentElements[j].contains(nl[i])){isParent=false;break;}
j+=1;}
if(isParent){parentElements.push(nl[i]);}
isParent=true;i+=1;}
return parentElements;}
function mySelectorFunction(hyphenateClass){var tmp,el=[],i=0;if(window.document.getElementsByClassName){el=contextWindow.document.getElementsByClassName(hyphenateClass);}else if(window.document.querySelectorAll){el=contextWindow.document.querySelectorAll('.'+hyphenateClass);}else{tmp=contextWindow.document.getElementsByTagName('*');while(i<tmp.length){if(tmp[i].className.indexOf(hyphenateClass)!==-1&&tmp[i].className.indexOf(dontHyphenateClass)===-1){el.push(tmp[i]);}
i+=1;}}
return el;}
function selectElements(){var elems;if(selectorFunction){elems=selectorFunction();}else{elems=mySelectorFunction(hyphenateClass);}
if(elems.length!==0){elems=flattenNodeList(elems);}
return elems;}
var intermediateState='hidden';var unhide='wait';var CSSEditors=[];function makeCSSEdit(w){w=w||window;var doc=w.document,sheet=(function(){var i=0,l=doc.styleSheets.length,s,element,r=false;while(i<l){s=doc.styleSheets[i];try{if(!!s.cssRules){r=s;break;}}catch(ignore){}
i+=1;}
if(r===false){element=doc.createElement('style');element.type='text/css';doc.getElementsByTagName('head')[0].appendChild(element);r=doc.styleSheets[doc.styleSheets.length-1];}
return r;}()),changes=[],findRule=function(sel){var s,rule,sheets=w.document.styleSheets,rules,i=0,j=0,r=false;while(i<sheets.length){s=sheets[i];try{if(!!s.cssRules){rules=s.cssRules;}else if(!!s.rules){rules=s.rules;}}catch(ignore){}
if(!!rules&&!!rules.length){while(j<rules.length){rule=rules[j];if(rule.selectorText===sel){r={index:j,rule:rule};}
j+=1;}}
i+=1;}
return r;},addRule=function(sel,rulesStr){var i,r;if(!!sheet.insertRule){if(!!sheet.cssRules){i=sheet.cssRules.length;}else{i=0;}
r=sheet.insertRule(sel+'{'+rulesStr+'}',i);}else if(!!sheet.addRule){if(!!sheet.rules){i=sheet.rules.length;}else{i=0;}
sheet.addRule(sel,rulesStr,i);r=i;}
return r;},removeRule=function(sheet,index){if(sheet.deleteRule){sheet.deleteRule(index);}else{sheet.removeRule(index);}};return{setRule:function(sel,rulesString){var i,existingRule,cssText;existingRule=findRule(sel);if(!!existingRule){if(!!existingRule.rule.cssText){cssText=existingRule.rule.cssText;}else{cssText=existingRule.rule.style.cssText.toLowerCase();}
if(cssText!==sel+' { '+rulesString+' }'){if(cssText.indexOf(rulesString)!==-1){existingRule.rule.style.visibility='';}
i=addRule(sel,rulesString);changes.push({sheet:sheet,index:i});}}else{i=addRule(sel,rulesString);changes.push({sheet:sheet,index:i});}},clearChanges:function(){var change=changes.pop();while(!!change){removeRule(change.sheet,change.index);change=changes.pop();}}};}
var hyphen=String.fromCharCode(173);var urlhyphen=zeroWidthSpace;function hyphenateURL(url){var tmp=url.replace(/([:\/\.\?#&\-_,;!@]+)/gi,'$&'+urlhyphen),parts=tmp.split(urlhyphen),i=0;while(i<parts.length){if(parts[i].length>(2*min)){parts[i]=parts[i].replace(/(\w{3})(\w)/gi,"$1"+urlhyphen+"$2");}
i+=1;}
if(parts[parts.length-1]===""){parts.pop();}
return parts.join(urlhyphen);}
var safeCopy=true;var zeroTimeOut=(function(){if(window.postMessage&&window.addEventListener){return(function(){var timeouts=[],msg="Hyphenator_zeroTimeOut_message",setZeroTimeOut=function(fn){timeouts.push(fn);window.postMessage(msg,"*");},handleMessage=function(event){if(event.source===window&&event.data===msg){event.stopPropagation();if(timeouts.length>0){timeouts.shift()();}}};window.addEventListener("message",handleMessage,true);return setZeroTimeOut;}());}
return function(fn){window.setTimeout(fn,0);};}());var hyphRunFor={};function runWhenLoaded(w,f){var toplevel,add=window.document.addEventListener?'addEventListener':'attachEvent',rem=window.document.addEventListener?'removeEventListener':'detachEvent',pre=window.document.addEventListener?'':'on';function init(context){if(hyphRunFor[context.location.href]){onWarning(new Error("Warning: multiple execution of Hyphenator.run() – This may slow down the script!"));}
contextWindow=context||window;f();hyphRunFor[contextWindow.location.href]=true;}
function doScrollCheck(){try{w.document.documentElement.doScroll("left");}catch(ignore){window.setTimeout(doScrollCheck,1);return;}
if(!hyphRunFor[w.location.href]){documentLoaded=true;init(w);}}
function doOnEvent(e){var i=0,fl,haveAccess;if(!!e&&e.type==='readystatechange'&&w.document.readyState!=='interactive'&&w.document.readyState!=='complete'){return;}
w.document[rem](pre+'DOMContentLoaded',doOnEvent,false);w.document[rem](pre+'readystatechange',doOnEvent,false);fl=w.frames.length;if(fl===0||!doFrames){w[rem](pre+'load',doOnEvent,false);documentLoaded=true;init(w);}else if(doFrames&&fl>0){if(!!e&&e.type==='load'){w[rem](pre+'load',doOnEvent,false);while(i<fl){haveAccess=undefined;try{haveAccess=w.frames[i].document.toString();}catch(ignore){haveAccess=undefined;}
if(!!haveAccess){runWhenLoaded(w.frames[i],f);}
i+=1;}
init(w);}}}
if(documentLoaded||w.document.readyState==='complete'){documentLoaded=true;doOnEvent({type:'load'});}else{w.document[add](pre+'DOMContentLoaded',doOnEvent,false);w.document[add](pre+'readystatechange',doOnEvent,false);w[add](pre+'load',doOnEvent,false);toplevel=false;try{toplevel=!window.frameElement;}catch(ignore){}
if(toplevel&&w.document.documentElement.doScroll){doScrollCheck();}}}
function getLang(el,fallback){try{return!!el.getAttribute('lang')?el.getAttribute('lang').toLowerCase():!!el.getAttribute('xml:lang')?el.getAttribute('xml:lang').toLowerCase():el.tagName.toLowerCase()!=='html'?getLang(el.parentNode,fallback):fallback?mainLanguage:null;}catch(ignore){}}
function autoSetMainLanguage(w){w=w||contextWindow;var el=w.document.getElementsByTagName('html')[0],m=w.document.getElementsByTagName('meta'),i=0,getLangFromUser=function(){var ml,text='',dH=300,dW=450,dX=Math.floor((w.outerWidth-dW)/2)+window.screenX,dY=Math.floor((w.outerHeight-dH)/2)+window.screenY,ul='',languageHint;if(!!window.showModalDialog&&(w.location.href.indexOf(basePath)!==-1)){ml=window.showModalDialog(basePath+'modalLangDialog.html',supportedLangs,"dialogWidth: "+dW+"px; dialogHeight: "+dH+"px; dialogtop: "+dY+"; dialogleft: "+dX+"; center: on; resizable: off; scroll: off;");}else{languageHint=(function(){var r='';forEachKey(supportedLangs,function(k){r+=k+', ';});r=r.substring(0,r.length-2);return r;}());ul=window.navigator.language||window.navigator.userLanguage;ul=ul.substring(0,2);if(!!supportedLangs[ul]&&supportedLangs[ul].prompt!==''){text=supportedLangs[ul].prompt;}else{text=supportedLangs.en.prompt;}
text+=' (ISO 639-1)\n\n'+languageHint;ml=window.prompt(window.unescape(text),ul).toLowerCase();}
return ml;};mainLanguage=getLang(el,false);if(!mainLanguage){while(i<m.length){if(!!m[i].getAttribute('http-equiv')&&(m[i].getAttribute('http-equiv').toLowerCase()==='content-language')){mainLanguage=m[i].getAttribute('content').toLowerCase();}
if(!!m[i].getAttribute('name')&&(m[i].getAttribute('name').toLowerCase()==='dc.language')){mainLanguage=m[i].getAttribute('content').toLowerCase();}
if(!!m[i].getAttribute('name')&&(m[i].getAttribute('name').toLowerCase()==='language')){mainLanguage=m[i].getAttribute('content').toLowerCase();}
i+=1;}}
if(!mainLanguage&&doFrames&&(!!contextWindow.frameElement)){autoSetMainLanguage(window.parent);}
if(!mainLanguage&&defaultLanguage!==''){mainLanguage=defaultLanguage;}
if(!mainLanguage){mainLanguage=getLangFromUser();}
el.lang=mainLanguage;}
function gatherDocumentInfos(){var elToProcess,urlhyphenEls,tmp,i=0;function process(el,pLang,isChild){var n,j=0,hyphenate=true,eLang,useCSS3=function(){css3hyphenateClassHandle=makeCSSEdit(contextWindow);css3hyphenateClassHandle.setRule('.'+css3hyphenateClass,css3_h9n.property+': auto;');css3hyphenateClassHandle.setRule('.'+dontHyphenateClass,css3_h9n.property+': manual;');if((eLang!==pLang)&&css3_h9n.property.indexOf('webkit')!==-1){css3hyphenateClassHandle.setRule('.'+css3hyphenateClass,'-webkit-locale : '+eLang+';');}
el.className=el.className+' '+css3hyphenateClass;},useHyphenator=function(){if(isBookmarklet&&eLang!==mainLanguage){return;}
if(supportedLangs.hasOwnProperty(eLang)){docLanguages[eLang]=true;}else{if(supportedLangs.hasOwnProperty(eLang.split('-')[0])){eLang=eLang.split('-')[0];docLanguages[eLang]=true;}else if(!isBookmarklet){hyphenate=false;onError(new Error('Language "'+eLang+'" is not yet supported.'));}}
if(hyphenate){if(intermediateState==='hidden'){el.className=el.className+' '+hideClass;}
elements.add(el,eLang);}};isChild=isChild||false;if(el.lang&&typeof el.lang==='string'){eLang=el.lang.toLowerCase();}else if(!!pLang&&pLang!==''){eLang=pLang.toLowerCase();}else{eLang=getLang(el,true);}
if(!isChild){if(css3&&css3_h9n.support&&!!css3_h9n.checkLangSupport(eLang)){useCSS3();}else{useHyphenator();}}else{if(eLang!==pLang){if(css3&&css3_h9n.support&&!!css3_h9n.checkLangSupport(eLang)){useCSS3();}else{useHyphenator();}}else{if(!css3||!css3_h9n.support||!css3_h9n.checkLangSupport(eLang)){useHyphenator();}}}
n=el.childNodes[j];while(!!n){if(n.nodeType===1&&!dontHyphenate[n.nodeName.toLowerCase()]&&n.className.indexOf(dontHyphenateClass)===-1&&n.className.indexOf(urlHyphenateClass)===-1&&!elToProcess[n]){process(n,eLang,true);}
j+=1;n=el.childNodes[j];}}
function processUrlStyled(el){var n,j=0;n=el.childNodes[j];while(!!n){if(n.nodeType===1&&!dontHyphenate[n.nodeName.toLowerCase()]&&n.className.indexOf(dontHyphenateClass)===-1&&n.className.indexOf(hyphenateClass)===-1&&!urlhyphenEls[n]){processUrlStyled(n);}else if(n.nodeType===3){n.data=hyphenateURL(n.data);}
j+=1;n=el.childNodes[j];}}
if(css3){css3_h9n=css3_gethsupport();}
if(isBookmarklet){elToProcess=contextWindow.document.getElementsByTagName('body')[0];process(elToProcess,mainLanguage,false);}else{if(!css3&&intermediateState==='hidden'){CSSEditors.push(makeCSSEdit(contextWindow));CSSEditors[CSSEditors.length-1].setRule('.'+hyphenateClass,'visibility: hidden;');CSSEditors[CSSEditors.length-1].setRule('.'+hideClass,'visibility: hidden;');CSSEditors[CSSEditors.length-1].setRule('.'+unhideClass,'visibility: visible;');}
elToProcess=selectElements();tmp=elToProcess[i];while(!!tmp){process(tmp,'',false);i+=1;tmp=elToProcess[i];}
urlhyphenEls=mySelectorFunction(urlHyphenateClass);i=0;tmp=urlhyphenEls[i];while(!!tmp){processUrlStyled(tmp);i+=1;tmp=urlhyphenEls[i];}}
if(elements.counters[0]===0){i=0;while(i<CSSEditors.length){CSSEditors[i].clearChanges();i+=1;}
onHyphenationDone(contextWindow.location.href);}}
function makeCharMap(){var int2code=[],code2int={},add=function(newValue){if(!code2int[newValue]){int2code.push(newValue);code2int[newValue]=int2code.length-1;}};return{int2code:int2code,code2int:code2int,add:add};}
function makeValueStore(len){var indexes=(function(){var arr;if(Object.prototype.hasOwnProperty.call(window,"Uint32Array")){arr=new window.Uint32Array(3);arr[0]=1;arr[1]=1;arr[2]=1;}else{arr=[1,1,1];}
return arr;}()),keys=(function(){var i,r;if(Object.prototype.hasOwnProperty.call(window,"Uint8Array")){return new window.Uint8Array(len);}
r=[];r.length=len;i=r.length-1;while(i>=0){r[i]=0;i-=1;}
return r;}()),add=function(p){keys[indexes[1]]=p;indexes[2]=indexes[1];indexes[1]+=1;},add0=function(){indexes[1]+=1;},finalize=function(){var start=indexes[0];keys[indexes[2]+1]=255;indexes[0]=indexes[2]+2;indexes[1]=indexes[0];return start;};return{keys:keys,add:add,add0:add0,finalize:finalize};}
function convertPatternsToArray(lo){var trieNextEmptyRow=0,i,charMapc2i,valueStore,indexedTrie,trieRowLength,extract=function(patternSizeInt,patterns){var charPos=0,charCode=0,mappedCharCode=0,rowStart=0,nextRowStart=0,prevWasDigit=false;while(charPos<patterns.length){charCode=patterns.charCodeAt(charPos);if((charPos+1)%patternSizeInt!==0){if(charCode<=57&&charCode>=49){valueStore.add(charCode-48);prevWasDigit=true;}else{if(!prevWasDigit){valueStore.add0();}
prevWasDigit=false;if(nextRowStart===-1){nextRowStart=trieNextEmptyRow+trieRowLength;trieNextEmptyRow=nextRowStart;indexedTrie[rowStart+mappedCharCode*2]=nextRowStart;}
mappedCharCode=charMapc2i[charCode];rowStart=nextRowStart;nextRowStart=indexedTrie[rowStart+mappedCharCode*2];if(nextRowStart===0){indexedTrie[rowStart+mappedCharCode*2]=-1;nextRowStart=-1;}}}else{if(charCode<=57&&charCode>=49){valueStore.add(charCode-48);indexedTrie[rowStart+mappedCharCode*2+1]=valueStore.finalize();}else{if(!prevWasDigit){valueStore.add0();}
valueStore.add0();if(nextRowStart===-1){nextRowStart=trieNextEmptyRow+trieRowLength;trieNextEmptyRow=nextRowStart;indexedTrie[rowStart+mappedCharCode*2]=nextRowStart;}
mappedCharCode=charMapc2i[charCode];rowStart=nextRowStart;if(indexedTrie[rowStart+mappedCharCode*2]===0){indexedTrie[rowStart+mappedCharCode*2]=-1;}
indexedTrie[rowStart+mappedCharCode*2+1]=valueStore.finalize();}
rowStart=0;nextRowStart=0;prevWasDigit=false;}
charPos+=1;}};lo.charMap=makeCharMap();i=0;while(i<lo.patternChars.length){lo.charMap.add(lo.patternChars.charCodeAt(i));i+=1;}
charMapc2i=lo.charMap.code2int;valueStore=makeValueStore(lo.valueStoreLength);lo.valueStore=valueStore;if(Object.prototype.hasOwnProperty.call(window,"Int32Array")){lo.indexedTrie=new window.Int32Array(lo.patternArrayLength*2);}else{lo.indexedTrie=[];lo.indexedTrie.length=lo.patternArrayLength*2;i=lo.indexedTrie.length-1;while(i>=0){lo.indexedTrie[i]=0;i-=1;}}
indexedTrie=lo.indexedTrie;trieRowLength=lo.charMap.int2code.length*2;forEachKey(lo.patterns,function(i){extract(parseInt(i,10),lo.patterns[i]);});}
function recreatePattern(pattern,nodePoints){var r=[],c=pattern.split(''),i=0;while(i<=c.length){if(nodePoints[i]&&nodePoints[i]!==0){r.push(nodePoints[i]);}
if(c[i]){r.push(c[i]);}
i+=1;}
return r.join('');}
function convertExceptionsToObject(exc){var w=exc.split(', '),r={},i=0,l=w.length,key;while(i<l){key=w[i].replace(/-/g,'');if(!r.hasOwnProperty(key)){r[key]=w[i];}
i+=1;}
return r;}
function loadPatterns(lang,cb){var location,xhr,head,script,done=false;if(supportedLangs.hasOwnProperty(lang)&&!Hyphenator.languages[lang]){location=basePath+'patterns/'+supportedLangs[lang].file;}else{return;}
if(isLocal&&!isBookmarklet){xhr=null;try{xhr=new window.XMLHttpRequest();}catch(ignore){try{xhr=new window.ActiveXObject("Microsoft.XMLHTTP");}catch(ignore){try{xhr=new window.ActiveXObject("Msxml2.XMLHTTP");}catch(ignore){xhr=null;}}}
if(xhr){xhr.open('HEAD',location,true);xhr.setRequestHeader('Cache-Control','no-cache');xhr.onreadystatechange=function(){if(xhr.readyState===2){if(xhr.status>=400){onError(new Error('Could not load\n'+location));delete docLanguages[lang];return;}
xhr.abort();}};xhr.send(null);}}
if(createElem){head=window.document.getElementsByTagName('head').item(0);script=createElem('script',window);script.src=location;script.type='text/javascript';script.charset='utf8';script.onreadystatechange=function(){if(!done&&(!script.readyState||script.readyState==="loaded"||script.readyState==="complete")){done=true;cb();script.onreadystatechange=null;script.onload=null;if(head&&script.parentNode){head.removeChild(script);}}};script.onload=script.onreadystatechange;head.appendChild(script);}}
function prepareLanguagesObj(lang){var lo=Hyphenator.languages[lang],wrd;if(!lo.prepared){if(enableCache){lo.cache={};}
if(enableReducedPatternSet){lo.redPatSet={};}
if(leftmin>lo.leftmin){lo.leftmin=leftmin;}
if(rightmin>lo.rightmin){lo.rightmin=rightmin;}
if(lo.hasOwnProperty('exceptions')){Hyphenator.addExceptions(lang,lo.exceptions);delete lo.exceptions;}
if(exceptions.hasOwnProperty('global')){if(exceptions.hasOwnProperty(lang)){exceptions[lang]+=', '+exceptions.global;}else{exceptions[lang]=exceptions.global;}}
if(exceptions.hasOwnProperty(lang)){lo.exceptions=convertExceptionsToObject(exceptions[lang]);delete exceptions[lang];}else{lo.exceptions={};}
convertPatternsToArray(lo);if(String.prototype.normalize){wrd='[\\w'+lo.specialChars+lo.specialChars.normalize("NFD")+String.fromCharCode(173)+String.fromCharCode(8204)+'-]{'+min+',}';}else{wrd='[\\w'+lo.specialChars+String.fromCharCode(173)+String.fromCharCode(8204)+'-]{'+min+',}';}
lo.genRegExp=new RegExp('('+wrd+')|('+url+')|('+mail+')','gi');lo.prepared=true;}}
function prepare(callback){var tmp1;function languagesLoaded(){forEachKey(docLanguages,function(l){if(Hyphenator.languages.hasOwnProperty(l)){delete docLanguages[l];if(!!storage){storage.setItem(l,window.JSON.stringify(Hyphenator.languages[l]));}
prepareLanguagesObj(l);callback(l);}});}
if(!enableRemoteLoading){forEachKey(Hyphenator.languages,function(lang){prepareLanguagesObj(lang);});callback('*');return;}
forEachKey(docLanguages,function(lang){if(!!storage&&storage.test(lang)){Hyphenator.languages[lang]=window.JSON.parse(storage.getItem(lang));prepareLanguagesObj(lang);if(exceptions.hasOwnProperty('global')){tmp1=convertExceptionsToObject(exceptions.global);forEachKey(tmp1,function(tmp2){Hyphenator.languages[lang].exceptions[tmp2]=tmp1[tmp2];});}
if(exceptions.hasOwnProperty(lang)){tmp1=convertExceptionsToObject(exceptions[lang]);forEachKey(tmp1,function(tmp2){Hyphenator.languages[lang].exceptions[tmp2]=tmp1[tmp2];});delete exceptions[lang];}
if(String.prototype.normalize){tmp1='[\\w'+Hyphenator.languages[lang].specialChars+Hyphenator.languages[lang].specialChars.normalize("NFD")+String.fromCharCode(173)+String.fromCharCode(8204)+'-]{'+min+',}';}else{tmp1='[\\w'+Hyphenator.languages[lang].specialChars+String.fromCharCode(173)+String.fromCharCode(8204)+'-]{'+min+',}';}
Hyphenator.languages[lang].genRegExp=new RegExp('('+tmp1+')|('+url+')|('+mail+')','gi');if(enableCache){if(!Hyphenator.languages[lang].cache){Hyphenator.languages[lang].cache={};}}
delete docLanguages[lang];callback(lang);}else{loadPatterns(lang,languagesLoaded);}});languagesLoaded();}
var toggleBox=function(){var bdy,myTextNode,text=(Hyphenator.doHyphenation?'Hy-phen-a-tion':'Hyphenation'),myBox=contextWindow.document.getElementById('HyphenatorToggleBox');if(!!myBox){myBox.firstChild.data=text;}else{bdy=contextWindow.document.getElementsByTagName('body')[0];myBox=createElem('div',contextWindow);myBox.setAttribute('id','HyphenatorToggleBox');myBox.setAttribute('class',dontHyphenateClass);myTextNode=contextWindow.document.createTextNode(text);myBox.appendChild(myTextNode);myBox.onclick=Hyphenator.toggleHyphenation;myBox.style.position='absolute';myBox.style.top='0px';myBox.style.right='0px';myBox.style.zIndex='1000';myBox.style.margin='0';myBox.style.backgroundColor='#AAAAAA';myBox.style.color='#FFFFFF';myBox.style.font='6pt Arial';myBox.style.letterSpacing='0.2em';myBox.style.padding='3px';myBox.style.cursor='pointer';myBox.style.WebkitBorderBottomLeftRadius='4px';myBox.style.MozBorderRadiusBottomleft='4px';myBox.style.borderBottomLeftRadius='4px';bdy.appendChild(myBox);}};function doCharSubst(loCharSubst,w){var r=w;forEachKey(loCharSubst,function(subst){r=r.replace(new RegExp(subst,'g'),loCharSubst[subst]);});return r;}
var wwAsMappedCharCodeStore=(function(){if(Object.prototype.hasOwnProperty.call(window,"Int32Array")){return new window.Int32Array(64);}
return[];}());var wwhpStore=(function(){var r;if(Object.prototype.hasOwnProperty.call(window,"Uint8Array")){r=new window.Uint8Array(64);}else{r=[];}
return r;}());function hyphenateCompound(lo,lang,word){var hw,parts,i=0;switch(compound){case "auto":parts=word.split('-');while(i<parts.length){if(parts[i].length>=min){parts[i]=hyphenateWord(lo,lang,parts[i]);}
i+=1;}
hw=parts.join('-');break;case "all":parts=word.split('-');while(i<parts.length){if(parts[i].length>=min){parts[i]=hyphenateWord(lo,lang,parts[i]);}
i+=1;}
hw=parts.join('-'+zeroWidthSpace);break;case "hyphen":hw=word.replace('-','-'+zeroWidthSpace);break;default:onError(new Error('Hyphenator.settings: compound setting "'+compound+'" not known.'));}
return hw;}
function hyphenateWord(lo,lang,word){var pattern="",ww,wwlen,wwhp=wwhpStore,pstart=0,plen,hp,hpc,wordLength=word.length,hw='',charMap=lo.charMap.code2int,charCode,mappedCharCode,row=0,link=0,value=0,values,indexedTrie=lo.indexedTrie,valueStore=lo.valueStore.keys,wwAsMappedCharCode=wwAsMappedCharCodeStore;word=onBeforeWordHyphenation(word,lang);if(word===''){hw='';}else if(enableCache&&lo.cache&&lo.cache.hasOwnProperty(word)){hw=lo.cache[word];}else if(word.indexOf(hyphen)!==-1){hw=word;}else if(lo.exceptions.hasOwnProperty(word)){hw=lo.exceptions[word].replace(/-/g,hyphen);}else if(word.indexOf('-')!==-1){hw=hyphenateCompound(lo,lang,word);}else{ww=word.toLowerCase();if(String.prototype.normalize){ww=ww.normalize("NFC");}
if(lo.hasOwnProperty("charSubstitution")){ww=doCharSubst(lo.charSubstitution,ww);}
if(word.indexOf("'")!==-1){ww=ww.replace(/'/g,"’");}
ww='_'+ww+'_';wwlen=ww.length;while(pstart<wwlen){wwhp[pstart]=0;charCode=ww.charCodeAt(pstart);wwAsMappedCharCode[pstart]=charMap.hasOwnProperty(charCode)?charMap[charCode]:-1;pstart+=1;}
pstart=0;while(pstart<wwlen){row=0;pattern='';plen=pstart;while(plen<wwlen){mappedCharCode=wwAsMappedCharCode[plen];if(mappedCharCode===-1){break;}
if(enableReducedPatternSet){pattern+=ww.charAt(plen);}
link=indexedTrie[row+mappedCharCode*2];value=indexedTrie[row+mappedCharCode*2+1];if(value>0){hpc=0;hp=valueStore[value+hpc];while(hp!==255){if(hp>wwhp[pstart+hpc]){wwhp[pstart+hpc]=hp;}
hpc+=1;hp=valueStore[value+hpc];}
if(enableReducedPatternSet){if(!lo.redPatSet){lo.redPatSet={};}
if(valueStore.subarray){values=valueStore.subarray(value,value+hpc);}else{values=valueStore.slice(value,value+hpc);}
lo.redPatSet[pattern]=recreatePattern(pattern,values);}}
if(link>0){row=link;}else{break;}
plen+=1;}
pstart+=1;}
hp=0;while(hp<wordLength){if(hp>=lo.leftmin&&hp<=(wordLength-lo.rightmin)&&(wwhp[hp+1]%2)!==0){hw+=hyphen+word.charAt(hp);}else{hw+=word.charAt(hp);}
hp+=1;}}
hw=onAfterWordHyphenation(hw,lang);if(enableCache){lo.cache[word]=hw;}
return hw;}
function removeHyphenationFromElement(el){var h,u,i=0,n;if(".\\+*?[^]$(){}=!<>|:-".indexOf(hyphen)!==-1){h="\\"+hyphen;}else{h=hyphen;}
if(".\\+*?[^]$(){}=!<>|:-".indexOf(urlhyphen)!==-1){u="\\"+urlhyphen;}else{u=urlhyphen;}
n=el.childNodes[i];while(!!n){if(n.nodeType===3){n.data=n.data.replace(new RegExp(h,'g'),'');n.data=n.data.replace(new RegExp(u,'g'),'');}else if(n.nodeType===1){removeHyphenationFromElement(n);}
i+=1;n=el.childNodes[i];}}
var copy=(function(){var makeCopy=function(){var oncopyHandler=function(e){e=e||window.event;var shadow,selection,range,rangeShadow,restore,target=e.target||e.srcElement,currDoc=target.ownerDocument,bdy=currDoc.getElementsByTagName('body')[0],targetWindow=currDoc.defaultView||currDoc.parentWindow;if(target.tagName&&dontHyphenate[target.tagName.toLowerCase()]){return;}
shadow=currDoc.createElement('div');shadow.style.color=window.getComputedStyle?targetWindow.getComputedStyle(bdy,null).backgroundColor:'#FFFFFF';shadow.style.fontSize='0px';bdy.appendChild(shadow);if(!!window.getSelection){e.stopPropagation();selection=targetWindow.getSelection();range=selection.getRangeAt(0);shadow.appendChild(range.cloneContents());removeHyphenationFromElement(shadow);selection.selectAllChildren(shadow);restore=function(){shadow.parentNode.removeChild(shadow);selection.removeAllRanges();selection.addRange(range);};}else{e.cancelBubble=true;selection=targetWindow.document.selection;range=selection.createRange();shadow.innerHTML=range.htmlText;removeHyphenationFromElement(shadow);rangeShadow=bdy.createTextRange();rangeShadow.moveToElementText(shadow);rangeShadow.select();restore=function(){shadow.parentNode.removeChild(shadow);if(range.text!==""){range.select();}};}
zeroTimeOut(restore);},removeOnCopy=function(el){var body=el.ownerDocument.getElementsByTagName('body')[0];if(!body){return;}
el=el||body;if(window.removeEventListener){el.removeEventListener("copy",oncopyHandler,true);}else{el.detachEvent("oncopy",oncopyHandler);}},registerOnCopy=function(el){var body=el.ownerDocument.getElementsByTagName('body')[0];if(!body){return;}
el=el||body;if(window.addEventListener){el.addEventListener("copy",oncopyHandler,true);}else{el.attachEvent("oncopy",oncopyHandler);}};return{oncopyHandler:oncopyHandler,removeOnCopy:removeOnCopy,registerOnCopy:registerOnCopy};};return(safeCopy?makeCopy():false);}());function checkIfAllDone(){var allDone=true,i=0,doclist={};elements.each(function(ellist){var j=0,l=ellist.length;while(j<l){allDone=allDone&&ellist[j].hyphenated;if(!doclist.hasOwnProperty(ellist[j].element.baseURI)){doclist[ellist[j].element.ownerDocument.location.href]=true;}
doclist[ellist[j].element.ownerDocument.location.href]=doclist[ellist[j].element.ownerDocument.location.href]&&ellist[j].hyphenated;j+=1;}});if(allDone){if(intermediateState==='hidden'&&unhide==='progressive'){elements.each(function(ellist){var j=0,l=ellist.length,el;while(j<l){el=ellist[j].element;el.className=el.className.replace(unhideClassRegExp,'');if(el.className===''){el.removeAttribute('class');}
j+=1;}});}
while(i<CSSEditors.length){CSSEditors[i].clearChanges();i+=1;}
forEachKey(doclist,function(doc){onHyphenationDone(doc);});if(!!storage&&storage.deferred.length>0){i=0;while(i<storage.deferred.length){storage.deferred[i].call();i+=1;}
storage.deferred=[];}}}
function controlOrphans(ignore,leadingWhiteSpace,lastWord,trailingWhiteSpace){var h=hyphen;if(".\\+*?[^]$(){}=!<>|:-".indexOf(hyphen)!==-1){h="\\"+hyphen;}else{h=hyphen;}
if(orphanControl===3&&leadingWhiteSpace===" "){leadingWhiteSpace=String.fromCharCode(160);}
return leadingWhiteSpace+lastWord.replace(new RegExp(h+"|"+zeroWidthSpace,'g'),'')+trailingWhiteSpace;}
function hyphenateElement(lang,elo){var el=elo.element,hyphenate,n,i,lo;if(Hyphenator.languages.hasOwnProperty(lang)&&Hyphenator.doHyphenation){lo=Hyphenator.languages[lang];hyphenate=function(match,word,url,mail){var r;if(!!url||!!mail){r=hyphenateURL(match);}else{r=hyphenateWord(lo,lang,word);}
return r;};if(safeCopy&&(el.tagName.toLowerCase()!=='body')){copy.registerOnCopy(el);}
i=0;n=el.childNodes[i];while(!!n){if(n.nodeType===3&&(/\S/).test(n.data)&&n.data.length>=min){n.data=n.data.replace(lo.genRegExp,hyphenate);if(orphanControl!==1){n.data=n.data.replace(/(\ *)(\S+)(\s*)$/,controlOrphans);}}
i+=1;n=el.childNodes[i];}}
if(intermediateState==='hidden'&&unhide==='wait'){el.className=el.className.replace(hideClassRegExp,'');if(el.className===''){el.removeAttribute('class');}}
if(intermediateState==='hidden'&&unhide==='progressive'){el.className=el.className.replace(hideClassRegExp,' '+unhideClass);}
elo.hyphenated=true;elements.counters[1]+=1;if(elements.counters[0]<=elements.counters[1]){checkIfAllDone();}}
function hyphenateLanguageElements(lang){var i=0,l;if(lang==='*'){elements.each(function(lang,ellist){var j=0,le=ellist.length;while(j<le){hyphenateElement(lang,ellist[j]);j+=1;}});}else{if(elements.list.hasOwnProperty(lang)){l=elements.list[lang].length;while(i<l){hyphenateElement(lang,elements.list[lang][i]);i+=1;}}}}
function removeHyphenationFromDocument(){elements.each(function(ellist){var i=0,l=ellist.length;while(i<l){removeHyphenationFromElement(ellist[i].element);if(safeCopy){copy.removeOnCopy(ellist[i].element);}
ellist[i].hyphenated=false;i+=1;}});}
function createStorage(){var s;function makeStorage(s){var store=s,prefix='Hyphenator_'+Hyphenator.version+'_',deferred=[],test=function(name){var val=store.getItem(prefix+name);return!!val;},getItem=function(name){return store.getItem(prefix+name);},setItem=function(name,value){try{store.setItem(prefix+name,value);}catch(e){onError(e);}};return{deferred:deferred,test:test,getItem:getItem,setItem:setItem};}
try{if(storageType!=='none'&&window.JSON!==undefined&&window.localStorage!==undefined&&window.sessionStorage!==undefined&&window.JSON.stringify!==undefined&&window.JSON.parse!==undefined){switch(storageType){case 'session':s=window.sessionStorage;break;case 'local':s=window.localStorage;break;default:s=undefined;}
s.setItem('storageTest','1');s.removeItem('storageTest');}}catch(ignore){s=undefined;}
if(s){storage=makeStorage(s);}else{storage=undefined;}}
function storeConfiguration(){if(!storage){return;}
var settings={'STORED':true,'classname':hyphenateClass,'urlclassname':urlHyphenateClass,'donthyphenateclassname':dontHyphenateClass,'minwordlength':min,'hyphenchar':hyphen,'urlhyphenchar':urlhyphen,'togglebox':toggleBox,'displaytogglebox':displayToggleBox,'remoteloading':enableRemoteLoading,'enablecache':enableCache,'enablereducedpatternset':enableReducedPatternSet,'onhyphenationdonecallback':onHyphenationDone,'onerrorhandler':onError,'onwarninghandler':onWarning,'intermediatestate':intermediateState,'selectorfunction':selectorFunction||mySelectorFunction,'safecopy':safeCopy,'doframes':doFrames,'storagetype':storageType,'orphancontrol':orphanControl,'dohyphenation':Hyphenator.doHyphenation,'persistentconfig':persistentConfig,'defaultlanguage':defaultLanguage,'useCSS3hyphenation':css3,'unhide':unhide,'onbeforewordhyphenation':onBeforeWordHyphenation,'onafterwordhyphenation':onAfterWordHyphenation,'leftmin':leftmin,'rightmin':rightmin,'compound':compound};storage.setItem('config',window.JSON.stringify(settings));}
function restoreConfiguration(){var settings;if(storage.test('config')){settings=window.JSON.parse(storage.getItem('config'));Hyphenator.config(settings);}}
var version='5.2.0(devel)';var doHyphenation=true;var languages={};function config(obj){var assert=function(name,type){var r,t;t=typeof obj[name];if(t===type){r=true;}else{onError(new Error('Config onError: '+name+' must be of type '+type));r=false;}
return r;};if(obj.hasOwnProperty('storagetype')){if(assert('storagetype','string')){storageType=obj.storagetype;}
if(!storage){createStorage();}}
if(!obj.hasOwnProperty('STORED')&&storage&&obj.hasOwnProperty('persistentconfig')&&obj.persistentconfig===true){restoreConfiguration();}
forEachKey(obj,function(key){switch(key){case 'STORED':break;case 'classname':if(assert('classname','string')){hyphenateClass=obj[key];}
break;case 'urlclassname':if(assert('urlclassname','string')){urlHyphenateClass=obj[key];}
break;case 'donthyphenateclassname':if(assert('donthyphenateclassname','string')){dontHyphenateClass=obj[key];}
break;case 'minwordlength':if(assert('minwordlength','number')){min=obj[key];}
break;case 'hyphenchar':if(assert('hyphenchar','string')){if(obj.hyphenchar==='&shy;'){obj.hyphenchar=String.fromCharCode(173);}
hyphen=obj[key];}
break;case 'urlhyphenchar':if(obj.hasOwnProperty('urlhyphenchar')){if(assert('urlhyphenchar','string')){urlhyphen=obj[key];}}
break;case 'togglebox':if(assert('togglebox','function')){toggleBox=obj[key];}
break;case 'displaytogglebox':if(assert('displaytogglebox','boolean')){displayToggleBox=obj[key];}
break;case 'remoteloading':if(assert('remoteloading','boolean')){enableRemoteLoading=obj[key];}
break;case 'enablecache':if(assert('enablecache','boolean')){enableCache=obj[key];}
break;case 'enablereducedpatternset':if(assert('enablereducedpatternset','boolean')){enableReducedPatternSet=obj[key];}
break;case 'onhyphenationdonecallback':if(assert('onhyphenationdonecallback','function')){onHyphenationDone=obj[key];}
break;case 'onerrorhandler':if(assert('onerrorhandler','function')){onError=obj[key];}
break;case 'onwarninghandler':if(assert('onwarninghandler','function')){onWarning=obj[key];}
break;case 'intermediatestate':if(assert('intermediatestate','string')){intermediateState=obj[key];}
break;case 'selectorfunction':if(assert('selectorfunction','function')){selectorFunction=obj[key];}
break;case 'safecopy':if(assert('safecopy','boolean')){safeCopy=obj[key];}
break;case 'doframes':if(assert('doframes','boolean')){doFrames=obj[key];}
break;case 'storagetype':if(assert('storagetype','string')){storageType=obj[key];}
break;case 'orphancontrol':if(assert('orphancontrol','number')){orphanControl=obj[key];}
break;case 'dohyphenation':if(assert('dohyphenation','boolean')){Hyphenator.doHyphenation=obj[key];}
break;case 'persistentconfig':if(assert('persistentconfig','boolean')){persistentConfig=obj[key];}
break;case 'defaultlanguage':if(assert('defaultlanguage','string')){defaultLanguage=obj[key];}
break;case 'useCSS3hyphenation':if(assert('useCSS3hyphenation','boolean')){css3=obj[key];}
break;case 'unhide':if(assert('unhide','string')){unhide=obj[key];}
break;case 'onbeforewordhyphenation':if(assert('onbeforewordhyphenation','function')){onBeforeWordHyphenation=obj[key];}
break;case 'onafterwordhyphenation':if(assert('onafterwordhyphenation','function')){onAfterWordHyphenation=obj[key];}
break;case 'leftmin':if(assert('leftmin','number')){leftmin=obj[key];}
break;case 'rightmin':if(assert('rightmin','number')){rightmin=obj[key];}
break;case 'compound':if(assert('compound','string')){compound=obj[key];}
break;default:onError(new Error('Hyphenator.config: property '+key+' not known.'));}});if(storage&&persistentConfig){storeConfiguration();}}
function run(){var process=function(){try{if(contextWindow.document.getElementsByTagName('frameset').length>0){return;}
autoSetMainLanguage(undefined);gatherDocumentInfos();if(displayToggleBox){toggleBox();}
prepare(hyphenateLanguageElements);}catch(e){onError(e);}};if(!storage){createStorage();}
runWhenLoaded(window,process);}
function addExceptions(lang,words){if(lang===''){lang='global';}
if(exceptions.hasOwnProperty(lang)){exceptions[lang]+=", "+words;}else{exceptions[lang]=words;}}
function hyphenate(target,lang){var turnout,n,i,lo;lo=Hyphenator.languages[lang];if(Hyphenator.languages.hasOwnProperty(lang)){if(!lo.prepared){prepareLanguagesObj(lang);}
turnout=function(match,word,url,mail){var r;if(!!url||!!mail){r=hyphenateURL(match);}else{r=hyphenateWord(lo,lang,word);}
return r;};if(typeof target==='object'&&!(typeof target==='string'||target.constructor===String)){i=0;n=target.childNodes[i];while(!!n){if(n.nodeType===3&&(/\S/).test(n.data)&&n.data.length>=min){n.data=n.data.replace(lo.genRegExp,turnout);}else if(n.nodeType===1){if(n.lang!==''){Hyphenator.hyphenate(n,n.lang);}else{Hyphenator.hyphenate(n,lang);}}
i+=1;n=target.childNodes[i];}}else if(typeof target==='string'||target.constructor===String){return target.replace(lo.genRegExp,turnout);}}else{onError(new Error('Language "'+lang+'" is not loaded.'));}}
function getRedPatternSet(lang){return Hyphenator.languages[lang].redPatSet;}
function getConfigFromURI(){var loc=null,re={},jsArray=contextWindow.document.getElementsByTagName('script'),i=0,j=0,l=jsArray.length,s,gp,option;while(i<l){if(!!jsArray[i].getAttribute('src')){loc=jsArray[i].getAttribute('src');}
if(loc&&(loc.indexOf('Hyphenator.js?')!==-1)){s=loc.indexOf('Hyphenator.js?');gp=loc.substring(s+14).split('&');while(j<gp.length){option=gp[j].split('=');if(option[0]!=='bm'){if(option[1]==='true'){option[1]=true;}else if(option[1]==='false'){option[1]=false;}else if(isFinite(option[1])){option[1]=parseInt(option[1],10);}
if(option[0]==='togglebox'||option[0]==='onhyphenationdonecallback'||option[0]==='onerrorhandler'||option[0]==='selectorfunction'||option[0]==='onbeforewordhyphenation'||option[0]==='onafterwordhyphenation'){option[1]=new Function('',option[1]);}
re[option[0]]=option[1];}
j+=1;}
break;}
i+=1;}
return re;}
function toggleHyphenation(){if(Hyphenator.doHyphenation){if(!!css3hyphenateClassHandle){css3hyphenateClassHandle.setRule('.'+css3hyphenateClass,css3_h9n.property+': none;');}
removeHyphenationFromDocument();Hyphenator.doHyphenation=false;storeConfiguration();toggleBox();}else{if(!!css3hyphenateClassHandle){css3hyphenateClassHandle.setRule('.'+css3hyphenateClass,css3_h9n.property+': auto;');}
Hyphenator.doHyphenation=true;hyphenateLanguageElements('*');storeConfiguration();toggleBox();}}
return{version:version,doHyphenation:doHyphenation,languages:languages,config:config,run:run,addExceptions:addExceptions,hyphenate:hyphenate,getRedPatternSet:getRedPatternSet,isBookmarklet:isBookmarklet,getConfigFromURI:getConfigFromURI,toggleHyphenation:toggleHyphenation};}(window));if(Hyphenator.isBookmarklet){Hyphenator.config({displaytogglebox:true,intermediatestate:'visible',storagetype:'local',doframes:true,useCSS3hyphenation:true});Hyphenator.config(Hyphenator.getConfigFromURI());Hyphenator.run();}
Hyphenator.languages['fr']={leftmin:3,rightmin:3,specialChars:"àâçèéêëîïôûüœæ’'",patterns:{2:"1ç1j1q",3:"1gè’â41zu1zo1zi1zè1zé1ze1za’y4_y41wu1wo1wi1we1wa1vy1vû1vu1vô1vo1vî1vi1vê1vè1vé1ve1vâ1va’û4_û4’u4_u41ba1bâ1ty1be1bé1bè1bê1tû1tu1tô1bi1bî1to1tî1ti1tê1tè1té1te1tà1tâ1ta1bo1bô1sy1sû1su1sœ1bu1bû1by2’21ca1câ1sô1ce1cé1cè1cê1so1sî1si1sê1sè1sé1se1sâ1sa1ry1rû1ru1rô1ro1rî1ri1rê1rè1ré1re1râ1ra’a41py1pû1pu1pô1po1pî1pi1pê1pè1pé1pe1pâ1pa_ô41ci1cî’ô4’o4_o41nyn1x1nû1nu1nœ1nô1no1nî1ni1nê1nè1né1ne1nâ1co1cô1na1my1mû1mu1mœ1mô1mo1mî1mi1cœ1mê1mè1mé1me1mâ1ma1ly1lû1lu1lô1lo1lî1li1lê1lè1cu1cû1cy1lé1d’1da1dâ1le1là1de1dé1dè1dê1lâ1la1ky1kû1ku1kô1ko1kî1ki1kê1kè1ké1ke1kâ1ka2jk_a4’î4_î4’i4_i41hy1hû1hu1hô1ho1hî1hi1hê1hè1hé1he1hâ1ha1gy1gû1gu1gô1go1gî1gi1gê_â41gé1ge1gâ1ga1fy1di1dî1fû1fu1fô1fo’e41fî1fi1fê1fè1do1dô1fé1fe1fâ1fa’è41du1dû1dy_è4’é4_é4’ê4_ê4_e41zy",4:"1f2lab2h2ckg2ckp2cksd1s22ckb4ck_1c2k2chw4ze_4ne_2ckt1c2lad2hm1s22cht2chsch2r2chp4pe_1t2r1p2h_ph44ph_ph2l2phnph2r2phs1d2r2pht2chn4fe_2chm1p2l1p2r4me_1w2rch2l2chg1c2r2chb4ch_1f2r4le_4re_4de_f1s21k2r4we_1r2h_kh44kh_1k2h4ke_1c2h_ch44ge_4je_4se_1v2r_sh41s2h4ve_4sh_2shm2shr2shs4ce_il2l1b2r4be_1b2l4he_4te__th41t2h4th_g1s21g2r2thl1g2l2thm2thnth2r1g2n2ths2ckf",5:"2ck3h4rhe_4kes_4wes_4res_4cke_éd2hi4vre_4jes_4tre_4zes_4ges_4des_i1oxy4gle_d1d2h_cul44gne_4fre_o1d2l_sch44nes_4les_4gre_1s2ch_réu24sch_4the_1g2hy4gue_2schs4cle_1g2ho1g2hi1g2he4ses_4tes_1g2ha4ves_4she_4che_4cre_4ces_t1t2l4hes_l1s2t4bes_4ble__con4xil3lco1ap4que_vil3l4fle_co1arco1exco1enco1auco1axco1ef4pes_co1é2per3h4mes__pe4r4bre_4pre_4phe_1p2né4ple__dé2smil3llil3lhil3l4dre_cil3lgil3l4fes_",6:"’in1o2rcil4l4phre_4dres_l3lioni1algi2fent_émil4l4phle_rmil4l4ples_4phes_1p2neuextra14pres_y1asthpé2nul2xent__mé2sa2pent_y1algi4chre_1m2nès4bres_1p2tèr1p2tér4chle_’en1o24fles_oxy1a2avil4l_en1o24ques_uvil4lco1a2d4bles__in1a2’in1a21s2por_cons4_bi1u2’as2ta_in1e2’in1e2_in1é2’in1é21s2lov1s2lavco1acq2cent__as2ta_co1o24ches_hémi1é_in2er’in2er2s3homo1ioni_in1i2’in1i22went_4shes__ré1a2_ré1é2_ré1e2_ré2el_in1o2ucil4lco1accu2s3tr_ré2er_ré2èr4cles_2vent__ré1i22sent_2tent_2gent__ré1o24gues__re1s24sche_4thes_’en1a2e2s3ch4gres_1s2cop2lent__en1a22nent__in1u2’in1u24gnes_4cres_wa2g3n4fres_4tres_4gles_1octet_dé1o2_dé1io4thre__bi1au2jent__dé1a22zent_4vres_2dent_4ckes_4rhes__dy2s3sub1s22kent_2rent_2bent_3d2hal",7:"a2g3nos3d2houdé3rent__dé3s2t_dé3s2pé3dent_2r3heur2r3hydri1s2tat2frent_io1a2ctla2w3re’in2u3l_in2u3l2crent_’in2uit_in2uit1s2caph1s2clér_ré2ussi2s3ché_re2s3t_re2s3s4sches_é3cent__seu2le’in2ond_in2ond’in2i3t_in2i3t’in2i3q_ré2aux_in2i3q2shent__di1alduni1a2x’in2ept2flent__in2eptuni1o2v2brent_co2nurb2chent_2quent_1s2perm1s2phèr_ma2c3kuevil4l1s2phér1s2piel1s2tein1s2tigm4chles_1s2tock1s2tyle1p2sych_pro1é2_ma2r1x_stil3lpusil3libril3lcyril3l_pré1s2thril3l_mé3san_pré1u2_mé2s1i_pré1o2_pré1i2piril3lpupil3lâ2ment__pré1e2_pré1é2_pré2au_pré1a22prent_2vrent_supero2_di1e2npoly1u2è2ment_poly1s2poly1o2poly1i2poly1è2poly1é2poly1e2poly1a2supe4r1capil3l2plent_armil5lsemil4lmil4letvacil4l_di2s3h3ph2tis2dlent_a2s3tro4phres_l2ment_i1è2drei1arthr2drent_4phles_supers2ô2ment_extra2i2phent_su3r2ah_su2r3hextra2chypo1u21alcool_per1u2_per1o2_per1i2_per1é2hypo1s2_per1a2hypo1o2hypo1i2hypo1é2_pen2tahypo1e2hypo1a2y1s2tome2s3cophyperu2hype4r1hypers2hypero21m2némohyperi21m2nési4chres_a1è2drehyperé2hypere2hypera2’oua1ou_oua1ouo1s2tomo1s2timo1s2tato1s2tasomni1s2tung2s3_dé3s2c2blent__bio1a2télé1e2télé1i22clent_télé1s22guent_1é2nerg2grent_2trent__dé2s1œ2t3heuro1è2dre2gnent_2glent_4thres__bi1a2t1é2drie_bi1a2c_i2g3nin3s2at_’i2g3ni2ckent__i2g3né’ab3réa’i2g3né_ab3réa_per1e2",8:"_ma2l1ap_dy2s1u2_dy2s1o2_dy2s1i2n3s2ats__dy2s1a2distil3l1é2lectrinstil3l1s2trophe2n1i2vro2b3long1s2tomos_ae3s4ch’ae3s4ch_eu2r1a2ombud2s3’eu2r1a2_mono1s2_mono1u2o1s2téro_mono1o2eu1s2tato1s2tradfritil3la2l1algi_mono1i2_mono1é2_ovi1s2c’ovi1s2c_mono1e2_mono1a2co1assocpaléo1é2boutil3l1s2piros_ré2i3fi_pa2n1ischevil4l1s2patiaca3ou3t2_di1a2cé_para1s2_pa2r3héco1assur_su2b1é2tu2ment_su2ment__su2b1in_su2b3lupapil3lire3pent_’inte4r3_su2b1urab3sent__su2b1a2di2s3cophu2ment_fu2ment__intera2au2ment_as2ment_or2ment_’intera2_intere2pé1r2é2q_péri1os_péri1s2ja3cent__anti1a2_péri1u2’anti1a2er2ment__anti1e2ac3cent_ar2ment_to2ment_’intere2ré3gent_papil3leom2ment_’anti1e2photo1s2_anti1é2_interé2’anti1é2_anti1s2’anti1s23ph2talé’interé2ri2ment__interi2’interi2mi2ment_apo2s3tri2s3chio_pluri1ai2s3chia_intero2’intero2_inte4r3po1astre_interu2’interu2_inters2ai2ment_’inters2papil3la_tri1o2n_su2r1a2_pon2tet_pos2t3h_dés2a3mes3cent__pos2t3r_post1s2_tri1a2tta2ment__tri1a2nra2ment_is3cent__su2r1e2_tri1a2cfa2ment_da2ment__su3r2et_su2r1é2_mé2s1es_mé2g1oh_su2r1of_su2r1ox_re3s4ty_re3s4tu_ma2l1oc’a2g3nat_dé2s1é2_ma2l1entachy1a2_pud1d2ltchin3t2_re3s4trtran2s3p_bi2s1a2tran2s3hhémo1p2té3quent__a2g3nat_dé2s1i2télé1o2bo2g3nosiradio1a2télé1o2ppu2g3nacru3lent__sta2g3nre3lent__ré2a3le_di1a2mi",9:"_ré2a3lit_dé3s2o3lthermo1s2_dé3s2ist_dé3s2i3rmit3tent_éni3tent__do3lent__ré2a3lisopu3lent__pa3tent__re2s3cap_la3tent__co2o3lie_re2s3cou_re2s3cri_ma2g3num_re2s3pir_dé3s2i3dco2g3nititran2s1a2tran2s1o2_dé3s2exu_re3s4tab_re3s4tag_dé3s2ert_re3s4tat_re3s4tén_re3s4tér_re3s4tim_re3s4tip_re3s4toc_re3s4toptran2s1u2_no2n1obs_ma2l1a2v_ma2l1int_prou3d2hpro2s3tativa3lent__ta3lent__rétro1a2_pro1s2cé_ma2l1o2dcci3dent__pa3rent__su2r1int_su2r1inf_su2r1i2mtor3rent_cur3rent__mé2s1u2stri3dent__dé3s2orm_su3r2ell_ar3dent__su3r2eaupru3dent__pré2a3lacla2ment__su3r2a3t_pos2t1o2_pos2t1inqua2ment_ter3gent_ser3gent_rai3ment_abî2ment_éci2ment_’ar3gent__ar3gent_rin3gent_tan3gent_éli2ment_ani2ment_’apo2s3ta_apo2s3tavélo1s2kivol2t1amp_dé3s2orp_dé2s1u2n_péri2s3ssesqui1a2’ana3s4trfir2ment_écu2ment_ser3pent_pré3sent_’ar3pent__ar3pent_’in1s2tab_in1s2tab’in2o3cul_in2o3culplu2ment_bou2ment_’in2exora_in2exora_su2b3linbru2ment__su3b2é3r_milli1am’in2effab_in2effab’in2augur_di1a2cid_in2augur_pa2n1opt’in2a3nit_in2a3nit1informat_ana3s4trvanil3lis_di1a2tom_su3b2altvanil3linstéréo1s2_pa2n1a2fo1s2tratuépi2s3cop_ci2s1alp1s2tructu1é2lément1é2driquepapil3lomllu2ment_",10:"1s2tandardimmi3nent__émi3nent_imma3nent_réma3nent_épi3s4cope_in2i3miti’in2i3miti_res3sent_moye2n1â2gréti3cent__dé3s2a3crmon2t3réalinno3cent__mono1ï2dé_pa2n1a2méimpu3dent__pa2n1a2ra_amino1a2c’amino1a2c_pa2n1o2phinci3dent__ser3ment_appa3rent_déca3dent__dacryo1a2_dé3s2astr_re4s5trin_dé3s2é3gr_péri2s3ta_sar3ment__dé3s2oufr_re3s4tandchro2ment__com3ment__re2s3quil_re2s3pons_gem2ment__re2s3pect_re2s3ciso_dé3s2i3gn_dé3s2i3ligram2ment__dé3s2invo_re2s3cisitran3s2act’anti2enneindo3lent__sou3vent_indi3gent_dili3gent_flam2ment_impo3tent_inso3lent_esti2ment_’on3guent__on3guent_inti2ment__dé3s2o3défécu3lent_veni2ment_reli2ment_vidi2ment_chlo2r3é2tpu2g3nablechlo2r3a2cryth2ment_o2g3nomonicarê2ment__méta1s2ta_ma2l1aisé_macro1s2célo3quent_tran3s2ats_anti2enne",11:"_contre1s2cperti3nent_conti3nent__ma2l1a2dro_in2é3lucta_psycho1a2n_dé3s2o3pil’in2é3luctaperma3nent__in2é3narratesta3ment__su2b3liminrésur3gent_’in2é3narraimmis4cent__pro2g3nathchien3dent_sporu4lent_dissi3dent_corpu3lent_archi1é2pissubli2ment_indul3gent_confi3dent__syn2g3nathtrucu3lent_détri3ment_nutri3ment_succu3lent_turbu3lent__pa2r1a2che_pa2r1a2chèfichu3ment_entre3gent_conni3vent_mécon3tent_compé3tent__re4s5trict_dé3s2i3nen_re2s3plend1a2nesthésislalo2ment__dé3s2ensib_re4s5trein_phalan3s2tabsti3nent_",12:"polyva3lent_équiva4lent_monova3lent_amalga2ment_omnipo3tent__ma2l1a2dreséquipo3tent__dé3s2a3tellproémi3nent_contin3gent_munifi3cent__ma2g3nicideo1s2trictionsurémi3nent_préémi3nent__bai2se3main",13:"acquies4cent_intelli3gent_tempéra3ment_transpa3rent__ma2g3nificatantifer3ment_",14:"privatdo3cent_diaphrag2ment_privatdo3zent_ventripo3tent__contre3maître",15:"grandilo3quent_",16:"_chè2vre3feuille"},patternChars:"_abcdefghijklmnopqrstuvwxyzàâçèéêîïôûœ’",patternArrayLength:79410,valueStoreLength:5134};if(window.jQuery){(function($){function realVal($elem){var tagName=$elem.get(0).tagName.toLowerCase();if(tagName!="option"&&tagName!="select")return $elem.val();var values=[];$elem.find("option").andSelf().filter("option").each(function(){if(!this.selected)return;var v=this.value;var realV=this.getAttribute("real-value");if(realV!=undefined)return values.push(realV);if(v!=undefined)values.push(v);});if(tagName=="select"&&$elem.attr("multiple")=="multiple")return values;if(!values.length)return null;return values[0];}
$.fn.jsonVal=function(){var isGet=false;if(!arguments.length||arguments[0]==undefined||typeof arguments[0]=="boolean"){isGet=true;var booleanToString=arguments[0];var o={};}else{var o=arguments[0];}
this.find(":input, ul[gui]").andSelf().filter(":input, ul[gui]").each(function(){if(this.tagName.toLowerCase()=="ul"){var $this=$(this).prev();var _this=$this.get(0);}else{var $this=$(this);var _this=this;}
if(_this.name){if(isGet)o[_this.name]=realVal($this);else{if(o[_this.name]!=undefined)$this.val(o[_this.name]);}}else{var values=[];$this.find("option").each(function(){if(!this.value)return;if(isGet){var v=this.selected;if(booleanToString)v=String(v);o[this.value]=v;}else{if(eval(o[this.value])==true)values.push(this.value);}});if(!isGet)$this.val(values);}});if(isGet)return o;return this;};var __guiGetHTML={};__guiGetHTML["buttons"]=function(value){return null;};var __guiRender={};__guiRender["chooselist"]=function(){var behavior=this.data("guiBehavior").apply(this,[this.attr("gui-behavior")]);this.prev().html(behavior.getHTML.apply(this,[realVal(this)]));};__guiRender["buttons"]=function(){var _this=this;var selectBehaviorAttr=this.attr("gui-behavior");var $prev=this.prev();$prev.find(".gui-selectbutton").removeClass("gui-selected");this.find("option").each(function(){var behavior=_this.data("guiBehavior").apply(_this,[this.getAttribute("gui-behavior")||selectBehaviorAttr]);var $option=$prev.find(".gui-selectbutton[rel='"+this.value+"']");if(this.selected)$option.addClass("gui-selected");var html=behavior.getHTML.apply(_this,[this.getAttribute("real-value")||this.getAttribute("default-value")||this.value,this.selected]);if(html!=null)$option.html(html);});};$.fn.qGUI=function(options){if(!this.length)return this;function getItems($each){var tagName=$each.get(0).tagName.toLowerCase();return $each.find((tagName=="select")?"option":"li").map(function(){var $this=$(this);var value=this.getAttribute("value");if(this.getAttribute("disabled")=="disabled")return null;return{value:value,html:$this.html(),selected:!($this.attr("selected")==undefined||$this.attr("selected")=="false"),"default-value":$this.attr("default-value"),"gui-behavior":$this.attr("gui-behavior")};}).get();}
function guiBehavior(guiBehaviorAttribute){var behavior=guiBehaviorAttribute&&options.behaviors&&options.behaviors[guiBehaviorAttribute];return{setValue:(behavior&&behavior.setValue)||function(value){return value;},getHTML:(behavior&&behavior.getHTML)||function(value){if(__guiGetHTML[this.attr("gui")])return __guiGetHTML[this.attr("gui")].apply(this,[value]);if(realValue!=undefined)return realValue;return value;}};};this.each(function(){var $each=$(this);var gui=$each.attr("gui");if($.inArray(gui,["chooselist","buttons","slider"])==-1)return;var tagName=this.tagName.toLowerCase();if($.inArray(tagName,["select","ul","input"])==-1)return;var $select;if($.inArray(tagName,["select","ul"])!=-1)var items=getItems($each);if(tagName=="ul"){$each.prev().filter("*[__gui]").remove();$select=$('<select __gui="gui" style="display:none"></select>').insertBefore(this);if($each.attr("multiple")=="multiple")$select.attr("multiple","multiple");if($(this).attr("name"))$select.attr("name",$(this).attr("name"));if($(this).attr("gui-behavior"))$select.attr("gui-behavior",$(this).attr("gui-behavior"));if($(this).attr("gui"))$select.attr("gui",$(this).attr("gui"));for(var i=0;i<items.length;i++){var $option=$('<option></option>').appendTo($select).attr("value",items[i].value);if(items[i].selected)$option.get(0).selected=true;if(items[i]["default-value"])$option.attr("default-value",items[i]["default-value"]);if(items[i]["gui-behavior"])$option.attr("gui-behavior",items[i]["gui-behavior"]);}
$each.hide().data("customval",function(){return this.prev().val.apply(this.prev(),arguments);});}else $select=$(this);$select.data("guiBehavior",guiBehavior);$select.data("customval",function(){if(!arguments.length||arguments[0]==undefined)return this.$val.apply(this,arguments);var selectBehaviorAttr=this.attr("gui-behavior");function setValue(values,i){var _this=this;i=i||0;var value=(typeof values=="object"&&values.splice)?values[i]:values;if(typeof value!="object"){var $option=this.find("option[value='"+value+"']");if(!$option.length)$option=this.find("option[gui-behavior]");var behavior=guiBehavior.apply(_this,[$option.attr("gui-behavior")||selectBehaviorAttr]);value=behavior.setValue.apply(this,[value,$option.attr("default-value")]);}
if(typeof value=="function")return value.apply(this,[function(value){if(typeof values=="object"&&values.splice){values[i]=value;setValue.apply(_this,[values,i]);}else setValue.apply(_this,[value]);}]);if(typeof value=="object"){this.find("option[value='"+value["value"]+"']").get(0).setAttribute("real-value",value["real-value"]);if(typeof values=="object"&&values.splice)values[i]=value["value"];else values=value["value"];}
i++;if(typeof values=="object"&&values.splice&&i<values.length)return setValue.apply(this,[values,i]);this.$val.apply(this,[values]);__guiRender[this.attr("gui")].apply(this,[]);}
setValue.apply(this,[arguments[0]]);return this;});$select.prev().filter("*[__gui]").remove();if(gui=="chooselist"){var $pseudoselect=$('<span __gui="gui" class="gui-value"></span>').insertBefore($select).unbind("click").click(function(){$pseudoselect=$(this);var src=$('<table cellspacing="0" cellpadding="0" border="0" style="background-color : white; border : solid 1px #333;"></table>');for(var i=0;i<items.length;i++){var selected=(items[i].value==$select.val());src.append('<tr valign="middle"><td valign="middle" align="center" width="20" style="cursor: pointer; padding-left: 3px; height : 22px"><img class="png" width="16" alt=""/></td><td class="gui-chooselist" valign="middle" align="left" style="text-align:left; padding-left : 15px;"></td></tr>').find("tr:last td:eq(0) img").attr("src",(selected)?"/bundles/qlub/images/check.png":"/images/blank.gif").end().find("tr:last td:eq(1)").html(items[i].html).end().find("tr:last").attr("rel",items[i].value).css({"color":(selected)?"#F00":"#333","cursor":"pointer","background-color":(i%2==0)?"#DDD":"#FFF","border-top":(i%2==0)?"solid 1px #333":"none","border-bottom":(i%2==0)?"solid 1px #333":"none"}).hover(function(event){if(event.type=="mouseenter"){this.altbgcolor=this.style.backgroundColor;this.altcolor=this.style.color;}
this.style.backgroundColor=(event.type=="mouseenter")?"#666":this.altbgcolor;this.style.color=(event.type=="mouseenter")?"#FFF":this.altcolor;}).unbind("click").click(function(){var selectedValue=$(this).attr("rel");q_fsm_delete(selectedValue);});}
q_fsm_reveal({src:src.get(0),title:$select.attr("title"),delete_callback:function(v){$select.val(v);}});});}else if(gui=="buttons"){var $pseudoselect=$('<span __gui="gui" class="gui-value gui-buttons"></span>').insertBefore($select);for(var i=0;i<items.length;i++){var selected=(items[i].value==$select.val());$pseudoselect.append('<span class="gui-selectbutton"></span>').find("span:last").html(items[i].html).attr("rel",items[i].value).hover(function(event){if(event.type=="mouseenter")$(this).addClass("gui-over");else $(this).removeClass("gui-over");}).unbind("click").click(function(){var option=$select.find("option[value='"+$(this).attr("rel")+"']").get(0);if(option.getAttribute("real-value"))option.setAttribute("default-value",option.getAttribute("real-value"));option.removeAttribute("real-value");if($select.attr("multiple")=="multiple")option.selected=!option.selected;else option.selected=true;$select.val(realVal($select));});}}
$select.hide();var behavior=guiBehavior.apply($select,[$select.attr("gui-behavior")]);__guiRender[$select.attr("gui")].apply($select,[]);});return this;};})(jQuery);}
var common_message={"wallet-trial":"En fin de période d'essai","wallet-trial-shop":"Immédiat pour lancement boutique","wallet-update":"Prochaine échéance mensuelle","wallet-update-fail":"Immédiat pour régularisation","node-shop-without-payment-popup":'<div>Vous avez jusqu\'au %date pour préparer et tester votre boutique. Dès que vous souhaitez lancer les ventes, il vous suffit de renseigner votre moyen de paiement dans le menu <b>Mon abonnement</b>.</div>',"instagram-warning":'<div style="text-align: center"><div>Pour ouvrir cette page dans les meilleures conditions, faites un tap prolongé sur le bouton ci-dessous</div><div class="col-pt"><a target="_blank" class="btn stroke" href="%btnhref">%btnname</a></div><div class="col-pt">et choisissez "Ouvrir le lien", à très bientôt !</div></div>',"sitemap_colbreak":"Saut de colonne","removeAds":"Suppression de la pub","removeAds-right":"Suppression<br/>de la pub","clonefordesignnotsent":"Vous avez demandé un clone de votre site. Malheureusement une erreur est survenue, la demande n'a pas été envoyée. Nous vous invitons à effectuer une nouvelle demande.","clonefordesignsent":"Vous avez demandé un clone de votre site, votre demande a bien été envoyée. Vous recevrez un mail vous informant du lancement de l'opération.","viafromq":"Ne pas répondre","shop-breadcrumbs-back":"Retour à la boutique","shop-closing-soon":"Boutique en ligne désactivée prochainement.","shop-closing-at":"Boutique en ligne désactivée le %date.","publishing-wait":'<div style="text-align: left">Publication de la page : %url<br/><br/>Votre page est dans la file d\’attente des publications.<br/>Merci de patienter quelques instants.</div>',"publishing-inprogress":'<div style="text-align: left">Publication de la page : %url<br/><br/>Votre page est en cours de publication...</div>',"publish-view-checkbox":"Voir le site lorsque je publie","edit-banner-menu":"Bannière ...","edit-banner-option-md":"PC","edit-banner-option-sm":"tablette","edit-banner-option-xs":"smartphone","edit-banner-option-all":"toutes","edit-banner-option-edit-md":"réglages PC...","edit-banner-option-edit-sm":"réglages tablette...","edit-banner-option-edit-xs":"réglages smartphone...","edit-banner-md":"Bannière PC","edit-banner-sm":"Bannière tablette","edit-banner-xs":"Bannière smartphone","banner-scroll-label":"mode d'affichage :","banner-scroll-option-both":"toujours affiché","banner-scroll-option-top":"bannière exhaustive (page non scrollée)","banner-scroll-option-scroll":"bannière minifiée (page scrollée)","edit-shopsvc-accessdenied":'Les pages e-Boutique se construisent automatiquement, on ne peut pas les modifier. <br/><br/>Si vous souhaitez modifier le catalogue ou des informations sur les articles : <a href="https://my.shopsettings.com/p/j_quomodo" target="_blank">cliquez ici</a>.<br/><br/>Si vous souhaitez apporter des modifications à la page, contactez le support Quomodo via le Centre d\'Aide.',"edit-admin-shopsvc-accessdenied":'Les pages e-Boutique se construisent automatiquement, on ne peut pas les modifier. <br/><br/>Si vous souhaitez modifier le catalogue ou des informations sur les articles : <a href="https://my.shopsettings.com/p/j_quomodo" target="_blank">cliquez ici</a>.<br/><br/>Si vous souhaitez apporter des modifications à la page, contactez le support Quomodo via le Centre d\'Aide..<br/><br/>Vous allez être redirigé vers la page d’accueil.',"edit-member-shopsvc-accessdenied":'Les pages e-Boutique se construisent automatiquement, on ne peut pas les modifier. <br/><br/>Si vous souhaitez modifier le catalogue ou des informations sur les articles : <a href="https://my.shopsettings.com/p/j_quomodo" target="_blank">cliquez ici</a>.<br/><br/>Si vous souhaitez apporter des modifications à la page, contactez le support Quomodo via le Centre d\'Aide..<br/><br/>Vous allez être redirigé vers la page d’accueil.',"view-admin-shopsvc-accessdenied":"Votre boutique n’est pas configurée pour fonctionner en mode connecté.<br/><br/>Si vous souhaitez la faire fonctionner en mode connecté, SVP contactez-nous à contact@quomodo.com.<br/><br/>Vous allez être redirigé vers la page d’accueil.","view-member-shopsvc-accessdenied":"La boutique de votre site n’est pas configurée pour fonctionner en mode connecté.<br/><br/>Pour en savoir plus, rapprochez-vous d’un administrateur du site.<br/><br/>Vous allez être redirigé vers la page d’accueil.","kmap-title":"clé API Google Maps","kmap-watermark":"clé API","kmap-message":'Indiquez votre clé API Google. Si vous ne voyez pas de quoi il s\'agit, <a href="http://www.quomodo.com/faq/le-contenu-des-pages/integrer-une-carte-google.html" target="_blank">cliquez pour en savoir plus</a>.',":":" : ","search":"Rechercher","tmaccessdenied_qdefault":"Vous ne pouvez pas \"Retrouver une note\" pour le moment.\n\nSi le problème persiste veuillez vous déconnecter puis reconnectez-vous.","tmaccessdeniededit":"Vous ne pouvez pas \"Retrouver une note\" pour le moment.\n\nVous devez d'abord annuler ou valider les modifications de la note accuellement éditée.","tmoneselected":"Ramener la note sélectionnée","tmseveralselected":"Ramener les notes sélectionnées","tminit":"Pour retrouver une note supprimée, cliquez sur la flèche de gauche.","tminstructions":"Quand vous avez retrouvé la note, cliquez sur la note puis sur <b>Ramener</b>.","authaskid":"SVP veuillez d'abord fournir un identifiant Quomodo.","authaskpassw":"SVP veuillez d'abord fournir un mot de passe.","serverbusy":"Opération en cours, veuillez réessayer dans quelques instants.","unexperror":"Unexpected error: a new session id could not be found.","badrequest":"Vos modifications n'ont pas été enregistrées, et cette page est maintenant déconnectée du serveur. \n\nFermez cette fenêtre puis reconnectez-vous, ou bien changez maintenant d'espace puis revenez sur celui-ci uniquement au moyen des onglets de vos espaces : ceci reconnectera cette page.","safaribugarrow":"En raison d'un bug de Safari, vous ne pouvez pas utiliser les flèches Précédent - Suivant de votre navigateur : utilisez plutôt les liens et les onglets présents sur votre page.","sigbug":"Si vous n'utilisez pas Safari, n'hésitez pas à signaler ce bug à l'équipe Quomodo.","alertdoyoureally":"Vos modifications seront définitivement perdues.","today":"aujourd'hui","yesterday":"hier","tomorrow":"demain","availablesoon":"Bientôt disponible...","currlanguage":"fr","msgfoldleftcol":"Cliquez pour passer en mode plein écran","msgunfoldleftcol":"Cliquez pour quitter le mode plein écran","emptyrecentcol":"Au fur et à mesure que vous constituerez votre site, cette zone affichera des liens vers chacune de vos pages.","promptpages":"Pages récentes","allservices":"Ajouter une page","promptservices":"Services récents","on":"sur","newspacetabname":"nouvel espace...","declineinvite":"Votre invitation sera conservée pendant 1 semaine, vous pourrez y donner suite ultérieurement si vous le souhaitez. Vous allez maintenant être redirigé(e) vers la page d'accueil de Quomodo","membersonly":"Cette fonction est réservée aux membres Quomodo. \n\nVeuillez vous inscrire d'abord. L'inscription sur Quomodo est gratuite et rapide, aucune information personnelle ne vous sera demandée.","not enough rights":"Vous n'avez pas les droits nécessaires pour faire un nouveau %s.","newpageprompt":"Nouvelle page %s :","newnameprompt":"Indiquez un nom pour la nouvelle page %s :","taken":"Le nom \"%s\" est déjà pris, vous pouvez en choisir un autre :","decsep":",","bytesondisk":" octets","kbondisk":" ko","mbondisk":" Mo","gbondisk":" Go","maxsizereached":"Téléchargement impossible : votre site dépasse l'espace disque alloué (%maxmb). Pour ré-autoriser les téléchargements, supprimez les fichiers inutiles dans votre panneau <b>Fichiers chargés sur le site</b>, ou souscrivez à un Pack Giga dans votre panneau <b>Offre, services et options</b>.","overspace":"Téléchargement de ce fichier impossible. Le fichier dépasse de %overspace l'espace disque alloué (%maxmb). Pour autoriser le téléchargement, supprimez les fichiers inutiles dans votre panneau <b>Fichiers chargés sur le site</b>, ou souscrivez à un Pack Giga dans votre panneau <b>Offre, services et options</b>.","firstmaxsizereached":"Attention, vous venez de dépasser l'espace disque alloué (%maxmb). Pour augmenter l'espace disque alloué, souscrivez à un Pack Giga dans votre panneau <b>Offre, services et options</b>.","pagesmenuname":"les pages de l'espace","pagescreatenew":"Ajouter une page","undefineduser":"membre inconnu","ajaxerror":"Toutes nos excuses, une erreur est survenue.","serviceerror":"Toutes nos excuses, une erreur de type S est survenue.<br/><br/>Info complémentaire : %s.<br/><br/>Merci d'indiquer ce message au support.","noservice":"Toutes nos excuses, une erreur de type ND est survenue.<br/><br/>Info complémentaire : %s.<br/><br/>Merci d'indiquer ce message au support.","tryagain":"Toutes nos excuses, une erreur est survenue. Veuillez ré-essayer ultérieurement.","createfailed":"La nouvelle note n'a peut-être pas été enregistrée. Merci de recommencer l'opération.","changefailed":"Les modifications n'ont peut-être pas été enregistrées. Merci de recommencer l'opération.","suppressfailed":"La suppression n'a peut-être pas été enregistrée. Merci de recommencer l'opération.","filelocked":"fichier en cours d'utilisation","filenotfound":"fichier introuvable","flashPuzzleMsg":"&legende_vert=laisser<br>des<br>messages&legende_orange=partager<br>photos,<br>vidéos...&legende_rouge=planifier<br>les activités<br>des<br>enfants&legende_bleu=organiser<br>ensemble<br>anniversaires,<br>vacances...","smartnotename":"Bloc %","svcaccessdenied":"Vous n'avez pas accès à cette page.","svcaccessdeniedbutweb":"Vous n'avez pas accès à cette page en mode connecté.<br/><br/>La page va donc ouvrir une nouvelle fenêtre de site. Le mode connecté reste ouvert au second plan, vous le retrouverez en fermant la nouvelle page.","svcaccessdeniedbutweb_visitbtn":"ouvrir","forcehomepage":"Vous n'avez plus accès à cette page.","alerterror":"Toutes nos excuses, une erreur est survenue. \nSi ce problème persiste, merci de transmettre les informations suivantes au support : \n\n ","alertenderror":" \n\nD'avance, merci pour votre contribution.","quittingeditmode":"Une note de la page est en cours de modification. Si vous cliquez OK, vous allez maintenant quitter cette page et les modifications seront perdues. Pour d'abord terminer les modifications de la note, cliquez maintenant sur Annuler.","rubric":"Rubrique","clicktoaccesstopage":"Cliquez pour accéder à la page","noemptyemail":"Le champ mail est obligatoire.","invalidemail":"Adresse mail invalide.","onlyoneemail":"Vérifiez que vous n'avez indiqué qu'une seule adresse mail.","leadingspace":"Vérifiez que vous n'avez pas laissé un espace au début de l'adresse mail.","trailingspace":"Vérifiez que vous n'avez pas laissé un espace à la fin de l'adresse mail.","nospaceinemail":"Vérifiez que vous n'avez pas laissé un espace dans l'adresse mail.","noaccentinemail":"L'adresse mail que vous avez indiquée comporte une lette accentuée (%). Veuillez la remplacer par la lettre non accentuée correspondante.","nocedillainemail":"L'adresse mail que vous avez indiquée comporte une cédille (Ç ou ç). Ce caractère est invalide.","invalidcharinemail":"L'adresse mail que vous avez indiquée comporte un caractère invalide (%).","loginmsg":"","whitespaceinIDs":"Un caractère blanc (\"espace\") supplémentaire parasite a été détecté au début ou à la fin de l'identifiant ou du mot de passe. Ceci peut arriver notamment si vous utilisez le copier-coller.<br/><br/>Vérifiez que l'identifiant que vous indiquez ne comporte pas de caractère blanc parasite.","close":"fermer","entry_missing":"Les champs marqués d'une astérisque sont obligatoires.","entry_invalidemail":"L'adresse mail est invalide.","defaultwait":"Veuillez patienter...","emptymsgs":"Veuillez remplir ce champ avant de valider.","badformattedmsgs":"La valeur indiquée n'a pas le bon format. Veuillez modifier cette valeur avant de valider.","cancel":"annuler","validate":"valider","others":"autres...","ok":"ok","edit":"modifier","delete":"supprimer","call":"appeler","step1_webdesign":"Étape 1/2 : votre univers visuel","step2_bannercontent":"Étape 2/2 : contenus de bannière","next_step":"étape suivante","prev_step":"étape précédente","end_step":"terminé","datepicker_title":"Choisir une date","colorpicker_title":"Sélecteur de couleurs","colorpicker_delete_title":"Cliquez pour fermer le sélecteur","q_link_title":"Ajouter un lien","q_link_none":"Aucun","q_link_webpage":"Lien à une <br/> page web","q_link_sitepage":"Lien à une <br/>page du site","q_link_popup":"Popup d'une <br/>page du site","q_link_pagenote":"Lien vers un <br/>bloc de la page","q_link_file":"Lien vers <br/>un fichier","q_link_mail":"Lien à <br/>un mail","q_link_js":"Lien javascript <br/>(expert)","q_link_special":"Lien spécial","q_link_ical":"Lien calendrier","q_link_shop":"Lien boutique","unablesamepagepopup_title":"Choix de la page à ouvrir en popup","unablesamepagepopup":"<span style=\"white-space:nowrap\">Veuillez choisir une page différente de la page courante,</span><br/> sans quoi le contenu de la page s'affichera en double.","linkDisplay-ical-team":"Calendrier %s","linkDisplay-ical-all":"Calendrier tous événements","linkDisplay-ical-match":"Calendrier matchs","linkDisplay-ical-birthday":"Calendrier anniversaires","linkDisplay-ical-general":"Calendrier événements généraux","q_link_webpage_prompt":"Adresse web de destination","q_link_pagenote_prompt":"Veuillez choisir une des smartnotes de la page","q_link_file_prompt":"Veuillez choisir un fichier sur votre ordinateur :","q_link_mail_prompt":"Adresse mail de destination","q_link_js_prompt":"Code javascript à exécuter","q_link_special_phone_prompt":"Numéro de téléphone","q_printthis_title":"Quomodo - Fenêtre d'impression","q_printthis_header":"Pour imprimer, allez dans le menu \"Fichier\" de votre navigateur, et cliquez sur \"Imprimer\"","q_printthis_sign":"Document imprimé avec Quomodo (<a href=\"http://www.quomodo.com\" target=\"_blank\">http://www.quomodo.com</a>),<br/> sites web","q_mailthis_title":"Envoyer à un ami","q_mailthis_object":"Un ami a souhaité partager un article avec vous.","q_mailthis_from":"<b>De</b> (adresse mail) : ","q_mailthis_to":"<b>À</b> (adresses mail, séparées par des virgules) : ","q_mailthis_message":"<b>Votre message</b> (facultatif) : ","q_mailthis_send":"envoyer","q_mailthis_invalidfrom":"L'adresse mail de l'expéditeur n'est pas valide.","q_mailthis_invalidto":"Destinataire(s) non valide(s). Merci d'indiquer une ou plusieurs adresses valides, séparées par des virgules.","q_mailthis_sent":"Mail envoyé à %nb% destinataires.","q_mailthis_Qsignature":"<br/><br/>--<br/>Ce message est envoyé par Quomodo, votre club sur le net<br/><a href=\"http://www.quomodo.com\">http://www.quomodo.com</a>","q_mailthis_notsent":"Problème durant l'envoi du mail. Merci de réessayer dans quelques instants ou de contacter le support (contact@quomodo.com).","q_link_nolink":"Aucun","linkpagetitle":"Cliquez pour accéder à la page","popuppagetitle":"Cliquez pour voir","linkfiletitle":"Cliquez pour télécharger le fichier","linkbroken":"La page vers laquelle pointait ce lien a été supprimée.","prev":"< Page précédente","next":"Page suivante >","home":"Page d'accueil","sitemap":"Plan du site","top":"Haut de la page","login":"Connexion","search":"Recherche","webmodeclick":"Ce lien est désactivé en mode connecté.","editmodeclick":"Ce lien est désactivé en mode admin.","nodatatoexport":"Il n'y a aucune donnée à exporter.","importInProgress":"L'importation de cette page est toujours en cours.<br/>Elle n'est pas accessible pour le moment.<br/></br>Veuillez ré-essayer dans quelques minutes, <b>après avoir rechargé la page (touche F5)</b>.","duplicatedone":"Votre note a été dupliquée","f-emptysection":"Pied de page vide : ne s'affiche pas dans la version publiée","ph-0-emptysection":"Section de Une Illustrée vide : ne s'affiche pas dans la version publiée","ph-1-emptysection":"Section Titre de Page vide : ne s'affiche pas dans la version publiée","emptysection":"Section vide : ne s'affiche pas dans la version publiée","section_upload_title":"insertion d'une image de fond de section","section_upload_prompt":"Choisissez l'image de fond de section","section_upload_video_title":"insertion d'une vidéo de fond de section","section_upload_video_prompt":"Choisissez la vidéo de fond de section","othercolors":"Autres...","free-format":"libre","onecol-format":"1 colonne","manycol-format":"%n colonnes","secrpds":{"secp-bg0":"Fond de site","secp-page0":"Fond de page","secp-hk0":"Bannière","secp-logo0":"Logo","secp-h0":"Titre et boutons","secp-nav0":"Menu","secp-ph0":"Titre de Une / de page","secp-p0":"Section principale","secp-p1":"Section, 2","secp-p2":"Section, 3","secp-p3":"Section, 4","secp-side0":"Colonne de droite","secp-f0":"Pied de page","secp-f1":"Pied de page, 2","secp-ad0":"Publicité haut","secp-ad1":"Publicité bas"},"rpds":{"unknown-theme":"(aucun)","h":"Bannière","nav":"Menu","f":"Pied de page","phtitle":"Titre de Une","phtext":"Contenus de Une","pagetitle":"Titre de page","sectitle":"Titre de section","ftitle":"Titre de pied de page","main":"Actualité, info importante","sum":"Sommaire, résumé","side":"Encadré","art":"Article","info":"Article encadré","card":"Fiche joueur / Fiche produit","special":"Contenu spécial","custom":"Personnalisé","unknown-variant":"(aucune)","rpdp-h0":"Bannière","rpdp-nav0":"Menu","rpdp-phtitle0":"Titre de Une / de page","rpdp-phtext0":"Info à la Une","rpdp-main0":"Actualité, info importante, variante 1","rpdp-main1":"Actualité, info importante, variante 2","rpdp-sum0":"Sommaire, résumé, variante 1","rpdp-sum1":"Sommaire, résumé, variante 2","rpdp-side0":"Encadré / Colonne latérale, variante 1","rpdp-side1":"Encadré / Colonne latérale, variante 2","rpdp-pagetitle0":"Titre de page, variante 1","rpdp-pagetitle1":"Titre de page, variante 2","rpdp-sectitle0":"Titre de section, variante 1","rpdp-sectitle1":"Titre de section, variante 2","rpdp-art0":"Article","rpdp-info0":"Encadré / Info","rpdp-card0":"Fiche joueur / Fiche produit","rpdp-f0":"Pied de page, variante 1","rpdp-f1":"Pied de page, variante 2","rpdp-ftitle0":"Titre de pied de page, variante 1","rpdp-ftitle1":"Titre de pied de page, variante 2","rpdp-special":"Contenu spécial","rpdp-design":"Note de design"},"rpdpresets":{"m0":"Neutre","m1":"Filet","m1d":"Filet détaché","m2":"Filet épais","m2d":"Filet épais détaché","m3":"Filet pointillés","m3d":"Filet pointillés détaché","m4":"Baguette","m4d":"Baguette détachée","m5":"Baguette épaisse","m5d":"Baguette épaisse détachée","m6":"Baguette pointillés","m6d":"Baguette pointillés détachée","m7":"Double filet","m8":"Etiquette","m9":"Etiquette double filet","m10":"Ruban","m11":"Onglet","m12":"Bandeau uni","m13":"Bandeau motifs","m14":"Bandeau image","m15":"Bandeau bombé","m16":"Bandeau glossy","m17":"Bandeau saillant","m18":"Bandeau cartouche","m19":"Bandeau cartouche motifs","m20":"Bandeau cartouche image","m21":"Bandeau détaché","m22":"Bandeau motifs détaché","m23":"Bandeau image détaché","m24":"Bandeau bombé détaché","m25":"Bandeau glossy détaché","m26":"Bandeau saillant détaché","bh0":"Bandeau uni","bh1":"Couleur dominante + blanc/noir","bh2":"Couleur dominante + 2ème couleur","bh3":"Surligné couleur dominante + blanc/noir","bh4":"Surligné couleur dominante + 2ème couleur","bh5":"Gras + normal","bh6":"Gras couleur dominante + normal blanc/noir","bh7":"Gras couleur dominante + normal 2ème couleur","bh8":"Icône 2ème couleur + caractères couleur dominante","bh9":"Icône noir + caractères couleur dominante","bh10":"Icône couleur gris + caractères couleur dominante","bh11":"Couleur grise + couleur dominante","bh12":"Couleur dominante + 2ème couleur","bh13":"Gras couleur dominante + normal 2ème couleur","bh14":"Surligné couleur dominante + blanc/noir","bh15":"Surligné couleur dominante + 2ème couleur","bh16":"Icône 2ème couleur + caractères couleur dominante","bh17":"Icône noir + caractères couleur dominante","bh18":"Icône couleur gris + caractères couleur dominante","bh19":"Couleur grise + couleur dominante","al0":"Aligné à gauche","al1":"Centré","al2":"Aligné à droite","out0":"(aucun)","out1":"Contour","out2":"Ombre portée","out3":"Ombre halo","out4":"Contour + ombre portée","out5":"Contour + ombre halo","out6":"Ombre portée prononcée","out7":"Contour + ombre portée prononcée","img0":"Sans","img1":"Avec","ico0":"(aucune)","ico1":"Icône dans le titre","ico2":"Icône intégrée","ico3":"Icône détachée","ico4":"Icône grande taille dans le titre","ico5":"Icône au-dessus","ico6":"Icône grande taille intégrée","ico7":"Icône grande taille détachée","ico8":"Icône grande taille au-dessus","ico9":"Icône très grande taille au-dessus","tmaj":"Mise à jour","t0":"Format standard","t1":"Petit format","t2":"Une","t3":"Article","t4":"Pied de page","t5":"Bannière","csmaj":"Mise à jour","cs0":"Titres et décors à dominante couleur 1, fond transparent - pour page claire","cs1":"Titres et décors à dominante couleur 2, fond transparent - pour page claire","cs2":"Titres et décors à dominante couleur 1, fond transparent - pour page soutenue","cs3":"Titres et décors à dominante couleur 2, fond transparent - pour page soutenue","cs4":"Titres et décors à dominante couleur 1, fond transparent - pour page soutenue","cs5":"Titres et décors à dominante couleur 2, fond transparent - pour page soutenue","cs6":"Titres et décors couleur 2, fond couleur 1","cs7":"Titres et décors couleur 1, fond couleur 2","cs8":"Titres et décors à dominante couleur 1, fond couleur 1 pastel","cs9":"Titres et décors à dominante couleur 2, fond couleur 2 pastel","cs10":"Titres et décors à dominante couleur 1, fond blanc","cs11":"Titres et décors à dominante couleur 2, fond blanc","cs12":"Titres et décors à dominante couleur 1, fond noir","cs13":"Titres et décors à dominante couleur 2, fond noir","cs14":"Titres et décors à dominante couleur 1, fond gris clair","cs15":"Titres et décors à dominante couleur 2, fond gris clair","cs16":"Titres et décors à dominante couleur 1, fond gris foncé","cs17":"Titres et décors à dominante couleur 2, fond gris foncé","btn0":"Plat coins carrés","btn1":"Saillant","btn2":"Ombré","btn3":"Contour seul coins carrés","btn4":"Contour seul forme gélule","btn5":"Bombé ombré","btn6":"Bombé coins carrés","btn7":"Bombé forme gélule","btn8":"Glossy","btn9":"Plat coins carrés, icône","btn10":"Saillant, icône","btn11":"Ombré, icône","btn12":"Contour seul coins carrés, icône","btn13":"Contour seul forme gélule, icône","btn14":"Bombé ombré, icône","btn15":"Bombé coins carrés, icône","btn16":"Bombé forme gélule, icône","btn17":"Glossy, icône","btn18":"Coins arrondis","btn19":"Plat forme gélule"},"sectionpresets":{"cs0":"Transparent avec couleur 1 : gradients vers couleur 1, masques et bordures couleur 1","cs1":"Blanc : gradients vers gris léger, masques et bordures gris léger","cs2":"Blanc avec couleur 1 : gradients vers gris léger, masques et bordures couleur 1","cs3":"Blanc avec couleur 2 : gradients vers gris léger, masques et bordures couleur 2","cs4":"Noir : gradients vers anthracite, masques noirs, bordures anthracite","cs5":"Noir avec couleur 1 : gradients vers anthracite, masques et bordures couleur 1","cs6":"Noir avec couleur 2 : gradients vers anthracite, masques et bordures couleur 2","cs7":"Couleur 1 : gradients vers couleur 1 assombrie, masques couleur 1, bordures couleur 2","cs8":"Couleur 1 + gradients clairs : gradients vers couleur 1 éclaircie, masques couleur 1, bordures couleur 2","cs9":"Couleur 1 assombrie : gradients vers couleur 1, masques couleur 1 assombrie, bordures couleur 2","cs10":"Couleur 1 éclaircie : gradients vers couleur 1, masques couleur 1 éclaircie, bordures couleur 2","cs11":"Couleur 1 pastel : gradients vers blanc, masques couleur 1 pastel, bordures gris léger","cs12":"Couleur 1 pastel avec couleur 2 : gradients vers blanc, masques et bordures couleur 2","cs13":"Couleur 2 : gradients vers couleur 2 assombrie, masques couleur 2, bordures couleur 1","cs14":"Gris clair : gradients vers blanc, masques gris clair et bordures grises","cs15":"Gris clair avec couleur 1 : gradients vers blanc, masques et bordures couleur 1","cs16":"Gris clair avec couleur 2 : gradients vers blanc, masques et bordures couleur 2","cs17":"Gris avec couleur 1 : gradients vers gris assombri, masques et bordures couleur 1","cs18":"Gris avec couleur 2 : gradients vers gris assombri, masques et bordures couleur 2","cs19":"Gris foncé avec couleur 1 : gradients vers anthracite, masques et bordures couleur 1","cs20":"Gris foncé avec couleur 2 : gradients vers anthracite, masques et bordures couleur 2","cs21":"Gris pâle : gradients vers blanc, masques gris pâle et bordures grises","cs22":"Gris pâle avec couleur 1 : gradients vers blanc, masques et bordures couleur 1","cs23":"Gris pâle avec couleur 2 : gradients vers blanc, masques et bordures couleur 2","cs24":"Couleur 2 + gradients clairs : gradients vers couleur 2 éclaircie, masques couleur 2, bordures couleur 1","cs25":"Couleur 2 assombrie : gradients vers couleur 2, masques couleur 2 assombrie, bordures couleur 1","cs26":"Couleur 2 éclaircie : gradients vers couleur 2, masques couleur 2 éclaircie, bordures couleur 1","cs27":"Couleur 2 pastel : gradients vers blanc, masques couleur 2 pastel, bordures gris léger","cs28":"Couleur 2 pastel avec couleur 1 : gradients vers blanc, masques et bordures couleur 1","bd0":"(aucune)","bd1":"Fine sur bord inférieur","bd2":"Moyenne sur bord inférieur","bd3":"Épaisse sur bord inférieur","bd4":"Fine sur bord supérieur","bd5":"Moyenne sur bord supérieur","bd6":"Épaisse sur bord supérieur","bd7":"Tour","bd8":"Fine sur bord gauche (pour colonne de droite)","sh0":"(aucune)","sh1":"Légère","sh2":"Sombre","sh3":"Légère et étendue","sh4":"Sombre et étendue","sh5":"Légère et fine","sh6":"Éclairage d'en haut","bg0":"(aucun)","bg1":"Gradient haut > bas","bg2":"Gradient gauche > droite","bg3":"Gradient droite > gauche","img0":"(aucune)","img1":"Adaptative","img2":"Taille d'origine","img7":"Papier peint","img8":"Avec masque à gauche","img9":"Avec masque à droite","img10":"Avec masque oblique à gauche","img11":"Avec masque oblique à droite","img12":"Avec masque progressif à gauche","img13":"Avec masque progressif à droite","img14":"Avec masque oblique progressif à gauche","img15":"Avec masque oblique progressif à droite","img16":"Avec masque progressif à gauche, pleine largeur","img17":"Avec masque progressif à gauche, pleine largeur, blanc à droite","img18":"Avec masque progressif à droite, pleine largeur","img19":"Avec masque progressif à droite, pleine largeur, blanc à gauche","img20":"Avec masque oblique progressif à gauche, pleine largeur","img21":"Avec masque oblique progressif à gauche, pleine largeur, blanc à droite","img22":"Avec masque oblique progressif à droite, pleine largeur","img23":"Avec masque oblique progressif à droite, pleine largeur, blanc à gauche","img24":"Redimensionnement 1800 x 768 avec masque progressif autour","img25":"Avec superposition d'une trame de points","img26":"Avec superposition de rayures","img27":"Avec superposition d'une trame de points, pleine largeur","img28":"Avec superposition de rayures, pleine largeur","pos0":"Image centrée","pos1":"Image calée à gauche","pos2":"Image calée à droite","pos3":"Image calée en haut","pos4":"Image calée en bas","filt0":"aucun","filt1":"image en niveaux de gris","filt2":"image recolorisée suivant fond de site","filt3":"contraste estompé clair","filt4":"contraste estompé foncé","filt5":"contraste estompé, couleur du fond de site","filt6":"voile blanc","filt7":"voile noir","filt8":"voile coloré suivant couleur 1","filt9":"trame de points noirs","filt10":"trame de rayures","filt11":"image en niveaux de gris + texture sablée","filt12":"image recolorisée suivant fond de site + texture sablée","filt13":"contraste estompé foncé + texture sablée","filt14":"contraste estompé, couleur fond de site + texture sablée","filt15":"voile noir léger","filt16":"voile coloré suivant couleur 2"},"banners":{"b0":"Nom du club, sans logo","b1":"Logo avec nom du club","b2":"Logo, sans nom du club","b3":"Logo horizontal"},"menupresets":{"m0":"neutre","m1":"filet","m2":"double filet","m3":"dégradé","m4":"glossy","m5":"motif","m6":"bombé","m7":"relief","cs0":"Caractères et décors couleur 1, fond transparent - pour page claire","cs1":"Caractères et décors couleur 2, fond transparent - pour page claire","cs2":"Caractères et décors couleur 1, fond transparent - pour page soutenue","cs3":"Caractères et décors couleur 2, fond transparent - pour page soutenue","cs4":"Caractères et décors couleur 2, fond couleur 1","cs5":"Caractères et décors couleur 1, fond couleur 2","cs6":"Caractères et décors couleur 2, fond couleur 1 foncé","cs7":"Caractères et décors couleur 1, fond blanc","cs8":"Caractères et décors couleur 1, fond gris foncé","cs9":"Caractères et décors couleur 1, fond gris clair","cs10":"Caractères et décors couleur 1, fond noir","cs11":"Caractères et décors couleur 2, fond blanc","cs12":"Caractères et décors couleur 2, fond gris foncé","cs13":"Caractères et décors couleur 2, fond gris clair","cs14":"Caractères et décors couleur 2, fond noir","t0":"taille 20 pixels","t1":"taille 18 pixels","t2":"taille 16 pixels","sta0":"neutre","sta1":"étiquette","sta2":"étiquette contrastée","sta3":"étiquette blanc/noir","sta4":"souligné","sta5":"onglet","sta6":"triangle","sep0":"sans","sep1":"séparateur","sep2":"grand séparateur","sep3":"séparateur incrusté","sep4":"grand séparateur incrusté","arr0":"sans","arr1":"flèche grise","arr2":"flèche colorée","for0":"pleine largeur","for1":"bords carrés","for2":"bords arrondis","sh0":"sans","sh1":"ombre petite","sh2":"ombre légère","sh3":"ombre foncée","al0":"gauche","al1":"centré","al2":"droite","al3":"justifié"},"keywords":{"inform-members":"Informer les membres","new-partners":"Attirer des partenaires","new-members":"Recruter de nouveaux adhérents","friendly":"Familial/Convivial","young":"Jeune","serious":"Sérieux/Professionnel","lively":"Joyeux/Festif","supporter":"Supporter/Équipes/Matchs","nature":"Nature/Plein air","self-control":"Spirituel/Maîtrise de soi","street":"Urbain/Street","fair-play":"Fair-play/Élégant","feminine":"Féminin","recreative":"Loisir/Détente","exploit":"Exploit/Dépassement de soi/Sportif","b-you":"Vous présenter","b-offer":"Présenter vos produits / vos services","b-community":"Faire vivre une communauté","b-showroom":"Exposer vos réalisations","b-friendly":"Familial / Convivial","b-punchy":"Vivant / Dynamique","b-leader":"Leader","b-tradition":"Tradition","b-nature":"Zen / Nature","b-serious":"Sérieux / Confiance","b-art":"Artistique","b-luxurious":"Luxueux","b-esthetic":"Doux / Esthétique","b-modern":"Moderne","b-craft":"Artisanal"},"template":{"default":"page standard","prehome":"page de pré-accueil","home":"page d'accueil","default-column":"page standard, avec colonne à droite","home-wph":"page d'accueil, avec variante pour la Une"},"pagemodel":{"home-xs":"Page d’accueil courte","home":"Page d’accueil","home-wph":"Page d’accueil (variante pour la Une)","news":"Sommaire de magazine","article":"Article de magazine","organization":"Organigramme","team":"Page d'équipe","contact":"Contact","photos":"Sommaire d'albums photos","album":"Album photo","pros-home-xs":"Page d’accueil courte","pros-home":"Page d’accueil","pros-prices":"Menu ou Tarif","pros-prices-variant":"Menu ou Tarif","pros-productions":"Nos réalisations","pros-expertise":"Nos valeurs, nos savoir-faire","pros-team":"L'équipe","pros-contact":"Contact","pros-homenews":"Sommaire de magazine","pros-pagenews":"Article de magazine","pros-homeproducts":"Table des matières de catalogue produits","pros-pageproduct":"Page de catalogue avec illustrations","pros-pageproduct-table":"Page de catalogue sans illustrations","pros-homeservices":"Tarif","pros-pageservice":"Page produit","z20-pros-prices":"Menu ou Tarif, illustré avec descriptions longues","z20-pros-prices-variant":"Menu ou Tarif, illustré avec résumés","z40-pros-prices":"Menu ou Tarif, illustré avec résumés","z40-pros-prices-variant":"Menu ou Tarif, illustré avec descriptions longues","z60-pros-prices":"Menu ou Tarif, illustré avec descriptions longues","z60-pros-prices-variant":"Menu ou Tarif, texte seul avec résumés","z80-pros-prices":"Menu ou Tarif, texte seul avec résumés","z80-pros-prices-variant":"Menu ou Tarif, illustré avec descriptions longues","z100-pros-prices":"Menu ou Tarif, texte seul avec résumés","z100-pros-prices-variant":"Menu ou Tarif, texte seul avec descriptions longues","groupname_standard":"Modèles standard","groupname_use":"Modèles fonctionnels","groupname_pros-standard":"Modèles standard","groupname_pros-use":"Modèles fonctionnels","groupname_pros-products":"Présentation de produits/services","groupname_pros-carte":"Cartes de restaurant"},"imgSection":{"bg-site":"Image de fond de site","bg-banner":"Image de fond de bannière","bg-footer":"Image de fond de pied de page"},"bannerLabels":{"name":"(ici le nom du club)","baseline":"(ici la devise du club)","address":"(ici l'adresse)","phone":"(ici le téléphone)","facebook":"Adresse de la page Facebook","twitter":"Adresse de la page Twitter","youtube":"Adresse de la page Youtube","connexion":"Afficher le bouton connexion","search":"Afficher la recherche","affiliation":"Afficher l'affiliation","forcebannerimage":"Afficher l'image de fond de bannière sur mobile"},"bannerLabels_e":{"name":"(ici le nom de l'entreprise)","baseline":"(ici le slogan)"},"styles":{"wsg":{"rpdp-h0":"<div class=\"tooltiptster_text\">Spécial bannière</div>","rpdp-nav0":"<div class=\"tooltiptster_text\">Spécial section de la barre des menus</div>","rpdp-phtext0":"<div class=\"tooltiptster_text\">Spécial « Une », en haut de la page d'accueil</div>","rpdp-phtext1":"<div class=\"tooltiptster_text\">À utiliser dans la section du titre de la page, en haut de la page standard</div>","rpdp-main":"<div class=\"tooltiptster_text\">Pour l'information principale de la section.</div><div class=\"tooltipster_sample\">Exemple : l'actu / l'article du jour.</div>","rpdp-main0":"<div class=\"tooltiptster_text\">Pour l'information principale de la section.</div><div class=\"tooltipster_sample\">Exemple : l'actu / l'article du jour.</div>","rpdp-main1":"<div class=\"tooltiptster_text\">Pour l'information principale de la section, variante.</div><div class=\"tooltipster_sample\">Exemple : l'actu / l'article du jour.</div>","rpdp-sum":"<div class=\"tooltiptster_text\">Pour les amorces de news, les infos brèves.</div><div class=\"tooltipster_sample\">Exemple : les dernières news en page d'accueil / les petites annonces.</div>","rpdp-sum0":"<div class=\"tooltiptster_text\">Pour les amorces de news, les infos brèves.</div><div class=\"tooltipster_sample\">Exemple : les dernières news en page d'accueil / les petites annonces.</div>","rpdp-sum1":"<div class=\"tooltiptster_text\">Pour les amorces de news, les infos brèves, variante.</div><div class=\"tooltipster_sample\">Exemple : liste de news en page d'accueil / petites annonces.</div>","rpdp-side":"<div class=\"tooltiptster_text\">Pour une info complémentaire, ou à lire dans un 2ème temps. Idéal en colonne latérale.</div><div class=\"tooltipster_sample\">Exemple : liens vers des contenus annexes / infos permanentes.</div>","rpdp-side0":"<div class=\"tooltiptster_text\">Pour une info complémentaire, ou à lire dans un 2ème temps. Idéal en colonne latérale.</div><div class=\"tooltipster_sample\">Exemple : liens vers des contenus annexes / infos permanentes.</div>","rpdp-side1":"<div class=\"tooltiptster_text\">Pour une info complémentaire, ou à lire dans un 2ème temps. Idéal en colonne latérale, variante.</div><div class=\"tooltipster_sample\">Exemple : liens vers des contenus annexes / infos permanentes.</div>","rpdp-art0":"<div class=\"tooltiptster_text\">Pour un article complet, qui fait l'objet d'une page.</div>","rpdp-info0":"<div class=\"tooltiptster_text\">Accompagne un article ou un contenu faisant l'objet d'une page.</div><div class=\"tooltipster_sample\">Exemple : anecdote en marge d'un reportage / rappel d'un historique.</div>","rpdp-card0":"<div class=\"tooltiptster_text\">Pour une info présentée sous forme d'une fiche.</div><div class=\"tooltipster_sample\">Exemple : fiche d'un joueur / fiche produit.</div>","rpdp-f":"<div class=\"tooltiptster_text\">Spécial pied de page</div>","rpdp-f0":"<div class=\"tooltiptster_text\">Spécial pied de page</div>","rpdp-f1":"<div class=\"tooltiptster_text\">Spécial second pied de page</div>"},"pmtxt":{"rpdp-phtitle0":"<div class=\"tooltiptster_text\">Spécial « Une », en haut de la page d'accueil</div>","rpdp-phtitle1":"<div class=\"tooltiptster_text\">Spécial « Une », en haut de la page d'accueil</div>","rpdp-phtitle2":"<div class=\"tooltiptster_text\">Spécial « Une », en haut de la page d'accueil</div>","rpdp-pagetitle":"<div class=\"tooltiptster_text\">À utiliser pour indiquer discrètement le nom de la page</div>","rpdp-pagetitle0":"<div class=\"tooltiptster_text\">À utiliser pour indiquer discrètement le nom de la page</div>","rpdp-pagetitle1":"<div class=\"tooltiptster_text\">Spécial titre de la page, en haut de la page standard</div>","rpdp-sectitle":"<div class=\"tooltiptster_text\">Destiné à un titre de section</div>","rpdp-sectitle0":"<div class=\"tooltiptster_text\">Destiné à un titre de section</div>","rpdp-sectitle1":"<div class=\"tooltiptster_text\">Destiné à un titre de section, variante</div>","rpdp-ftitle":"<div class=\"tooltiptster_text\">Destiné à un titre dans le pied de page</div>","rpdp-ftitle0":"<div class=\"tooltiptster_text\">Destiné à un titre dans le pied de page</div>","rpdp-ftitle1":"<div class=\"tooltiptster_text\">Destiné à un titre dans le second pied de page</div>"},"default":{"rpdp-h0":"<div class=\"tooltiptster_text\">Spécial bannière</div>","rpdp-nav0":"<div class=\"tooltiptster_text\">Spécial section de la barre des menus</div>","rpdp-phtext":"<div class=\"tooltiptster_text\">Spécial « Une », en haut de la page d'accueil</div>","rpdp-phtext0":"<div class=\"tooltiptster_text\">Spécial « Une », en haut de la page d'accueil</div>","rpdp-phtext1":"<div class=\"tooltiptster_text\">À utiliser dans la section du titre de la page, en haut de la page standard</div>","rpdp-phtext2":"<div class=\"tooltiptster_text\">Spécial « Une », en haut de la page d'accueil</div>","rpdp-phtext3":"<div class=\"tooltiptster_text\">Spécial « Une », en haut de la page d'accueil</div>","rpdp-main":"<div class=\"tooltiptster_text\">Pour l'information principale de la section.</div><div class=\"tooltipster_sample\">Exemple : une note À la Une.</div>","rpdp-main0":"<div class=\"tooltiptster_text\">Pour l'information principale de la section.</div><div class=\"tooltipster_sample\">Exemple : une note À la Une.</div>","rpdp-main1":"<div class=\"tooltiptster_text\">Pour l'information principale de la section, variante.</div><div class=\"tooltipster_sample\">Exemple : une note À la Une.</div>","rpdp-sum":"<div class=\"tooltiptster_text\">Pour des contenus secondaires ou en petit format.</div><div class=\"tooltipster_sample\">Exemple : lien en image / une série de notes Match.</div>","rpdp-sum0":"<div class=\"tooltiptster_text\">Pour des contenus secondaires ou en petit format.</div><div class=\"tooltipster_sample\">Exemple : lien en image / une série de notes Match.</div>","rpdp-sum1":"<div class=\"tooltiptster_text\">Pour des contenus secondaires ou en petit format, variante.</div><div class=\"tooltipster_sample\">Exemple : lien en image / une série de notes Match</div>","rpdp-side":"<div class=\"tooltiptster_text\">Pour des contenus complémentaires. Idéal en colonne latérale.</div><div class=\"tooltipster_sample\">Exemple : calendrier / météo / autre widget.</div>","rpdp-side0":"<div class=\"tooltiptster_text\">Pour des contenus complémentaires. Idéal en colonne latérale.</div><div class=\"tooltipster_sample\">Exemple : calendrier / météo / autre widget.</div>","rpdp-side1":"<div class=\"tooltiptster_text\">Pour des contenus complémentaires. Idéal en colonne latérale, variante.</div><div class=\"tooltipster_sample\">Exemple : calendrier / météo / autre widget</div>","rpdp-art0":"<div class=\"tooltiptster_text\">Pour mettre en valeur un contenu faisant l'objet d'une page.</div><div class=\"tooltipster_sample\">Exemple : formulaire de contact / plan d'accès.</div>","rpdp-info0":"<div class=\"tooltiptster_text\">Accompagne un article ou un contenu faisant l'objet d'une page.</div><div class=\"tooltipster_sample\">Exemple : diaporamas / téléchargements.</div>","rpdp-card0":"<div class=\"tooltiptster_text\">Pour une info présentée sous la forme d'une fiche.</div><div class=\"tooltipster_sample\">Exemple : tableau.</div>","rpdp-f":"<div class=\"tooltiptster_text\">Spécial pied de page</div>","rpdp-f0":"<div class=\"tooltiptster_text\">Spécial pied de page</div>","rpdp-f1":"<div class=\"tooltiptster_text\">Spécial second pied de page</div>"}},"menutheme":{"wsg":{},"pmtxt":{"rpdp-phtitle":"spécial « Une »","rpdp-phtitle0":"spécial « Une »","rpdp-phtitle1":"spécial « Une »","rpdp-phtitle2":"spécial « Une »","rpdp-pagetitle":"titre de page","rpdp-pagetitle0":"titre de page","rpdp-pagetitle1":"titre de page","rpdp-sectitle":"titre de section","rpdp-sectitle0":"titre de section","rpdp-sectitle1":"titre de section","rpdp-ftitle0":"titre de pied de page","rpdp-ftitle1":"titre de pied de page"},"default":{"rpdp-h0":"spécial bannière","rpdp-h0?format=title1":"titre spécial bannière","rpdp-h0?format=title2":"sous-titre spécial bannière","rpdp-nav0":"spécial menu","rpdp-nav0?format=title1":"titre spécial menu","rpdp-nav0?format=title2":"sous-titre spécial menu","rpdp-phtext0":"spécial « Une »","rpdp-phtext1":"spécial « Une »","rpdp-phtext2":"spécial « Une »","rpdp-phtext3":"spécial « Une »","rpdp-main":"info dominante","rpdp-main0":"info dominante","rpdp-main1":"info dominante","rpdp-sum":"article résumé","rpdp-sum0":"article résumé","rpdp-sum1":"article résumé","rpdp-side":"info en marge","rpdp-side0":"info en marge","rpdp-side1":"info en marge","rpdp-art0":"article pleine page","rpdp-info0":"supplément d'article","rpdp-card0":"fiche de renseignement","rpdp-f0":"info de pied de page","rpdp-f1":"info de pied de page","rpdp-special":"(auto)","rpdp-special0":"(auto)","rpdp-special1":"(auto)","rpdp-special2":"(auto)","default":"(auto)","rpdp-design":"note de design"},"not_recommended":"non préconisé","theme_custom":"mes styles","theme_previewstyle":"aperçus...","theme_newstyle":"nouveau...","theme_updatestyle":"modifier..."},"variants":{"desc":{"f":"avec filet","o":"ombré","k":"contour","c1":"couleur principale","c2":"couleur secondaire","fc":"fond coloré","fb":"fond noir","fbk":"fond noir encadré","fw":"fond blanc","fg":"fond gris","fgk":"fond gris encadré","sf":"sans filet","alg":"aligné à gauche","alc":"centré","falc":"titre centré sans filet","talc":"titre centré","pf":"petit format","bs":"baguette simple","to":"titre onglet","ff":"double filet","b":"baguette","bg":"bandeau gris","fs":"filet simple","e":"étiquette","t":"transparent","fe":"filet épais","fp":"filet pointillés","tb":"titre bandeau","bi":"bandeau image"},"usage":{"si":{"title":"mettre en avant un contenu","short":"pour mettre en avant"},"sit":{"title":"mettre un titre en valeur","short":"pour mettre en valeur"},"sj":{"title":"juxtaposer plusieurs petites notes les unes à côté des autres","short":"petites notes côte à côte"},"se":{"title":"réaliser des petits encadrés de liens, notamment","short":"petit encadré"},"sti":{"title":"mettre en valeur le titre d'un contenu","short":"pour mettre en valeur le titre"},"tc":{"title":"introduire des sections successives sur un même sujet","short":"titres successifs"},"td":{"title":"introduire des sections sur des sujets différents","short":"plusieurs sujets"},"c":{"title":"utiliser les couleurs pour différencier des groupes de smarnotes abordant des sujets différents, ou pour en distinguer un qui aborde un sujet différent du reste"}},"default":"standard","titleusage":"Usage : "},"duplication_error":"Vous ne pouvez pas dupliquer la note dans cette section.","add_the_note":"ajouter la note","add_notes":"ajouter les %s notes","imgdefault":"(défaut)","addcontent":"ajouter du contenu","sectioncolor":"Couleur de section","missing_createsite_name-node":"Il faut indiquer le nom de l'entreprise.","missing_createsite_name":"Le nom du club est obligatoire","missing_createsite_baseline":"La devise du club est obligatoire","missing_createsite_sport":"La discipline est obligatoire","light_maxpage":"Attention !<br/><br/>Votre site est sur la formule Light.<br/><br/>Nous vous remercions d'avoir choisi cette formule, cependant elle impose un maximum de 12 pages à votre site, or celui-ci en comporte actuellement %s.<br/><br/>Merci de bien vouloir supprimer les pages en excès.","light_newpage_error":"Attention ! Opération impossible.<br/><br/>Votre site est sur la formule Light.<br/><br/>Nous vous remercions d'avoir choisi cette formule, cependant elle impose un maximum de 12 pages à votre site, or celui-ci en comporte actuellement %s.","light_smartnote_error":"Attention !<br/><br/>Votre site est sur la formule Light.<br/><br/>Nous vous remercions d'avoir choisi cette formule, cependant elle ne permet l'usage de la %s.","dissociation_done":"La note a bien été dissociée.","variant":"variante « %s »","custom_pagetitle":"(titre de page)","custom_sectitle":"(titre de section)","imgsection":{"noimage":"sans image","withimage":"image","withslideshow":"images défilantes","withvideo":"vidéo","default":"spécification du modèle","nomask":"sans masque","withmask":"avec masque","withfilter":"avec effet","nofilter":"sans effet"},"color":"couleur","ads_text":"Annonce","confirm_publishwriteonly_msg":"<div style=\"width: 350px\">Info : une ou plusieurs smartnotes contiennent un texte ou une image provisoires, repérés par « à rédiger » ou « à remplacer ». La publication de la page ne les prendra pas en compte.</div>","confirm_publishwriteonly_validate":"continuer","confirm_publishwriteonly_cancel":"modifier les contenus provisoires","confirm_savewriteonly_msg":"<div style=\"width: 350px\">Info : cette smartnote contient des contenus provisoires « à rédiger » ou « à remplacer ». Quand vous Publierez la page, elle ne sera pas prise en compte.</div>","confirm_savewriteonly_validate":"continuer","confirm_savewriteonly_cancel":"souligner les contenus provisoires","paneback":"Précédent","paneclose":"Fermer","badlogin":"Cette adresse mail ne correspond à aucun identifiant.","emailsent":"Un mail vient de vous être envoyé.","noemail":"Cette adresse mail n'est pas valide.","ical_copylink":"Désolés ! L'abonnement à un calendrier ne fonctionne pas sur votre modèle de smartphone. Nous vous invitons à effectuer l'opération depuis votre PC.","shareboard_xs_warning":"Attention ! Le libre-échange n'est pas adapté sur mobile. Les membres doivent le consulter de préférence depuis un ordinateur.","richnote_xs_warning":"L'association de notes est une fonction avancée. Il est préférable de l'éviter, pour conserver la compatibilité d'affichage sur tous les supports.","createsite_touch_warning":"Les sites Quomodo sont compatibles avec tous les supports mobiles. Toutefois, pour réaliser votre site et le modifier, nous vous invitons à vous connecter depuis un ordinateur.","createsite_touch_warning-validate":"poursuivre quand même","sendmailbyone-confirm":"L'envoi de votre message nécessite une validation.\n\nVous allez recevoir un mail à l'adresse %s.\nCliquez le lien de validation pour lancer l’envoi.","sales-billing-missing-name":"Vous devez indiquer votre nom.","sales-billing-missing-firstname":"Vous devez indiquer votre prénom.","sales-billing-missing-address":"Vous devez indiquer votre adresse.","sales-billing-missing-zip":"Vous devez indiquer votre code postal.","sales-billing-missing-city":"Vous devez indiquer votre ville.","sales-billing-missing-email":"Vous devez indiquer votre adresse mail.","sales-billing-invalid-email":"L'adresse mail renseignés est invalide.","sales-expired-validity-date":"La date de validité de votre carte ne permet pas le paiement de votre commande.","sales-expired-pending":"Le lien de paiement n'est plus valide.","ecwidMessages":{"AddressForm.full_name":"Prénom et nom","BuyNow.buy_now":"Ajouter au panier","CartPage.ItemsCount.few":"{count} articles","CartPage.ItemsCount.one":"{count} articles","Checkout.AddressFields.name":"Nom et prénom","Checkout.PickupFields.name":"Nom et prénom","Checkout.PickupFields.name_placeholder":"Indiquez vos nom et prénom","OrderBox.time":"Heure <span>","PriceIncludedWidget.price_included":"Prix TTC dont","ProductDetails.CartItems.OutOfStock.plural":"{count} objets dans le panier, rupture de stock","ProductDetails.CartItems.OutOfStock.singular":"1 article dans le panier, rupture de stock","ProductDetails.CartItems.plural":"{count} articles dans le panier","ProductDetails.CartItems.singular":"1 article dans le panier","ProductDetails.in_bag_items":"{count} articles dans le panier","ProductDetails.in_bag_items.other":"{count} articles dans le panier","ProductDetails.in_bag_items_no_more_available":"{count} articles dans le panier, plus disponibles","ShoppingBagIcon.ItemsCount.few":"{count} articles","ShoppingBagIcon.ItemsCount.one":"{count} articles"},"broadcast":"diffusé par %s"};var q_events_msgs={"edit":"Modifier","duplicate":"Dupliquer","merge":"Fusionner","delete":"Supprimer","searchEventTitle":"Choix des événements","selectPeriod":"Choix de la période","confirmdelete":"Voulez-vous vraiment supprimer %s ?<br/><br/>Ceci supprimera définitivement %s du site !","confirmduplicate":"Voulez-vous vraiment dupliquer %s ? ","confirmmerge":"Voulez-vous vraiment fusionner %s ? (cet élément disparaîtra après la fusion)","mergeopenselect":"Fusionner deux éléments","mergeopenselect_select":"Sélectionnez l'élément \"%s\" avec lequel vous voulez fusionner l'élément suivant : ","mandatoryfield":"La réponse au champ \"%s\" est obligatoire !","onlyonescore":"Vous n'avez indiqué le score que d'une seule des deux équipes : le match ne sera pas considéré comme joué. Souhaitez-vous quand même continuer ?","matchscoreerror":"Le score ne doit comporter que des chiffres.","addevents_noevents":"Aucun événement à ajouter.","addoneevent_confirm":"Souhaitez-vous réellement ajouter l'événement suivant :","addevents_confirm":"Souhaitez-vous réellement ajouter les %s événements suivants :","addevents_done":"Les événements ont bien été ajoutés","deleteevents_noevents":"Aucun événement à supprimer.","deleteoneevent_confirm":"Souhaitez-vous réellement supprimer l'événement suivant :","deleteevents_confirm":"Souhaitez-vous réellement supprimer les %s événements suivants :","deleteevents_done":"Les événements ont bien été supprimés","print":"imprimer","print_title":"Imprimer des événements","print_noevents":"Aucun événement à imprimer","export_noevents":"Aucun événement à exporter","allinselect":"(tout)","chooseinselect":"(tout)","selecteventtype":"Sélectionner un type d'événement","future":"A venir","current":"Actuel","past":"Passé","last":" derniers jours","next":"aujourd'hui et les %s prochains jours","yesterday":"Hier","today":"Aujourd'hui","tomorrow":"Demain","currentyear":"Cette année (du 1er janvier au 31 décembre)","currentseason":"Cette saison","currentmonth":"Ce mois-ci (du 1er au 30/31)","currentweek":"Cette semaine (de lundi à dimanche)","nextweek":"La semaine prochaine (de lundi à dimanche)","nextmonth":"Le mois prochain (du 1er au 30/31)","lastyear":"L'année dernière (du 1er janvier au 31 décembre)","lastmonth":"Le mois dernier (du 1er au 30/31)","lastweek":"La semaine dernière (de lundi à dimanche)","period":"Du %1 au %2","day":"Jour","year":"Année","filterPeriod":"Période de sélection","date_change":"Changer la date","fromDate":"Du ","toDate":"au ","fromPeriod":"Début","toPeriod":"Fin","startingDate":"Date de début","endingDate":"Date de fin","startingPeriod":"Depuis","endingPeriod":"Jusqu'à","date":"Date","period_beg":"Le début des temps","period_30daysp":"Il y a 30 jours","period_15daysp":"Il y a 15 jours","period_7daysp":"Il y a 7 jours","period_yd":"Hier","period_td":"Aujourd'hui","period_tm":"Demain","period_lwbeg":"Le lundi de la semaine dernière","period_wbeg":"Le lundi de cette semaine","period_nwbeg":"Le lundi de la semaine prochaine","period_lmbeg":"Le 1er du mois précédent","period_mbeg":"Le 1er de ce mois-ci","period_nmbeg":"Le 1er du mois prochain","period_ybeg":"Le 1er janvier de cette année","period_7daysf":"Dans 7 jours","period_15daysf":"Dans 15 jours","period_30daysf":"Dans 30 jours","period_lwend":"Le dimanche de la semaine dernière","period_wend":"Le dimanche de cette semaine","period_nwend":"Le dimanche de la semaine prochaine","period_lmend":"Le dernier jour du mois précédent","period_mend":"Le dernier jour de ce mois-ci","period_nmend":"Le dernier jour du mois prochain","period_yend":"Le 31 décembre de cette année","period_end":"La fin des temps","matchselector":"Sélecteur de matchs","lastmatch":"Dernier résultat","nextmatch":"Prochain match","last&nextmatchs":"Dernier résultat + Prochain match","playedmatchs":"Tous les résultats","matchstoplay":"Tous les matchs à jouer","birthdate":"Date de naissance","localteam":"Equipe","vsteam":"Adversaire","location":"Lieu","comment":"Commentaire","time":"Horaire","homescore":"Notre score","vsscore":"Score adverse","home":"Emplacement","competition":"Compétition","step":"N° de match","name":"Nom","firstname":"Prénom","lastname":"Nom","nb":"Nombre","gender":"Sexe","city":"Ville","member":"Nom","description":"Description","category":"Catégorie","title":"Titre","color":"Couleur","logo":"Logo","logourl":"Logo","registeredMembers":"Membres inscrits","filter_vsteam":"Adversaire","filter_member":"Filtre sur le nom","filter_firstname":"Filtre sur le prénom","filter_title":"... contenant dans leur titre","icon":"Icône","icon_none":"aucune icône","icon_add":"ajouter ou modifier l'icône","image":"Image","image_add":"Ajouter une image","image_change":"Changer d'image","image_delete":"Supprimer l'image","homeY":"à domicile","homeY_matches":["domicil","domicile","ici"],"homeN":"à l'extérieur","homeN_matches":["exterieur","exterieure","la-bas","la bas"],"genderF":"féminin","genderM":"masculin","genderMF":"mixte","events_match":"Les matchs","events_birthday":"Les anniversaires","events_general":"Les événements généraux","events_edittitle_list":"Modification des événements","event_edit":"Modifier","events_all":"Tout","events_fixed":"Période fixe","events_slipping":"Période glissante","match":"Match","match_this":"ce match","match_editlink":"Modifier les matchs","match_newlink":"Ajouter un nouveau match","match_edittitle_item":"Modifier le match","match_newtitle_item":"Ajout d'un match","match_edittitle_list":"Modification des matchs","match_edittitle_choose":"Sélection de matchs","match_editname":"%date% : %localteam% vs %vsteam% (%home%)","birthday":"Anniversaire","birthday_this":"cet anniversaire","birthday_editlink":"Modifier les anniversaires","birthday_newlink":"Ajouter un nouvel anniversaire","birthday_edittitle_item":"Modification d'un anniversaire","birthday_newtitle_item":"Ajout d'un anniversaire","birthday_edittitle_list":"Modification des anniversaires","birthday_editname":"%member% : %day%","birthday_title":"Anniversaire de : ","general":"Événement","general_this":"cet événement","general_editlink":"Modifier les événements généraux","general_newlink":"Ajouter un nouvel événement","general_edittitle_item":"Modification d'un événement","general_newtitle_item":"Ajout d'un événement","general_edittitle_list":"Modification des événements","general_editname":"%date% : %title%","category_this":"cette catégorie","category_editlink":"Modifier les catégories","category_newlink":"Ajouter une nouvelle catégorie","category_edittitle_item":"Modification d'une catégorie","category_newtitle_item":"Ajout d'une catégorie","category_edittitle_list":"Modification des catégories","category_editname":"%name%","localteam_this":"cette équipe","localteam_editlink":"Modifier le menu des équipes","localteam_newlink":"Ajouter une nouvelle équipe","localteam_edittitle_item":"Modification d'une équipe","localteam_newtitle_item":"Ajout d'une équipe","localteam_edittitle_list":"Modification des équipes","localteam_editname":"%name% (%gender%)","vsteam_this":"cet adversaire","vsteam_editlink":"Modifier le menu des adversaires","vsteam_newlink":"Ajouter un nouvel adversaire","vsteam_edittitle_item":"Modification d'un adversaire","vsteam_newtitle_item":"Ajout d'un adversaire","vsteam_edittitle_list":"Modification des adversaires","vsteam_editname":"%name%","location_this":"ce lieu","location_editlink":"Modifier les lieux","location_newlink":"Ajouter un nouveau lieu","location_edittitle_item":"Modification d'un lieu","location_newtitle_item":"Ajout d'un lieu","location_edittitle_list":"Modification des lieux","localtion_editname":"%name% (%city%)","logo_this":"ce logo","logo_editlink":"Modifier le menu des logos","logo_newlink":"Ajouter un nouveau logo","logo_edittitle_item":"Modification d'un logo","logo_newtitle_item":"Ajout d'un logo","logo_edittitle_list":"Modification des logos","logo_editname":"%name%","undefineditem":"-",":":" : "};var q_lang=common_message["currlanguage"];var mname={"0":"janvier","1":"février","2":"mars","3":"avril","4":"mai","5":"juin","6":"juillet","7":"août","8":"septembre","9":"octobre","10":"novembre","11":"décembre"};var mshortname={"0":"jan","1":"fév","2":"mars","3":"avr","4":"mai","5":"juin","6":"juil","7":"août","8":"sept","9":"oct","10":"nov","11":"déc"};var dname={"0":"dimanche","1":"lundi","2":"mardi","3":"mercredi","4":"jeudi","5":"vendredi","6":"samedi"};var dshortname={"0":"dim","1":"lun","2":"mar","3":"mer","4":"jeu","5":"ven","6":"sam"};var dlettername={"0":"Di","1":"Lun","2":"Ma","3":"Me","4":"Je","5":"Ve","6":"Sa"};if(!window.qdyn_queue)var qdyn_queue=[];if(!window.rights_record)var rights_record={};if(!window.spacexml)var spacexml={};var quomodo=quomodo||{};quomodo.extend=function(objectName,fnInit){if(!this.__q)this.__q={};if(!this.__q[objectName])this.__q[objectName]={};if(!this[objectName])this[objectName]={};if(fnInit)fnInit.apply(this.__q[objectName],[this]);this.__q[objectName].__kind="default";this.__q[objectName].__id=objectName;for(var k in this.__q[objectName]){this[objectName][k]=this.__q[objectName][k];}
this[objectName].__kind="self";if(!this.__client||!this.__client[objectName])return;var _obj=(objectName=="global")?window:this[objectName];function extendFn(q,k){var fn=q.__q[objectName][k];var clientfn=q.__client[objectName][k];_obj[k]=function(){_obj.inherited=fn;var res=clientfn.apply(_obj,arguments);delete _obj.inherited;return res;}}
for(var k in this.__client[objectName]){if(!this.__q[objectName][k])_obj[k]=this.__client[objectName][k];else if(typeof this.__q[objectName][k]=="function"&&typeof this.__client[objectName][k]=="function")extendFn(this,k);else _obj[k]=this.__client[objectName][k];}};if(quomodo.__pushExtend){for(var i=0;i<quomodo.__pushExtend.length;i++){quomodo.extend.apply(this,quomodo.__pushExtend[i]);}
delete quomodo.__pushExtend;}
quomodo.client={extend:function(objectName,fnInit){if(!quomodo.__client)quomodo.__client={};if(!quomodo.__client[objectName])quomodo.__client[objectName]={};fnInit.apply(quomodo.__client[objectName],[quomodo]);quomodo.extend(objectName);},global:function(fnName,fn){var objectName="global";if(!quomodo.__client)quomodo.__client={};if(!quomodo.__client[objectName])quomodo.__client[objectName]={};if(!quomodo.__q)quomodo.__q={};if(!quomodo.__q[objectName])quomodo.__q[objectName]={};if(!quomodo.__q[objectName][fnName])quomodo.__q[objectName][fnName]=window[fnName];quomodo.__client[objectName][fnName]=fn;quomodo.extend(objectName);}};if(quomodo.__pushClient){for(var i=0;i<quomodo.__pushClient.length;i++){quomodo.client.extend.apply(this,quomodo.__pushClient[i]);}
delete quomodo.__pushClient;}
quomodo.val=function(any){if(typeof any=="function")return any();return any;};quomodo.iframe=function(x){var iframe=(function(){if(x.tagName&&x.tagName.toLowerCase()=="iframe")return x;var iframes=document.getElementsByTagName("iframe");for(var i=0;i<iframes.length;i++){if((iframes[i]&&iframes[i].contentWindow==x))return iframes[i];}
return null;})();if(!iframe)return null;iframe.bScroll=$(iframe).parent().hasClass("qiframe-wrapper");if(!iframe["trigger"])iframe["trigger"]=function(){if(this.contentWindow.onTrigger)this.contentWindow.onTrigger.apply(this,arguments);};if(!iframe["triggerResize"])iframe["triggerResize"]=function(){if(this.contentWindow.triggerResized)this.contentWindow.triggerResized.apply(this,arguments);};if(!iframe._scrollTo)iframe._scrollTo=function(l,t,wrapper){var $div=(wrapper)?$(this).parent():$(this).parent().parent();$div.scrollLeft(l);$div.scrollTop(t);}
if(!iframe.resize){if(!$(iframe).data("options")){var o;if(iframe.style&&iframe.style.width&&/%/.test(iframe.style&&iframe.style.width)){if(!o)o={};o.percentw=true;}
if(iframe.style&&iframe.style.height&&/%/.test(iframe.style&&iframe.style.height)){if(!o)o={};o.percenth=true;}
if(o)$(iframe).data("options",o);}
iframe.resize=function(w,h,l,t){var wslide=(function(){var $outer=$('<div>').css({"visibility":"hidden","width":100,"overflow":"scroll"}).appendTo("body");var widthWithScroll=$('<div>').css({"width":"100%"}).appendTo($outer).outerWidth();$outer.remove();return 100-widthWithScroll;})();var bScroll=(l!=undefined&&t!=undefined)||this.bScroll;if(bScroll){this._l=l;this._t=t;this._scrollTo(l,t,true);}else{l=this._l;t=this._t;bScroll=l!=undefined&&t!=undefined;if(bScroll)this._scrollTo(l,t,true);}
if(w&&h){this._w=w;this._h=h;}else{w=this._w;h=this._h;}
var $iframe=$(this);var maxw=w;var maxh=h;var options_maxwidth;var options=$iframe.data("options")||{};if(options.percent){if(this.onresize)this.onresize();return this;}
if(!options.percentw){options_maxwidth=options.maxwidth;if(typeof options_maxwidth=="function")options_maxwidth=options_maxwidth();if(options_maxwidth)maxw=Math.min(w,options_maxwidth);}
if(!options.percenth){var options_maxheight=options.maxheight;if(typeof options_maxheight=="function")options_maxheight=options_maxheight();var omaxh=(options_maxheight)?(options_maxheight-(this._hh||0)-(this._fh||0)):null;if(omaxh)maxh=Math.min(h,omaxh);}
var finalw=(h==maxh)?maxw:(options_maxwidth)?Math.min(maxw+wslide,options_maxwidth):(maxw+wslide);var finalh=(w==maxw)?maxh:(omaxh)?Math.min(maxh+wslide,omaxh):(maxh+wslide);var $tmp=$iframe.parent().parent();if(!options.percentw)$tmp.width(finalw);if(!options.percenth)$tmp.height(finalh);$tmp.css("overflow",(w==maxw&&h==maxh)?"hidden":"auto");var options_iframeMaxWidth=options&&options.iframeMaxWidth;if(typeof options_iframeMaxWidth=="function")options_iframeMaxWidth=options_iframeMaxWidth();if(bScroll){if(!options.percentw){if(options&&options.not_rwd)$iframe.parent().width(w);else if(qsn_responsive_mod()=="xs"&&options_iframeMaxWidth&&options_iframeMaxWidth<w)$iframe.parent().width(options_iframeMaxWidth);else $iframe.parent().width(w);if(options&&options.not_rwd)$iframe.width(w+(l||0));else if(qsn_responsive_mod()=="lg")$iframe.width(devicesDef.lg.triggerWidth+16);else if(qsn_responsive_mod()=="md")$iframe.width(devicesDef.md.triggerWidth+16);else if(qsn_responsive_mod()=="sm")$iframe.width(devicesDef.sm.triggerWidth+16);else{if(options&&options_iframeMaxWidth&&options_iframeMaxWidth<w)$iframe.width(options_iframeMaxWidth+(l||0));else $iframe.width(w+(l||0));}}
if(!options.percenth){$iframe.parent().height(h);$iframe.height(h+(t||0));}}else{if(!options.percentw)$iframe.width(w);if(!options.percenth)$iframe.height(h);}
if(this.onresize)this.onresize(finalw,finalh,w!=maxw);return this;};}
iframe.getOffsets=function(){var $iframe=$(this);return{"width":$iframe.parent().parent().width(),"height":$iframe.parent().parent().height()};};if(!iframe.togglewait)iframe.togglewait=function(b){$(this).parent().parent().find(".q_fsm_wait").toggle(b==true);return this;};return iframe;};quomodo.extend("events",function(q){var _this=this;this.__ready=false;this.triggerOne=function(listener,eventName,obj){var target=listener.target;if(target!=undefined&&this.__timers&&this.__timers[eventName]&&isremoved(target))var removeListener=true;else if(target){if(target.__kind&&target.__kind=="default")target=quomodo[target.__id];var removeListener=listener.fn.apply(target,[obj,eventName]);}else var removeListener=listener.fn(obj,eventName);return removeListener;}
this.trigger=function(eventName,obj,listenerID,withoutDelayedTrigger){if(!this.__ready){this.__ready=true;if(this.__pendingListeners){for(var i=0;i<this.__pendingListeners.length;i++){this.addListener.apply(this,this.__pendingListeners[i]);}}}
if(!withoutDelayedTrigger||!this.__listeners||!this.__listeners[eventName]){if(!this.__triggerDelayed)this.__triggerDelayed={};if(!this.__triggerDelayed[eventName])this.__triggerDelayed[eventName]=[];this.__triggerDelayed[eventName].push(obj);}
if(!this.__listeners||!this.__listeners[eventName])return;var _listeners=this.__listeners[eventName];var listenersToRemove=[];for(var i=0;i<_listeners.length;i++){if(listenerID!=undefined&&_listeners[i].id!=listenerID)continue;var removeListener=this.triggerOne(_listeners[i],eventName,obj,listenerID);if(removeListener==true)listenersToRemove.push(_listeners[i].id);}
for(var i=0;i<listenersToRemove.length;i++)this.removeListener(listenersToRemove[i]);}
this.stopTimers=function(){this.__timerssuspended=true;for(var eventName in this.__timers){if(this.__timers[eventName].timer)clearTimeout(this.__timers[eventName].timer);this.__timers[eventName].timer="suspended";}}
this.resumeTimers=function(){this.__timerssuspended=false;for(var eventName in this.__timers)launchTimer(this,eventName,this.__timers[eventName].intervall);}
function launchTimer(_this,eventName,millisecondsIntervall){if(!_this.__timers)_this.__timers={};if(!_this.__timers[eventName]||_this.__timers[eventName].timer=="suspended"){function loopTimer(_this,n){if(_this.__timerssuspended)return;var now=new Date();_this.trigger(eventName,{now:now,count:n||0},null,true);_this.__timers[eventName]={timer:setTimeout(function(){loopTimer(_this,(n||0)+1)},millisecondsIntervall),intervall:millisecondsIntervall};}
loopTimer(_this);}
q_addwindowblurhandlers("quomodoTimersBlur");q_addwindowfocushandlers("quomodoTimersFocus");}
this.addUniqTimerListener=function(eventName,fn,elem){return this.addTimerListener(eventName,fn,elem,true);};this.addTimerListener=function(eventName,fn,elem,uniq){if(eventName!="clocktimer")return;var eventId=this.addListener(eventName,fn,elem,uniq);launchTimer(this,eventName,1000);elem.eventId=eventId;return eventId;};this.addListener=function(eventName,fn,elem,uniq){if(!this.__ready){if(!this.__pendingListeners)this.__pendingListeners=[];this.__pendingListeners.push([eventName,fn,elem,uniq]);return;}
if(!this.__n)this.__n=0;if(!this.__listeners)this.__listeners={};if(!this.__listeners[eventName])this.__listeners[eventName]=[];var i=this.__n++;var listener={id:i,fn:fn,target:elem};if(elem&&elem.className&&/\bnote\b/.test(elem.className)&&elem.id)listener.noteid=elem.id;if(typeof uniq=="string"){var _listeners=this.__listeners[eventName];for(var j=0;j<_listeners.length;j++){if(_listeners[j].uniqId==uniq){this.removeListener(_listeners[j].id);continue;}}
listener.uniqId=uniq;}else if(uniq){var _listeners=this.__listeners[eventName];for(var j=0;j<_listeners.length;j++){if(_listeners[j].target==listener.target){this.removeListener(_listeners[j].id);continue;}
if(_listeners[j].noteid&&listener.noteid&&_listeners[j].noteid==listener.noteid){this.removeListener(_listeners[j].id);continue;}}}
this.__listeners[eventName].push(listener);this.__listeners["__"+i]=eventName;if(this.__triggerDelayed&&this.__triggerDelayed[eventName]){for(var j=0;j<this.__triggerDelayed[eventName].length;j++){var removeListener=this.triggerOne(listener,eventName,this.__triggerDelayed[eventName][j]);if(removeListener==true)this.removeListener(listener.id);}}
if(eventName=="windowscroll"&&!elem.scrollprepared){elem.scrollprepared=true;$(window).on("scroll",function(){quomodo.events.trigger("windowscroll");});}
if(eventName=="windowresize"&&!elem.resizeprepared){elem.resizeprepared=true;$(window).on("resize",function(){quomodo.events.trigger("windowresize");});}
return i;}
this.removeListener=function(eventId){if(!this.__listeners)return;var eventName=this.__listeners["__"+eventId];if(!eventName)return;var _listeners=this.__listeners[eventName];if(!_listeners)return;for(var i=0;i<_listeners.length;i++){if(_listeners[i].id!=eventId)continue;_listeners.splice(i,1);delete this.__listeners["__"+eventId];if(_listeners.length==0&&this.__timers&&this.__timers[eventName]){clearTimeout(this.__timers[eventName]);delete this.__timers[eventName];}
return;}}});function quomodoTimersBlur(){quomodo.events.stopTimers();}
function quomodoTimersFocus(){quomodo.events.resumeTimers();}
var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS";this.supportRGBA=(function(){var elem=document.createElement("DIV");try{elem.style.backgroundColor="rgba(128,128,128,0.5)";return true;}catch(err){}
return false;})();},searchString:function(data){for(var i=0;i<data.length;i++){var dataString=data[i].string;var dataProp=data[i].prop;this.versionSearchString=data[i].versionSearch||data[i].identity;if(dataString){if(dataString.indexOf(data[i].subString)!=-1)return data[i].identity;}
else if(dataProp)return data[i].identity;}},searchVersion:function(dataString){if(typeof this.versionSearchString=="function")return this.versionSearchString(dataString);var index=dataString.indexOf(this.versionSearchString);if(index==-1)return;return parseFloat(dataString.substring(index+this.versionSearchString.length+1));},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer",versionSearch:function(dataString){var index=dataString.indexOf("Trident");return 4+parseFloat(dataString.substring(index+"Trident".length+1));}},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone"},{string:navigator.userAgent,subString:"iPod",identity:"iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init();var isWin=(BrowserDetect.OS=="Windows");var isMac=(BrowserDetect.OS=="Mac");var isInternetExplorer=(BrowserDetect.browser=="Explorer");var isIE=isInternetExplorer;var isIE_6=(isIE&&parseInt(BrowserDetect.version)<=6);var isIE_7=(isIE&&parseInt(BrowserDetect.version)==7);var isIE_8=(isIE&&parseInt(BrowserDetect.version)==8);var isIE_9=(isIE&&parseInt(BrowserDetect.version)==9);var isIE_10=(isIE&&parseInt(BrowserDetect.version)==10);var isIE_11=(isIE&&parseInt(BrowserDetect.version)==11);var isMsieMac=(isIE&&BrowserDetect.OS=="Mac");var isOpera=(BrowserDetect.browser=="Opera");var isFirefox=(BrowserDetect.browser=="Firefox");var isSafari=(BrowserDetect.browser=="Safari");var isSafari_3=(isSafari&&BrowserDetect.version=="3");var isSafari_4=(isSafari&&BrowserDetect.version=="4");var isSafari_5=(isSafari&&BrowserDetect.version=="5");var isiPhone=(BrowserDetect.OS=="iPhone");var isiPod=(BrowserDetect.OS=="iPod");var isiPad=(BrowserDetect.OS=="iPad");var isAppleMobile=(isiPhone||isiPod||isiPad);var isAndroid=(BrowserDetect.OS=="Android");var isMobile=isAppleMobile||isAndroid;function isie55(){return(navigator)&&(navigator.userAgent)&&(/MSIE 5\.5/.test(navigator.userAgent));}
function isie6(){return(navigator)&&(navigator.userAgent)&&(/MSIE (5\.5|6\.)/.test(navigator.userAgent));}
function isie7(){return(navigator)&&(navigator.userAgent)&&(/MSIE 7/.test(navigator.userAgent));}
function isie8(){return(navigator)&&(navigator.userAgent)&&(/MSIE 8/.test(navigator.userAgent));}
function isie9(){return(navigator)&&(navigator.userAgent)&&(/MSIE 9/.test(navigator.userAgent));}
function isie78(){return(isie7()||isie8());}
function isie(){return(navigator)&&(navigator.userAgent)&&(/MSIE/.test(navigator.userAgent));}
function isfirefox(){return(navigator)&&(navigator.userAgent)&&(/FireFox/i.test(navigator.userAgent));}
function issafari(){return(navigator)&&(navigator.appVersion)&&(/AppleWebKit/.test(navigator.appVersion));}
function qsn_beginDrag(elem,ee,wantdefault){return false;}
function qsn_beginDragOnly(elem,ee,wantdefault){return false;}
function qsn_mouseover(elem,ee,wantdefault){return false;}
function qsn_mouseout(elem,ee,wantdefault){return false;}
function q_mouseoverbutton(x,v){return false;}
function q_mouseoutbutton(x,v){return false;}
if(!window.pimg_mouseoverimg)window.pimg_mouseoverimg=function(){return false;}
if(!window.pimg_mouseoutimg)window.pimg_mouseoutimg=function(){return false;}
if(!window.nws_mouseovermainnews)window.nws_mouseovermainnews=function(){return false;}
function q_cloneObject(o,oldobj){return xq_cloneObject(o,true,oldobj);}
function cloneObject(){var res=undefined;for(var i=0;i<arguments.length;i++){res=xq_cloneObject(arguments[i],false,res);}
return res;}
function xq_cloneObject(o,appendArray,oldobj,debug){var no;if(oldobj!==undefined)no=oldobj;else{if(o&&o.splice)no=new Array();else no={};}
if(debug)alert(q_tostring(no));if(o&&o.splice){if(!appendArray)no=new Array();for(var i=0;i<o.length;i++){if(o[i]!=null){if(typeof o[i]=="object"&&!o[i].nodeType)no[(appendArray)?no.length:i]=xq_cloneObject(o[i],appendArray);else no[(appendArray)?no.length:i]=o[i];}}
return no;}
for(var x in o){if(debug)alert(x+" - typeof ="+(typeof o[x])+" - "+q_tostring(o[x]));if(o[x]!==undefined){if(o[x]!==null&&typeof o[x]=="object"&&!o[x].nodeType)no[x]=xq_cloneObject(o[x],appendArray,((oldobj)&&(oldobj[x]!=undefined))?oldobj[x]:undefined);else no[x]=o[x];}
if(debug)alert(x+" - "+q_tostring(no));}
if(debug)alert("done - "+q_tostring(no));return no;}
function escapeattribute(xx){var x=""+(xx||"");if(!isIE)return x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");return x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"‘");}
function escapeHTML(xx){var x=""+(xx||"");return x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(\r\n|\r|\n)/g,"<br/>");}
function q_getabsolutebaseurl(){return(window.location.href.replace(/(http(s?):\/\/[^\/]+\/).*/,"$1"));}
function isrealserver(){var burl=q_getabsolutebaseurl();return!(burl=="http://beta2.quomodo.com/"||burl=="http://localhost/"||burl=="http://10.0.1.22/"||burl=="http://club2.quomodo.com/"||burl=="http://club1.quomodo.com/"||(/\.local\/$/.test(burl))||(/^http:\/\/(10|192)\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/.test(burl)));}
function web_baseurl(){var h=window.location.host;if(!(/localhost/).test(h)&&spacexml&&spacexml.infos&&spacexml.infos.host)return window.location.protocol+"//"+spacexml.infos.host+"/";var p=window.location.pathname;if((/^[0-9.]+$/).test(h)&&(/^\/club\//).test(p))return window.location.protocol+"//"+h+p.replace(/(\/(club\/)?[^\/]+\/).*/,"$1");if((/^(club[0-9]*\.quomodo\.com|[0-9.]+)$/).test(h))return window.location.protocol+"//"+h+p.replace(/^(\/[^\/]+)\/?.*/,"$1/");if(window.spacexml&&spacexml.domainbaseurl&&spacexml.domainbaseurl.replace(/^https?:\/\//,"").replace(/\/$/,"")==h)return window.location.protocol+"//"+h+p.replace(/^(\/[^\/]+)\/?.*/,"$1/");if((/localhost/).test(h))return "http://"+h+p.replace(/(\/(club\/)?[^\/]+\/).*/,"$1");return window.location.protocol+"//"+h+"/";}
function q_spacebaseurl(ownerid){if(q_pagemode()=="web")return web_baseurl();if(ownerid=="quomodo")return "/services/"+document.mainform.service.value.replace(/^#[0-9]+#/,"").replace(/@intl/,"@"+q_lang)+"/";return "/symspaces/"+(document.mainform&&document.mainform.sessionid&&document.mainform.sessionid.value||q_spaceparam("sessionid")||"").replace(/^(.)(.)(.)/,"$1/$2/$3/$1$2$3")+"/";}
function q_spaceabsoluteurl(ownerid,relativeurl){if(spacexml&&spacexml.fileserver&&(/^uploads(\/shared|\/images|\/videos)?\/[0-9]+\//).test(relativeurl))return q_fsbaseurl(ownerid,null,relativeurl)+encodeURI(relativeurl.replace(/\/(images|videos)\//,"/"));return q_spacebaseurl(ownerid)+encodeURI(relativeurl);}
function q_fsbaseurl(ownerid,withhttp){if(ownerid=="quomodo"||!spacexml||!spacexml.fileserver){if(q_pagemode()=="web")return q_spacebaseurl(ownerid);return((withhttp)?(window.location.protocol+"//"+window.location.host):"")+q_spacebaseurl(ownerid);}
var url=window.location.protocol+"//"+spacexml.fileserver+"/"+spacexml.id.replace(/-.*/,"")+"/";if(q_pagemode()!="web")url+=(document.mainform&&document.mainform.sessionid.value||q_spaceparam("sessionid"))+"/";return url;}
function q_fsabsoluteurl(ownerid,relativeurl){if(ownerid=="quomodo"||!spacexml||!spacexml.fileserver)return q_spaceabsoluteurl(ownerid,relativeurl);return q_fsbaseurl(ownerid)+encodeURI(relativeurl.replace(/\/(images|videos)\//,"/"));}
function cookiesEnabled(){setcookie("test-cookies-enabled","1",1,true);var res=getcookie("test-cookies-enabled")=="1";deletecookie("test-cookies-enabled",true);return res;}
function getcookie(name){if(!document.cookie)return null;var start=document.cookie.indexOf(name+"=");var len=start+name.length+1;if((!start)&&(name!=document.cookie.substring(0,name.length)))return null;if(start==-1)return null;var end=document.cookie.indexOf(";",len);if(end==-1)end=document.cookie.length;return unescape(document.cookie.substring(len,end));}
function setcookie(name,value,expires,fullDomain){var today=new Date();today.setTime(today.getTime());if(expires){expires=expires*1000*60*60*24;var expires_date=new Date(today.getTime()+(expires));}
document.cookie=name+"="+escape(value)+";path=/"+(fullDomain?(";domain="+window.location.host.replace(/(^|.*[.])([^.]+[.][^.]+)$/,"$2")):"")+((expires)?";expires="+expires_date.toGMTString():"");}
function deletecookie(name,fullDomain){if(getcookie(name))document.cookie=name+"="+";expires=Thu, 01-Jan-1970 00:00:01 GMT"+(fullDomain?(";domain="+window.location.host.replace(/(^|.*[.])([^.]+[.][^.]+)$/,"$2")):"")+";path=/";}
function q_spaceparam(key,emptyresult){var x=(emptyresult==undefined)?null:emptyresult;if(window.spacexml)return(spacexml[key]==undefined)?x:spacexml[key];return x;}
function q_addspaceparams(json){if(!window.spacexml)spacexml={};for(var x in json)spacexml[x]=json[x];}
function q_pagemode(membermode){if(membermode==true){var pagemode=q_pagemode();if(q_getuserlevel(memberid)=="admin"||(/#artemapage@/).test(currsvcid))return pagemode;return(pagemode=="edit")?"view":pagemode;}
if(window.web_js_loaded)return "web";if(window.q_makeweb)return "makeweb";try{var pagemode=document.mainform.pagemode.value;if(pagemode&&/^snchooser/.test(pagemode)&&membermode!="raw")return "view";if(pagemode&&/^snchooser/.test(pagemode)&&membermode=="raw")return "snchooser";return pagemode;}catch(err){};if(window.q_loggedpagemode)return q_loggedpagemode;return null;}
function relaunchupdates(){return false;}
function spacetabalert(){return false;}
if(!window.qsn_notestyles)var qsn_notestyles={};function qsn_addnotestyle(notekind,styleref,thestyle){if(!qsn_notestyles[notekind])qsn_notestyles[notekind]={};qsn_notestyles[notekind][styleref]=thestyle;}
function q_args(args){if(args==undefined||args==null)return[];else if(typeof args=="object"&&args.splice)return args;return[args];}
function q_apply(h,args,obj){if(!h)return;if((typeof h)=="string")h=eval(h);return h.apply(obj||this,q_args(args));}
var __device={};function qsn_isTouchDevice(){if(__device.hasMouse)return false;return true==("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch);}
function qsn_isAndroid(){return /(android)/i.test(navigator.userAgent);}
var qsn_responsive_mod_var;function qsn_responsive_mod(){if(window.quomodo&&quomodo.page&&quomodo.page.isPopup)return parent.qsn_responsive_mod();if(!spacexml.responsive)return "md";if(qsn_responsive_mod_var)return qsn_responsive_mod_var;if(window.snchoosersample)return "md";if($("#sk-responsive-test").length==0)$("body").append('<div id="sk-responsive-test" style="display:none"></div>');var mod="md";$("#sk-responsive-test").css("display","");$("#sk-responsive-test").addClass("sk-sec-xs");if($("#sk-responsive-test").css("display")=="block")mod="xs";$("#sk-responsive-test").removeClass("sk-sec-xs").addClass("sk-sec-sm");if($("#sk-responsive-test").css("display")=="block")mod="sm";if(spacexml.lgresponsive){$("#sk-responsive-test").removeClass("sk-sec-sm").addClass("sk-sec-lg");if($("#sk-responsive-test").css("display")=="block")mod="lg";$("#sk-responsive-test").removeClass("sk-sec-lg").css("display","none");}else{$("#sk-responsive-test").removeClass("sk-sec-sm").css("display","none");}
qsn_responsive_mod_var=mod;return mod;}
var currfocus;if(!window.rights_record)var rights_record={};if(!window.spacexml)var spacexml={};var q_blue="#4A88AB";var q_idalias={};if(!window.q_elems)q_elems={};var qdyn_load_trace=false;if(window.parent&&parent.window!=window){try{if(parent.quomodo==undefined)throw{message:"parent.quomodo is undefined"};}catch(err){if(!(window.quomodoclient&&quomodoclient.allowIframe))parent.location.href=window.location.href;}}
var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS";this.supportRGBA=(function(){var elem=document.createElement("DIV");try{elem.style.backgroundColor="rgba(128,128,128,0.5)";return true;}catch(err){}
return false;})();},searchString:function(data){for(var i=0;i<data.length;i++){var dataString=data[i].string;var dataProp=data[i].prop;this.versionSearchString=data[i].versionSearch||data[i].identity;if(dataString){if(dataString.indexOf(data[i].subString)!=-1)return data[i].identity;}
else if(dataProp)return data[i].identity;}},searchVersion:function(dataString){if(typeof this.versionSearchString=="function")return this.versionSearchString(dataString);var index=dataString.indexOf(this.versionSearchString);if(index==-1)return;return parseFloat(dataString.substring(index+this.versionSearchString.length+1));},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer",versionSearch:function(dataString){var index=dataString.indexOf("Trident");return 4+parseFloat(dataString.substring(index+"Trident".length+1));}},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone"},{string:navigator.userAgent,subString:"iPod",identity:"iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init();var isWin=(BrowserDetect.OS=="Windows");var isMac=(BrowserDetect.OS=="Mac");var isInternetExplorer=(BrowserDetect.browser=="Explorer");var isIE=isInternetExplorer;var isIE_6=(isIE&&parseInt(BrowserDetect.version)<=6);var isIE_7=(isIE&&parseInt(BrowserDetect.version)==7);var isIE_8=(isIE&&parseInt(BrowserDetect.version)==8);var isIE_9=(isIE&&parseInt(BrowserDetect.version)==9);var isIE_10=(isIE&&parseInt(BrowserDetect.version)==10);var isIE_11=(isIE&&parseInt(BrowserDetect.version)==11);var isEdge=(navigator.userAgent.indexOf&&navigator.userAgent.indexOf('Edge')>=0);var isMsieMac=(isIE&&BrowserDetect.OS=="Mac");var isOpera=(BrowserDetect.browser=="Opera");var isFirefox=(BrowserDetect.browser=="Firefox");var isSafari=(BrowserDetect.browser=="Safari");var isSafari_3=(isSafari&&BrowserDetect.version=="3");var isSafari_4=(isSafari&&BrowserDetect.version=="4");var isSafari_5=(isSafari&&BrowserDetect.version=="5");var isiPhone=(BrowserDetect.OS=="iPhone");var isiPod=(BrowserDetect.OS=="iPod");var isiPad=(BrowserDetect.OS=="iPad");var isAppleMobile=(isiPhone||isiPod||isiPad);var isAndroid=(BrowserDetect.OS=="Android");var isMobile=isAppleMobile||isAndroid;function isie55(){return(navigator)&&(navigator.userAgent)&&(/MSIE 5\.5/.test(navigator.userAgent));}
function isie6(){return(navigator)&&(navigator.userAgent)&&(/MSIE (5\.5|6\.)/.test(navigator.userAgent));}
function isie7(){return(navigator)&&(navigator.userAgent)&&(/MSIE 7/.test(navigator.userAgent));}
function isie8(){return(navigator)&&(navigator.userAgent)&&(/MSIE 8/.test(navigator.userAgent));}
function isie9(){return(navigator)&&(navigator.userAgent)&&(/MSIE 9/.test(navigator.userAgent));}
function isie78(){return(isie7()||isie8());}
function isie(){return(navigator)&&(navigator.userAgent)&&(/MSIE/.test(navigator.userAgent));}
function isfirefox(){return(navigator)&&(navigator.userAgent)&&(/FireFox/i.test(navigator.userAgent));}
function issafari(){return(navigator)&&(navigator.appVersion)&&(/AppleWebKit/.test(navigator.appVersion));}
function q_navigatorlanguage(){var lang=(navigator.language)?navigator.language:((navigator.userLanguage)?navigator.userLanguage:"fr");lang=lang.split("-")[0];if(lang!="fr")lang="en";return lang;}
if(window.quomodo){quomodo.extend("gmap",function(){this.__maps=[];this.addmap=function(options){this.__maps.push(options);};this.getmap=function(w){for(var i=0;i<this.__maps.length;i++){if(this.__maps[i].frame.contentWindow==w)return this.__maps[i];}
return null;};});}
function ge(x,y){return getelement(x,y);}
function gebcn(x,y){return getElementByClassName(x,y);}
function gebtn(x,y){x=ge(x);if(!x)return null;var e=x.getElementsByTagName(y);if(e.length>0)return e.item(0);else return null;}
function getelement(x,basehtml){if(!x)return null;if(x.splice||((!x.tagName)&&x[0]&&x[0].tagName)){var res=[];for(var i=0;i<x.length;i++)res.push(getelement(x[i],basehtml));return res;}
if(x.tagName)return x;if(basehtml!=undefined)return gebcn(getelement(basehtml),x);var y=null;y=document.getElementById(x);if(y)return y;if(q_idalias[x])y=document.getElementById(q_idalias[x]);if(y)return y;y=document.getElementsByName(x);if(y.length)return y[0];return null;}
function getElementFromEvent(ee){var e=ee||window.event;return e.target||e.srcElement;}
function getRelatedElementFromEvent(ee){var e=ee||window.event;if(e.relatedTarget)return e.relatedTarget;if(e.type=="mouseover"&&e.fromElement)return e.fromElement;if(e.type=="mouseout"&&e.toElement)return e.toElement;return null;}
function getElementByClassName(elem,classname){var x=getElementsByClassName(elem,classname,true);if(x.length)return x[0];return null;}
function getElementsByClassName(elem,classname,stopWhenFound){return $("."+classname+((stopWhenFound)?":eq(0)":""),ge(elem)).get();}
function getContainer(x,cc){if(!x)return null;x=ge(x);if(isremoved(x)||x.nodeType!=1)return null;cc=cc||"container";if($(x).hasClass(cc))return x;var y=$(ge(x)).parents("."+cc+":eq(0)").filter("."+cc);if(!y.length)return null;return y.get(0);}
function getContainerOrSelf(x,cc){return getContainer(x,cc);}
function q_coreRelevantTargetCatcher(target,relevantTargetCatcher){return getContainerOrSelf(target,relevantTargetCatcher);}
function q_nodelevel(elem){try{if(!elem)return 0;var nb=0;while(elem.nodeType==1&&elem.parentNode&&elem.tagName.toLowerCase()!="body"){nb++;elem=elem.parentNode;}
return nb;}catch(err){return 0;}}
function q_ascendingnodelevel(elem1,elem2){return q_nodelevel(elem1)-q_nodelevel(elem2);}
function create_elem(t,arg,text){var e=document.createElement(t);if(arg)create_attributes(e,arg);if(text)e.appendChild(document.createTextNode(text));return e;}
function create_table(e,arg){var t=create_elem("TABLE",{cellSpacing:"0",cellPadding:"0",border:"0"});if(arg)create_attributes(t,arg);return e.appendChild(t);}
function create_tr(table,x,y){var rownb=(x&&typeof x=="number")?x:-1;var arg=(x&&typeof x=="object")?x:((y&&typeof y=="object")?y:null);var tr=table.insertRow(rownb);if(arg)create_attributes(tr,arg);return tr;}
function create_td(tr,arg){var td=tr.insertCell(-1);if(arg)create_attributes(td,arg);return td;}
function create_attributes(e,arg){var z;for(var x in arg){z=arg[x];if((x=="innerHTML")&&(!(/</).test(z)))q_innerHTML(e,z);else{if(typeof z=="string"){try{e[x]=z;}catch(err){e.setAttribute(x,z);}}else for(var y in z){if(isIE&&y=="cursor"&&z[y]=="pointer")z[y]="hand";try{e[x][y]=z[y];}catch(err){var s="error in create_attributes";try{s+=" "+x+" for "+y+" value : "+z[y];}catch(err2){};try{s+="\r"+(err.message||err.description||"(no message)");}catch(err2){};try{s+="\rElement's innerHTML is: \r\r"+e.innerHTML;}catch(err2){};debugmail(s);};}}}}
function createradio(s,xx){var x;x=(xx)?xx:{className:"radio on"};if(!x.className)x.className="radio on";var a=create_elem("A",x);var img=a.appendChild(create_elem("IMG",{src:"/images/blank.gif"}));a.appendChild(document.createTextNode(s));return a;}
function create_select(desc,args){if(desc.id){var select=ge(desc.id);if(!select||!select.tagName||select.tagName.toLowerCase()!="select")return;}else var select=create_elem("SELECT");create_attributes(select,args);if(desc.multiple){select.multiple="multiple";select.size=(desc.size||3);}
select.onclick=function(event){q_stopPropagation(event);};if(desc.onChange)select.onchange=desc.onChange;if(desc.selected&&(typeof desc.selected)=="string")desc.selected=[desc.selected];if(desc.options){for(var i=0;i<desc.options.length;i++){var opt=desc.options[i];if((typeof opt)=="string")opt=[opt];if(!opt.splice&&opt.label){var optargs=(opt.args)?opt.args:{};optargs.label=opt.label;var group=create_elem("OPTGROUP",optargs);select.appendChild(group);for(var j=0;j<opt.options.length;j++)select.options[select.options.length]=create_option(opt.options[j],desc.selected);}else{select.options[select.options.length]=create_option(opt,desc.selected);}}}
$("option[disabled]",$(select)).css({'color':'#cccccc'});$(select).data("currentSelectedVal",desc.selected);var currentOnChange=select.onchange;select.onchange=function(event){if(this.options[this.selectedIndex].disabled)$(this).val($(this).data("currentSelectedVal"));else{$(this).data("currentSelectedVal",$(this).val());if(currentOnChange)currentOnChange.apply(this,[event]);}};return select;};function create_option(option,x,y){var disabled=false;var selected=false;var value,name;if((typeof option)=="string")option=[option];if(option.splice){value=option[0];name=option[0];if(typeof option[1]=="string")name=option[1];else if(typeof option[1]=="function")name=option[1]();if(option.length>0&&(typeof option[1])=="boolean")disabled=option[1];else if(option.length>1)disabled=option[2];}else{value=(option.value!=undefined)?option.value:option;name=value;if(typeof option.name=="string")name=option.name;else if(typeof option.name=="function")name=option.name();if(option.disabled)disabled=option.disabled;if(option.selected)selected=option.selected;}
var opt=new Option(name,value);if(x&&x.splice&&indexOfItem(value,x)!=-1)selected=true;if(disabled)opt.disabled="disabled";if(selected)opt.selected="selected";var args=(x&&!x.splice)?x:((y)?y:null);if(args)create_attributes(opt,args);return opt;};function create_radios(desc,args){if(desc.id){var radios=ge(desc.id);if(!radios)return;}else var radios=create_elem("DIV");create_attributes(radios,args);var radiosname="radios_"+new Date().getTime();radios.setAttribute("radiosname",radiosname);if(!desc.radios)return;var onlyonechecked=false;for(var i=0;i<desc.radios.length;i++){var checked=false;var disabled=false;if((typeof desc.radios[i])=="string")desc.radios[i]=[desc.radios[i]];if(desc.radios[i].splice){var value=desc.radios[i][0];var name=(desc.radios[i].length>0&&(typeof desc.radios[i][1])=="string")?desc.radios[i][1]:desc.radios[i][0];if(desc.radios[i].length>0&&(typeof desc.radios[i][1])=="boolean")disabled=desc.radios[i][1];else if(desc.radios[i].length>1)disabled=desc.radios[i][2];}else{var value=desc.radios[i].value;var name=(desc.radios[i].name||desc.radios[i].value);if(desc.radios[i].disabled)disabled=desc.radios[i].disabled;if(desc.radios[i].checked)checked=desc.radios[i].checked;}
if(desc.checked&&desc.checked==name)checked=true;if(checked&&!onlyonechecked){checked=true;onlyonechecked=true;}else checked=false;radios.appendChild(create_elem("INPUT",{type:"radio",name:radiosname,value:value,checked:(checked)?"checked":"",disabled:(disabled)?"disabled":""}));radios.appendChild(document.createTextNode(name));radios.appendChild(create_elem("BR"));}
return radios;}
function create_checkboxes(desc,args){if(desc.id){var checkboxes=ge(desc.id);if(!checkboxes)return;}else var checkboxes=create_elem("DIV");create_attributes(checkboxes,args);var checkboxesname="checkboxes_"+new Date().getTime();checkboxes.setAttribute("checkboxesname",checkboxesname);if(desc.selected&&(typeof desc.selected)=="string")desc.selected=[desc.selected];if(!desc.checkboxes)return;for(var i=0;i<desc.checkboxes.length;i++){var checked=false;var disabled=false;if((typeof desc.checkboxes[i])=="string")desc.checkboxes[i]=[desc.checkboxes[i]];if(desc.checkboxes[i].splice){var value=desc.checkboxes[i][0];var name=(desc.checkboxes[i].length>0&&(typeof desc.checkboxes[i][1])=="string")?desc.checkboxes[i][1]:desc.checkboxes[i][0];if(desc.checkboxes[i].length>0&&(typeof desc.checkboxes[i][1])=="boolean")disabled=desc.checkboxes[i][1];else if(desc.checkboxes[i].length>1)disabled=desc.checkboxes[i][2];}else{var value=desc.checkboxes[i].value;var name=(desc.checkboxes[i].name||desc.checkboxes[i].value);if(desc.checkboxes[i].disabled)disabled=desc.checkboxes[i].disabled;if(desc.checkboxes[i].checked)checked=desc.checkboxes[i].checked;}
if(desc.selected&&desc.selected.splice&&indexOfItem(value,desc.selected)!=-1)selected=true;checkboxes.appendChild(create_elem("INPUT",{type:"checkbox",name:checkboxesname,value:value,checked:(checked)?"checked":"",disabled:(disabled)?"disabled":""}));checkboxes.appendChild(document.createTextNode(name));checkboxes.appendChild(create_elem("BR"));}
return checkboxes;}
function create_button(desc){if(!desc)return;var button,tr,td1,td2;button=$('<table cellspacing="0" cellpadding="5" border="0">').addClass("clubcolor3").hover(function(){q_button_mouseover(this);},function(){q_button_mouseout(this);}).mousedown(function(event){q_stopPropagation(event);});if(desc.id)button.attr("id",desc.id);if(desc["class"])button.addClass(desc["class"]);if(desc.small)button.addClass("q_toolbar");var visibilty=desc.visibility;if(typeof visibilty=="function")visibilty=visibilty();if(visibilty!=undefined)button.css("visibility",(visibilty)?"visible":"hidden");var descicon="",desccontent="";if(desc.icon)descicon=$('<div>',{"class":"q_button_icon "+desc.icon});if(desc.label&&!desc.notext)desccontent=$('<div>',{"class":"q_button_content",text:desc.label});else if(desc.html&&!desc.notext)desccontent=$('<div>',{"class":"q_button_content",html:desc.html});tr=$('<tr>',{"class":"q_button_tr"}).css("cursor","pointer").appendTo(button);td1=$('<td>',{"class":"q_button_td_icon",align:"right",vAlign:"middle"}).appendTo(tr).append((desc.iconright)?desccontent:descicon);td2=$('<td>',{"class":"q_button_td_content",align:"left",vAlign:"middle"}).appendTo(tr).append((desc.iconright)?descicon:desccontent);if(desc.notext){td1.css("padding","5px 0px 5px 7px");td2.css("padding","5px 3px");}
if(desc.onclick&&typeof desc.onclick=="function")button.click(desc.onclick);else if(desc.onclick&&typeof desc.onclick=="string")button.click(eval(desc.onclick));return button.get(0);}
function q_button_mouseover(elem){$(".q_button_tr",$(elem)).addClass("over");}
function q_button_mouseout(elem){$(".q_button_tr",$(elem)).removeClass("over");}
function q_deleteRow(tr){var table=tr.parentNode;if(table.tagName!="TABLE")table=table.parentNode;var rows=table.rows;for(var i=0;i<rows.length;i++)if(rows[i]==tr){table.deleteRow(i);return;}}
function q_deleteCell(td){var tr=td.parentNode;var cells=tr.cells;for(var i=0;i<cells.length;i++)if(cells[i]==td){tr.deleteCell(i);return;}}
function q_deleteCells(tr){var cells=tr.cells;var n=cells.length;for(var i=0;i<n;i++)tr.deleteCell(0);}
function q_removeChildren(x){$(x).children().remove();}
function q_removeChilds(x){return q_removeChildren(x);}
function rm(x){if(!x)return false;if(typeof x=='string')x=getelement(x);if(!x)return false;var debugnoteid;try{debugnoteid=x.id;}catch(err){}
try{x.removed=true;}catch(err){};try{x.setAttribute("removed",true);}catch(err){};if(x.parentNode){switch(x.tagName){case "TR":q_deleteRow(x);break;case "TD":q_deleteCell(x);break;default:x.parentNode.removeChild(x);}}else if(x.splice||(x[0]&&x[0].parentNode)){for(var i=0;i<x.length;i++)rm(x[i]);}else if(debugnoteid)debugmail("rm was called for orphan child, id "+debugnoteid);return false;}
function isremoved(elem){return(!elem||!elem.parentNode||elem.removed||(elem.getAttribute&&elem.getAttribute("removed"))||(window.$&&$(elem).parents("body").length==0)||false);}
function indexOfItem(theitem,thelist){return $.inArray(theitem,thelist);}
function q_sortjson(json){var sortedkeys=[];for(var key in json)sortedkeys.push(key);sortedkeys.sort();return sortedkeys;}
function q_emptyjson(x){for(var xx in x)return false;return true;}
function q_getkeys(obj){var t=[];if(typeof obj=="object")for(var k in obj)t.push(k);return t;}
function suppressitem(theitem,thelist){for(var i=thelist.length-1;i>=0;i--){if(thelist[i]==theitem)thelist[i]=null;}
return thelist;}
function testIsValidObject(objToTest){if(null==objToTest)return false;if("undefined"==typeof(objToTest))return false;return true;}
var cloneNumber=0;function changeProp(t,s){if(t.id)t.id=t.id.replace(/template$/,"")+s;if(t.name)t.name=t.name.replace(/template$/,"")+s;var children=t.childNodes;for(var i=0;i<children.length;i++)changeProp(children[i],s);}
function q_CloneFromNode(t){var aclone=t.cloneNode(true);changeProp(aclone,"_clone"+cloneNumber++);return aclone;}
function changeProp2(t,s){if(t.id)t.id=t.id.replace(/template$/,"")+s;var children=t.childNodes;for(var i=0;i<children.length;i++)changeProp2(children[i],s);}
function q_CloneFromNode2(t){var aclone=t.cloneNode(true);changeProp2(aclone,"_clone"+cloneNumber++);return aclone;}
function q_CloneFromID(s){var t=getelement(s);return q_CloneFromNode(t);}
function showblock(x,base){x=getelement(x,base);if(!x)return false;if(x.tagName){if(x.style['visibility'])x.style['visibility']='visible';else{if(x.tagName=="TR")x.style['display']=((navigator.appVersion)&&(/MSIE/.test(navigator.appVersion)))?'block':'table-row';else if(x.tagName=="TD")try{if(isie8()||isie7())x.style['display']="inline";else x.style['display']='table-cell';}catch(err){x.style['display']='inline';}
else if(x.tagName=="LI")x.style['display']='list-item';else if(x.tagName=="A")x.style['display']='inline';else if(x.tagName=="SPAN")x.style['display']='inline';else if(x.tagName=="TABLE")x.style['display']=((navigator.appVersion)&&(/MSIE/.test(navigator.appVersion)))?'block':'table';else x.style['display']='block';}}else{var y=[];for(var i=0;i<x.length;i++)y.push(x[i]);y.sort(q_ascendingnodelevel);for(var i=0;i<y.length;i++)showblock(y[i],base);}
return false;}
function hideblock(x,base){x=getelement(x,base);if(!x)return false;if(x.tagName){if(x.style['visibility'])x.style['visibility']='hidden';else x.style['display']='none';}else{var y=[];for(var i=0;i<x.length;i++)y.push(x[i]);y.sort(q_ascendingnodelevel).reverse();for(var i=0;i<y.length;i++)hideblock(y[i],base);}
return false;}
function hideshowblock(x,y,base){hideblock(x,base);showblock(y,base);return false;}
function toggledisplay(x,base){x=getelement(x,base);if(!x)return false;var b;if(x.tagName){if(x.style['visibility'])b=(x.style['visibility']=='visible');else b=(x.style['display']!='none')&&(gcs(x,"display")!='none');visibleblock(x,!b,base);}else for(var i=0;i<x.length;i++)toggledisplay(x[i],base);return false;}
function visibleblock(x,b,base){if(b)showblock(x,base);else hideblock(x,base);}
function q_makecolortable(elem,cellsize,callback){var table_colors=[[[50,0,0],[50,50,0],[0,50,0],[0,50,50],[0,0,50],[50,0,50],[50,50,50]],[[50,25,0],[25,50,0],[0,50,25],[0,25,50],[25,0,50],[50,0,25],[25,25,25]],[[100,0,0],[100,100,0],[0,100,0],[0,100,100],[0,0,100],[100,0,100],[100,100,100]],[[100,50,0],[50,100,0],[0,100,50],[0,50,100],[50,0,100],[100,0,50],[80,80,80]],[[100,40,40],[100,100,40],[40,100,40],[40,100,100],[40,40,100],[100,40,100],[40,40,40]],[[100,80,40],[80,100,40],[40,100,80],[40,80,100],[80,40,100],[100,40,80],[0,0,0]]];var table=document.createElement("TABLE");for(var i=0;i<6;i++){var tr=table.insertRow(-1);var tc=table_colors[i];for(var j=0;j<7;j++){var td=tr.insertCell(-1);td.style.width=td.style.height=cellsize+"px";td.style.cursor="pointer";td.style.backgroundColor="rgb("+tc[j][0]+"%,"+tc[j][1]+"%,"+tc[j][2]+"%)";td.onclick=function(){callback(this);};}}
if(!elem.tagName)elem=ge(elem);elem.appendChild(table);}
function rgb2brightness(rgb){var c=rgbvalues(rgb,255);return 100*(0.2125*c[0]+0.7154*c[1]+0.0721*c[2]);}
function rgb2insetcolor(rgb){rgb=rgb.replace(/ /g,"");var n=rgb2brightness(rgb);var rgb2="rgb("+rgb2givenlevel((n<50)?(n+33):(n-33),rgb).join(",")+")";return((n<50)?[rgb,rgb2,rgb2,rgb]:[rgb2,rgb,rgb,rgb2]).join(" ");}
function rgbcomplement(rgb){var c=rgbvalues(rgb,1);return "rgb("+(255-c[0])+","+(255-c[1])+","+(255-c[2])+")";}
function rgb2hsv(rgb){var c=rgbvalues(rgb,255);var r=c[0];var g=c[1];var b=c[2];var minval=Math.min(r,g,b);var maxval=Math.max(r,g,b);var delta=maxval-minval;var v=maxval;var h,s;if(delta==0)h=s=0;else{s=delta/maxval;var del_r=(((maxval-r)/6)+(delta/2))/delta;var del_g=(((maxval-g)/6)+(delta/2))/delta;var del_b=(((maxval-b)/6)+(delta/2))/delta;if(r==maxval)h=del_b-del_g;else if(g==maxval)h=(1/3)+del_r-del_b;else if(b==maxval)h=(2/3)+del_g-del_r;if(h<0)h=h+1;if(h>1)h=h-1;}
h=Math.max(0,Math.min(360,Math.round(h*360)));s=Math.max(0,Math.min(100,Math.round(s*100)));v=Math.max(0,Math.min(100,Math.round(v*100)));return[h,s,v];}
function hsv2rgb(hsv){return Xhsv2rgb(hsv,255);}
function chsv2rgb(hsv){return Xhsv2rgb(hsv,100);}
function Xhsv2rgb(hsv,base){var h=hsv[0];var s=hsv[1];var v=hsv[2];if(h==360)h=0;s/=100;v/=100;var r=null;var g=null;var b=null;if(s==0)r=g=b=v;else{var hTemp=h/60;var i=Math.floor(hTemp);var f=hTemp-i;var p=v*(1-s);var q=v*(1-(s*f));var t=v*(1-(s*(1-f)));switch(i){case 0:r=v;g=t;b=p;break;case 1:r=q;g=v;b=p;break;case 2:r=p;g=v;b=t;break;case 3:r=p;g=q;b=v;break;case 4:r=t;g=p;b=v;break;case 5:r=v;g=p;b=q;break;}}
r=Math.round(r*base);g=Math.round(g*base);b=Math.round(b*base);return[r,g,b];}
function rgb2hex(val){if(typeof(val)=="string"&&val.indexOf("rgb")>=0){if(/%/.test(val))val=rgb255(val);var rgb_val=val.slice(val.indexOf('(')+1,val.indexOf(')')).split(",");}else var rgb_val=val;val="#";var hexChars="0123456789ABCDEF";for(var i=0;i<3;i++){var v=Math.max(0,Math.min(255,rgb_val[i]));val+=hexChars.charAt(v/16)+hexChars.charAt(v%16);}
return val;}
function hex2rgb(val){val=(val&&val.charAt(0)=="#")?val.substring(1,val.length):val;if(val.length==3){var h="";for(var i=0;i<3;i++)h+=val.charAt(i)+val.charAt(i);}else h=val;var r=parseInt(h.substring(0,2),16);var g=parseInt(h.substring(2,4),16);var b=parseInt(h.substring(4,6),16);return[r,g,b];}
function rgbcontrastcolor(rgb,v){if(!v)v=20;if(v==9)v=5;var hsv=rgb2hsv(rgb);var c=(hsv[2]>50)?hsv[2]-v:hsv[2]+v;if(c<20)c=20;if(c>100)c=100;rgb=hsv2rgb([hsv[0],hsv[1],c]);return("rgb("+rgb[0]+", "+rgb[1]+", "+rgb[2]+")");}
function rgbcontrastcolor150(rgb){if(/%/.test(rgb))rgb=rgb255(rgb);var b=rgb2brightness(rgb);return "rgb("+rgb2givenlevel((b>50)?Math.max(0,b-75):Math.min(100,b+75),rgb).join(",")+")";if(/%/.test(rgb))rgb=rgb255(rgb);var c=rgb.replace(/rgb\((.*)\)/,"$1").split(",");var delta=(rgb2brightness(c)>50)?-150:150;for(var i=0;i<3;i++){c[i]=parseInt(c[i],10)+delta;if(c[i]<0)c[i]=0;if(c[i]>255)c[i]=255;}
return("rgb("+c[0]+", "+c[1]+", "+c[2]+")");}
function bwcontrastcolor(rgb,v){if(!v)v=0;var h=rgb2hsv(rgb)[0];rgb=(rgb2brightness(rgb)<50)?hsv2rgb([h,v,100]):hsv2rgb([h,100,v]);return("rgb("+rgb[0]+", "+rgb[1]+", "+rgb[2]+")");}
function bwcolor(rgb){return(rgb2brightness(rgb)<50)?"rgb(255, 255, 255)":"rgb(0, 0, 0)";}
function rgb2givenlevel(thelevel,thergb){var a,b;var desat=0.4;thelevel=thelevel/100;var thehsv=rgb2hsv(thergb);var h=thehsv[0];var s=thehsv[1];var v=thehsv[2];var l=Math.round(thelevel*255);if(s==0)return[l,l,l];var hlevel=rgb2brightness(hsv2rgb([h,100,100]))/100;if(thelevel<=hlevel){a=thelevel/hlevel;b=0;}else{a=(1-thelevel)/(1-hlevel);b=1-a;}
a=a*(1-desat);b=b*(1-desat)+thelevel*desat;if((a+b)==0)return hsv2rgb([h,0,0]);return hsv2rgb([h,100*a/(a+b),100*(a+b)]);}
function rgb2levelcolor(colorvalue,thelevel){var levels=[17,33,50,67,83,96];if(thelevel==1)return colorvalue;var c=rgb2givenlevel(levels[parseInt(thelevel,10)-2],colorvalue);return "rgb("+c.join(",")+")";}
function rgbvalues(rgb,base){if(typeof(rgb)=="string"&&(/rgb/).test(rgb)){rgb=rgb.replace(/rgba?\((.*)\)/,"$1").split(",");if(/%/.test(rgb[0]))var r=Math.round((parseInt(rgb[0],10)/100)*255);else var r=parseInt(rgb[0],10);if(/%/.test(rgb[1]))var g=Math.round((parseInt(rgb[1],10)/100)*255);else var g=parseInt(rgb[1],10);if(/%/.test(rgb[2]))var b=Math.round((parseInt(rgb[2],10)/100)*255);else var b=parseInt(rgb[2],10);}else if(typeof(rgb)=="string"&&(/#/).test(rgb)){rgb=rgb.replace("#","");if(rgb.length==3)rgb=rgb.replace(/(.)(.)(.)/,"$1$1$2$2$3$3");var r=parseInt(rgb.substring(0,2),16);var g=parseInt(rgb.substring(2,4),16);var b=parseInt(rgb.substring(4,6),16);}else{var r=rgb[0];var g=rgb[1];var b=rgb[2];}
if(base==1)return[Math.round(r),Math.round(g),Math.round(b)];return[r/base,g/base,b/base];}
function rgb100(rgb255){rgb255=rgb255.replace(/(rgba?\(|\)| )/g,"");var rgb=rgb255.split(",");for(var i=0;i<3;i++)rgb[i]=Math.round(rgb[i]/2.55);return "rgb("+rgb.join("%,")+"%)";}
function rgb255(rgb100){rgb100=rgb100.replace(/(rgba?\(|\)| )/g,"");var rgb=rgb100.split(",");for(var i=0;i<3;i++)rgb[i]=Math.round(2.55*parseInt(rgb[i],10));return "rgb("+rgb.join(",")+")";}
function getleftcolbackgroundcolor(){switch(q_spacebundle()){case "fede":return "rgb(102,102,102)";case "qlub":case "qorp":return club_menucolorpalette[0];case "family":return "rgb(255,255,255)";default:return "rgb(255,255,255)";}}
function getpagecolor(){return getsncontextualbackgroundcolors(7)[(rgb2brightness(getpagebackgroundcolor())<50)?5:1];}
function getpagebackgroundcolor(){switch(q_spacebundle()){case "fede":return "rgb(255,255,255)";case "qlub":case "qorp":return club_sitecolorpalette[7];case "family":if(/homepage/.test(currsvcid))return "rgb(234,255,225)";else if(/schooltt/.test(currsvcid))return "rgb(250,230,237)";else if(/pm/.test(currsvcid))return "rgb(253, 244, 236)";else if(/artemadisq/.test(currsvcid))return "rgb(234,223,236)";break;default:return "rgb(255,255,255)";}}
function q_contextualcolor(c,n){return(/^[0-9]+$/.test(c))?getsncontextualbackgroundcolors(n)[parseInt(c,10)-1]:c;}
function getsncontextualbackgroundcolors(n,wantclass){if(!n)n=4;var def4=["rgb(191,227,249)","rgb(219, 236, 53)","rgb(255, 255, 255)","rgb(231, 51, 82)"];var def7=["rgb(191,227,249)","rgb(219, 236, 53)","rgb(255, 255, 255)","rgb(231, 51, 82)","rgb(0, 0, 0)","rgb(190, 190, 190)","rgb(255, 255, 0)"];switch(q_spacebundle()){case "qlub":case "qorp":var c=club_sitecolorpalette;if(n==4){if(wantclass)return["1","7","4","comp1"];return[c[0],c[6],c[4],rgbcomplement(c[0])];}else if(n==7){if(wantclass)return["1","2","3","4","5","6","comp1"];return[c[0],c[1],c[2],c[3],c[4],c[5],rgbcomplement(c[0])];}
break;default:return(n==4)?def4:def7;break;}}
function q_getrelativebaseurl(){return "../../..";}
function q_getabsolutebaseurl(){return(window.location.href.replace(/(http(s?):\/\/[^\/]+\/).*/,"$1"));}
function isrealserver(){var burl=q_getabsolutebaseurl().replace(/^https?:\/\//,"");return!(burl=="beta2.quomodo.com/"||burl=="localhost/"||burl=="10.0.1.22/"||burl=="club2.quomodo.com/"||burl=="club1.quomodo.com/"||burl=="www1.quomodo.com/"||(/\.local\/$/.test(burl))||(/(10|192)\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/.test(burl)));}
function showstaticfile(x){var url=q_getrelativebaseurl()+"/services/"+document.mainform.service.value+"/"+x;window.open(url,'help pane','directories=no, location=no, menubar=no, status=no, width=600, height=450, scrollbars=yes');return false;}
function q_fsbasehref(relativeurl){var re=new RegExp("uploads/(shared/|images/|videos/)?[0-9]+/","i");if((relativeurl&&!re.test(relativeurl))||!spacexml||!spacexml.fileserver)return "";var res=window.location.protocol+"//"+spacexml.fileserver+"/"+spacexml.id.replace(/-.*/,"")+"/";return res;if(q_pagemode()=="makeweb"||q_pagemode()=="web")return res;return res+(document.mainform&&document.mainform.sessionid.value||q_spaceparam("sessionid"))+"/";}
function q_fsbaseurl(ownerid,withhttp,relativeurl){var re=new RegExp("uploads/(shared/|images/|videos/)?[0-9]+/","i");if(ownerid=="quomodo"||(relativeurl&&!re.test(relativeurl))||!spacexml||!spacexml.fileserver)return((withhttp)?(window.location.protocol+"//"+window.location.host):"")+q_spacebaseurl(ownerid);return window.location.protocol+"//"+spacexml.fileserver+"/"+spacexml.id.replace(/-.*/,"")+"/"+(document.mainform&&document.mainform.sessionid.value||q_spaceparam("sessionid"))+"/";}
function q_fsabsoluteurl(ownerid,relativeurl){var re=new RegExp("uploads/(shared/|images/|videos/)?[0-9]+/","i");if(ownerid=="quomodo"||(relativeurl&&!re.test(relativeurl))||!spacexml||!spacexml.fileserver)return q_spaceabsoluteurl(ownerid,relativeurl);return q_fsbaseurl(ownerid,null,relativeurl)+encodeURI(relativeurl.replace(/\/(images|videos)\//,"/"));}
function q_spacebaseurl(ownerid){if(ownerid=="quomodo")return "/services/"+document.mainform.service.value.replace(/^#[0-9]+#/,"").replace(/@intl/,"@"+q_lang)+"/";return "/symspaces/"+(document.mainform&&document.mainform.sessionid&&document.mainform.sessionid.value||q_spaceparam("sessionid")||"").replace(/^(.)(.)(.)/,"$1/$2/$3/$1$2$3")+"/";}
function q_spaceabsoluteurl(ownerid,relativeurl,encoded){if(spacexml&&spacexml.fileserver&&(/^uploads(\/shared|\/images|\/videos)?\/[0-9]+\//).test(relativeurl)){if(encoded)return q_fsbaseurl(ownerid,null,relativeurl)+relativeurl.replace(/\/(images|videos)\//,"/");return q_fsbaseurl(ownerid,null,relativeurl)+encodeURI(relativeurl.replace(/\/(images|videos)\//,"/"));}
if(encoded)return q_spacebaseurl(ownerid)+relativeurl;return q_spacebaseurl(ownerid)+encodeURI(relativeurl);}
function q_selfbaseurl(){return "/symspaces/"+(document.mainform&&document.mainform.sessionid.value||q_spaceparam("sessionid")).replace(/^(.)(.)(.)/,"$1/$2/$3/$1$2$3")+"_self/";}
function q_geturlparams(url){var params={};var x=(url)?url.replace(/^[^?]*\??/,""):window.location.search.replace(/^\?/,"");if(!x)return{};var t=x.split("&");var tt;for(var i=0;i<t.length;i++){tt=t[i].split("=");params[tt[0]]=decodeURIComponent(tt[1]);}
return params;}
function openhelpwindow(url,w_width,w_height){if(!w_width)w_width=700;if(!w_height)w_height=500;window.open(url,"helpwindow","location=1, status=1, scrollbars=1, toolbar=0, resizable=1, menubar=0, width="+w_width+", height="+w_height);return false;}
function q_openfile(elem){var file;if(elem.tagName=="A"){if(isie6())file=elem.outerHTML.replace(/^.*href="([^"]+)".*$/,"$1");else file=elem.href;}else if(elem.tagName)file=elem.getAttribute("fileref");else file=elem.fileref;file=file.replace(/.*\/(uploads\/.*)/g,'$1');window.open(q_fsbaseurl(memberid,null,file)+file);if(spacexml.logfiles){document.mainform.mission.value="register_private_upload";function getFields(){var fields={};var params=spacexml.logfilesParams||[{"name":"Nom","pattern":"%firstname %username"}];for(var i=0;i<params.length;i++){var pattern=params[i].pattern;var res=pattern;var member=members[memberid];var re=/%([a-zA-Z0-9]+)/g;for(;;){var x=re.exec(pattern);if(!x)break;res=res.replace(x[0],member[x[1]]);}
fields["p-"+i]=res;}
return fields;}
q_ajaxsubmitwithservice("common@"+q_lang,{"file":decodeURI(file),"fields":getFields()});}
return false;}
function q_locationhrefwithsearch(url,x){var params=q_geturlparams();if(x)params=q_cloneObject(x,params);var s=[];for(var k in params)if(k)s.push(encodeURIComponent(k)+"="+encodeURIComponent(params[k]));window.location.href=url+((s.length)?("?"+s.join("&")):"");}
function q_renderimgie6(){if(!q_imgtofix)return;for(var i=q_imgtofix.length-1;i>=0;i--){var img=q_imgtofix[i][0];if(!img||!img.parentNode){q_imgtofix.splice(i,1);continue;}
if(!img.complete)continue;var s=img.src.replace(/%23/g,"%2523");var imgSize=q_imgtofix[i][3];var imgw=(imgSize)?imgSize.width:img.offsetWidth;var imgh=(imgSize)?imgSize.height:img.offsetHeight;if(imgw)img.style.width=imgw+"px";if(imgh)img.style.height=imgh+"px";img.src="/images/blank.gif";img.style.visibility="visible";img.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+s+'",sizingMethod="scale")';if(q_imgtofix[i][1])q_imgtofix[i][1].apply(this,(q_imgtofix[i][2])?q_imgtofix[i][2]:[]);q_imgtofix.splice(i,1);}
if(q_imgtofix.length)q_imgtimer=setTimeout(q_renderimgie6,100);else q_imgtimer=null;}
function q_himgcheckloaded(){for(var i=q_imgtoload.length-1;i>=0;i--){if(!q_imgtoload[i][0].complete)continue;if(q_imgtoload[i][0].error){q_imgtoload.splice(i,1);continue;}
var args=q_args(q_imgtoload[i][2]);if(q_imgtoload[i][3])args=[{width:q_imgtoload[i][0].width,height:q_imgtoload[i][0].height}].concat(args);q_apply(q_imgtoload[i][1],args);q_imgtoload.splice(i,1);}
if(q_imgtoload.length)q_imgtoloadtimer=setTimeout(q_himgcheckloaded,100);else q_imgtoloadtimer=null;}
function q_imgcheckloaded(){q_himgcheckloaded();}
function q_waitimgsloaded(srcs,callback){var srcsloaded=[].concat(srcs);if(srcsloaded.length==0)return callback();function waitsrc(src){q_waitimgloaded(src,function(){srcsloaded.splice($.inArray(src,srcsloaded),1);if(srcsloaded.length==0)return callback();});}
for(var i=0;i<srcs.length;i++)waitsrc(srcs[i]);}
function q_waitimgloaded(src,h,p,getSize,errorCallback){var test=new Image();test.src=src;if(errorCallback)test.onerror=function(){test.error=true;errorCallback();};q_imgtoload.push([test,h,p,getSize]);if(!q_imgtoloadtimer)q_imgtoloadtimer=setTimeout(q_himgcheckloaded,100);return false;}
var q_imgtimer=null;var q_imgtofix=[];var q_imgtoloadtimer=null;var q_imgtoload=[];function q_hsetimgsrc(imgobj,h,p,getSize,errorCallback){imgobj[0].src=imgobj[1];return q_waitimgloaded(imgobj[1],function(imgSize){q_hdosetimgsrc(imgobj,h,p,imgSize)},[],getSize,errorCallback);var test=new Image();test.src=imgobj[1];if(test.complete)return q_hdosetimgsrc(imgobj,h,p);q_imgtoload.push([test,imgobj,h,p]);if(!q_imgtoloadtimer)q_imgtoloadtimer=setTimeout(q_imgcheckloaded,100);}
function q_setimgsrc(img,src,sizes){q_hsetimgsrc([img,src,sizes]);}
function q_hdosetimgsrc(imgobj,h,p,imgSize){var img=ge(imgobj[0]);if(!img||!img.parentNode)return;var re=new RegExp("\\.png($|\\?)","i");var src=imgobj[1];img.src=src;var args=q_args(p);if(imgSize)args=[imgSize].concat(args);if(!re.test(img.src)||!isie6()){if(re.test(img.src)&&(!(/\bpng/).test(img.className)))img.className+=" png";if(h)h.apply(this,args);return;}
img.className=img.className.replace(/\bpng[^ ]*\b/,"");var sizes=imgobj[2];if(sizes){img.style.width=(sizes)?sizes[0]:"";img.style.height=(sizes)?sizes[1]:"";}
img.style.visibility="hidden";img.style.filter="";q_imgtofix.push([img,h,args,imgSize]);if(!q_imgtimer)q_imgtimer=setTimeout(q_renderimgie6,100);}
function q_dosetimgsrc(img,src,sizes){q_hdosetimgsrc([img,src,sizes]);}
function q_pngbgimagename(x){if(/(pngbtn|btnbtn)/.test(x.parentNode.className))x=x.parentNode;if(/pngbtn/.test(x.className)&&isie6()){var ref=x.getElementsByTagName("DIV")[0].style.filter;}else if(/btnbtn/.test(x.className)){var ref=(isie6())?gebcn(x,"divimg").style.filter:gebcn(x,"divimg").style.backgroundImage;}else var ref=x.style.backgroundImage;var re=new RegExp(".*/([^/]*).png.*$");return ref.replace(re,"$1");}
function q_getCSS(selector,key){var r=getCSSRule(selector);if(!r)return "";return(eval("r.style."+key));}
function q_setCSS(selector,key,value){var r=addCSSRule(selector);eval("r.style."+key+" = '"+value+"'");}
function q_killCSS(selector){getCSSRule(selector,true);}
function getCSSRule(ruleName,toDelete){ruleName=ruleName.toLowerCase();if(document.styleSheets){for(var i=0;i<document.styleSheets.length;i++){var styleSheet=document.styleSheets[i];var j=0;var cssRule=false;do{if(styleSheet.cssRules)cssRule=styleSheet.cssRules[j];else cssRule=styleSheet.rules[j];if(cssRule){if(cssRule.selectorText.toLowerCase()==ruleName){if(toDelete){if(styleSheet.cssRules)styleSheet.deleteRule(j);else styleSheet.removeRule(j);return true;}else return cssRule;}}
j++;}while(cssRule);}}
return false;}
function addCSSRule(ruleName){if(document.styleSheets){if(!getCSSRule(ruleName)){if(document.styleSheets[0].addRule)document.styleSheets[0].addRule(ruleName,null,0);else document.styleSheets[0].insertRule(ruleName+" { }",0);}}
return getCSSRule(ruleName);}
function gcs(e,jsKey){e=ge(e);if(window.getComputedStyle)return window.getComputedStyle(e,"").getPropertyValue(jsKey.replace(/([A-Z])/g,"-$1").toLowerCase());if(e.currentStyle)return e.currentStyle[jsKey];return e.style[jsKey];}
function q_stdmouseover(ee){var e=ee||window.event;var x=e.target||e.srcElement;var button=getContainerOrSelf(x,"btnbtn");if(button)return q_mouseoverbutton(button);}
function q_stdmouseout(ee){var e=ee||window.event;var x=e.target||e.srcElement;var button=getContainerOrSelf(x,"btnbtn");if(button)return q_mouseoutbutton(button);}
function q_coremouseio(ee,relevantTargetCatcher,mouseioFunction){var target=getElementFromEvent(ee);var relevantTarget=getContainerOrSelf(target,relevantTargetCatcher);if(!relevantTarget)return null;var relatedTarget=getRelatedElementFromEvent(ee);var relevantRelatedTarget=getContainerOrSelf(relatedTarget,relevantTargetCatcher);if(relevantRelatedTarget==relevantTarget)return null;return mouseioFunction(relevantTarget,ee);}
function q_coremouseonclick(ee,relevantTargetCatcher,mouseonclickFunction){var target=getElementFromEvent(ee);var relevantTarget=getContainerOrSelf(target,relevantTargetCatcher);if(!relevantTarget)return null;return mouseonclickFunction(relevantTarget,ee);}
function q_coremouseclick(ee,relevantTargetCatcher,mouseonclickFunction){return q_coremouseonclick(ee,relevantTargetCatcher,mouseonclickFunction);}
function q_containermover(x,v){var div=getElementsByClassName(x,"qbtn");for(var i=0;i<div.length;i++)q_mouseoverbutton(div[i],v);}
function q_mouseoverbutton(x,v){try{x=ge(x);if(/(pngbtn|btnbtn)/.test(x.parentNode.className))x=x.parentNode;if(/locked/.test(x.className))return;if(/btncontainer/.test(x.className)){var d=getElementsByClassName(x,"btnbtn");for(var i=0;i<d.length;i++)q_mouseoverbutton(d[i]);return;}
var b=/pngbtn/.test(x.className);if(b&&isie6()){x=x.getElementsByTagName("DIV")[0];x.style.top=((v)&&(/top/.test(v)))?"0px":"";x.style.bottom=((v)&&(/top/.test(v)))?"":"0px";}else if(/btnbtn/.test(x.className)){x=gebcn(x,"divimg");x.style.top=((v)&&(/top/.test(v)))?($(x).attr("btntop")||"0px"):"";x.style.bottom=((v)&&(/top/.test(v)))?"":($(x).attr("btnbottom")||"0px");}else{if(isfirefox())x.style.backgroundPosition=v?v:"bottom";else x.style.backgroundPositionY=v?v:"bottom";}}
catch(e){}}
function q_containermout(x,v){var div=getElementsByClassName(x,"qbtn");for(var i=0;i<div.length;i++)q_mouseoutbutton(div[i],v);}
function q_mouseoutbutton(x,v){try{x=ge(x);if(/(pngbtn|btnbtn)/.test(x.parentNode.className))x=x.parentNode;if(/locked/.test(x.className))return;if(/btncontainer/.test(x.className)){var d=getElementsByClassName(x,"btnbtn");for(var i=0;i<d.length;i++)q_mouseoutbutton(d[i]);return;}
var b=/pngbtn/.test(x.className);if(b&&isie6()){x=x.getElementsByTagName("DIV")[0];x.style.bottom=((v)&&(/bottom/.test(v)))?"0px":"";x.style.top=((v)&&(/bottom/.test(v)))?"":"0px";}else if(/btnbtn/.test(x.className)){x=gebcn(x,"divimg");x.style.bottom=((v)&&(/bottom/.test(v)))?($(x).attr("btnbottom")||"0px"):"";x.style.top=((v)&&(/bottom/.test(v)))?"":($(x).attr("btntop")||"0px");}else{if(isfirefox())x.style.backgroundPosition=v?v:"top";else x.style.backgroundPositionY=v?v:"top";}}
catch(e){}}
function q_mob(x,v){if(v){x.className=x.className.replace(/newbtnoff\b/,"newbtnon");q_mouseoverbutton(x);}else{x.className=x.className.replace(/newbtnon\b/,"newbtnoff");q_mouseoutbutton(x);}}
function autowbtn_cmout(t,args){var td=t.getElementsByTagName("TD");var x0=td[0].getElementsByTagName("DIV")[0];var x1=td[1].getElementsByTagName("DIV")[0];q_mouseoutbutton(x0,"left top");q_mouseoutbutton(x1,"right top");if(/\b.*_mover\b/.test(t.className))t.className=t.className.replace(/\b(.*)_mover\b/,"$1_mout");}
function autowbtn_mout(t,args){var td=t.getElementsByTagName("TD");var x0=td[0].getElementsByTagName("DIV")[0];var x1=td[1].getElementsByTagName("DIV")[0];q_mouseoutbutton(x0,"left top");q_mouseoutbutton(x1,"right top");var b=/pngbtn/.test(x0.className);if(b&&isie6())x0=x0.getElementsByTagName("DIV")[1];x0.style.lineHeight='22px';if(!args)return;for(var x in args){if((x=="ie6")&&(b)&&(isie6())){for(var y in args[x])x0.style[y]=args[x][y];}else x0.style[x]=args[x];}}
function autowbtn_cmover(t,args){var td=t.getElementsByTagName("TD");var x0=td[0].getElementsByTagName("DIV")[0];var x1=td[1].getElementsByTagName("DIV")[0];q_mouseoverbutton(x0,"left bottom");q_mouseoverbutton(x1,"right bottom");if(/\b.*_mout\b/.test(t.className))t.className=t.className.replace(/\b(.*)_mout\b/,"$1_mover");}
function autowbtn_mover(t,args){var td=t.getElementsByTagName("TD");var x0=td[0].getElementsByTagName("DIV")[0];var x1=td[1].getElementsByTagName("DIV")[0];q_mouseoverbutton(x0,"left bottom");q_mouseoverbutton(x1,"right bottom");var b=/pngbtn/.test(x0.className);if(b&&isie6())x0=x0.getElementsByTagName("DIV")[1];x0.style.lineHeight='26px';if(!args)return;for(var x in args){if((x=="ie6")&&(b)&&(isie6())){for(var y in args[x])x0.style[y]=args[x][y];}else x0.style[x]=args[x];}}
function blurdefault(x,thegraytext,thegraycolor,theplaincolor){if(theplaincolor===undefined)theplaincolor="#000000";if(typeof x=='string')x=getelement(x);if(x==null)return;if((x.value=="")||(x.value==thegraytext)){x.value=thegraytext;if(thegraycolor)x.style.color=thegraycolor;}else if(theplaincolor)x.style.color=theplaincolor;}
function focusdefault(x,thegraytext,theplaincolor){if(typeof x=='string')x=getelement(x);if(x==null)return;if(x.value==thegraytext)x.value="";if(theplaincolor)x.style.color=theplaincolor;}
function focusoptional(x,thegraytext){focusdefault(x,thegraytext,"#000");}
function bluroptional(x,thegraytext){blurdefault(x,thegraytext,"#AAA","#000");}
function mouseover_tabtitle(x){if(/_open/.test(x.className))return;x.className=x.className.replace("_closed","_mouseover");}
function mouseout_tabtitle(x){if(/_open/.test(x.className))return;x.className=x.className.replace("_mouseover","_closed");}
var q_windowblurhandlers=[];var q_windowfocushandlers=[];function q_addwindowblurhandlers(h){window.onblur=window.onblur||q_windowblur;if(indexOfItem(h,q_windowblurhandlers)==-1)q_windowblurhandlers.push(h);}
function q_addwindowfocushandlers(h){window.onfocus=window.onfocus||q_windowfocus;if(indexOfItem(h,q_windowfocushandlers)==-1)q_windowfocushandlers.push(h);}
function q_windowblur(ee){var target=getElementFromEvent(ee);if(target!=window&&target!=window.document)return;for(var i=0;i<q_windowblurhandlers.length;i++){try{eval(q_windowblurhandlers[i]).apply(this,[]);}catch(err){}}}
function q_windowfocus(ee){var target=getElementFromEvent(ee);if(target!=window&&target!=window.document)return;for(var i=0;i<q_windowfocushandlers.length;i++){try{eval(q_windowfocushandlers[i]).apply(this,[]);}catch(err){}}}
function setcurrfocus(x){currfocus=x;}
function setfocus(x){var y=getelement(x);if(y!=null){y.focus();return true;}
return false;}
function setselection(x){var y=getelement(x);if(y!=null){y.focus();y.select();return true;}
return false;}
function focusandselect(x){if(typeof x=='string')x=getelement(x);if(x==null)return false;try{x.focus();}catch(err){};try{x.select();}catch(err){};return false;}
if(window.quomodo)quomodo.extend("fsm",function(){this.__popupCount=0;this.__startupPopups=[];this.addStartupPopup=function(svc){if(isiniframe())return parent.quomodo.fsm.addStartupPopup(svc);if($.inArray(svc,this.__startupPopups)!=-1)return false;this.__startupPopups.push(svc);return true;}
this.popup=function(src,options){if(isiniframe())return parent.quomodo.fsm.popup(src,options);var _obj=this;var popuid=this.__popupCount++;var searchRe=new RegExp("\\?");var searchsrc=((searchRe.test(src))?'&':'?')+'popup=true&popupid='+popuid;q_fsm_reveal({src:'<div class="popupcontainer" style="position: relative ; top: 0px ; left: 0px"></div>',closeonly:true,closeoutside:true,delete_callback:function(div){window.quomodo.events.removeListener($(div).data("resizeEvent"));},reveal_callback:function(div,json){var $div=$(div);$div.find(".q_fsmblockcontainer_delete").off("click");$div.find(".q_fsmblockcontainer_screenmask, .q_fsmblockcontainer_header, .q_fsmblockcontainer_container").off("click").click(function(){q_fsm_delete();return false;});var wslide=18;$div.find(".popupcontainer").appendQIframe(src+searchsrc,{width:260,height:126,withWait:true,ispopup:true,maxwidth:function(){return q_windowInnerWidth()-40-wslide;},maxheight:function(){return q_windowInnerHeight()-40-2*wslide;},"attach":{"onresize":function(w,h){$div.find(".q_fsmblockcontainer_block").css({"left":function(){var $this=$(this);var w=Math.max($this.width(),$this.find(".q_fsmblockcontainer_header > td").width(),$this.find(".q_fsmblockcontainer_content").width());return Math.round((q_windowInnerWidth()-w)/2)+"px";},"top":function(){return Math.round((q_windowInnerHeight()-$(this).height())/4)+"px";}});},"close":function(){q_fsm_delete();}}});$div.data("popuid",popuid);}});};this.loadFontLato=function(){var linkID="__quomodofonts-lato";if(!document.getElementById(linkID)){var s=document.createElement("link");s.setAttribute("type","text/css");s.setAttribute("rel","stylesheet");s.setAttribute("href","https://fonts.googleapis.com/css?family=Lato:300,400,700");document.getElementsByTagName("head")[0].appendChild(s);s.id=linkID;}};this.__preloadPath={};this.loadDialog=function(src,options){options=options||{};if(isiniframe())return parent.quomodo.fsm.loadDialog(src,options);var preloadedid=this.__preloadPath[src];var revealid=q_fsm_reveal({src:preloadedid?null:'<div class="loadDialogcontainer" style="position: relative; top: 0px; left: 0px"></div>',revealid:preloadedid,title:"...",position:options&&options.position,preload:options&&options.preload,maskopacity:options&&options.maskopacity,slideLeft:options&&options.slideLeft,revealAnim:options&&options.revealAnim,deleteAnim:options&&options.deleteAnim,closeonly:options&&options.closeonly,closeoutside:options&&options.closeoutside,closehidden:(options&&options.closehidden!=undefined)?options.closehidden:true,delete_callback:function(){if(options.callback)options.callback.apply(this,arguments);},reveal_callback:function(div,json){var $div=$(div);if(json&&json.closeonly&&!json.closehidden){$div.find(".q_fsmblockcontainer_header").hide().show();$div.find(".q_fsmblockcontainer_block").css("background-color","transparent");}
$div.addClass("flat-design");var wslide=18;var styles=options.styles||[];var s=$("link[href*=\"custom/style/qlub0\"]",document.head).attr("href");if(s){if(q_pagemode()=="web")s=web_baseurl()+s;styles.push(s);}
if($(window).width()<=767){$(".flat-design .q_fsmblockcontainer_block ").css("max-width",$(window).width()-40+"px");}
var not_rwd=options&&options.not_rwd;if(q_pagemode()=="edit"){if(window.currsvcid&&/#(artemapage|homepage)/.test(currsvcid))not_rwd=true;else if(qsn_responsive_mod()=="md")not_rwd=true;}
if(preloadedid){if(!q_fsm_preload.items[preloadedid])return;if(!q_fsm_preload.items[preloadedid].loaded){q_fsm_preload.items[preloadedid].wait=function(){quomodo.fsm.loadDialog(src,options);};return;}
var iframe=$div.find("iframe").get(0);iframe.callbackDone=false;iframe.preload=false;iframe.focused=null;iframe.json=options&&options.json;iframe.trigger("reloaded");}else $div.find(".loadDialogcontainer").appendQIframe(src,{width:260,height:126,withWait:true,noscroll:options&&options.noscroll,not_rwd:not_rwd,iframeMaxWidth:function(){return q_windowInnerWidth()-40-wslide;},maxwidth:function(){return q_windowInnerWidth()-40-wslide;},maxheight:function(){return q_windowInnerHeight()-40-wslide;},"attach":{"memberid":window.memberid||"quomodo","sessionid":q_spaceparam("sessionid"),"preload":options&&options.preload,"focused":(options&&options.preload&&document.activeElement),"onresize":function(w,h,xoverflow){var formateddisplay;if(options&&options.position)formateddisplay=fsm_displayoption(options.position);if(w==undefined||h==undefined)return;$div.find(".q_fsmblockcontainer_block").css({"left":function(){if(formateddisplay&&typeof formateddisplay[0]=="string")return Math.min(parseInt(formateddisplay[0],10),3*(q_windowInnerWidth()-$(this).width())/4)+"px";if(xoverflow&&options&&options.force_right_when_overflow)return "";return Math.round((q_windowInnerWidth()-$(this).width())/2)+"px";},"right":function(){if(xoverflow&&options&&options.force_right_when_overflow)return "0px";return "";},"max-width":function(){if(xoverflow&&options&&options.force_right_when_overflow)return "none";else if($(window).width()<=767)return $(window).width()-40+"px";return "";},"top":function(){if(formateddisplay){if(typeof formateddisplay[1]=="string")return Math.min(parseInt(formateddisplay[1],10),3*(q_windowInnerHeight()-$(this).height())/4)+"px";return Math.round((q_windowInnerHeight()-$(this).height())*formateddisplay[1])+"px";}
return Math.round((q_windowInnerHeight()-$(this).height())/4)+"px";}});},"close":function(){q_fsm_deleteById(revealid);},"json":options.json,"callback":function(){if(!this.callbackDone){this.callbackDone=true;q_fsm_deleteById.apply(this,[revealid,Array.prototype.slice.call(arguments)[0]]);}},"styles":styles,"scripts":options.scripts,"onIframeLoaded":function(){var doc=framedocument(this);$div.find(".q_fsmblockcontainer_title").text(doc.title);$div.find(".q_fsmblockcontainer_header table td:first").toggle(!Boolean(doc.fsmNotClosable));if(doc.fsmClass&&doc.fsmClass!="flat-design")$div.addClass(doc.fsmClass);else if(!doc.fsmClass){$div.removeClass("flat-design");this.contentWindow.triggerResized.apply(this,[]);}
if(doc.not_rwd){var tmp=$div.find("iframe").data("options");if(!tmp)tmp={};tmp.not_rwd=true;$div.find("iframe").data("options",tmp).width(260);this.contentWindow.triggerResized.apply(this,[]);}
if(options&&options.preload){q_fsm_preload.items[revealid].loaded=true;if(q_fsm_preload.items[revealid].wait)q_fsm_preload.items[revealid].wait();}},"trigger":function(){this.contentWindow.onTrigger.apply(this,arguments);},"validOnReturn":function(){var _this=this;$("body").keypress(function(event){_this.trigger("keypress-return");});},"headerHTML":function(htmlString){this._html("header",htmlString);},"footerHTML":function(htmlString){this._html("footer",htmlString);},"_html":function(target,htmlString){var doc=framedocument(this);if(doc.fsmClass&&doc.fsmClass=="flat-design"){quomodo.fsm.loadFontLato();}
var iframe=this;var $t=$div.find("td."+target);if(!htmlString)return $t.remove();if(!$t.length){$div.find("td.q_fsmblockcontainer_content").parent()[({"header":"before","footer":"after"})[target]]('<tr><td class="'+target+'"></td></tr>');$t=$div.find("td."+target);}
$t.empty().html(htmlString);if(target=="header"){var maxwidth=6+Math.max(15,$t.find(".left").width()||0,$t.find(".right").width()||0);$t.find(".title").css({"display":"inline-block","padding-left":maxwidth+"px","padding-right":maxwidth+"px"});}
$t.find(".icon").each(function(){if($(this).html()==""){if($(this).hasClass("validate")||$(this).hasClass("back"))$(this).html("");if($(this).hasClass("cancel")||$(this).hasClass("clone"))$(this).html("");if($(this).hasClass("add"))$(this).html("");}});var formIds=[];$t.find(".cform").each(function(){var formId=$(this).parents("form").eq(0).attr("id");if(formId&&$.inArray(formId,formIds)==-1){formIds.push(formId);$("#"+formId).customForm();}});$t.find("[q_trigger]").unbind("click").click(function(){iframe.trigger($(this).attr("q_trigger"));}).css("cursor","pointer");$t.find("[q_trigger_change]").unbind("change").change(function(){var v;if(this.tagName.toLowerCase()=="select")v=$(this).val();iframe.trigger($(this).attr("q_trigger_change"),v);}).css("cursor","pointer");iframe[({"header":"_hh","footer":"_fh"})[target]]=$t.height();iframe.resize();},"switchDialog":function(callback){var b=true;$div.find("td.header, td.q_fsmblockcontainer_content, td.footer").fadeTo(400,0.01,function(){if(b){callback();b=false;}
$(this).fadeTo(400,1);});}}});}});if(options&&options.preload){this.__preloadPath[src]=revealid;}};this.gui=function(guiKey,callback,defaultValue,options){q_fsm_reveal({src:{id:"quomodo_gui",target:"q_fullscreenmask",urls:["/services/qorg/scripts/gui.js","/services/qorg/scripts/gui_msgs_"+q_lang+".js","/services/qorg/gui_"+q_lang+".html"]},fsmsrc:guiKey,buttons:function(){return gui_fsm_buttons(guiKey,options);},title:function(){return gui_message[guiKey];},reveal_callback:function(div){gui_fsm_reveal(guiKey,div,defaultValue,options);},delete_callback:function(){if(callback)callback.apply(this,arguments);}});};this.slider=function(options,callback){options=$.extend({min:0,max:100,step:1,displayValue:true,unit:"",value:0,width:100},options);options.min=parseInt(options.min,10);options.max=parseInt(options.max,10);options.width=Math.max(options.width,options.max-options.min);var $src=$('<div onmousedown="q_stopPropagation( event )"></div>');$src.append('<div></div>').find("div:last").append('<div class="fsm_slider" style="float: left ; width: '+(options.width)+'px"></div>').find("div:last").slider({min:options.min,max:options.max,step:options.step,slide:function(event,ui){$(this).next().html(ui.value+options.unit);},change:function(event,ui){$(this).next().html(ui.value+options.unit);}}).end().append('<div style="font-weight: bold ; color: darkRed ; float: left; padding-left: 10px"></div>');q_fsm_reveal({src:$src.get(0),title:options.title||"",reveal_callback:function(div){$(".fsm_slider",div).slider("value",parseInt(options.value||0,10));},delete_callback:function(){if(callback)callback.apply(this,arguments);},buttons:[{icon:"adminmenu sprite_cancel_32",label:common_message["cancel"],onclick:function(){q_fsm_delete();}},{icon:"adminmenu sprite_validate_32",label:common_message["ok"],onclick:function(){var div=q_fsm_currentblock();var v=$(".fsm_slider",div).slider("value");if(options.unit)v+=options.unit;q_fsm_delete(v);}}]});};});var q_fsmzindex=0;function q_incrementfsmindex(){q_fsmzindex++;q_fsmzindex=Math.max(Math.max((window.zindexmax||0)+1,q_fsmzindex),10);return q_fsmzindex;}
function fsm_displayoption(displayoption){if(!displayoption)return null;var s=displayoption.split(" ");if(s.length==1)s=s.concat(s);for(var i=0;i<2;i++){if(/[0-9]+%/.test(s[i]))s[i]=parseInt(s[i],10)/100;else if(/^[0-9.]+$/.test(s[i]))s[i]=parseFloat(s[i],10);else if(s[i]=="center")s[i]=0.5;else if(s[i]=="top")s[i]=0;else if(s[i]=="bottom")s[i]=1;else if(s[i]=="left")s[i]=0;else if(s[i]=="right")s[i]=1;else if(s[i]=="none")s[i]=null;}
return s;}
function q_fsm_zoom(src){var x=q_fsm_currentblock();if($(x).data('lightGallery'))$(x).data('lightGallery').destroy(true);$(x).lightGallery({"thumbnail":false,"dynamic":true,"dynamicEl":[{"src":src}],"controls":false,"counter":false,"download":false,"fullScreen":false});$(x).on("onCloseAfter.lg",function(){if($(this).data('lightGallery'))$(this).data('lightGallery').destroy(true);}).on("onAfterOpen.lg",function(){$(".lg-backdrop").css("opacity","0.4");});}
function q_fsm_updateWaitMessage(s,fsm_waitId){var div;if(q_pagemode()=="makeweb")return;if(fsm_waitId){var index;for(var i=0;i<q_fsm_revealed.length;i++){if(q_fsm_revealed[i].id==fsm_waitId){index=i;break;}}
if(index==undefined)div=q_fsm_currentblock();else div=q_fsm_revealed[index];}else{div=q_fsm_currentblock();}
$(".q_fsm_wait div.q_fsm_wait_text",div).html(s);}
function q_fsm_wait(s){if(q_pagemode()=="makeweb"){fsmid="fsm_"+(q_fsm_preload.nextid++);q_fsm_revealed.push({"id":fsmid,"makeweb-nofsm":true});return fsmid;}
return q_fsm_reveal({src:'<div class="q_fsm_wait"><div class="q_fsm_wait_spinner"></div><div class="q_fsm_wait_text"></div></div>',hideheader:true,reveal_callback:function(div,json){$(".q_fsmblockcontainer_content",div).css({"padding":"0px","background-color":"transparent"});$(".q_fsmblockcontainer_block",div).css({"border":"none"});$(".q_fsm_wait .q_fsm_wait_text",div).html(s||common_message["defaultwait"]);}});}
function q_bubble(msg,options){$('<div class="q_bubble fixed"></div>').append($('<div class="q_bubble_content"'+((options&&options.bold=="none")?' style="font-weight: normal"':'')+'></div>').html(msg)).prependTo(document.body).slideDown("slow").delay(options&&options.delay||1000).slideUp("slow",function(){$(this).remove();if(options&&options.callback&&typeof options.callback=="function")q_apply(options.callback,this);});}
function xq_bubble(ele,msg,options){ele.find(".q_bubble").remove();var container=$('<div class="q_bubble" style="position:absolute" align="center"></div>');$(container).data("alreadytargeted",false);ele.hover(function(){container.slideUp("slow",function(){if(!$(container).data("alreadytargeted")&&options&&options.callback&&typeof options.callback=="function")q_apply(options.callback,this);$(container).data("alreadytargeted",true);container.remove();});});container.append($('<div class="q_bubble_content"></div>').html(msg)).prependTo(ele).slideDown("slow");setTimeout(function(){container.slideUp("slow",function(){if(!$(container).data("alreadytargeted")&&options&&options.callback&&typeof options.callback=="function")q_apply(options.callback,this);$(container).data("alreadytargeted",true);container.remove();});},options&&options.delay||6000);}
function q_fsm_extend_buttons(defaultbuttons,extendbuttons){if(!extendbuttons)return defaultbuttons;if(!extendbuttons.splice||extendbuttons.length!=defaultbuttons.length)return q_alert("q_fsm_extend_buttons was called with bad arguments for buttons.");var buttons=[];for(var i=0;i<defaultbuttons.length;i++)buttons.push($.extend(defaultbuttons[i],extendbuttons[i]));return buttons;}
function q_alert(msg,options,flatdial){if(!options)options={};if(flatdial){var path="/services/dialogs/q_alert-flatdesign/index_"+q_lang+".html";var params={"closeoutside":true,"json":{"msg":msg},"callback":options.callback};params.json=$.extend({},params.json,options);quomodo.fsm.loadDialog(path,params);return;}
options.buttons=q_fsm_extend_buttons([{label:common_message["ok"],onclick:function(){q_fsm_delete();}}],options.buttons);if(!options.title)options.closeonly=true;var opt=$.extend({title:"Quomodo",icon:"",closeOnReturn:true,width:"300"},options);var thesrc=$('<table cellspacing="0" cellpadding="10" border="0" class="q_fsm_alert">').css("width",opt.width+"px");var tr=$('<tr></tr>').appendTo(thesrc);if(opt.icon)tr.append('<td width="1"><img class="png '+opt.icon+'" src="/images/blank.gif" alt=""/></td>');tr.append($('<td valign="middle" align="left">').append(msg));var json={src:thesrc.get(0),title:opt.title,buttons:opt.buttons,closeonly:opt.closeonly,closeoutside:true};if(opt.closeOnReturn)json.reveal_callback=function(div,json){div.keypress=function(event){if(q_keycode(event)=="13")q_fsm_delete();};};if(opt.callback)json.delete_callback=opt.callback;if(opt.callback_args||opt.args)json.delete_args=q_args(opt.callback_args||opt.args);q_fsm_reveal(json);return false;}
function q_confirm(msg,options,args){if(!options)options={};if(typeof options=="function")options={callback:options,callback_args:args};else if(typeof options=="string")options={callback:eval(options),callback_args:args};options.buttons=q_fsm_extend_buttons([{icon:"adminmenu sprite_cancel_32",label:common_message["cancel"],onclick:function(){q_fsm_delete();}},{icon:"adminmenu sprite_validate_32",label:common_message["ok"],onclick:function(){q_fsm_delete([true]);}}],options.buttons);if(!options.title)options.closeonly=true;options=$.extend({title:"Quomodo",width:"300",icon:"q_alert_warning"},options);var thesrc=$('<table cellspacing="0" cellpadding="10" border="0" class="q_fsm_alert">').css("width",options.width+"px").append($('<tr>').append('<td width="1"><img class="png " + options.icon + " src="/images/blank.gif" alt=""/></td>').append($('<td valign="middle" align="left">').append(msg)));var json={src:thesrc.get(0),title:options.title,buttons:options.buttons,position:options.position,closeonly:options.closeonly,delete_callback:function(value){if(value&&options.callback)q_apply(options.callback,options.callback_args);else{if(value==undefined&&options.close)return options.close();if(options.cancel)q_apply(options.cancel,options.cancel_args);else return;}}};q_fsm_reveal(json);}
function q_prompt(msg,options,args){if(!options)options={};if(typeof options=="function"||typeof options=="string"){var callback=(typeof options=="string")?eval(options):options;options=(args&&typeof args=="object"&&!args.splice)?args:{};options.callback=callback;}
if(typeof msg=="string")options.prompt=msg;else if(typeof msg=="object"&&!msg.splice)try{msg=msg.innerHTML;}catch(e){}
else{if(msg.length==1)options.prompt=msg[0];else{options.title=msg[0];options.prompt=msg[1];}}
var callback=options.callback||"";var callback_args=q_args(options.args||options.callback_args);var emptyvalue=(options.emptyvalue!=undefined)?options.emptyvalue:true;var multiple=(options.multiple!=undefined)?options.multiple:false;var bHTML=(options.html!=undefined)?options.html:false;var bIE=Boolean(document.body.currentStyle);var bGecko=(navigator.userAgent.toLowerCase().indexOf('gecko')!=-1);if(bHTML&&!(document.getElementById&&document.createElement&&document.designMode&&(bIE||bGecko))){bHTML=false;multiple=true;}
if(!options.title)options.closeonly=true;options=$.extend({title:"Quomodo",width:"300","default":"",maxlength:15000,rows:3,buttons:[{icon:"adminmenu sprite_cancel_32",label:common_message["cancel"],onclick:function(){q_prompt_validate(this,"false");}},{icon:"adminmenu sprite_validate_32",label:common_message["ok"],onclick:function(){q_prompt_validate(this,"true");}}]},options);var thesrc=$('<form>',{"class":"q_prompt_form"}).append($('<table cellspacing="0" cellpadding="5" border="0" class="q_fsm_alert">').css("width",options.width+"px").append($('<tr>').append($('<td valign="middle" align="left" class="qprompt_prompt">').html(options.prompt))).append('<tr><td align="center" class="q_prompt_response_block"></td></tr>'));if(multiple)$(".q_prompt_response_block",thesrc).append($('<textarea class="q_prompt_response">').attr("rows",options.rows));else if(bHTML){$(".q_prompt_response_block",thesrc).append($('<iframe class="q_prompt_response" id="q_prompt-frame" style="border-style: solid 1px; overflow: auto; padding: 4px ; margin: 0; height:'+(options.fieldheight||100)+'px; width:95%"></iframe>'));}else $(".q_prompt_response_block",thesrc).append($('<input type="text" class="q_prompt_response">').attr("maxLength",options.maxlength));$(".q_prompt_response",thesrc).val(options["default"]).attr("withempty",(emptyvalue)?"true":"false").data(options);if(options.validinput)$(".q_prompt_response",thesrc).bind('change keypress blur paste keyup oninput ',function(){q_filterinput(this,options.validinput);});var json={src:thesrc.get(0),title:options.title,position:options.position,buttons:options.buttons,closeonly:options.closeonly,delete_callback:q_prompt_callback,delete_args:[{propagate_cancel:options.propagate_cancel,callback:callback,callback_args:callback_args,cancel_callback:options.cancel_callback,cancel_args:options.cancel_args}],reveal_callback:function(div,json){$(".q_prompt_form",div).submit(function(){q_prompt_validate(this,"true");return false;});$(".q_prompt_response",div).focus().select();if(bHTML){var html='';html+='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';html+='<style type="text/css">';html+='html, body { cursor: text; font-size: 12px; font-family: Arial, sans-serif; border-style: none }';html+='p { margin : 0px ; padding: 0px }';html+='</style>';html+='</head><body style="margin: 0; padding: 0;"></body></html>';if(bIE)var promptframe=frames["q_prompt-frame"];else if(bGecko)var promptframe=document.getElementById("q_prompt-frame").contentWindow;promptframe.document.designMode='on';promptframe.document.open();promptframe.document.write(html);promptframe.document.close();$(div).data("promptframe",promptframe);}}};q_fsm_reveal(json);}
function q_prompt_validate(elem,value){var div=$(elem).parents(".q_fsmblockcontainer_content:first");if($(q_fsm_currentblock()).data("promptframe"))var val=$(q_fsm_currentblock()).data("promptframe").document.body.innerHTML;else var val=$(".q_prompt_response",div).val();if(value=="true"){var options=$(".q_prompt_response",div).data();var empty=$(".q_prompt_response",div).attr("withempty");if(empty=="false"&&val.replace(/[ | ]/gi,"").length==0)return q_alert(common_message["emptymsgs"]);if(options.format)val=q_apply(options.format,val);if(options.checkvalue){function managecheck(checkmsg){if((typeof checkmsg)=="function")return checkmsg(val,function(realcheckmsg){managecheck(realcheckmsg);});if(checkmsg!=true)return(checkmsg==false)?false:q_alert((checkmsg||common_message["badformattedmsgs"]).replace(/(\n|\r)/g,"<br/>"));q_fsm_delete([value,val]);}
return managecheck(q_apply(options.checkvalue,val));}}
q_fsm_delete([value,val]);}
function q_prompt_callback(value,response,callbacks){if(arguments.length==1){callbacks=value;response=null;value="false";}
if(value=="false"){if(callbacks.cancel_callback)q_apply(callbacks.cancel_callback,callbacks.cancel_args);else if(!callbacks.propagate_cancel)return;response=null;}
var newargs=[response].concat(q_args(callbacks.callback_args));if(callbacks.callback)q_apply(callbacks.callback,newargs);}
function q_link(options){var path="/services/dialogs/q_link/index_"+q_lang+".html";var opts={"json":{"title":common_message["q_link_title"],"linktypes":["none","webpage","sitepage","popup","pagenote","file","mail","js","special","ical"]}};var section=quomodo.page&&quomodo.page.sections&&quomodo.page.sections.current();if(section){if($("#"+section.id+"-stuff").attr("shared-content"))opts.json.nocurrent=true;}else{opts.json.nocurrent=true;}
opts.callback=options.callback;delete options.callback;opts.json=$.extend({},opts.json,options);quomodo.fsm.loadDialog(path,opts);}
function q_link_click(type,options){switch(type){case "none":q_link_selectdone("none",type,options);break;case "webpage":q_prompt(common_message["q_link_webpage_prompt"],{"default":((options.defaultvalue&&options.defaultvalue.address)||""),callback:q_link_selectdone,callback_args:[type,options]});break;case "sitepage":q_select("page",{withspaces:true,nolink:true,selected:((options.defaultvalue&&options.defaultvalue.pagelink)||""),callback:q_link_selectdone,callback_args:[type,options]});break;case "popup":q_select("page",{withspaces:true,nolink:true,nodisq:true,noshareboard:true,noemptymenu:true,selected:((options.defaultvalue&&options.defaultvalue.pagepopup)||""),callback:q_link_selectdone,callback_args:[type,options]},"",true);break;case "pagenote":hideblock(q_fsm_div());qsn_undimall();$(qsn_edittarget).hide();$("#q_fullscreenmask").hide();$(qsn_edittarget).data("scrollTop",$(window).scrollTop());$(window).scrollTop($("#q_author_stuff").offset().top-$("#qlub_adminbar").height()-38);q_selectnote(function(noteid){$(window).scrollTop($(qsn_edittarget).data("scrollTop"));$(qsn_edittarget).show();$("#q_fullscreenmask").show();q_link_selectdone(noteid,type,options);},{atomic:true});break;case "file":qsn_launch_upload("file",q_link_selectdone,[type,options]);break;case "mail":q_prompt(common_message["q_link_mail_prompt"],{checkvalue:verbosevalidemail,"default":((options.defaultvalue&&options.defaultvalue.mailto)||""),callback:q_link_selectdone,callback_args:[type,options]});break;case "js":q_prompt(common_message["q_link_js_prompt"],{"default":((options.defaultvalue&&options.defaultvalue.js)||""),callback:q_link_selectdone,callback_args:[type,options]});break;case "special":var path="/services/dialogs/speciallinks/index_"+q_lang+".html";var opt={json:{value:options.defaultvalue&&options.defaultvalue.special},callback:function(v){q_link_selectdone(v,type,options);}}
quomodo.fsm.loadDialog(path,opt);break;case "ical":var path="/services/calendar/ical/dialog_qlink/index_"+q_lang+".html";var opt={json:{},callback:function(x){if(!x)return;q_link_selectdone(x,type,options);}};quomodo.fsm.loadDialog(path,opt);break;}}
function q_link_selectdone(x,type,options){if(!x||!options)return q_fsm_delete();var r={};switch(type){case "none":r={kind:0};break;case "webpage":r={kind:1,address:q_validlink(x)};break;case "sitepage":r={kind:2,pagelink:x[0]};break;case "popup":if(x[0]==currsvcid){q_select("page",{withspaces:true,nolink:true,nodisq:true,noshareboard:true,noemptymenu:true,selected:((options.defaultvalue&&options.defaultvalue.pagepopup)||""),callback:q_link_selectdone,callback_args:[type,options]});return q_alert(common_message["unablesamepagepopup"],{title:common_message["unablesamepagepopup_title"]});}
r={kind:7,pagepopup:"popup:"+x[0]};break;case "pagenote":showblock(q_fsm_div());if(!x)return;r={kind:6,note:x};break;case "file":r={kind:3,filename:x.files[0].filename,linkname:x.files[0].linkname};break;case "mail":r={kind:5,mailto:x};break;case "js":r={kind:4,js:x};break;case "special":r={kind:8,special:x};break;case "ical":r={kind:9,ical:x.ical};break;}
if(options.withProperties)r={link:r,properties:q_link_getproperties(r)};q_fsm_delete(r);}
var __qpromise={defs:{},promises:{}};function qpromiseAdd(promisetype,fn){__qpromise.defs[promisetype]=function(callback){var params=[]
for(var i=1;i<arguments.length;i++)params.push(arguments[i]);var fnPromise=fn.apply(this,params);if(!__qpromise.promises[fnPromise.id])__qpromise.promises[fnPromise.id]={callbacks:[],loading:false};for(var k in fnPromise)__qpromise.promises[fnPromise.id][k]=fnPromise[k];__qpromise.promises[fnPromise.id].callbacks.push(callback);return __qpromise.promises[fnPromise.id];};}
function qpromise(promisetype){var params=[]
for(var i=1;i<arguments.length;i++)params.push(arguments[i]);if(!__qpromise.defs[promisetype])return null;function applyPromise(promise,params,callback){if(typeof promise=="string"){return applyPromise(__qpromise.defs[promise].apply(this,[callback].concat(params)));}
var __promise=__qpromise.promises[promise.id]
if(!promise.ready){if(__promise.loading)return promise;if(window.ASresumepause_inc)ASresumepause_inc();__promise.loading=true;promise.promise(function(v){return applyPromise(v);});return promise;}
var callbacks=__promise.callbacks;var n=callbacks.length;var lastResult;for(var j=0;j<n;j++){var lastResult=(callbacks[0])?callbacks[0](promise.promise):promise.promise;callbacks.splice(0,1);}
if(__promise.loading){if(window.ASresumepause_dec)ASresumepause_dec();__promise.loading=false;}
return lastResult;}
return{__promise:true,callback:function(callback){return applyPromise(promisetype,params,callback);}};}
qpromiseAdd("otherspaceright",function(spaceid,noWait){var space=q_spacefromid(spaceid);if(!space)return{id:promiseid,ready:true,promise:null};var promiseid="otherspaceright-"+spaceid;if(space.spacexml)return{id:promiseid,ready:true,promise:space.spacexml};return{id:promiseid,ready:false,promise:function(callback){var fsm_waitId;if(!noWait)fsm_waitId=q_fsm_wait();q_ajaxgetppty("otherspaceright?id="+spaceid,function(){if(!noWait)q_fsm_deleteById(fsm_waitId);var space=q_spacefromid(spaceid);if(!space)callback({id:promiseid,ready:true,promise:null});else callback({id:promiseid,ready:true,promise:space.spacexml});});}};});qpromiseAdd("localteams",function(noWait){var promiseid="localteams";if(spacexml.localteams)return{id:promiseid,ready:true,promise:spacexml.localteams};return{id:promiseid,ready:false,promise:function(callback){var fsm_waitId;if(!noWait)fsm_waitId=q_fsm_wait();q_events_request(function(x){if(!noWait)q_fsm_deleteById(fsm_waitId);spacexml.localteams=$.extend({},x.__openselects.localteam);callback({id:promiseid,ready:true,promise:spacexml.localteams});},{openselects:"all"});}};});function qpromise_svcfromid(svcid,withWait){var splittedsvc=svcid.split("/");return{callback:function(callback){if(q_pagemode()=="web")return callback(q_web_svcfromid(svcid));if(splittedsvc.length==1)return callback(q_svcfromid(svcid));return qpromise("otherspaceright",splittedsvc[0],!withWait).callback(function(promise){callback(q_svcfromid(svcid));});}};}
function qpromise_linkproperties(link){if(q_pagemode()=="web")var v=q_link_getproperties(link,false);else var v=q_link_getproperties(link,true);if(typeof v=="function")return{callback:v};return{callback:function(callback){callback(v);}};}
function q_link_getvalue(link){var v=q_link_getproperties(link);return v.displayValue;}
function q_linkDoClick(jslink){q_link_getproperties(jslink).onclick();}
function q_link_getproperties(link,bPromise,bJson){if(!link)return{displayValue:""};if(typeof link=="string"){function toJson(){link=link.replace(/qlink:/,"")
if(!/^(web|page|popup|file|javascript|mailto|note|special|ical|shop|tab):/.test(link)){if(/^uploads\//.test(link))link="file:"+link;else if(/^_[0-9]+_page/.test(link))link="page:"+"#"+(/^_([0-9]+)_page/.exec(link)[1])+"#artemapage@intl";else link="web:"+link;}
var splitLink=link.split(":");var dict={"web":{kind:1,key:"address"},"page":{kind:2,key:"pagelink"},"popup":{kind:7,key:"pagepopup"},"file":{kind:3,key:"filename"},"javascript":{kind:4,key:"js"},"mailto":{kind:5,key:"mailto"},"note":{kind:6,key:"note"},"special":{kind:8,key:"special"},"ical":{kind:9,key:"ical"},"shop":{kind:10,key:"shop"},"tab":{kind:11,key:"tablink"}}
var key=splitLink[0];var key2=splitLink[1];splitLink.shift();var value=splitLink.join(":");var o={kind:dict[key].kind};if(key=="popup")o[dict[key].key]="popup:"+value;else if(key=="special"&&(key2=="map"||key2=="direction")){o[dict[key].key]=key2;splitLink.shift();o.gmap=JSON.parse(decodeURI(splitLink.join(":")));}else if(key=="special"&&key2=="home"&&splitLink.length>1){o[dict[key].key]=key2;o.hash=splitLink[1];}else if(key=="special"&&(key2=="phone"||key2=="share")&&splitLink.length>1){o[dict[key].key]=key2;o[key2]=splitLink[1];}else if(key=="special"&&key2=="track"&&splitLink.length>1){o[dict[key].key]=key2;o["trackname"]=splitLink[1];splitLink.shift();splitLink.shift();o["trackurl"]=splitLink.join(":");}else if(key=="javascript"){try{o[dict[key].key]=decodeURI(value);}catch(err){o[dict[key].key]=value;}}else o[dict[key].key]=value;return o;}
link=toJson();}
if(link.kind==undefined){if(link.address)link.kind=1;else if(link.pagelink)link.kind=2;else if(link.pagepopup)link.kind=7;else if(link.filename)link.kind=3;else if(link.js)link.kind=4;else if(link.mailto)link.kind=5;else if(link.note)link.kind=6;else link.kind=0;}
if(bJson)return link;var v={kind:link.kind,target:[null,"_blank","_self","_blank","_self","_blank","_self","_self","_self",null,"_self","_blank"][link.kind]};function jsProtocol(jslink){return "javascript:q_linkDoClick('"+jslink.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"')";}
switch(parseInt(link.kind,10)){case(0):v.displayValue="";break;case(1):var addr=link.address;v.displayValue=addr;if(!addr)v.onclick=function(){return false;};else{v.title=addr;if(!(/^(javascript:|rel:|[a-zA-Z]+:\/\/)/.test(addr)))addr="http://"+addr;if(/rel:/.test(addr)){v.href=addr.replace(/http:\/\//g,"").replace(/rel:/,"");v.qhref="web:"+addr.replace(/http:\/\//g,"").replace(/rel:/,"");v.title="";v.target="_self";}else{v.href=addr;v.qhref="web:"+addr;v.title=addr;v.target="_blank";}
var url=v.href;v.onclick=function(){window.open(url);return false;};v.clickAttribute="window.open( '"+url.replace(/'/g,"\\'")+"' , '' ) ; return false";}
break;case(2):case(7):case(11):var svclink=link[(link.kind==2)?"pagelink":(link.kind==11?"tablink":"pagepopup")];if(svclink){var svcid=(link.kind==7)?svclink.replace("popup:",""):svclink;v.jsProtocol=jsProtocol(((link.kind==2)?"page":(link.kind==11?"tab":"popup"))+":"+svcid);var hash=svcid.match(/:(#.*)/);hash=(hash&&hash[1])||"";svcid=svcid.replace(/:#.*/,"");function getv(svcinfo,hash){if(svcinfo){if(svcinfo.id){v.href=((q_svcisweb(svcinfo))?q_canonicalurl(svcinfo.weblink,true):q_privateurl(svcid))+(hash||"");}else{if(q_pagemode()=="web"){var homesvc=!svcinfo.noaccess;}else var homesvc=q_homesvc(q_spacefromid(svcid).spacexml);v.href=((homesvc)?q_canonicalurl(svcinfo.weblink,true):q_privateurl(svcid))+(hash||"");}
v.clickAttribute="q_link_openservice( event, '"+svclink+"', "+(link.kind==11?"true":"null")+" ) ; return false ;";v.onclick=function(){q_link_openservice(event,svclink,link.kind==11?true:null);return false;};v.displayValue=svcinfo.name;v.title=common_message[((link.kind==2||link.kind==11)?"link":"popup")+"pagetitle"]+" '"+svcinfo.name+"'";}else{v.title="";v.href="#";v.clickAttribute="q_link_openservice( event, '"+svclink+"', "+(link.kind==11?"true":"null")+" ) ; return false ;";v.onclick=function(){q_link_openservice(event,svclink,link.kind==11?true:null);return false;};}
v.qhref=((link.kind==2)?"page":(link.kind==11?"tab":"popup"))+":"+svcid;return v;}
if(bPromise)return function(callback){qpromise_svcfromid(svcid).callback(function(svcinfo){callback(getv(svcinfo,hash));});};if(q_pagemode()=="web")v=getv(q_web_svcfromid(svcid),hash);else v=getv(q_svcfromid(svcid),hash);}else v.href=null;break;case(3):v.displayValue=link.filename.replace(/.*\/([^\/]*$)/g,"$1");v.href=q_fsbasehref(link.filename)+link.filename;v.qhref="file:"+link.filename;v.fileref=link.filename;v.clickAttribute="return q_openfile( this );";v.onclick=function(){return q_openfile(this);};v.title=common_message["linkfiletitle"];break;case(4):v.displayValue="Javascript";var jsparams=(function(js){if(!/^\?/.test(js))return{"js":js};var params={};var x=js.replace(/^[^?]*\??/,"");if(!x)return{"js":js};var t=x.split("&");var tt;for(var i=0;i<t.length;i++){tt=t[i].split("=");params[tt[0]]=decodeURIComponent(tt[1]);}
return params;})(link.js);v.jsProtocol=jsProtocol("javascript:"+jsparams.js+"; return false;");v.href=jsparams.href||"#";v.qhref="javascript:"+encodeURI(jsparams.js);v.clickAttribute=jsparams.js+"; return false;";v.onclick=function(){eval(jsparams.js);return false;};break;case(5):v.displayValue=link.mailto;v.href="mailto:"+link.mailto;v.qhref="mailto:"+link.mailto;v.clickAttribute="location.href='mailto:"+link.mailto+"' ; return false ;";v.onclick=function(){location.href="mailto:"+link.mailto;return false;};break;case(6):v.jsProtocol=jsProtocol("note:"+link.note);v.displayValue=link.note;v.href="#"+link.note;v.qhref="note:"+link.note;v.clickAttribute="q_scrolltonote( \""+link.note+"\" ); return false ;";v.onclick=function(){q_scrolltonote(link.note);return false;};break;case(8):v.displayValue=common_message[link.special];v.qhref="special:"+link.special;if(link.gmap)v.qhref+=":"+encodeURI(JSON.stringify(link.gmap));v.jsProtocol=jsProtocol("special:"+link.special);switch(link.special){case "prev":case "next":case "prevloop":case "nextloop":v.href="#";v.clickAttribute="speciallink_prevnext( null, \'"+link.special+"\' ); return false ;";v.onclick=function(){return speciallink_prevnext(null,link.special);return false;};break;case "home":var svcid=q_homesvcid();var svcinfo=q_svcfromid(svcid);v.href=(svcinfo)?(q_canonicalurl(svcinfo.weblink,true)+(link.hash||"")):"#";v.clickAttribute=" speciallink_home("+(link.hash?("\'"+link.hash+"\'"):"")+" ) ; return false ;";v.onclick=function(){speciallink_home(link.hash);return false;};break;case "top":v.href="#";v.clickAttribute="q_scrolltotop() ; return false;";v.onclick=function(){q_scrolltotop();return false;};break;case "sitemap":v.href="#";v.clickAttribute=" speciallink_sitemap() ; return false; ";v.onclick=function(){speciallink_sitemap();return false;};break;case "login":if(q_pagemode()=="makeweb")v.href="local/loginpage.html";else v.href="local/loginpage.html?lang="+q_lang+"&url="+encodeURIComponent(document.location.href)+"&svc="+encodeURIComponent(currsvcid);v.clickAttribute='speciallink_login() ; return false;';v.onclick=function(){speciallink_login();return false;};break;case "search":v.href="search.html";v.displayValue="Rechercher";v.clickAttribute="speciallink_search() ; return false;";v.onclick=function(){speciallink_search();return false;};break;case "map":v.href="#";v.clickAttribute='speciallink_map( \"'+link.gmap.location+'\", \"'+link.gmap.coords+'\" ) ; return false;';v.onclick=function(){speciallink_map(link.gmap.location,link.gmap.coords);return false;};break;case "direction":v.href="#";v.clickAttribute='speciallink_direction( \"'+link.gmap.location+'\", \"'+link.gmap.coords+'\" ) ; return false;';v.onclick=function(){speciallink_direction(link.gmap.location,link.gmap.coords);return false;};break;case "phone":v.href="tel:"+link.phone.replace(/[^\d+]/g,"");v.qhref="special:phone:"+link.phone.replace(/[^\d+]/g,"");v.clickAttribute="return true ;"
break;case "share":var svcinfo=q_pagemode()=="web"?q_web_svcfromid(currsvcid):q_svcfromid(currsvcid);v.href=q_svcisweb(svcinfo)?speciallink_shareurl(link.share,q_canonicalurl(svcinfo.weblink)):"#";v.qhref="special:share:"+link.share;v.clickAttribute='speciallink_sharepage( \"'+link.share+'\" ) ; return false;';v.onclick=function(){speciallink_sharepage(link.share);return false;};v.jsProtocol=jsProtocol("special:"+link.special+":"+link.share);break;case "track":var svcinfo=q_pagemode()=="web"?q_web_svcfromid(currsvcid):q_svcfromid(currsvcid);v.href=q_canonicalurl("__clicks-"+link.trackname);v.qhref="special:track:"+link.trackname+":"+link.trackurl;var url=v.href;v.onclick=function(){window.open(url);return false;};v.clickAttribute="window.open( '"+url.replace(/'/g,"\\'")+"' , '' ) ; return false";break;}
break;case(9):function geticalv(icalLink){if((/^team-/).test(icalLink)){var t=spacexml.localteams&&spacexml.localteams[icalLink.replace(/^team-/,"")];v.displayValue=common_message["linkDisplay-ical-team"].replace(/%s/,(t)?t.name:icalLink);}else v.displayValue=common_message["linkDisplay-ical-"+icalLink];var url="webcal://"+q_httpsiteurl(true)+"/local/ical/"+icalLink+".ics";v.qhref="ical:"+icalLink;v.href=url;v.onclick=function(){q_subscribeical(url);return false;};v.clickAttribute="q_subscribeical( '"+url.replace(/'/g,"\\'")+"' , '' ); return false";return v;}
if(bPromise)return function(callback){qpromise("localteams").callback(function(){callback(geticalv(link.ical));});};v=geticalv(link.ical);break;case(10):v.displayValue=common_message[link.shop];v.qhref="shop:"+link.shop;v.jsProtocol=jsProtocol("shop:"+link.shop);if(link.shop=="opencart"){v.href="#";v.clickAttribute="quomodo.shop.openCart(); return false ;";v.onclick=function(){return quomodo.shop.openCart();return false;};}else if(link.shop=="openaccount"){v.href="#";v.clickAttribute="quomodo.shop.openAccount(); return false ;";v.onclick=function(){return quomodo.shop.openAccount();return false;};}else if(/addtocart:/.test(link.shop)){v.href="#";var productId=parseInt(link.shop.replace(/addtocart:/,""),10);v.clickAttribute="quomodo.shop.addToCart("+productId+", this ); return false ;";v.onclick=function(){return quomodo.shop.addToCart(productId,this);return false;};}else if(/displayproduct:/.test(link.shop)){v.href="#";var productId=parseInt(link.shop.replace(/displayproduct:/,""),10);v.clickAttribute="quomodo.shop.displayProduct("+productId+", this ); return false ;";v.onclick=function(){return quomodo.shop.displayProduct(productId,this);return false;};}else if(/displaycategory:/.test(link.shop)){v.href="#";var categoryId=parseInt(link.shop.replace(/displaycategory:/,""),10);v.clickAttribute="quomodo.shop.displayCategory("+categoryId+", this ); return false ;";v.onclick=function(){return quomodo.shop.displayCategory(categoryId,this);return false;};}
break;default:v.displayValue="";break;}
return v;}
function q_link_openservice(event,svclink,newTab){if(newTab){tabopenservice(svclink);return;}
var $event;try{$event=$.event.fix(event);}catch(err){}
if($event&&((BrowserDetect.OS=="Mac"&&$event.metaKey)||(BrowserDetect.OS!="Mac"&&$event.ctrlKey)))tabopenservice(svclink);else openservice(svclink);}
function q_scrolltotop(duration){if(iframeinparent())var $target=$(iframeinparent()).parents('.overflow').eq(0);else var $target=$('html,body');if(duration)$target.animate({scrollTop:0,"duration":duration});else $target.animate({scrollTop:0});return false;}
function q_scrolltonote(noteid,topOffset,checkBefore){var starting_top=10;if(iframeinparent())starting_top+=$(iframeinparent()).height()-$(iframeinparent()).parent().height();else{starting_top+=Skeleton.startingTop();if(q_pagemode()=="edit"||q_pagemode()=="view")starting_top+=$("#qlub_adminbar").height();if(qsn_responsive_mod()=="xs")starting_top+=$("#h-1-xs").height();}
var o=$("#"+noteid).offset();if(!o)return false;if(iframeinparent())var $target=$(iframeinparent()).parents('.overflow').eq(0);else var $target=$('html,body');var top=o.top-starting_top-(topOffset||0);if(checkBefore){var wTop=$(window).scrollTop();var wHeight=$(window).height();if((top>=wTop)&&(top<=(wTop+wHeight)))return false;}
$target.animate({scrollTop:top});return false;}
function q_subscribeical(url){if(qsn_isAndroid()){q_alert(common_message["ical_copylink"]+'<br/><br/><input type="text" class="ical_input" value="'+url+'" style="padding:4px;border:1px solid #dddddd !important; width: 100%; box-sizing:border-box"/>',null,true);}else{window.open(url);}}
function speciallink_map(location,coords,map_size){var gmap_mode=((window.web_js_loaded||(document.mainform&&document.mainform.pagemode&&document.mainform.pagemode.value=="view"))?"view":"edit");if(gmap_mode=="view"&&!spacexml.map&&location){window.open("https://www.google.fr/maps/place/"+encodeURIComponent(location.replace(/[\s,;]+/g," ")).replace(/%20/g,"+"),"_blank");return;}
var path="/services/dialogs/gmap-2.0/index_"+q_lang+".html";var options={"json":{"start":location,"type":"map","maptype":"m","gm_mode":gmap_mode,"interacttype":"dynamic","zoom":13,"mapratio":2,"kmlzoom":false,"traffic":false,"coords":coords,"freesize":true,"title":location}};if(map_size)options.json.size=map_size;quomodo.fsm.loadDialog(path,options);}
function speciallink_direction(location,coords){var gmap_mode=((window.web_js_loaded||(document.mainform&&document.mainform.pagemode&&document.mainform.pagemode.value=="view"))?"view":"edit");var path="/services/dialogs/gmap-2.0/itinerary-flatdesign/index_"+q_lang+".html";var options={"json":{"add_arr":location,"add_arr_locked":true,"add_dep":"","add_dep_locked":false},"callback":function(x){if(!x)return;var coordsDep,coordsArr;var dep,arr;if(!x.add_arr){coordsArr=coords;arr=location;}else{coordsArr=x.latitude_arr+","+x.longitude_arr;arr=x.add_arr;}
if(!x.add_dep){coordsDep=coords;dep=location;}else{coordsDep=x.latitude_dep+","+x.longitude_dep;dep=x.add_dep;}
var path="/services/dialogs/gmap-2.0/index_"+q_lang+".html";var options={"json":{"start":coordsDep,"end":coordsArr,"type":"directions","display_direction":"right","gm_mode":gmap_mode,"interacttype":"dynamic","zoom":13,"mapratio":2,"kmlzoom":false,"traffic":false,"title":dep+" - "+arr}};quomodo.fsm.loadDialog(path,options);}};quomodo.fsm.loadDialog(path,options);}
function speciallink_shareurl(network,url){if(network=="facebook"){return "https://www.facebook.com/share.php?u="+encodeURIComponent(url);}else if(network=="twitter"){return "https://twitter.com/intent/tweet?url="+encodeURIComponent(url);}else if(network=="linkedin"){return "https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(url);}}
function speciallink_sharepage(network){var shareurl=speciallink_shareurl(network,window.location.href);if(shareurl)window.open(shareurl);}
function q_httpsiteurl(withouthttp){var h=window.location.host;if(q_pagemode()=="makeweb")h=q_makeweb_baseroot.replace(/^(http:\/\/)?www/,"club");if(h=="localhost")h="localhost/club"
var url=(spacexml.infos.host)?spacexml.infos.host:(h+"/"+spacexml.infos.privatedomain);if(withouthttp)return url;if(q_pagemode()=="makeweb"){return(spacexml.https?"https:":"http:")+"//"+url;}
return(/^club\d*\.quomodo\.com/.test(url)?"http:":window.location.protocol)+"//"+url;}
function speciallink_prevnext(id,xdirection){if(q_pagemode()=="edit")return q_alert(common_message["editmodeclick"]);if(!id)id=currsvcid;var pages;var pos;var direction=xdirection;if(/loop$/.test(xdirection)){pages=q_getpagesbyorder([],null,currsvcid);pos=$.inArray(id,pages);pages.unshift(pages[pages.length-1]);pages.push(pages[1]);pos++;direction=xdirection.replace(/loop$/,"");}else{pages=q_getpagesbyorder([]);pos=$.inArray(id,pages);}
if(pos==-1)return;function donavig(){pos=pos+((direction=="next")?1:-1);var newid=pages[pos];if(!newid)return;if(q_pagemode()=="web"){if(window.web_svctopages){for(var i in web_svctopages){if(newid==web_svctopages[i].id){if(web_svctopages[i].name==undefined)return donavig();return openservice(newid);}}
if(id!=newid)return speciallink_prevnext(newid,xdirection);}}else return openservice(newid);}
donavig();}
function speciallink_home(hash){if(q_pagemode()=="edit")return q_alert(common_message["editmodeclick"]);if(q_pagemode()=="web")window.open(q_httpsiteurl()+"/"+(hash||""),(isiniframe())?"_blank":"_self");else{var svcid=q_homesvcid();if(!svcid)svcid=spacexml.services[0].id;openservice(svcid+(hash?(":"+hash):""));}}
function speciallink_sitemap(){if(q_pagemode()=="web"){if(qsn_currstate=="edit")return q_alert(common_message["webmodeclick"]);var targetLinkValue="_blank";if(q_pagemode()=="web"&&!isiniframe())targetLinkValue="_self";window.open("clubmap.html",targetLinkValue);}else{q_alert(common_message["webmodeclick"]);}}
function speciallink_login(){(q_pagemode()=="web")?club_login_block():q_alert(common_message["webmodeclick"]);}
function speciallink_search(){var query=(function(){var tmp="";$('input[name="search"]').each(function(){var v=$(this).val();if(v){tmp=v;return false;}});return tmp;})();if(query){query="?searchbackurl="+encodeURIComponent(window.location.href)+"&searchtext="+encodeURIComponent(query)+"&privatedomain="+qlub_getprivatedomain()+"&lang="+q_lang+"&searchentriesperpage=50&searchstartnumber=0&mission=search&time="+(new Date).getTime();}else query="?searchbackurl="+encodeURIComponent(window.location.href);(q_pagemode()=="web")?(window.location.href=web_baseurl()+"search.html"+query):q_alert(common_message["webmodeclick"]);}
function q_getpagesbyorder(t,sm,svcid){if(!sm)sm=spacexml.sitemap;for(var i in sm){if(!sm[i].items){if(sm[i].id)t.push(sm[i].id);}
else{if(svcid){var tmp=q_getpagesbyorder([],sm[i].items,svcid);if(tmp.length>0)return tmp;}else{q_getpagesbyorder(t,sm[i].items,svcid);}}}
if(svcid){if($.inArray(svcid,t)!=-1)return t;return[];}else{return t;}}
function q_privateurl(options,withroot){if(typeof options=="string"){options={lang:q_lang,wantedsvc:options};}
var long2short={"svc":"s","lang":"l","url":"u","wantedsvc":"ws"};var url="local/login?";var query=[];for(var k in options){var v=options[k];if(k=="svc"||k=="wantedsvc")v=q_shortsvcid(v);query.push((long2short[k]||k)+"="+encodeURIComponent(v));}
url+=query.join("&");if(withroot)return q_httpsiteurl()+"/"+url;return url;}
function q_shortsvcid(anySvcid){function parse(svcid){return svcid.replace(/#([0-9]+)#artemapage@intl/,"p$1").replace(/#([0-9]+)#artemadisq@intl/,"d$1").replace(/#([0-9]+)#homepage@intl/,"s$1");}
return(typeof anySvcid=="object")?parse(anySvcid.id):parse(anySvcid);}
function q_longsvcid(anySvcid){function parse(svcid){return svcid.replace(/p([0-9]+)/g,"#$1#artemapage@intl").replace(/d([0-9]+)/g,"#$1#artemadisq@intl").replace(/s([0-9]+)/g,"#$1#homepage@intl");}
return(typeof anySvcid=="object")?parse(anySvcid.id):parse(anySvcid);}
function q_fsm_chooselist(options,callback){var what=options.what;var t=$('<table cellspacing="0" cellpadding="0" border="0" width="100%" style="background-color : white; border : solid 1px #333;"></table>');function setclick($x,o){$x.click((o.click)?o.click(callback):function(event){q_fsm_delete();callback(o.value);});}
for(var i=0;i<what.length;i++){var selected=what[i].value==options.value;var tr=$('<tr valign="middle"></tr>').appendTo(t).css({"color":(selected)?"#F00":"#333","cursor":"pointer"}).hover(function(event){if(event.type=="mouseenter"){this.altbgcolor=this.style.backgroundColor;this.altcolor=this.style.color;}
this.style.backgroundColor=(event.type=="mouseenter")?"#666":this.altbgcolor;this.style.color=(event.type=="mouseenter")?"#FFF":this.altcolor;});setclick(tr,what[i]);$('<td valign="middle" align="center" width="20" style="cursor: pointer; padding-left: 3px; height : 22px"></td>').appendTo(tr).append($('<img class="png" width="16" alt=""/>').attr("src",(selected)?"/bundles/qlub/images/check.png":"/images/blank.gif"));$('<td valign="middle" align="center" width="40" style="cursor:pointer"></td>').appendTo(tr).append($('<div class="q_chooselist_icon"> </div>').each(function(){var iconvalue=(typeof what[i].icon.value=="function")?what[i].icon.value():what[i].icon.value;var icontype=what[i].icon.type;switch(icontype){case "image":$(this).css("background-image","url('"+iconvalue+"')").attr("title","auto");break;case "color":$(this).css("background-color",iconvalue);break;case "html":$(this).css("border","none").html(iconvalue);break;}
if(what[i].icon.style)$(this).css(what[i].icon.style);}));$('<td valign="middle" align="left" width="40" style="text-align:left; padding-left : 15px;"></td>').html(what[i].msg).appendTo(tr);}
$("tr",t).each(function(i){$(this).css({"background-color":(i%2==0)?"#DDD":"#FFF","border-top":(i%2==0)?"solid 1px #333":"none","border-bottom":(i%2==0)?"solid 1px #333":"none"});});q_fsm_reveal({src:t.get(0),title:options.title});}
var q_fsm_preload={"nextid":0,"items":{}};function q_fsm_revealid(json){if(json.preload&&!json.revealid){json.revealid="fsm_"+(q_fsm_preload.nextid++);q_fsm_preload.items[json.revealid]={"loaded":false};}
return json.fsmsrc||json.revealid||(!json.src.tagName&&json.src.id);}
function q_fsm_reveal(json){if(isiniframe()&&(quomodo.page.isPopup||window.iframeInParent)&&parent.q_fsm_reveal){q_fsm_revealed.push({parent:true});return parent.q_fsm_reveal(json);}
if($("#q_fullscreenmask").length==0)return;if($("#q_fullscreenmask_mobile").length==0)$("body").prepend('<div id="q_fullscreenmask_mobile"></div>');var revealid=q_fsm_revealid(json);if(revealid&&ge(revealid)){var $div=$("#"+revealid);if($div.hasClass("q_fsmblockcontainer")){q_fsm_finishreveal($div.get(0),json);return revealid;}
$div=$div.parents(".q_fsmblockcontainer");if($div.length){q_fsm_finishreveal($div.get(0),json);return revealid;}}
var div=create_elem("DIV",{className:"q_fsmblockcontainer",style:{position:"absolute",left:"0px",top:"0px"}});var fsmid;if(!revealid){fsmid="fsm_"+(q_fsm_preload.nextid++);div.id=fsmid;}
var divBtnClose=(json.hideclose)?'<div style="width:24px;"></div>':('<div class="q_fsmblockcontainer_delete '+(json.closeonly?'q_fsmblockcontainer_delete_closeonly':'')+'" onmousedown="q_stopPropagation( event )" style="width:24px;"><div class="q_fsmblockcontainer_deletebtn font-q-i">'+(json.closeonly?'':'')+'</div>'+(json.closeonly?'<div class="q_fsmblockcontainer_deletebtn_txt">'+common_message["close"]+'</div><div class="q_fsmblockcontainer_deletebtn-flat right icon"></div>':'')+'</div>');var thehtml='<div class="'+((json.slideLeft)?"q_fsmblockcontainer_slidescreenmask":"q_fsmblockcontainer_screenmask")+'"></div><div class="q_fsmblockcontainer_container"><table class="q_fsmblockcontainer_block'+((!json.closeonly)?' border':'')+'" cellspacing="0" cellpadding="0" border="0"><tbody>';if(json.closeonly)thehtml+='<tr class="q_fsmblockcontainer_header closeonly"><td align="right"><div>'+divBtnClose+'</div></td></tr>';else thehtml+='<tr class="q_fsmblockcontainer_header q_fsmblockcontainer_withtitle"><td><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td align="left" style="height:27px;"><div class="q_fsmblockcontainer_title"></div></td><td align="right" style="height:27px ; width:30px;">'+divBtnClose+'</td></tr></tbody></table></td></tr>';thehtml+='<tr><td class="q_fsmblockcontainer_content" style="background-color:white;'+((json.padding!=undefined)?('padding: '+json.padding+'px'):'')+'" align="center" colspan="2"></td></tr></tbody></table></div>';div.innerHTML=thehtml;div=ge("q_fullscreenmask").appendChild(div);if(json.preload)$(div).attr("id",revealid);if(json.slideLeft)div.style.left="100%";$(".q_fsmblockcontainer_delete",div).on("click",function(){if(json.cancel_callback)json.cancel_callback();q_fsm_delete();return false;});if(json.closeoutside){$(".q_fsmblockcontainer_screenmask",div).off("click").on("click",function(){if(json.cancel_callback)json.cancel_callback();q_fsm_delete();return false;});}
if(!json.src&&json.fsmsrc)q_fsm_finishinclude(div,json);else if((typeof json.src)=="string"){gebcn(div,"q_fsmblockcontainer_content").innerHTML=json.src;q_fsm_finishreveal(div,json);}else{if(json.src.tagName){gebcn(div,"q_fsmblockcontainer_content").appendChild(json.src);q_fsm_finishreveal(div,json);}else{if(!json.src.target)json.src.target=gebcn(div,"q_fsmblockcontainer_content");q_fsm_showfullscreenmask(div,json);q_include([json.src],(json.fsmsrc)?"q_fsm_finishinclude":"q_fsm_finishreveal",[div,json,true]);}}
if(json.preload)return revealid;return revealid||fsmid;}
function q_fsm_finishinclude(div,json,withoutfullscreenmask){$(".q_fsmblockcontainer_content",div).empty().append($("#"+json.fsmsrc).show());q_fsm_finishreveal(div,json,withoutfullscreenmask);}
function q_fsm_finishreveal(div,json,withoutfullscreenmask){var buttons=json.buttons;if(buttons&&typeof buttons=="function")buttons=buttons();if(buttons){if(!$(div).data("buttonsprepared")){$(".q_fsmblockcontainer_content",div).append('<table cellspacing="0" cellpadding="0" border="0" align="center"><tr class="q_fsm_buttons"></tr></table>');$(div).data("buttonsprepared","true");}
$(".q_fsm_buttons",div).empty();for(var i=0;i<buttons.length;i++)$(".q_fsm_buttons",div).append($('<td>').append(create_button(buttons[i])));}
if(json.src&&json.src.onload)q_apply(json.src.onload,[div,json]);if(!json.position)json.position="50% 25%";var revealid=q_fsm_revealid(json);if(revealid&&ge(revealid))div.revealid=revealid;if(json.draggable!=false)gebcn(div,"q_fsmblockcontainer_block").onmousedown=function(event){beginFreeDrag(this,event);};$(".q_fsmblockcontainer_delete",div).attr("title",json.delete_title||common_message["close"]);if(json.title)q_innerHTML(gebcn(div,"q_fsmblockcontainer_title"),q_sorf(json.title));if(json.hideheader)hideblock(gebcn(div,"q_fsmblockcontainer_header"));if(!json.preload)q_fsm_showblock(gebcn(div,"q_fsmblockcontainer_block"),json,null,withoutfullscreenmask);if(!q_fsm_revealed.length&&!json.preload)$("body").keypress(function(event){if(q_fsm_currentblock().keypress)q_fsm_currentblock().keypress(event);});if(json.slideLeft){div.slideLeft=true;$(q_fsm_currentblock()).animate({left:"-100%"},400);$(div).animate({left:"0%"},400);}
if(json.deleteAnim){div.deleteAnim=json.deleteAnim;}
if(json.preload)hideblock(div);else q_fsm_revealed.push(div);if(json.revealAnim){json.revealAnim(div,function(){q_apply(json.reveal_callback,[div,json].concat(json.reveal_args||[]));});}else q_apply(json.reveal_callback,[div,json].concat(json.reveal_args||[]));$(":input",div).mousedown(q_stopPropagation);div.delete_callback=json.delete_callback;div.delete_args=json.delete_args;}
var q_fsm_revealed=[];function q_fsm_revealedids(){var x=[];for(var i=0;i<q_fsm_revealed.length;i++)x.push(q_fsm_revealed[i].revealid||"no revealid");return x;}
function q_fsm_currentblock(removing){var div=q_fsm_revealed[q_fsm_revealed.length-1];if(removing){q_fsm_revealed.splice(q_fsm_revealed.length-1,1);if(!q_fsm_revealed.length){for(var i=0;i<q_windowfocushandlers.length;i++){try{eval(q_windowfocushandlers[i]).apply(this,[]);}catch(err){}}
$("body").unbind("keypress");}}
return div;}
function q_fsm_toggleclose(status){var div=q_fsm_currentblock();if(status==null||status==undefined)status=(!$(".q_fsmblockcontainer_deletebtn",div).length);if(status){$(".q_fsmblockcontainer_delete",div).click(function(){q_fsm_delete();return false;});$(".q_fsmblockcontainer_delete div",div).removeClass("q_fsmblockcontainer_deletebtn").addClass("q_fsmblockcontainer_deletebtn");}else{$(".q_fsmblockcontainer_delete",div).click(function(){return false;});$(".q_fsmblockcontainer_delete div",div).removeClass("q_fsmblockcontainer_deletebtn");}}
function q_fsm_div(wantblock){var div=q_fsm_currentblock();if(!wantblock)return div;return gebcn(div,"q_fsmblockcontainer_block");}
function q_fsm_deleteById(id,args){if(!id)return q_fsm_delete(args);var index;for(var i=0;i<q_fsm_revealed.length;i++){if(q_fsm_revealed[i].id==id){index=i;break;}else if(q_fsm_revealed[i].parent==true){return parent.q_fsm_deleteById(id,args);}}
if(index==undefined)return;var div=q_fsm_revealed[index];var b=(index==0&&!div.fsmpresent);q_fsm_revealed.splice(index,1);if(!q_fsm_revealed.length){for(var i=0;i<q_windowfocushandlers.length;i++){try{eval(q_windowfocushandlers[i]).apply(this,[]);}catch(err){}}
$("body").unbind("keypress");}else{if(b){q_fsm_revealed[0].fsmpresent=false;div.fsmpresent=true;}}
if(div.parent)return parent.q_fsm_deleteById(id,args);xq_fsm_delete(div,args);}
function q_fsm_delete(args){var div=q_fsm_currentblock(true);if(div.parent)return parent.q_fsm_delete(args);xq_fsm_delete(div,args);}
function xq_fsm_delete(div,args){if(div["makeweb-nofsm"])return;if(arguments.length>2){var delargs=[];for(var i=1;i<arguments.length;i++)delargs.push(arguments[i]);}else var delargs=q_args(args);var b=(div&&div.fsmpresent)?div.fsmpresent:false;function finishDelete(div){if(!div.revealid)rm(div);else hideblock(div);}
if(div){if(div.slideLeft)$(div).animate({left:"100%"},400,function(){finishDelete(div);});else if(div.deleteAnim)return div.deleteAnim(div,finishDelete3,delargs.concat(q_args(div.delete_args)));else finishDelete(div);}
if(div.slideLeft)$(q_fsm_currentblock()).animate({left:"0%"},400);function finishDelete2(div){visibleblock("q_fullscreenmask",b);visibleblock("q_fullscreenmask_mobile",b);if(!div)return;delargs=delargs.concat(q_args(div.delete_args));try{q_apply(div.delete_callback,delargs,div);}catch(err){adminalert("Une erreur est survenue. \nMerci de contacter le service technique avec les informations suivantes : \n\n"+err);}}
function finishDelete3(div){finishDelete(div);finishDelete2(div);}
finishDelete2(div);}
function fsm_showblock(elem,displayoption,base){q_fsm_showblock(elem,{position:displayoption},base);}
function q_fsm_showblock(elem,json,base,withoutfullscreenmask){elem=ge(elem,base);if(elem.splice){for(var i=0;i<elem.length;i++)q_fsm_showblock(elem[i],json,base,withoutfullscreenmask);return;}
var formateddisplay=fsm_displayoption(json.position);var ww=q_windowInnerWidth();var wh=q_windowInnerHeight();if(formateddisplay&&formateddisplay[0]!=null)elem.style.left=2*ww;if(formateddisplay&&formateddisplay[1]!=null)elem.style.top=2*wh;if(!withoutfullscreenmask)q_fsm_showfullscreenmask(elem,json);showblock([getContainer(elem,"q_fsmblockcontainer"),elem]);var revealid=q_fsm_revealid(json);var welem=0,helem=0;if(revealid&&ge(revealid)&&ge(revealid).style){welem=parseInt(ge(revealid).style.width||0,10);helem=parseInt(ge(revealid).style.height||0,10);}
welem=Math.max((isNaN(welem))?0:welem,elem.offsetWidth);helem=Math.max((isNaN(helem))?0:helem,elem.offsetHeight);if(formateddisplay&&formateddisplay[0]!=null){elem.style.left=((typeof formateddisplay[0])=="string")?formateddisplay[0]:Math.round((ww-welem)*formateddisplay[0])+"px";}
if(formateddisplay&&formateddisplay[1]!=null)elem.style.top=((typeof formateddisplay[1])=="string")?formateddisplay[1]:Math.round((wh-helem)*formateddisplay[1])+"px";}
function q_fsm_showfullscreenmask(elem,json){var div=getContainer(elem,"q_fsmblockcontainer");if(div){div.fsmpresent=(ge("q_fullscreenmask").style.display!="none");div.style.zIndex=q_incrementfsmindex();var maskopacity=json.maskopacity!=undefined?json.maskopacity:((div.fsmpresent)?0.3:0.3);var mask=gebcn(div,"q_fsmblockcontainer_screenmask");if(mask){mask.style.opacity=""+maskopacity;mask.style.filter="alpha(opacity="+(5*Math.round(20*maskopacity))+")";}}
displayfullscreenmask(json.color,json.opacity);}
function displayfullscreenmask(color,opacity){var fsm=gebcn(ge("q_fullscreenmask"),"q_fullscreenmask");if(!color){fsm.style.backgroundColor="#777";fsm.style.opacity="0.25";fsm.style.filter="alpha(opacity=25)";}else{fsm.style.backgroundColor=color;if(!opacity){fsm.style.opacity="0.25";fsm.style.filter="alpha(opacity=25)";}else{fsm.style.opacity=opacity;fsm.style.filter="alpha(opacity="+opacity*100+")";}}
showblock("q_fullscreenmask");showblock("q_fullscreenmask_mobile");}
function q_fsmpresent(){return ge("q_fullscreenmask")&&ge("q_fullscreenmask").style.display=='block';}
function q_datepicker(div,options){if(!options)options={};if(typeof div=="object"&&!$(div).get(0).tagName){options=$.extend({},div);div=undefined;}
var callback=options.callback;var callback_args=options.callback_args||options.args;var thesrc=$('<div class="q_datepicker_div"></div>').get(0);var $window=(isiniframe()&&quomodo.page.isPopup&&parent.$)?parent.$:$;var buttons=((options.hideheader)?[{icon:"adminmenu sprite_cancel_32",label:common_message["cancel"],onclick:function(){q_fsm_delete();}}]:[]).concat([{icon:"adminmenu sprite_validate_32",label:common_message["ok"],onclick:function(){var currentblock=q_fsm_currentblock();if(currentblock.parent)currentblock=parent.q_fsm_currentblock();var value=$window(".q_datepicker",currentblock).datepicker("getDate");if(options.displayField)$(options.displayField).html((options.displayFormat)?$.datepicker.formatDate(options.displayFormat,value):$.datepicker.formatDate($.datepicker.regional[q_lang]["dateFormat"],value));var val=$.datepicker.formatDate((options.datePicker&&options.datePicker.dateFormat)?options.datePicker.dateFormat:(options.dateFormat||"yy_mm_dd"),value);if(div){if($.inArray($(div).get(0).tagName.toLowerCase(),["input","select"])!=-1)$(div).val(val);else $(div).html(val);q_fsm_delete();}else q_fsm_delete(val);}}]);var json=$.extend({src:thesrc,revealid:"q_datepicker_div",title:common_message["datepicker_title"],buttons:buttons,reveal_callback:function(div,json){$window(".q_datepicker_div",div).append($window('<div class="q_datepicker"></div>').mousedown(function(event){q_stopPropagation(event);}).datepicker(options.datePicker));}},options);if(callback)json.delete_callback=callback;if(callback_args)json.delete_args=[callback_args];q_fsm_reveal(json);}
function q_core_choosefile(blockid,options){var src={id:"qu_"+blockid,urls:["/services/swfs/style/swfupload.css","/services/qorg/qu_"+q_lang+".html","/services/qorg/scripts/qu.js","/services/qorg/scripts/qu_msgs_"+q_lang+".js","/services/swfs/scripts/swfupload.js","/services/swfs/scripts/swfupload_queue.js","/services/swfs/scripts/swfupload_swfobject.js","/services/swfs/scripts/swfupload_functions.js","/scripts/q_uploads_msgs_"+q_lang+".js","/scripts/q_uploads.js"],target:"q_fullscreenmask"};q_fsm_reveal($.extend({position:"50% 22px",fsmsrc:blockid,src:src,title:function(){return qu_message["notetitle"];}},options));}
function q_choosefile(data,flat,frompc){flat=true;if(flat){if(!frompc)frompc=spacexml.currsize=="0";var path="/services/dialogs/qu-flatdesign/index_"+q_lang+".html";if(frompc)path="/services/dialogs/qu-flatdesign/dialogs/qu_frompc/index_"+q_lang+".html";var options={"json":data,"callback":function(json){if(!json||!json.kind){if(data.cancel&&data.cancel.callback)eval(data.cancel.callback).apply(this,data.cancel.args);return;}
if(json.kind=="web"&&data.webcallback)eval(data.webcallback).apply(this,[json.src]);else if(json.kind=="paste"&&data.pastecallback)eval(data.pastecallback).apply(this,[json.text]);else if(json.kind=="usedefault"&&data.usedefaultcallback)eval(data.usedefaultcallback).apply(this,[]);else q_apply(data.callback,q_args(json).concat(data.args));}};return quomodo.fsm.loadDialog(path,options);}
return q_core_choosefile("qu_choose_type",{reveal_callback:"qu_reveal",reveal_args:[data],delete_callback:"qu_onclose",title:data.title});}
function q_colors(options){var opt=$.extend({selected:"rgb(255,255,255)",transparent:false,c1c2:true,c1decline:true,bw:true,favorite:true,hsv:true,forcecolor:false,title:common_message["colorpicker_title"],delete_title:common_message["colorpicker_delete_title"],callback:function(x){q_alert(x);},callback_args:[]},options);var path="/services/qorg/colorpicker_dialog/index_"+q_lang+".html";var options={json:opt,callback:function(x){if(!x)return;if(!opt.favorite||(spacexml.theme.customcolors&&spacexml.theme.customcolors==x.customcolors))
q_apply(opt.callback,[x.selected,opt.callback_args]);else
q_ajaxobjsetppty("theme?id=qlub0","t0",x,function(){q_apply(opt.callback,[x.selected,opt.callback_args]);});}};quomodo.fsm.loadDialog(path,options);}
function q_importcsv(option){q_include({id:"q_importcsv_dynload",urls:["/scripts/q_importcsv_msgs_"+q_lang+".js","/scripts/q_importcsv.js"]},function(){$.importCSV(option);});}
function q_exportcsv(data,options){document.mainform.mission.value="exportxls";var fsm_waitId=q_fsm_wait();var json={"array":data};if(options&&options.exportname)json.exportname=options.exportname;q_ajaxsubmitwithservice("common@"+q_lang,json,function(x){q_fsm_deleteById(fsm_waitId);if(!x.downloadsrc)return q_alert((options&&options.nodatamessage)||common_message["nodatatoexport"],null,true);var path="/services/dialogs/waitforfilecsvxlsx/index_"+q_lang+".html";var downloadsrc=x.downloadsrc;var xlsxsrc=x.xlsxsrc;var params={"json":{"downloadsrc":downloadsrc,"xlsxsrc":xlsxsrc,"type":(options&&options.type)||""}};quomodo.fsm.loadDialog(path,params);});}
function applymoveid(id,left,top,width){$(ge(id)).animate({left:left,top:top,width:width},500);}
function q_trueXY(y){var xy=$(ge(y)).offset();return[Math.round(xy.left),Math.round(xy.top)];}
function q_parentwindowInnerWidth(){if(parent.window.innerWidth)return parseInt(parent.window.innerWidth,10);else return parseInt(parent.document.documentElement.clientWidth,10);}
function q_windowInnerWidth(){if(isiniframe())return q_parentwindowInnerWidth();return $(window).width();}
function q_parentwindowInnerHeight(){if(parent.window.innerHeight)return parseInt(parent.window.innerHeight,10);else return parseInt(parent.document.documentElement.clientHeight,10);}
function q_windowInnerHeight(){if(isiniframe())return q_parentwindowInnerHeight();return $(window).height();}
function getscroll(){return[$(window).scrollLeft(),$(window).scrollTop()];}
function q_parentwindowscrollX(){if(parent.window.scrollX)return parent.window.scrollX;return parent.document.documentElement.scrollLeft;}
function q_windowscrollX(){if(isiniframe())return q_parentwindowscrollX();return $(window).scrollLeft();}
function q_parentwindowscrollY(){if(parent.window.scrollY)return parent.window.scrollY;return parent.document.documentElement.scrollTop;}
function q_windowscrollY(){if(isiniframe())return q_parentwindowscrollY();return $(window).scrollTop();}
function q_deltacontentwidth(elem){var div=ge(elem);if(!div)return 0;var csskey=["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"];var x=0;for(var i=0;i<csskey.length;i++){var y=parseInt(gcs(div,csskey[i])||"0",10);if(y.toString()!="NaN")x+=parseInt(gcs(div,csskey[i])||"0",10);}
return x;}
function q_deltawidth(elem){var div=ge(elem);if(!div)return 0;if(div.tagName=="TABLE"&&gcs(div,"boxSizing")!="border-box")return 0;return q_deltacontentwidth(elem);}
function q_deltacontentheight(elem){var div=ge(elem);if(!div)return 0;var csskey=["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"];var x=0;for(var i=0;i<csskey.length;i++){var y=parseInt(gcs(div,csskey[i])||"0",10);if(y.toString()!="NaN")x+=parseInt(gcs(div,csskey[i])||"0",10);}
return x;}
function q_deltaheight(elem){var div=ge(elem);if(!div)return 0;if(div.tagName=="TABLE")return 0;return q_deltacontentheight(elem);}
function q_responsive_changedwidth(elem,targetoffsetwidth){if(!elem.toresize){$(elem).find("*[qratio]").each(function(){var $this=$(this);var $tmp=$this.parents(".tablenotecontent:eq(0)");if($tmp.css("display")=="none")$tmp.show().attr("tohide",true);$this.height($this.width()/($this.attr("qratio")||1));if($tmp.attr("tohide"))$tmp.hide().removeAttr("tohide");});}
q_changedwidth(elem,targetoffsetwidth);}
function q_changedwidth(elem,targetoffsetwidth,_instack,fromelem){var w=targetoffsetwidth||elem.offsetWidth;var dw=0;if(fromelem){for(var node=elem.parentNode;node&&node!=fromelem;node=node.parentNode){dw+=q_deltacontentwidth(node);}}
w=w-dw;var wstyle=w-q_deltawidth(elem);elem.style.width=Math.max(1,Math.round(wstyle))+"px";if(elem.dragratio)elem.style.height=Math.max(1,Math.round(wstyle*elem.dragratio))+"px";function applyRatio(){if(_instack)return;$(elem).find("*[qratio]").each(function(){var $this=$(this);var $tmp=$this.parents(".tablenotecontent:eq(0)");if($tmp.css("display")=="none")$tmp.show().attr("tohide",true);$this.height($this.width()/($this.attr("qratio")||1));if($tmp.attr("tohide"))$tmp.hide().removeAttr("tohide");});}
if(!elem.toresize){if(elem.resized)elem.resized(elem,w);applyRatio();return(elem.offsetWidth==w);}
var x=elem.toresize();if($(elem).hasClass("note")){var elembis=$(".tdcontainer",elem).get(0);var wbis=w-(elem.offsetWidth-q_deltawidth(elem)-elembis.offsetWidth);var contentwidth=wbis-q_deltacontentwidth(elembis);}else var contentwidth=w-q_deltacontentwidth(elem);for(var i=0;i<x.length;i++){var targetelem=x[i];q_changedwidth(targetelem,(targetelem.widthrule)?targetelem.widthrule(contentwidth):contentwidth,true,elem.autorule?elem:null);}
if(elem.resized)elem.resized(elem,w);applyRatio();return(elem.offsetWidth==w);}
function containsradioon(s){return(/\bon\b/.test(s));}
function radiobutton(s){return(/\bradio\b/.test(s));}
function radiohbutton(s){return(/\bradioh\b/.test(s));}
function toggleradio(x){return switchradio(x,(/\boff\b/.test(x.className)));}
function switchradio(x,checked){var s=x.className;x.className=(checked?s.replace(/\boff\b/,"on"):s.replace(/\bon\b/,"off"));return x;var id=x.id;var onclick=x.onclick;var y=x.cloneNode(true);if(id)y.id=id+"tmp";y=x.parentNode.insertBefore(y,x);if(onclick)y.onclick=onclick;rm(x);if(id)y.id=id;return y;}
function q_handleradio(groupelem,x){if(x==undefined)return;if(x.tagName)x=x.target;var radios=ge(groupelem).getElementsByTagName("A");for(var i=0;i<radios.length;i++)radios[i].className=(radios[i].target==x)?"radio on":"radio off";return x;}
function q_targetradio(groupelem,value){var radios=ge(groupelem).getElementsByTagName("A");for(var i=0;i<radios.length;i++)if(radios[i].target==value)return radios[i];return null;}
function getchecked(x,basehtml){x=getelement(x,basehtml);if(x.tagName=='INPUT')return x.checked;return containsradioon(x.className);}
function setchecked(x,checked,basehtml){x=getelement(x,basehtml);if(!x)return;if(x.tagName=='INPUT'){x.checked=checked;return x;}
var s=x.className;if(radiobutton(s)){var xs=(x.name)?document.getElementsByName(x.name):[];if((xs.length>1)&&(!checked))return x;var y=switchradio(x,checked);if(!checked)return y;var xs=(y.name)?document.getElementsByName(y.name):[];for(var i=0;i<xs.length;i++){if((xs[i].id!=y.id)&&containsradioon(xs[i].className)){switchradio(xs[i],false);xs=document.getElementsByName(y.name);}}
return y;}
if(radiohbutton(s)&&(!checked))return x;var y=switchradio(x,checked);if(!radiohbutton(s))return y;var radioname=y.name;var yc=getContainer(y);var xs=getElementsByClassName(yc,"radioh");var e;for(var i=0;i<xs.length;i++){e=xs[i];if((e.name)&&(e.name==radioname)&&(e!=y)&&containsradioon(e.className)){switchradio(e,false);xs=getElementsByClassName(yc,"radioh");}}
return y;}
function escapeattribute(xx,skipapos){var x=""+(xx||"");x=x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");if(skipapos)return x;if(!isIE)return x.replace(/'/g,"&apos;");return x.replace(/'/g,"‘");}
function escapeHTML(xx){var x=""+(xx||"");return x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(\r\n|\r|\n)/g,"<br/>");}
function q_innerHTML(x,ss){var s=ss||"";x=ge(x);if(!x)return;if(/\bpngbtn/.test(x.className)&&isie6())x=x.getElementsByTagName("DIV")[1];if(x.tagName=="TEXTAREA")x.value=s;else x.innerHTML=escapeHTML(s);}
function wiqi_text2HTML(s,xskiplinks,forcebr){var skiplinks=xskiplinks||false;if(!s)return "";s=s.replace(/&/g,"&amp;");s=s.replace(/>/g,"&gt;");s=s.replace(/</g,"&lt;");var patts=[["&gt;&gt;&gt;&gt;","<div style='margin: 0 0 0 3.2em'>$1</div>"],["&gt;&gt;&gt;","<div style='margin: 0 0 0 1.6em'>$1</div>"],["&gt;&lt;","<div style='text-align: center'>$1</div>"],["'''","<span style='font-weight:bold'>$1</span>"],["''","<span style='font-style:italic'>$1</span>"],["\\+\\+\\+\\+","<span style='font-size: 177% ; line-height: 1.4em'>$1</span>"],["\\+\\+\\+","<span style='font-size: 133% ; line-height: 1.4em'>$1</span>"],["-"+"-"+"-","<span style='font-size: 88% ; line-height: 1.4em'>$1</span>"],["[|]-[|]","<div style='text-align: justify ; margin: 0'>$1</div>"],["==","<span style='text-decoration: line-through'>$1</span>"]];var x;for(var i=0;i<patts.length;i++){x=patts[i];s=s.replace(new RegExp(x[0]+"((.|\\r|\\n)*?)"+x[0],"g"),x[1]);s=s.replace(new RegExp(x[0]+"((.|\\r|\\n)+$)","m"),x[1]);}
if(!skiplinks){s=s.replace(/\[\[at\]\]/gi,"@");s=s.replace(/\[\[([^\]]+?)-&gt;(js|javascript):(.+?)\]\]/gi,"<a href='#' style='cursor: pointer' onmousedown='disabledrag()' onclick='$3 ; return false'>$1</a>");s=s.replace(/\[\[([^\]]+?)-&gt;http(.+?)\]\]/gi,"[[$1-&gt;tqmzzxvr$2]]");s=s.replace(/\[\[([^\]]+?)-&gt;mailto(:[^\r\n <>,;:\/"]+)@([^ <>,;:\/"]+\.[a-z]{2}[a-z]*)\]\]/gi,"[[$1-&gt;euwuvhtc$2pqsdfiezahds$3]]");s=s.replace(/(https?:\/\/[a-z0-9_@\/=%#?&;.-]+[a-z0-9_@\/=%#?&;-])/gi,"[[$1-&gt;$1]]");s=s.replace(/(mailto:)?([^\n\r <>,;:\/"]+@[^ <>,;:\/"]+\.[a-z]{2}[a-z]*)/gi,"[[$2-&gt;mailto:$2]]");s=s.replace(/tqmzzxvr/g,"http").replace(/euwuvhtc/g,"mailto").replace(/pqsdfiezahds/g,"@");s=s.replace(/\[\[([^\]]+?)-&gt;(mailto:.+?)\]\]/gi,"<a href='$2' style='cursor: pointer' onmousedown='disabledrag()'>$1</a>");}
s=s.replace(/\[\[img-&gt;(http[^\]]+?)(__([^\]]*))?\]\]/gi,"<img src='$1' hspace='12px' vspace='6px' align='$3' style='margin: 7px'/>");s=s.replace(/\[\[img-&gt;([^\]]+?)(__([^\]]*))?\]\]/gi,"<img src='/images/help/$1' hspace='12px' vspace='6px' align='$3' style='margin: 7px'/>");if(!skiplinks)s=s.replace(/\[\[([^\]]+?)-&gt;(.+?)\]\]/gi,"<a href='$2' style='cursor: pointer' onmousedown='disabledrag()' onclick='window.open(this.href) ; return false'>$1</a>");s=s.replace(/^#(.*)$/gm,"<span class='scsquare'>$1</span>");s=s.replace(/\r/g,"\n");s=s.replace(/(^|\n)[ \t\n]*\*[ \t\n]*(.*)(\n|$)/g,"$1<ol><li style='margin-left: -1em'>$2</li></ol>$3");s=s.replace(/(^|\n)[ \t\n]*\*[ \t\n]*(.*)(\n|$)/g,"$1<ol><li style='margin-left: -1em'>$2</li></ol>$3");s=s.replace(/<\/ol>[ \t\n]<ol>/g,"");s=s.replace(/<\/ol>[ \t\n]/g,"</ol>");s=s.replace(/[ \t\n]<ol>/g,"<ol>");if(forcebr){s=s.replace(/<\/div>\n/g,"</div><br/>");}else{s=s.replace(/<\/div>\n/g,"</div><div style=\"height: 0.5em ; margin: 0 ; padding: 0\"> </div>");s=s.replace(/\n\n/g,"<br/><div style=\"height: 0.5em ; margin: 0 ; padding: 0\"> </div>");}
s=s.replace(/\n/g,"<br/>");return s;}
function qHTML2text(s){s=s.replace(/<br\/?>/gi,"\r");var patts=[["&gt;&gt;&gt;&gt;","<div style=\"margin-left: 2em\">$1</div>"],["&gt;&gt;&gt;","<div style=\"margin-left: 1em\">$1</div>"],["'''","<b>$1</b>"],["''","<i>$1</i>"],["++++","<span style=\"font-size: 17px ; line-height: 1.2em\">$1</span>"],["+++","<span style=\"font-size: 14px ; line-height: 1.2em\">$1</span>"],["-"+"-"+"-","<span style=\"font-size: 9px ; line-height: 1.2em\">$1</span>"]];var x,y;for(var i=0;i<patts.length;i++){x=patts[patts.length-1-i];y=x[1].replace(/\$1/,"((.|\\r|\\n)*)").replace(/\//,"\/");s=s.replace(new RegExp(y,"gi"),x[0]+"$1"+x[0]);}
s=s.replace(/&amp;/g,"&");return s;}
function q_filterinput(x,h){if(typeof h=="string")h=eval(h);var validvalue=h(x.value);if(validvalue!=x.value)x.value=validvalue;}
function q_validnolt(x){return x.replace(/</g,"LT");}
function filterinput(x){q_filterinput(x,q_validnolt);}
function q_validforfm(x){return q_validnolt(x.replace(/\/|:/g,"_"));}
function filterinputfm(x){if(x.id&&x.id=="qlub_accesspw")return;q_filterinput(x,q_validforfm);}
function q_canonicalurl(weblink,withouthttp){var url="";if(!withouthttp)url+=q_httpsiteurl()+"/";if(weblink=="")weblink="index.html";url+=weblink.replace(/\/$/,"/index").replace(/\.html$/,"")+".html";return url.replace(/^index_?\.html$/,".").replace(/\/(index_?)?\.html$/,"");}
function q_urlcompliant(x,withSlash){var str=x.toLowerCase();if(str=="")return "_";str=str.replace(/(ç|ć|ĉ|ċ|č)/g,"c").replace(/æ/g,"ae").replace(/œ/g,"oe");str=str.replace(/(à|â|á|ã|ä|å|ā|ă)/g,"a").replace(/(é|è|ê|ë|ē|ĕ|ė|ę|ě)/g,"e").replace(/(î|ì|í|ï|ĩ|ī|ĭ|į)/g,"i").replace(/(ô|ò|ó|õ|ö|ō|ŏ|ő)/g,"o");str=str.replace(/(û|ù|ú|ü|ũ|ū|ŭ|ů|ű)/g,"u").replace(/(ý|ŷ)/g,"y");if(withSlash)str=str.replace(/[^a-z0-9_\/-]/g,"-");else str=str.replace(/[^a-z0-9_-]/g,"-");str=str.replace(/-+/g,"-").replace(/_+/g,"-");return str;}
function q_validur(x){return q_validurl(x);}
function q_validurl(x){return x.toLowerCase().replace(/(é|è|ê|ë)/g,"e").replace(/(à|â|ä)/g,"a").replace(/(î|ï)/g,"i").replace(/(ô|ö)/g,"o").replace(/(û|ü|ù)/g,"u").replace(/ /g,"_").replace(/[^a-z0-9_]/g,"-");}
function q_validlink(s){try{s=decodeURI(s);}catch(err){};if((/^rel:(.+)$/).test(s))return s;s=encodeURI(s.replace(/^([^?]+)(\?.*)?$/,"$1"))+s.replace(/^([^?]+)(\?.*)?$/,"$2");if(!(/^http(s)?:\/\//.test(s)))s="http://"+s;return s;}
function q_svcid2svcpage(svcid){if(!window.web_svctopages)return "";for(var j=0;j<web_svctopages.length;j++)if(web_svctopages[j].id==svcid)return web_svctopages[j].name+".html";}
function q_svcid2hrefpath(svcid){var href="local/loginpage.html?lang="+q_lang+"&wantedsvc="+encodeURIComponent(svcid);var spaceidRe=new RegExp("^[0-9a-fA-F-]+$");if(q_pagemode()=='web'){var hrefweb=gethref();if(!hrefweb)return href;return hrefweb;}else{var svc;if((spaceidRe).test(svcid)){var space=q_spacefromid(svcid);if(!space||!space.spacexml)svc=null;else svc=q_homesvc(space.spacexml);}else svc=q_svcfromid(svcid);if(!svc)return null;if(!q_svcisweb(svc))return href;return svc.weblink+".html";}
function gethref(){if(/#artema(page|disq)/.test(svcid)){if(window.web_svctopages){var weblink=q_web_svcweblink(svcid);if(weblink)return weblink.replace(/\.html$/,"")+".html";}}else if((spaceidRe).test(svcid)){var weblink=q_web_svcweblink(svcid);if(weblink&&!weblink.noaccess)return weblink.weblink;}
return null;}}
function q_innerLightHTML(elemsrc,options){if((typeof options)!="object")options={maxlength:options};options=$.extend({maxlentgh:null,mode:"text",href:function(href){return href;}},options);function emptyHTMLString(s){if(!s)return true;return!/[^ \t\n\r]/.test(s);}
function emptyHTMLElement(elem){if(!elem.nodeType)return true;if(elem.nodeType!=1&&elem.nodeType!=3)return true;if(elem.nodeType==3)return emptyHTMLString(elem.nodeValue);return false;}
function formattag(elem,previouselem,s,elemisempty,islast){if(!elem.tagName)return s;function wrapStyle(t,s){if(emptyHTMLString(s))return s;var inlineStyles=[];if(elem.style&&elem.style.fontWeight=="bold")inlineStyles.push("font-weight: "+elem.style.fontWeight);if(!(options&&options.nocolor)&&elem.style&&elem.style.color){var color=elem.style.color;try{var tmp=color.replace(/ /g,"");if(rgb2brightness(tmp)>50)color="rgb("+rgb2givenlevel(50,tmp).join(",")+")";}catch(err){}
if(color.replace(/ /g,"")=="rgb(255,255,255)")inlineStyles.push("color: #DDD");else inlineStyles.push("color: "+color);}
if(elem.style&&elem.style.fontStyle=="italic")inlineStyles.push("font-style: "+elem.style.fontStyle);if(inlineStyles.length>0)return('<'+t+' style="'+inlineStyles.join(" ; ")+'">'+s+'</'+t+'>');return s;}
function formatDIV(elem,previouselem,s,elemisempty,islast){if(previouselem&&(previouselem.nodeType==3||$.inArray(previouselem.tagName.toLowerCase(),["p","div",t])==-1))s="<br/>"+wrapStyle("span",s);if(emptyHTMLString(s)&&elemisempty)return s;if(elem.parentNode&&$.inArray(elem.parentNode.tagName,["LI","DIV"])!=-1&&islast==true)return wrapStyle("span",s);if(elem.childNodes&&elem.childNodes[0]&&(elem.childNodes[0].tagName=="UL"||elem.childNodes[0].tagName=="OL"))return wrapStyle("span",s);if(islast=="container")return wrapStyle("span",s);return(wrapStyle("span",s)+"<br/>");}
var t=elem.tagName.toLowerCase();if(options.mode=="text")t+="_text";if(options.mode=="wiqi"){if(t=="a")t+="_wiqi";else t+="_text";}
switch(t){case "p":case "div":case "p_text":case "div_text":if((/_text/).test(t))return formatDIV(elem,previouselem,s,elemisempty,islast).replace(/<br\/>/g,"\n");return formatDIV(elem,previouselem,s,elemisempty,islast);case "br":case "br_text":if(elem.parentNode&&islast==true)return s;return(s+(((/_text/).test(t))?"\n":"<br/>"));case "hr":return "<hr/>";case "table":case "tbody":case "tr":case "td":case "th":case "ul":case "ol":case "b":case "i":case "strong":case "em":case "span":var tmp=wrapStyle(t,s);if(tmp!=s)return tmp;case "li":return("<"+t+">"+s+"</"+t+">");case "a":case "a_text":case "a_wiqi":var href=null;var svcid;var onclick=$(elem).attr("onclick");var re=new RegExp(".*openservice\\([^)]*(\"|')([^)]*)\\1.*","g");if(re.test(onclick)){var svcid=onclick.replace(re,"$2");svcid=svcid.substring(svcid.indexOf(":")+1);}
try{href=elem.href;}catch(err){}
if(!href)return s;if(options.nojavascript&&(/^javascript:/).test(href))return s;if(emptyHTMLString(s))return s;if(options.mode=="wiqi")return("[["+s+"->"+options.href(href,svcid,s)+"]]");return('<a href="'+options.href(href,svcid,s)+'" target="_blank" >'+s+'</a>');case "tr_text":case "li_text":return(s+"\n");case "td_text":case "th_text":return(s+"\t");case "img":return $('<div></div>').append($(elem).clone()).html();default:if(options.preserveTags&&$.inArray(t,options.preserveTags)!=-1&&!emptyHTMLString(s))return("<"+t+">"+s+"</"+t+">");return s;}}
function truncate(s,maxlength){if(maxlength===null)return{s:s,b:false};if(maxlength<0)return{s:"...",b:true};var rest=s.substring(maxlength).split("\n")[0].split("\r")[0].split(" ")[0].split("	")[0];var s2=s.substring(0,maxlength)+rest;if(s2!=s)return{s:s2+"...",b:true};return{s:s2,b:false};}
function innerLightHTML(elem,previouselem,maxlength,islast){var n=0;var s="";var b=false;if(maxlength&&maxlength<0)return[s,n];if(!elem.nodeType)return[s,n];if(elem.nodeType!=1&&elem.nodeType!=3)return[s,n];if(elem.nodeType==3){var appended=truncate((elem.nodeValue||""),maxlength||null);return[appended.s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),appended.s.length,appended.b];}
if(elem.style&&elem.style.display&&elem.style.display=="none")return[s,n,b];var children=elem.childNodes;var x,res;var nc=children.length;var notemptypreviouselem,elemisempty=true;for(var i=0;i<nc;i++){x=children[i];res=innerLightHTML(x,notemptypreviouselem,maxlength,i==(nc-1));if(!emptyHTMLElement(x)){notemptypreviouselem=x;elemisempty=false;}
s+=res[0];n+=res[1];b=b||res[2];if(maxlength)maxlength-=res[1];if(b)break;}
return[formattag(elem,previouselem,s,elemisempty,islast),n,b];}
return innerLightHTML(elemsrc,null,options.maxlength,"container");}
function validemail(x,silent){if(!x)return false;x=x.toLowerCase();var emailFilter=new RegExp("^[^ @]*[a-z0-9]@[a-z0-9][^ @]*\\.[a-z]{2,"+"}$");var illegalChars=/[\(\)\<\>\,\;\:\\\/\"\[\] \t\r\n]/;var errorchars=/[áéíóúàèìòùâêîôûäëïöüéèàùç]/;if(!(emailFilter.test(x)))return false;if(x.match(illegalChars))return false;if(x.match(/\.\./))return false;if((/%/).test(encodeURI(x)))return false;if(x.match(errorchars)){if(!silent)q_alert(common_message["noaccentinemail"]+"<br/><br/>"+x);return false;}
return true;}
function verbosevalidemail(x,defaultmsg,callback){return xverbosevalidemail(x,defaultmsg,false,null,callback);}
function validoptionalemail(x,optionalmsg){if((x=="")||(x==optionalmsg))return true;return validemail(x);}
function verbosevalidoptionalemail(x,optionalmsg,defaultmsg){return xverbosevalidemail(x,defaultmsg,true,optionalmsg);}
function validemail_checkvalue(x,defaultmsg){if(validemail(x,true))return true;var themsg=defaultmsg||common_message["invalidemail"];x=x.toLowerCase();var illegalChars=/[\(\)\<\>\,\;\:\\\/\"\[\] \t\r\n]/;var errorchars=/[áéíóúàèìòùâêîôûäëïöüéèàù]/;if(/@.*@/.test(x))themsg+="\n\n"+common_message["onlyoneemail"];else if(/^( |\t)/.test(x))themsg+="\n\n"+common_message["leadingspace"];else if(/( |\t)$/.test(x))themsg+="\n\n"+common_message["trailingspace"];else if(/( |\t)/.test(x))themsg+="\n\n"+common_message["nospaceinemail"];else if(errorchars.test(x))themsg+="\n\n"+common_message["noaccentinemail"].replace(/%/,x.match(errorchars)[0]);else if(/ç/.test(x))themsg+="\n\n"+common_message["nocedillainemail"];else if(illegalChars.test(x))themsg+="\n\n"+common_message["invalidcharinemail"].replace(/%/,x.match(illegalChars)[0]);return themsg+"<br/><br/>"+x;}
function xverbosevalidemail(x,defaultmsg,isoptional,optionalmsg,callback){if((x=="")||(x==optionalmsg)){if(isoptional)return true;if(callback)q_alert(common_message["noemptyemail"],{"callback":function(){callback();}},true);else q_alert(common_message["noemptyemail"],null,true);return false;}
var v=validemail_checkvalue(x,defaultmsg);if(v==true)return true;if(callback)q_alert(v,{"callback":function(){callback();}},true);else q_alert(v,null,true);return false;}
function debug_msg(s){return;try{console.log(s);}
catch(e){}}
function debugmail(ss,options){try{var s=ss||"(pas de message)";var m={};m["frommail"]=(options&&options.frommail)||"debug@quomodo.com";m["objectmail"]=(options&&options.objectmail)||"DEBUG MAIL";try{m["objectmail"]+=" from "+q_spacename();}catch(err){};var body="";try{body+="Date: "+new Date().toString()+"\r";}catch(err){};try{body+="Page: "+q_currsvcname()+"\r";}catch(err){};try{body+="Espace: "+q_spacename()+"\r";}catch(err){};try{body+="q_space: "+document.mainform.q_space.value+"\r";}catch(err){};try{if(window.spacexml&&spacexml.skeleton&&spacexml.skeleton.id)body+="skeleton: "+spacexml.skeleton.id+"\r";}catch(err){};try{body+="memberid: "+memberid+"\r";}catch(err){};try{body+="firstname: "+members[memberid].firstname+"\r";}catch(err){};try{body+="username: "+members[memberid].username+"\r";}catch(err){};try{body+="currsvcid: "+currsvcid+"\r";}catch(err){};try{body+="clubprivatedomain: "+clubprivatedomain+"\r";}catch(err){};try{body+="window.location: "+window.location+"\r";}catch(err){};try{var tmp=window.navigator.userAgent;if((/zh-CN/).test(tmp))return;if((/BingPreview/).test(tmp))return;body+="navigator: "+tmp+"\r";}catch(err){};if(/Googlebot/.test(body))return;if(q_pagemode("raw")=="snchooser")body+="\rpagemode = "+document.mainform.pagemode.value+"\r";body+="\rMessage:\r\r"+s+"\r";m["bodymail"]=body;m["tomail"]="debug@quomodo.com";if(!window.q_makeweb&&q_pagemode("raw")!="snchooser"&&(!isrealserver()||(window.clubprivatedomain&&(clubprivatedomain=="otc-f"||clubprivatedomain=="otcf"))))alert(body);else{document.mainform.mission.value="sendemailtoto";q_ajaxsubmitwithservice("common@"+q_lang,m);}}catch(err){};}
function timemsg(ss,wantsimple){var simple=wantsimple||false;try{var m={};if(simple){m["text"]=ss||"no message";}else{var body="";try{body+="currsvcid: "+currsvcid+"\r";}catch(err){};try{body+="clubprivatedomain: "+clubprivatedomain+"\r";}catch(err){};try{body+="navigator: "+window.navigator.userAgent+"\r";}catch(err){};m["text"]=body+new Date().toString()+": "+(ss||"no message");}
document.mainform.mission.value="timemsg";q_ajaxsubmitwithservice("common@"+q_lang,m);}catch(err){};}
function quietmsg(x){if(ge("headerinfo"))ge("headerinfo").innerHTML=x;}
function msg(x){if(ge("headerinfo"))ge("headerinfo").innerHTML=x;else alert(x);}
function q_isot2date(s,nonewdate){if(s){var d;try{d=new Date(s);}catch(err){}
if(d=="Invalid Date"){try{d=$.datepicker.parseDate("dd M yy",s);}catch(err){}}
if(d&&d!="Invalid Date"&&!isNaN(d))return d;try{var t=s.split("T");var tt=t[0].split("-");var ttt=t[1].split(":");d=new Date();d.setFullYear(tt[0]);d.setMonth(tt[1]-1);d.setDate(tt[2]);var tm=d.getTimezoneOffset()/60;d.setHours(eval(ttt[0])-tm);d.setMinutes(ttt[1]);if(d!="Invalid Date")return d;}catch(err){};}
if(nonewdate)return false;return new Date();}
function q_isot2string(s,nostring){return ddmmyyhhmm(q_isot2date(s),nostring);}
function q_date2isot(d){var y=d.getUTCFullYear();var m=twodigs(1+d.getUTCMonth());var j=twodigs(d.getUTCDate());var h=twodigs(d.getUTCHours());var mi=twodigs(d.getUTCMinutes());var s=twodigs(d.getUTCSeconds());return y+"-"+m+"-"+j+"T"+h+":"+mi+":"+s+"Z";}
function ddmmyyhhmm(d,nostring){var c=new Date();var c0=new Date(c.getFullYear(),c.getMonth(),c.getDate());var c1=new Date(c.getFullYear(),c.getMonth(),c.getDate()+1);var t;t=twodigs(d.getDate())+'.'+twodigs(1+d.getMonth())+'.'+twodigs(d.getFullYear()-2000);if(!(window.currsvcid&&(/#artema(page|disq)/.test(currsvcid))&&q_spacetype()=="qlub")&&!nostring){if(Math.abs(c0-d)<=86400000)t=(d>=c0)?common_message["today"]:common_message["yesterday"];else if((d>c1)&&((d-c1)<=86400000))t=common_message["tomorrow"];}
return(t+", "+twodigs(d.getHours())+":"+twodigs(d.getMinutes()));}
function rndab(a,b){return Math.round(a+(b-a)*Math.random());}
function xrndab(x){if(typeof x=="object")return rndab(x[0],x[1]);return x;}
function rndpx(a,b){var x=rndab(a,b);return(x+"px");}
function xrndpx(x){return(xrndab(x)+"px");}
function twodigs(i){return(''+(100+i)).slice(-2);}
function threedigs(i){return(''+(1000+i)).slice(-3);}
function fixedWidthIntervals(w,g,n){var w0=Math.round((w-(n-1)*g)/n);var gTotal=w-n*w0;var gm=gTotal/(n-1);var g0=Math.round(gm);var s=(gTotal>(g0*(n-1)))?1:-1;var x=[];var gtmp=0;for(var i=0;i<n-1;i++){var gi=g0;var d1=Math.abs((gtmp+gi)-(i+1)*gm);var d2=Math.abs((gtmp+gi+s)-(i+1)*gm);if(d2<d1)gi=gi+s;gtmp=gtmp+gi;x.push(gi);}
return{width:w0,gaps:x};}
function firstadmin_memberid(){for(var memberid in members)if(q_getuserlevel(memberid)=="admin")return memberid;return null;}
function isadmin(){try{if(window.web_js_loaded)return false;}catch(err){};try{if(parent.web_js_loaded)return false;}catch(err){};try{if(document.mainform.pagemode.value=="view")return false;}catch(err){};try{if(parent.document.mainform.pagemode.value=="view")return false;}catch(err){};return true;}
function adminalert(s){if(isadmin())alert(s);}
function q_displayedusername(minfos){return q_displayedname("username",minfos);}
function q_displayedname(kind,minfos){if(!minfos)return common_message["undefineduser"];var firstname=minfos.firstname;if(kind=="firstname")return(firstname==undefined)?common_message["undefineduser"]:firstname;var username=minfos.username;if(username==undefined)return common_message["undefineduser"];if(minfos.firstname)return(firstname+" "+username);if(minfos.civility)return(minfos.civility+" "+username);return username;}
function q_username(m){return q_membername("username",m);}
function q_membername(kind,m){if(typeof m!="string")return q_displayedname(kind,m);if(m=="quomodo")return "Quomodo";return q_displayedname(kind,(window.members)?members[m]:null);}
function q_evalmember(m){var thevalue=q_tmpsortedmembers[m].username;if(!thevalue)return "";var re=/[A-Z][A-Z][A-Z]+/;thevalue=re.test(thevalue)?re.exec(thevalue)[0]:thevalue.replace(/^(mr|mme|mlle|mle|melle|m)\.? */i,"");return thevalue.toLowerCase();}
function q_sortmembers(m1,m2){var v1=q_tmpevalmember(m1);var v2=q_tmpevalmember(m2);if(v1==v2)return 0;if(v1>v2)return 1;return-1;}
var q_tmpsortedmembers,q_tmpevalmember;function q_sortedmemberids(qmembers,heval){var themembers=(qmembers)?qmembers:members;var sortedm=[];var n;for(var m in themembers)if((m!="quomodo")&&(themembers[m]))sortedm.push(m);q_tmpsortedmembers=themembers;q_tmpevalmember=(heval)?heval:q_evalmember;sortedm.sort(q_sortmembers);return sortedm;}
var q_membersupdatehandlers=[];function q_addmembersupdatehandler(h){if(indexOfItem(h,q_membersupdatehandlers)==-1)q_membersupdatehandlers.push(h);}
function q_membersupdateall(){for(var i=0;i<q_membersupdatehandlers.length;i++){try{eval(q_membersupdatehandlers[i]).apply(this,[]);}catch(err){}}}
function q_getuserlevel(mid,withAnimStatus){if(!mid)mid=memberid;if(!mid||!members||!members[mid])return false;var userlevel=members[mid].userlevel;if(!withAnimStatus||userlevel!="member")return userlevel;var animsvcids=$.map(spacexml.services,function(svc){if((/#artemapage@/).test(svc.id)&&$.inArray("edit",svc.accessrights)!=-1)return svc.id;});return(animsvcids.length==0)?"member":"anim";}
var requiredMajorVersion=8;var requiredMinorVersion=0;var requiredRevision=0;var alerte_once_flash=0;var uploaded_files={};function q_args(args){if(args==undefined||args==null)return[];else if(typeof args=="object"&&args.splice)return args;return[args];}
function q_apply(h,args,obj){if(!h)return;if((typeof h)=="string")h=eval(h);return h.apply(obj||this,q_args(args));}
function q_sorf(s){if((typeof s)=="string")return s;return q_apply(s);}
function q_keycode(ee){var e=ee||window.event;if(!e)return null;return e.keyCode||e.which||e.charCode;}
function q_sitemap_getnodefrompath(path,sm,currxml){if(!sm)sm={items:(currxml||spacexml).sitemap};if(path.length==0)return sm;var tmppath=q_cloneObject(path);var i=tmppath.shift();return q_sitemap_getnodefrompath(tmppath,sm.items[i],currxml);}
function q_sitemap_getnode(id,sm,withdelete,currxml){var s=false;if(!sm)sm={items:(currxml||spacexml).sitemap};if(sm.items){if(sm.items.__byid)return sm.items.__byid[id]||false;function index(items){if(!items.__byid)items.__byid={};for(var i=0;i<items.length;i++){if(items[i].id)items.__byid[items[i].id]=items[i];else if(items[i].items){$.extend(items.__byid,index(items[i].items));}}
return items.__byid;}
index(sm.items);return sm.items.__byid[id]||false;}
return s;}
function q_sitemap_getpath(id,sm,path,currxml){if(/^menu:/.test(id))id="menu:"+q_urlcompliant(id.replace(/^menu:/,""));var s=false;if(!path)path=[];if(!sm){var sm={items:(currxml||spacexml).sitemap};function constructpath(sm,path){if(sm.id){(currxml||spacexml).sitemap.__paths[sm.id]=path;return;}
if(sm.items){(currxml||spacexml).sitemap.__paths["menu:"+q_urlcompliant(sm.name||"(noname)")]=path;for(var i=0;i<sm.items.length;i++){var newpath=q_cloneObject(path);newpath.push(i);constructpath(sm.items[i],newpath)}}}
if(!(currxml||spacexml).sitemap.__paths){(currxml||spacexml).sitemap.__paths={};constructpath(sm,[]);}
var path=(currxml||spacexml).sitemap.__paths[id];if(!path)return false;return[].concat(path);}
if(sm.id&&sm.id==id)return path;if(sm.items){for(var i=0;i<sm.items.length;i++){var newpath=q_cloneObject(path);newpath.push(parseInt(i,10));var t=q_sitemap_getpath(id,sm.items[i],newpath,currxml);if(t){s=t;break;}}}
return s;}
function q_menufromid(svcid,sm,path,currxml){if(!sm){var path=q_sitemap_getpath(svcid,null,currxml);if(!path)return null;var sm={items:(currxml||spacexml).sitemap};if(path.length<=1)return sm;for(var i=0;i<path.length-1;i++)sm=sm.items[path[i]];return sm;}
if(!sm)sm={items:(currxml||spacexml).sitemap};if(!path)path=q_sitemap_getpath(svcid,sm,currxml);if(!path)return null;if(path.length<=1)return sm;var i=path.shift();return q_menufromid(svcid,sm.items[i],path,currxml);}
function q_svcname(svc,bPromise){function svcname(svc){if(q_pagemode()=="web"&&svc&&svc.pagename!=undefined)return svc.pagename;if(svc&&svc.name!=undefined)return svc.name;if(svc&&svc.shortname!=undefined)return svc.shortname;return "";}
if((typeof svc)!="string")return svcname(svc);if(bPromise)return function(callback){qpromise_svcfromid(svc).callback(function(promise){callback(svcname(promise));});};return svcname(q_svcfromid(svc)||q_web_svcfromid(svc));}
function qpromise_svcname(svc){var v=q_svcname(svc,true);if(typeof v=="function")return{callback:v};return{callback:function(callback){callback(v);}};}
function qpromise_spacexmlfromId(spaceid,noWait){return qpromise("otherspaceright",spaceid,noWait);}
function q_spacefromid(spaceid){if(!spacexml.spaces)return null;for(var i=0;i<spacexml.spaces.length;i++){if(spacexml.spaces[i].id==spaceid)return spacexml.spaces[i];}
return null;}
function q_spaceid2svcinfo(spaceid){if(spacexml.bundleid!="qorp")return null;var re=new RegExp("/[^/]+$");var preurl=(spacexml.parentspace)?"../":"";var space=q_spacefromid(spaceid);if(!space)return null;return{"name":space.name,"weblink":preurl+((space.homespace)?"":(space.subhost+"/")),"noaccess":space.noaccess,"viewaccess":"web"};}
function q_svcfromstuff(stuffID){if(stuffID=="q_author_stuff")return q_svcfromid(currsvcid);var svcs=spacexml.services||recent_services;if(!svcs.__index)q_svcfromid(currsvcid);return svcs.__stuffindex[stuffID];}
function q_svcfromid(svcid,currxml){if(!svcid)return null;if(typeof svcid=="object")return svcid;var splittedsvc=svcid.split("/");if(splittedsvc.length==1)var svcs=(currxml||spacexml).services||recent_services;else{svcid=splittedsvc[1];var space=q_spacefromid(splittedsvc[0]);if(!space||!space.spacexml)return null;var svcs=space.spacexml.services;}
if(!svcs)return null;if(svcs.__index){if(svcs.__index[svcid]==undefined)return q_spaceid2svcinfo(svcid);return svcs.__index[svcid];}
svcs.__index={};svcs.__stuffindex={};for(var i=0;i<svcs.length;i++){var svc=svcs[i];svcs.__index[svc.id]=svc;if(svc.stuffID)svcs.__stuffindex[svc.stuffID]=svc;}
return q_svcfromid(splittedsvc.join("/"),currxml);}
function q_web_svcfromid(svcid){var splittedsvc=svcid.split("/");if(splittedsvc.length>1){if(!window.webqorp_svctopages||!webqorp_svctopages[splittedsvc[0]])return null;var svcs=webqorp_svctopages[splittedsvc[0]].services;if(!svcs)return null;if(svcs.__index){if(svcs.__index[splittedsvc[1]]==undefined)return q_spaceid2svcinfo(svcid);return svcs.__index[splittedsvc[1]];}
svcs.__index={};svcs.__stuffindex={};function getsubhost(pseudohost){var re=new RegExp("^[^/]+(/)?([^/]+)?$");return pseudohost.replace(/club[0-9]+\.quomodo\.com\//,"").replace(re,"$2$1");}
var preurl=((getsubhost(spacexml.infos.host||spacexml.infos.privatedomain)=="")?"":"../")+getsubhost(webqorp_svctopages[splittedsvc[0]].host||webqorp_svctopages[splittedsvc[0]].privatedomain);for(var i=0;i<svcs.length;i++){var svc=svcs[i];svcs.__index[svc.id]=svc;if(svc["weblink"])svc["weblink"]=preurl+svc["weblink"];if(svc.stuffID)svcs.__stuffindex[svc.stuffID]=svc;}
return q_web_svcfromid(splittedsvc.join("/"));}
if(!window.web_svctopages)return null;for(var i=0;i<web_svctopages.length;i++)if(svcid==web_svctopages[i].id)return web_svctopages[i];return q_spaceid2svcinfo(svcid);return null;}
function q_currsvcjson(){return(q_pagemode()=="web")?q_web_svcfromid(currsvcid):q_svcfromid(currsvcid);}
function q_currsvcname(){return q_svcname(currsvcid);}
function q_currsvcisweb(){return q_svcisweb(currsvcid);}
function q_svcisweb(svcid,currxml){var x=q_svcfromid(svcid,currxml);if(!x)return false;return(x.viewaccess=="web");}
function q_currsvcishome(){return q_svcishome(currsvcid);}
function q_homesvc(currxml){function iterate(s){if(!s.items)return null;for(var i=0;i<s.items.length;i++){if(s.items[i].id&&s.items[i].home&&s.items[i].home==true)return s.items[i];else{var svc=iterate(s.items[i]);if(svc)return svc;}}
return null;}
var svc=iterate({items:(currxml||spacexml).sitemap});if(svc){var svc=q_svcfromid(svc.id,currxml);if(svc)return svc;}
if((currxml||spacexml).services&&(currxml||spacexml).services[0])return(currxml||spacexml).services[0];return null;}
function q_homesvcid(currxml){var svc=q_homesvc(currxml);if(svc)return svc.id;return null;}
function q_svcishome(svcid,s){if(!s&&!spacexml.sitemap)return false;if(!s)s={items:spacexml.sitemap};if(!s.items)return false;for(var i=0;i<s.items.length;i++){if(s.items[i].id&&s.items[i].id==svcid&&s.items[i].home&&s.items[i].home==true)return true;else{var b=q_svcishome(svcid,s.items[i]);if(b)return true;}}
return false;}
function q_checkaccesstosvc(svcid){var svcitem=q_svcfromid(svcid);var splittedsvc=svcid.split("/");if(splittedsvc.length>1&&q_spacefromid(splittedsvc[0]).noaccess)return false;if(!svcitem)return false;return(serviceaccess(svcitem)!="denied");}
function serviceaccess(svcitem){if(svcitem.noaccess)return "denied";if(svcitem.useraccess)return svcitem.useraccess;if(window.members&&members[memberid])return svcitem[q_getuserlevel(memberid)+"access"];return true;}
function q_spacetype(){var thespacetype=q_spacebundle();if(thespacetype=="qorp")thespacetype="qlub";return thespacetype;}
function q_spacename(){if(q_spaceparam("infos")&&q_spaceparam("infos").name!=undefined)return q_spaceparam("infos").name;return((spacexml.name)?spacexml.name:"");}
function q_spacebundle(){return q_spaceparam("bundleid")||q_spaceparam("right")||"qlub";}
function q_spaceclient(){return q_spaceparam("client","");}
function q_setspaceparam(key,v){if(!window.spacexml)return;spacexml[key]=v;}
function q_spaceparam(key,emptyresult){var x=(emptyresult==undefined)?null:emptyresult;if(window.spacexml)return(spacexml[key]==undefined)?x:spacexml[key];return x;}
function q_addspaceparams(json){if(!window.spacexml)spacexml={};for(var x in json)spacexml[x]=json[x];}
function q_isstaticpage(){return(!document.mainform.q_space||!document.mainform.q_space.value);}
function q_ispros(key){if(key=="account")return spacexml.infos.subscribe_use=="pros";return(spacexml.infos.subscribe_use!="sport"&&spacexml.infos.subscribe_use!="association");}
function writecurrsvcname(){if(!spacexml.services)return;$("#currservicename").html(q_currsvcname());}
function writetitleandname(){if(q_isstaticpage())$("#welcome_username").remove();else{var un=q_username(memberid);document.title=un+" "+common_message["on"]+" "+q_spacename();$("#welcome_username").html(un+" ");}
logouthref();writecurrsvcname();}
function userstaysineditmode(){if(!window.qsn_currstate)return false;if(qsn_currstate!="edit")return false;if(confirm(common_message["quittingeditmode"]))return false;return true;}
function backtoservice(){if(!q_ready)return false;if(userstaysineditmode())return false;document.mainform.mission.value="back";q_submit();return false;}
function openhomepage(){if(userstaysineditmode())return false;document.mainform.mission.value='openhomepage';document.mainform.filename.value='index.html';q_submit();return false;}
function openspace(x,submitfn){if(userstaysineditmode())return false;document.mainform.mission.value='openspace';document.mainform.calledspace.value=x;document.mainform.calledservice.value="";document.mainform.calledfilename.value="";(submitfn||q_submit)();return false;}
function opensnbrowser(){return opencalledservice("snbrowser@"+q_lang,"snbrowser.html");}
function openprofile(){return openservice("subscribe@"+q_lang,"profile.html");}
function opengallery(){return opencalledservice("gallery@"+q_lang,"gallery.html");}
function servicefilename(svc){if(!window.rights_record)return "index.html";if(!rights_record["spaceright"])return "index.html";var sr=rights_record["spaceright"][q_spacebundle()];if(!sr)return "index.html";var splittedsvc=svc.split("/");if(splittedsvc[1])svc=splittedsvc[1];svc=svc.replace(/^#[0-9]+/,"").split("@")[0]+"@intl";if((sr.services)&&(sr.services[svc])&&(sr.services[svc].filename))return sr.services[svc].filename;return "index.html";}
function openservice(svc,filename1,forcesubmit,noalert){var hash=svc.match(/:(#[^#]+)$/);hash=(hash&&hash[1])||"";svc=svc.replace(/:#[^#]+$/,"");if($("#accept-cookies").length>0)q_acceptCookies(true);var spaceidRe=new RegExp("^[0-9a-fA-F-]+$");if((spaceidRe).test(svc)){if(!q_spacefromid(svc).spacexml){var fsm_waitId=q_fsm_wait();var sxppty="otherspaceright?id="+svc;return q_ajaxgetppty(sxppty,function(){q_fsm_deleteById(fsm_waitId);openservice(svc+"/"+q_homesvcid(q_spacefromid(svc).spacexml),filename1,forcesubmit,noalert);});}else return openservice(svc+"/"+q_homesvcid(q_spacefromid(svc).spacexml),filename1,forcesubmit,noalert);}
var popupRe=new RegExp("^popup:");var wantPopup=(popupRe).test(svc);var xsvc=svc.replace(popupRe,"");var splittedsvc=xsvc.split("/");if(splittedsvc.length>1&&!q_spacefromid(splittedsvc[0]).spacexml){var sxppty="otherspaceright?id="+splittedsvc[0];return q_ajaxgetppty(sxppty,function(){openservice(svc,filename1,true,noalert);});}
if(window.q_checkaccesstosvc&&!q_checkaccesstosvc(xsvc)){if(splittedsvc.length>1&&q_svcisweb(xsvc)){var url="http://"+((window.clubhost)?clubhost:(window.location.host+"/"+window.clubprivatedomain))+"/"+q_svcfromid(xsvc).weblink;return q_confirm(common_message["svcaccessdeniedbutweb"].replace(/%s/g,url),{callback:function(){window.open(url);},buttons:[{},{label:common_message["svcaccessdeniedbutweb_visitbtn"]}]});}
if(!noalert)q_alert(common_message["svcaccessdenied"]);return;}
var svcitem=q_svcfromid(xsvc);if(svcitem&&svcitem.status=="duplicating")return q_alert(common_message["importInProgress"]);if(userstaysineditmode())return false;if(!wantPopup&&!forcesubmit&&!q_readytosubmit(false)){queuedData.push(function(){openservice(svc,filename1,true);});return false;}
var filename=(filename1==undefined)?servicefilename(xsvc):filename1;if(!wantPopup&&/called@/.test(filename))return opencalledservice(svc,filename);function getthenset(json){var saved={};for(var k in json){saved[k]=document.mainform[k].value;document.mainform[k].value=json[k];}
return saved;}
var o={callerservice:document.mainform.service.value,callerfilename:document.mainform.filename.value,mission:"openservicepage",filename:filename};if(splittedsvc.length>1){o.service=splittedsvc[1].replace(/@intl/,"@"+q_lang);o.q_space=splittedsvc[0];}else o.service=xsvc.replace(/@intl/,"@"+q_lang);var savedMainform=getthenset(o);if(wantPopup||quomodo.page.isPopup){$.extend(savedMainform,getthenset({pagemode:"view"}));var src="/cgi-bin/cgismile?"+requiredhiddendata(["callerservice","callerfilename","pagemode"]);getthenset(savedMainform);if(wantPopup)quomodo.fsm.popup(src);else quomodo.page.href(src);return false;}
if(q_getuserlevel(memberid)!="admin"){if(!(/#artemapage@/).test(xsvc))document.mainform.pagemode.value="edit";else document.mainform.pagemode.value=q_pagemode(true);}
if(q_pagemode()=="edit")q_fsm_wait();q_submit(forcesubmit);return false;}
function opencalledservice(svc,filename1,calledspace){if(userstaysineditmode())return false;if(!q_readytosubmit(false))return false;var filename=(filename1===undefined)?servicefilename(svc):filename1;filename=filename.replace(/called@/,"");if(!(/\//).test(document.mainform.callerservice.value)){document.mainform.callerservice.value="";document.mainform.callerfilename.value="";}
if(calledspace&&calledspace!=document.mainform.q_space.value)document.mainform.calledspace.value=calledspace;document.mainform.mission.value="openservicepage";document.mainform.calledservice.value=svc.replace(/@intl/,"@"+q_lang);document.mainform.calledfilename.value=filename;q_submit();return false;}
function opensubscribe(sharing1){if(userstaysineditmode())return false;var sharing=sharing1===undefined?true:sharing1;document.mainform.mission.value="openservicepage";if(document.mainform.canuserid)document.mainform.canuserid.parentNode.removeChild(document.mainform.canuserid);document.mainform.calledfilename.value=(sharing)?"index.html":"subscribe.html";document.mainform.calledservice.value="subscribe@"+q_lang;q_submit();return false;}
function openadminspace(){if(userstaysineditmode())return false;document.mainform.mission.value="openservicepage";if(document.mainform.canuserid)document.mainform.canuserid.parentNode.removeChild(document.mainform.canuserid);document.mainform.calledfilename.value="adminspace.html";document.mainform.calledservice.value="subscribe@"+q_lang;q_submit();return false;}
function createnewspace(){if(userstaysineditmode())return false;document.mainform.mission.value="openservicepage";if(document.mainform.canuserid)document.mainform.canuserid.parentNode.removeChild(document.mainform.canuserid);document.mainform.calledfilename.value="newspace.html";document.mainform.calledservice.value="subscribe@"+q_lang;q_submit();return false;}
function defaultpagename(servicename){var d=new Date();return(servicename+" "+d.getDate()+"/"+(1+d.getMonth())+"/"+(''+d.getFullYear()).substring(2));}
function checknewpageservice(serviceid,behavior,family,servicename){var right=q_spacebundle();var maxpages=rights_record["spaceright"][right]["maxpages"];var currpages=0;var isinteractive=(behavior=="interactive");if(isinteractive){var maxboards=rights_record["spaceright"][right]["maxboards"];var currboards=0;}
for(var svc in rights_record["currspaceservices"]){if(rights_record["currspaceservices"][svc]["family"]=="pages"){currpages++;if((isinteractive)&&(rights_record["currspaceservices"][svc]["pagebehavior"]=="interactive"))currboards++;}}
return(family=="sad")||((currpages<maxpages)&&((!isinteractive)||(currboards<maxboards)));}
function createnewpageservice_callback(r){if(r.newpageerror){alert(common_message["not enough rights"].replace(/%s/,r.servicename));return;}
openservice(r.newserviceid,r.filename);}
function createnewpageservice(svcref,message,defaultanswer,callback){return xcreatenewpageservice(svcref,message,defaultanswer,{},callback);}
function xcreatenewpageservice(svcref,message,defaultanswer,ajaxparams,callback){qprompt_newpage(message,defaultanswer,"xcreatenewpageservice_promptdone",[svcref,ajaxparams,callback]);return false;if(newname==null)return false;var oldname,taken;for(;;){taken=false;for(var svc in rights_record["currspaceservices"]){if(rights_record["currspaceservices"][svc]["shortname"]==newname){taken=true;break;}}
if(!taken)break;oldname=newname;newname=prompt(common_message["taken"].replace(/%s/,newname),newname);if(newname==null)return false;if(newname==oldname)break;}
document.mainform.mission.value="newpage";if(!window.tabsdict)tabsdict={"homepage@intl":"home","#schooltt@intl":"tt","#pm@intl":"pm","#artemadisq@intl":"disq"};var serviceid=((typeof svcref=="string")?svcref:svcref.svcid).split("/");var r=(ajaxparams)?ajaxparams:{};r.pagekind=serviceid[0];r.pagekindcode=tabsdict[serviceid[0].replace(/@.*$/,"@intl")];r.pagename=newname;if(serviceid[1])r.pagefile=serviceid[1];if((typeof svcref!="string")&&(svcref.groupname))r.groupname=svcref.groupname;q_ajaxsubmit(r,(callback)?callback:createnewpageservice_callback);return false;}
function xcreatenewpageservice_promptdone(newname,svcref,ajaxparams,callback){document.mainform.mission.value="newpage";if(!window.tabsdict)tabsdict={"homepage@intl":"home","#schooltt@intl":"tt","#pm@intl":"pm","#artemadisq@intl":"disq","#artemapage@intl":"pages"};var serviceid=((typeof svcref=="string")?svcref:svcref.svcid).split("/");var r=(ajaxparams)?ajaxparams:{};r.pagekind=serviceid[0];r.pagekindcode=tabsdict[serviceid[0].replace(/@.*$/,"@intl")];r.pagename=newname;if(serviceid[1])r.pagefile=serviceid[1];if((typeof svcref!="string")&&(svcref.groupname))r.groupname=svcref.groupname;q_ajaxsubmit(r,(callback)?callback:createnewpageservice_callback);}
function qprompt_newpage(message,defaultanswer,callback,params){qprompt(message,"qprompt_newpage_done",{"default":defaultanswer,"args":[false,callback,params],"emptyvalue":false,"maxlength":"120"});}
function qprompt_newpage_done(newname,oldname,callback,params){if(newname==null)return false;if(oldname!=newname){var taken=false;for(var svc in rights_record["currspaceservices"]){if(rights_record["currspaceservices"][svc]["shortname"]==newname){taken=true;break;}}
if(taken){qprompt(common_message["taken"].replace(/%s/,newname),"qprompt_newpage_done",{"default":newname,"args":[newname,callback,params],"emptyvalue":false});return;}}
eval(callback).apply(this,(params)?[newname].concat(params):[newname]);}
function logouthref(){if(!ge("logout_elem"))return;var sites="club-quomodo.com, club-quomodo.fr, club.quomodo.com, club2.quomodo.com, club1.quomodo.com, clubquomodo.com, clubquomodo.fr, fffootball.fr, ffrugby.fr, quomodo-club.com, quomodo-club.fr, quomodoclub.com, quomodoclub.fr, sites.quomodo.com, localhost".split(", ");var host=location.hostname.replace(/^www\./,"");if(indexOfItem(host,sites)!=-1)ge("logout_elem").href=window.q_logouturl||"/";else if(window.q_logouturl&&host=="quomodo.com")ge("logout_elem").href="http://sites.quomodo.com"+window.q_logouturl;else if(window.q_logouturl&&host=="beta2.quomodo.com")ge("logout_elem").href="http://club2.quomodo.com"+window.q_logouturl;else ge("logout_elem").href="http://"+location.hostname;}
function logout(target){if(userstaysineditmode())return false;document.mainform.mission.value='logout';if(target)return q_ajaxsubmitwithservice("common@"+q_lang,{},logout_done,[target]);q_ready=true;q_submit();return false;}
function logout_done(x,target){if(quomodo.node){if(spacexml.shop)window.location.href="https://www.quomodo.com/creer-un-site-internet/sans-pub/boutique-en-ligne.html";else window.location.href="https://www.quomodo.com/creer-un-site-internet/sans-pub/site-vitrine-professionnel.html";}else{window.location.href=q_httpsiteurl();}}
function selectlanguage(lang){setcookie('lang',lang,365);if(document.mainform.sessionid.value=="")return true;document.mainform.mission.value="openservicepage";document.mainform.service.value=document.mainform.service.value.split("@")[0]+"@"+lang;q_submit();return false;}
function q_getuploadid(file){if(!file)return;if(file.newuploadid)return file.newuploadid;else if(file.uploadid)return file.uploadid;else if(file.id)return file.id;else if(file.filename)return file.filename.replace(/^uploads(\/[^\/]+)?\/([0-9]+)\/.+$/,"$2");else return "";}
function q_smartbytes(n,s){if(n<100)return(""+(Math.round(10*n)/10)).replace(/\.0/,"").replace(/\./,common_message["decsep"])+common_message[s];return ""+Math.round(n)+common_message[s];}
function q_smart_filesize(k){if(k<1024)return(""+k+common_message["bytesondisk"]);k/=1024;if(k<1024)return q_smartbytes(k,"kbondisk");k/=1024;if(k<1024)return q_smartbytes(k,"mbondisk");return q_smartbytes(k/1024,"gbondisk");}
function getmaxmb(){try{return q_spaceparam("maxmb");}
catch(err){return 1;}}
function switch_tab(tabscontainer,x,anim){var tabref=/([^ ]+)_title_(mouseover|open|closed)/.exec(x.className)[1];var tabcontent=gebcn(x.parentNode,tabref+"_content");if(/_open/.test(x.className)){tabcontent.style.display="none";x.className=x.className.replace(/_open/,"_closed");q_innerHTML(gebcn(x,"arrow"),"►");unselect();return;}
function dounrolldiv(x,h){var div=ge(x);var currh=parseInt(div.style.height);if(currh<h){div.style.height=currh+25+"px";setTimeout(function(){dounrolldiv(x,h);},5);}else{div.style.height="";div.id="";}}
var tabs=getElementsByClassName(ge(tabscontainer),tabref+"_content");for(var i=0;i<tabs.length;i++){if(tabs[i]==tabcontent){x.className=x.className.replace(/_(mouseover|closed|open)/,"_open");q_innerHTML(gebcn(x,"arrow"),"▼");tabcontent.style.display="block";if((anim)&&(anim==true)){var h=tabcontent.offsetHeight+15;tabcontent.style.height="0px";tabcontent.id="unrolltempid";dounrolldiv("unrolltempid",h);}}else{tabs[i].style.display="none";var tabtitle=gebcn(tabs[i].parentNode,tabref+"_title_open");if(tabtitle){tabtitle.className=tabtitle.className.replace(/_(mouseover|closed|open)/,"_closed");q_innerHTML(gebcn(tabtitle,"arrow"),"►");}}}
unselect();if(window.qsn_currstate=="edit")qsn_initdisplaysetting();}
function unselect(){try{if(document.execCommand)document.execCommand("Unselect",false,null);}catch(err){};return false;}
function q_checkimgextensionfile(x){if(typeof x=='string')x=getelement(x);var t=x.value.split(".");if(t.length==1)return true;var theexts=["png","gif","jpg","jpeg","ico","PNG","GIF","JPG","JPEG","ICO","tiff","TIFF","bmp","BMP"];return(indexOfItem(t[t.length-1],theexts)!=-1);}
function q_changebackground(oldbg,newbg){var divs=getElementsByClassName(document.body,oldbg);var re=new RegExp("\\b"+oldbg+"\\b");for(var i=0;i<divs.length;i++)divs[i].className=divs[i].className.replace(re,newbg);}
function clearsel(){var sel;if(document.selection&&document.selection.empty){document.selection.empty();}
else if(window.getSelection){sel=window.getSelection();if(sel&&sel.removeAllRanges)sel.removeAllRanges();else unselect();}}
var q_mbchangedhandlers=[];function q_addmbchangedhandler(h){if(indexOfItem(h,q_mbchangedhandlers)==-1)q_mbchangedhandlers.push(h);}
function q_mbchangedall(){for(var i=0;i<q_mbchangedhandlers.length;i++){try{eval(q_mbchangedhandlers[i]).apply(this,[]);}catch(err){}}}
function q_fname(f){if(!f)return "";var fname=f.toString().split("\n");return fname[0].replace(/function ([^ ^(]+).*/,"$1");}
function qsn_suppressnotecontaining(s){var divs=getElementsByClassName(document.body,"container");for(var i=0;i<divs.length;i++){var div=divs[i];if((new RegExp(s)).test(div.innerHTML)){if(confirm("Found \""+s+"\" in note "+i+" out of "+divs.length+". Delete?"))qsn_suppressnote(div);}}}
function q_setclass(theclass,elem,wantset){if(elem.splice){for(var i=0;i<elem.length;i++)q_setclass(theclass,elem[i],wantset);return;}
var cl=elem.className;var re=new RegExp("\\b"+theclass+"\\b");var reg=new RegExp("\\b"+theclass+"\\b","g");var clset=re.test(cl);if((wantset)&&(!clset))elem.className=cl+' '+theclass;if((!wantset)&&(clset))elem.className=cl.replace(reg,"").replace(/ +/g," ");}
function qa_elems(x){if(typeof x=="string")return[q_elems[x]];var y=[];for(var i=0;i<x.length;i++)y.push(q_elems[x[i]]);return y;}
if(window.q_lang)q_elems["qprompt"]={id:"qprompt_elem",urls:["/services/qorg/scripts/qprompt_msgs_"+q_lang+".js","/services/qorg/scripts/qprompt.js","/services/qorg/style/qprompt.css","/services/qorg/qprompt_"+q_lang+".html"],dynh:"qprompt_dynload"};function qprompt(s,callback,params){var thedata={"callback":callback,"title":"","prompt":""};if(typeof s=="string")thedata.prompt=s;else{if(s.length==1)thedata.prompt=s[0];else{thedata.title=s[0];thedata.prompt=s[1];}}
q_cloneObject(params,thedata);var qorgdir="/services/qorg/";q_include(q_elems["qprompt"],"qprompt_reveal",[thedata]);}
function isiniframe(){return(parent.window!=window);}
function iframeinparent(){var parentframes=parent.document.getElementsByTagName("IFRAME");for(var j=0;j<parentframes.length;j++){if((parentframes[j].contentWindow==window))return parentframes[j];}
return null;}
function arraySortByText(list,key){list.sort(function(a,b){var va=latinize((key)?a[key]:a).toLowerCase();var vb=latinize((key)?b[key]:b).toLowerCase();if(va==vb)return 0;if(va>vb)return 1;return-1;});return list;}
function latinize(s){var latin_map={'Á':'A','Ă':'A','Ắ':'A','Ặ':'A','Ằ':'A','Ẳ':'A','Ẵ':'A','Ǎ':'A','Â':'A','Ấ':'A','Ậ':'A','Ầ':'A','Ẩ':'A','Ẫ':'A','Ä':'A','Ǟ':'A','Ȧ':'A','Ǡ':'A','Ạ':'A','Ȁ':'A','À':'A','Ả':'A','Ȃ':'A','Ā':'A','Ą':'A','Å':'A','Ǻ':'A','Ḁ':'A','Ⱥ':'A','Ã':'A','Ꜳ':'AA','Æ':'AE','Ǽ':'AE','Ǣ':'AE','Ꜵ':'AO','Ꜷ':'AU','Ꜹ':'AV','Ꜻ':'AV','Ꜽ':'AY','Ḃ':'B','Ḅ':'B','Ɓ':'B','Ḇ':'B','Ƀ':'B','Ƃ':'B','Ć':'C','Č':'C','Ç':'C','Ḉ':'C','Ĉ':'C','Ċ':'C','Ƈ':'C','Ȼ':'C','Ď':'D','Ḑ':'D','Ḓ':'D','Ḋ':'D','Ḍ':'D','Ɗ':'D','Ḏ':'D','ǲ':'D','ǅ':'D','Đ':'D','Ƌ':'D','Ǳ':'DZ','Ǆ':'DZ','É':'E','Ĕ':'E','Ě':'E','Ȩ':'E','Ḝ':'E','Ê':'E','Ế':'E','Ệ':'E','Ề':'E','Ể':'E','Ễ':'E','Ḙ':'E','Ë':'E','Ė':'E','Ẹ':'E','Ȅ':'E','È':'E','Ẻ':'E','Ȇ':'E','Ē':'E','Ḗ':'E','Ḕ':'E','Ę':'E','Ɇ':'E','Ẽ':'E','Ḛ':'E','Ꝫ':'ET','Ḟ':'F','Ƒ':'F','Ǵ':'G','Ğ':'G','Ǧ':'G','Ģ':'G','Ĝ':'G','Ġ':'G','Ɠ':'G','Ḡ':'G','Ǥ':'G','Ḫ':'H','Ȟ':'H','Ḩ':'H','Ĥ':'H','Ⱨ':'H','Ḧ':'H','Ḣ':'H','Ḥ':'H','Ħ':'H','Í':'I','Ĭ':'I','Ǐ':'I','Î':'I','Ï':'I','Ḯ':'I','İ':'I','Ị':'I','Ȉ':'I','Ì':'I','Ỉ':'I','Ȋ':'I','Ī':'I','Į':'I','Ɨ':'I','Ĩ':'I','Ḭ':'I','Ꝺ':'D','Ꝼ':'F','Ᵹ':'G','Ꞃ':'R','Ꞅ':'S','Ꞇ':'T','Ꝭ':'IS','Ĵ':'J','Ɉ':'J','Ḱ':'K','Ǩ':'K','Ķ':'K','Ⱪ':'K','Ꝃ':'K','Ḳ':'K','Ƙ':'K','Ḵ':'K','Ꝁ':'K','Ꝅ':'K','Ĺ':'L','Ƚ':'L','Ľ':'L','Ļ':'L','Ḽ':'L','Ḷ':'L','Ḹ':'L','Ⱡ':'L','Ꝉ':'L','Ḻ':'L','Ŀ':'L','Ɫ':'L','ǈ':'L','Ł':'L','Ǉ':'LJ','Ḿ':'M','Ṁ':'M','Ṃ':'M','Ɱ':'M','Ń':'N','Ň':'N','Ņ':'N','Ṋ':'N','Ṅ':'N','Ṇ':'N','Ǹ':'N','Ɲ':'N','Ṉ':'N','Ƞ':'N','ǋ':'N','Ñ':'N','Ǌ':'NJ','Ó':'O','Ŏ':'O','Ǒ':'O','Ô':'O','Ố':'O','Ộ':'O','Ồ':'O','Ổ':'O','Ỗ':'O','Ö':'O','Ȫ':'O','Ȯ':'O','Ȱ':'O','Ọ':'O','Ő':'O','Ȍ':'O','Ò':'O','Ỏ':'O','Ơ':'O','Ớ':'O','Ợ':'O','Ờ':'O','Ở':'O','Ỡ':'O','Ȏ':'O','Ꝋ':'O','Ꝍ':'O','Ō':'O','Ṓ':'O','Ṑ':'O','Ɵ':'O','Ǫ':'O','Ǭ':'O','Ø':'O','Ǿ':'O','Õ':'O','Ṍ':'O','Ṏ':'O','Ȭ':'O','Ƣ':'OI','Ꝏ':'OO','Ɛ':'E','Ɔ':'O','Ȣ':'OU','Ṕ':'P','Ṗ':'P','Ꝓ':'P','Ƥ':'P','Ꝕ':'P','Ᵽ':'P','Ꝑ':'P','Ꝙ':'Q','Ꝗ':'Q','Ŕ':'R','Ř':'R','Ŗ':'R','Ṙ':'R','Ṛ':'R','Ṝ':'R','Ȑ':'R','Ȓ':'R','Ṟ':'R','Ɍ':'R','Ɽ':'R','Ꜿ':'C','Ǝ':'E','Ś':'S','Ṥ':'S','Š':'S','Ṧ':'S','Ş':'S','Ŝ':'S','Ș':'S','Ṡ':'S','Ṣ':'S','Ṩ':'S','ẞ':'SS','Ť':'T','Ţ':'T','Ṱ':'T','Ț':'T','Ⱦ':'T','Ṫ':'T','Ṭ':'T','Ƭ':'T','Ṯ':'T','Ʈ':'T','Ŧ':'T','Ɐ':'A','Ꞁ':'L','Ɯ':'M','Ʌ':'V','Ꜩ':'TZ','Ú':'U','Ŭ':'U','Ǔ':'U','Û':'U','Ṷ':'U','Ü':'U','Ǘ':'U','Ǚ':'U','Ǜ':'U','Ǖ':'U','Ṳ':'U','Ụ':'U','Ű':'U','Ȕ':'U','Ù':'U','Ủ':'U','Ư':'U','Ứ':'U','Ự':'U','Ừ':'U','Ử':'U','Ữ':'U','Ȗ':'U','Ū':'U','Ṻ':'U','Ų':'U','Ů':'U','Ũ':'U','Ṹ':'U','Ṵ':'U','Ꝟ':'V','Ṿ':'V','Ʋ':'V','Ṽ':'V','Ꝡ':'VY','Ẃ':'W','Ŵ':'W','Ẅ':'W','Ẇ':'W','Ẉ':'W','Ẁ':'W','Ⱳ':'W','Ẍ':'X','Ẋ':'X','Ý':'Y','Ŷ':'Y','Ÿ':'Y','Ẏ':'Y','Ỵ':'Y','Ỳ':'Y','Ƴ':'Y','Ỷ':'Y','Ỿ':'Y','Ȳ':'Y','Ɏ':'Y','Ỹ':'Y','Ź':'Z','Ž':'Z','Ẑ':'Z','Ⱬ':'Z','Ż':'Z','Ẓ':'Z','Ȥ':'Z','Ẕ':'Z','Ƶ':'Z','Ĳ':'IJ','Œ':'OE','ᴀ':'A','ᴁ':'AE','ʙ':'B','ᴃ':'B','ᴄ':'C','ᴅ':'D','ᴇ':'E','ꜰ':'F','ɢ':'G','ʛ':'G','ʜ':'H','ɪ':'I','ʁ':'R','ᴊ':'J','ᴋ':'K','ʟ':'L','ᴌ':'L','ᴍ':'M','ɴ':'N','ᴏ':'O','ɶ':'OE','ᴐ':'O','ᴕ':'OU','ᴘ':'P','ʀ':'R','ᴎ':'N','ᴙ':'R','ꜱ':'S','ᴛ':'T','ⱻ':'E','ᴚ':'R','ᴜ':'U','ᴠ':'V','ᴡ':'W','ʏ':'Y','ᴢ':'Z','á':'a','ă':'a','ắ':'a','ặ':'a','ằ':'a','ẳ':'a','ẵ':'a','ǎ':'a','â':'a','ấ':'a','ậ':'a','ầ':'a','ẩ':'a','ẫ':'a','ä':'a','ǟ':'a','ȧ':'a','ǡ':'a','ạ':'a','ȁ':'a','à':'a','ả':'a','ȃ':'a','ā':'a','ą':'a','ᶏ':'a','ẚ':'a','å':'a','ǻ':'a','ḁ':'a','ⱥ':'a','ã':'a','ꜳ':'aa','æ':'ae','ǽ':'ae','ǣ':'ae','ꜵ':'ao','ꜷ':'au','ꜹ':'av','ꜻ':'av','ꜽ':'ay','ḃ':'b','ḅ':'b','ɓ':'b','ḇ':'b','ᵬ':'b','ᶀ':'b','ƀ':'b','ƃ':'b','ɵ':'o','ć':'c','č':'c','ç':'c','ḉ':'c','ĉ':'c','ɕ':'c','ċ':'c','ƈ':'c','ȼ':'c','ď':'d','ḑ':'d','ḓ':'d','ȡ':'d','ḋ':'d','ḍ':'d','ɗ':'d','ᶑ':'d','ḏ':'d','ᵭ':'d','ᶁ':'d','đ':'d','ɖ':'d','ƌ':'d','ı':'i','ȷ':'j','ɟ':'j','ʄ':'j','ǳ':'dz','ǆ':'dz','é':'e','ĕ':'e','ě':'e','ȩ':'e','ḝ':'e','ê':'e','ế':'e','ệ':'e','ề':'e','ể':'e','ễ':'e','ḙ':'e','ë':'e','ė':'e','ẹ':'e','ȅ':'e','è':'e','ẻ':'e','ȇ':'e','ē':'e','ḗ':'e','ḕ':'e','ⱸ':'e','ę':'e','ᶒ':'e','ɇ':'e','ẽ':'e','ḛ':'e','ꝫ':'et','ḟ':'f','ƒ':'f','ᵮ':'f','ᶂ':'f','ǵ':'g','ğ':'g','ǧ':'g','ģ':'g','ĝ':'g','ġ':'g','ɠ':'g','ḡ':'g','ᶃ':'g','ǥ':'g','ḫ':'h','ȟ':'h','ḩ':'h','ĥ':'h','ⱨ':'h','ḧ':'h','ḣ':'h','ḥ':'h','ɦ':'h','ẖ':'h','ħ':'h','ƕ':'hv','í':'i','ĭ':'i','ǐ':'i','î':'i','ï':'i','ḯ':'i','ị':'i','ȉ':'i','ì':'i','ỉ':'i','ȋ':'i','ī':'i','į':'i','ᶖ':'i','ɨ':'i','ĩ':'i','ḭ':'i','ꝺ':'d','ꝼ':'f','ᵹ':'g','ꞃ':'r','ꞅ':'s','ꞇ':'t','ꝭ':'is','ǰ':'j','ĵ':'j','ʝ':'j','ɉ':'j','ḱ':'k','ǩ':'k','ķ':'k','ⱪ':'k','ꝃ':'k','ḳ':'k','ƙ':'k','ḵ':'k','ᶄ':'k','ꝁ':'k','ꝅ':'k','ĺ':'l','ƚ':'l','ɬ':'l','ľ':'l','ļ':'l','ḽ':'l','ȴ':'l','ḷ':'l','ḹ':'l','ⱡ':'l','ꝉ':'l','ḻ':'l','ŀ':'l','ɫ':'l','ᶅ':'l','ɭ':'l','ł':'l','ǉ':'lj','ſ':'s','ẜ':'s','ẛ':'s','ẝ':'s','ḿ':'m','ṁ':'m','ṃ':'m','ɱ':'m','ᵯ':'m','ᶆ':'m','ń':'n','ň':'n','ņ':'n','ṋ':'n','ȵ':'n','ṅ':'n','ṇ':'n','ǹ':'n','ɲ':'n','ṉ':'n','ƞ':'n','ᵰ':'n','ᶇ':'n','ɳ':'n','ñ':'n','ǌ':'nj','ó':'o','ŏ':'o','ǒ':'o','ô':'o','ố':'o','ộ':'o','ồ':'o','ổ':'o','ỗ':'o','ö':'o','ȫ':'o','ȯ':'o','ȱ':'o','ọ':'o','ő':'o','ȍ':'o','ò':'o','ỏ':'o','ơ':'o','ớ':'o','ợ':'o','ờ':'o','ở':'o','ỡ':'o','ȏ':'o','ꝋ':'o','ꝍ':'o','ⱺ':'o','ō':'o','ṓ':'o','ṑ':'o','ǫ':'o','ǭ':'o','ø':'o','ǿ':'o','õ':'o','ṍ':'o','ṏ':'o','ȭ':'o','ƣ':'oi','ꝏ':'oo','ɛ':'e','ᶓ':'e','ɔ':'o','ᶗ':'o','ȣ':'ou','ṕ':'p','ṗ':'p','ꝓ':'p','ƥ':'p','ᵱ':'p','ᶈ':'p','ꝕ':'p','ᵽ':'p','ꝑ':'p','ꝙ':'q','ʠ':'q','ɋ':'q','ꝗ':'q','ŕ':'r','ř':'r','ŗ':'r','ṙ':'r','ṛ':'r','ṝ':'r','ȑ':'r','ɾ':'r','ᵳ':'r','ȓ':'r','ṟ':'r','ɼ':'r','ᵲ':'r','ᶉ':'r','ɍ':'r','ɽ':'r','ↄ':'c','ꜿ':'c','ɘ':'e','ɿ':'r','ś':'s','ṥ':'s','š':'s','ṧ':'s','ş':'s','ŝ':'s','ș':'s','ṡ':'s','ṣ':'s','ṩ':'s','ʂ':'s','ᵴ':'s','ᶊ':'s','ȿ':'s','ß':'ss','ɡ':'g','ᴑ':'o','ᴓ':'o','ᴝ':'u','ť':'t','ţ':'t','ṱ':'t','ț':'t','ȶ':'t','ẗ':'t','ⱦ':'t','ṫ':'t','ṭ':'t','ƭ':'t','ṯ':'t','ᵵ':'t','ƫ':'t','ʈ':'t','ŧ':'t','ᵺ':'th','ɐ':'a','ᴂ':'ae','ǝ':'e','ᵷ':'g','ɥ':'h','ʮ':'h','ʯ':'h','ᴉ':'i','ʞ':'k','ꞁ':'l','ɯ':'m','ɰ':'m','ᴔ':'oe','ɹ':'r','ɻ':'r','ɺ':'r','ⱹ':'r','ʇ':'t','ʌ':'v','ʍ':'w','ʎ':'y','ꜩ':'tz','ú':'u','ŭ':'u','ǔ':'u','û':'u','ṷ':'u','ü':'u','ǘ':'u','ǚ':'u','ǜ':'u','ǖ':'u','ṳ':'u','ụ':'u','ű':'u','ȕ':'u','ù':'u','ủ':'u','ư':'u','ứ':'u','ự':'u','ừ':'u','ử':'u','ữ':'u','ȗ':'u','ū':'u','ṻ':'u','ų':'u','ᶙ':'u','ů':'u','ũ':'u','ṹ':'u','ṵ':'u','ᵫ':'ue','ꝸ':'um','ⱴ':'v','ꝟ':'v','ṿ':'v','ʋ':'v','ᶌ':'v','ⱱ':'v','ṽ':'v','ꝡ':'vy','ẃ':'w','ŵ':'w','ẅ':'w','ẇ':'w','ẉ':'w','ẁ':'w','ⱳ':'w','ẘ':'w','ẍ':'x','ẋ':'x','ᶍ':'x','ý':'y','ŷ':'y','ÿ':'y','ẏ':'y','ỵ':'y','ỳ':'y','ƴ':'y','ỷ':'y','ỿ':'y','ȳ':'y','ẙ':'y','ɏ':'y','ỹ':'y','ź':'z','ž':'z','ẑ':'z','ʑ':'z','ⱬ':'z','ż':'z','ẓ':'z','ȥ':'z','ẕ':'z','ᵶ':'z','ᶎ':'z','ʐ':'z','ƶ':'z','ɀ':'z','ﬀ':'ff','ﬃ':'ffi','ﬄ':'ffl','ﬁ':'fi','ﬂ':'fl','ĳ':'ij','œ':'oe','ﬆ':'st','ₐ':'a','ₑ':'e','ᵢ':'i','ⱼ':'j','ₒ':'o','ᵣ':'r','ᵤ':'u','ᵥ':'v','ₓ':'x'};return s.replace(/[^A-Za-z0-9]/g,function(x){return latin_map[x]||x;});}
function q_printThis(content,bgcolor){if(!bgcolor)bgcolor="white";var html="<html>";html+="<head>";$("link").each(function(){html+="<link type='text/css' rel='stylesheet' href='"+$(this).attr("href")+"' />";});html+='<link type="text/css" charset="UTF-8" rel="stylesheet" href="/styleauto/auto_qorp-2.0.css"> ';html+='<link type="text/css" charset="UTF-8" rel="stylesheet" href="'+q_spaceabsoluteurl(memberid,"/qlub0.css")+'">';html+='<style type="text/css">\n@media print{ .q_printthis_header{ display : none; }\n*{ -webkit-print-color-adjust:exact; } }\n</style>';html+='</head>';html+='<body style="background-color : '+bgcolor+'">';html+='<div class="q_printthis_header" align="center">';html+=common_message["q_printthis_header"];html+='<br/><input type="button" onclick="javascript:window.print();" value="Imprimer"/>';html+='</div>';html+='<div class="q_printthis_div">'+content+'</div>';var newWin=window.open(common_message["q_printthis_title"],'_blank','width=700,height=600,location=no,menubar=no,status=no,toolbar=no,directories=no,scrollbars=yes');newWin.document.open();newWin.document.write(html);newWin.document.writeln("</body></html>");newWin.document.close();}
function q_mailThis(content){var div=$('<div class="q_mailthis_div" align="left"></div>').append('<div align="left">'+common_message["q_mailthis_to"]+'</div>').append('<input type="email" class="q_mailthis_tomail"/><br/><br/>').append('<div align="left">'+common_message["q_mailthis_from"]+'</div>').append('<input type="email" class="q_mailthis_frommail"/><br/><br/>').append('<div align="left">'+common_message["q_mailthis_message"]+'</div>').append('<textarea class="q_mailthis_message"></textarea>');q_fsm_reveal({src:div.get(0),title:common_message["q_mailthis_title"],buttons:[{label:common_message["close"],icon:"adminmenu sprite_cancel_32",onclick:function(){q_fsm_delete();}},{label:common_message["q_mailthis_send"],icon:"adminmenu sprite_diflist_32",onclick:function(){var div=q_fsm_currentblock();var thefrom=$(".q_mailthis_frommail",div).val();if(!validemail(thefrom))return q_alert(common_message["q_mailthis_invalidfrom"]);var theto=$(".q_mailthis_tomail",div).val().split(",");theto=$.map(theto,function(v){if(validemail(v))return v;});if(!theto.length)return q_alert(common_message["q_mailthis_invalidto"]);var thebody="<html><body>";if($.trim($(".q_mailthis_message",div).val()))thebody+=$(".q_mailthis_message",div).val().replace(/\n|\r/g,"<br/>")+"<br/><br/>----<br/>";thebody+=content;thebody+=common_message["q_mailthis_Qsignature"];thebody+="</body></html>";var r={finalizebody:true,frommail:thefrom,objectmail:common_message["q_mailthis_object"],bodymail:thebody,tomail:theto,bccquomodo:false,bccmail:thefrom};var fsm_waitId=q_fsm_wait();document.mainform.mission.value="sendemailtoto";q_ajaxsubmitwithservice("common@"+q_lang,r,function(x){q_fsm_deleteById(fsm_waitId);if(x.mailsent){q_fsm_delete();q_bubble(common_message["q_mailthis_sent"].replace("%nb%",x.mailsent));}else q_alert(common_message["q_mailthis_notsent"]);});}}]});}
function q_insertGA(clientcode){if(!isrealserver())return;var _gaq=_gaq||[];if(!window.pageTracker){_gaq.push(['_setAccount','"UA-5864364-1']);_gaq.push(['_setDomainName','none']);_gaq.push(['_setAllowLinker',true]);_gaq.push(['_trackPageview']);_gaq.push(['_setAccount','"UA-5864364-4']);_gaq.push(['_setDomainName','none']);_gaq.push(['_setAllowLinker',true]);_gaq.push(['_trackPageview']);}
if(clientcode&&!window.pageTracker2){_gaq.push(['client._setAccount',clientcode]);_gaq.push(['client._trackPageview']);}
(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();}
var swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return!a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);var makeweb=q_pagemode()=="makeweb";if(makeweb){Z.setAttribute("classid","clsid:D27CDB6E-AE6D-11cf-96B8-444553540000");var embed=Z.appendChild(C("embed"));}
for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac]);}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac]);if(makeweb&&(ac.toLowerCase()=="width"||ac.toLowerCase()=="height"))embed.setAttribute(ac,ai[ac]);if(makeweb&&ac.toLowerCase()=="data"){e(Z,"Movie",ai[ac]);embed.setAttribute("src",ai[ac]);}}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab]);if(makeweb)embed.setAttribute(ab,ag[ab]);}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){return ge(Z);var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})()}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}};if(window.quomodo){quomodo.extend("sales",function(){var _this=this;this.__summary={};this.__summarymail={};this.__order={};this.__context={"step":0};this.initweb=function(any,preprod){if(!this.__initweb)this.__initweb={};if(any==true)this.__initweb.ready=true;else{this.__initweb.data=any;this.__initweb.loaded=true;}
if(!this.__initweb.ready)return;if(!this.__initweb.loaded)return;q_fsm_deleteById(quomodo.sales._initWeb_fsm_waitId);if(this.__initweb.data=="error"){q_alert("Toutes nos excuses, une erreur est survenue lors de votre paiement.",{},true);return;}
if(this.__initweb.data.response_code=="expired-pending"){q_alert(common_message["sales-expired-pending"],{},true);return;}
if(this.__initweb.data=="preprod"){this.__context.preprod=true;this.order({"items":[{"desc":"Paiement de test pour validation","price":"1","q":1}]},"preprod");return;}
if(preprod)this.__context.preprod=true;if(this.__initweb.data.response_code=="pending")this.__context.pending=true;if(this.__initweb.data.custom_data)this.__custom_data=this.__initweb.data.custom_data;if(this.__initweb.data.id)this.__actid=this.__initweb.data.id;if(this.__initweb.data.response_code=="expired-validity-date")delete this.__actid;this.order(this.__initweb.data.order,this.__initweb.data.response_code=="pending"?null:this.__initweb.data.response_code);};function billingSummaryHTML(billing){var summary='<div><span class="rpd-h5" style="display: inline; ">Facturation</span></div>';summary+='<div style="font-weight: bold">Nom</div><div>'+escapeHTML(billing.firstname)+' '+escapeHTML(billing.name)+'</div>';if(billing.company)summary+='<div style="font-weight: bold">Raison sociale</div><div>'+escapeHTML(billing.company)+'</div>';summary+='<div style="font-weight: bold">Adresse</div><div>'+escapeHTML(billing.address)+'<br/>'+escapeHTML(billing.zip)+' '+escapeHTML(billing.city)+'</div>';summary+='<div style="font-weight: bold">E-mail</div><div>'+escapeHTML(billing.email)+'</div>';return summary;}
function billingSummaryMail(billing){var summary=billing.firstname+' '+billing.name;if(billing.company)summary+='\n'+billing.company;summary+='\n'+billing.address+'\n'+billing.zip+' '+billing.city;summary+='\n'+billing.email;return summary;}
this.prevStep=function(){this.__context.step--;if(this.__context.step==3)this.__context.step=1;if(this.__context.step<0){delete this.__actid;$(".sk-sec[sales-toggled='1']").show().removeAttr("sales-toggled");$(".sk-sec[sales-toggled='0']").hide().removeAttr("sales-toggled");this.__context.targetSection.find(".stuff-content").show();$("#sales_process").remove();$(window).scrollTop(this.__context.scrollTop);}else{$("#sales_process .stepblock").hide();if(this.__context.step==0&&this.__context.pending)$("#sales_process .navigation").hide();$("#sales_process .stepblock.step"+(this.__context.step+1)).show();}};this.nextStep=function(callback){var _this=this;if(this.__context.pending)$("#sales_process .navigation").show();if(this.__context.step==6){delete this.__actid;$(".sk-sec[sales-toggled='1']").show().removeAttr("sales-toggled");this.__context.targetSection.find(".stuff-content").show();$("#sales_process").remove();$(window).scrollTop(this.__context.scrollTop);return;}
if(this.__context.step==1){var bMissing;$("#sales_process .stepblock.step2").find(":input").each(function(){var $this=$(this);var k=$this.attr("id").replace(/^sales-process-/,"");_this.__order.billing[k]=$this.val();if(!_this.__order.billing[k]){bMissing=k;return false;}});if(bMissing){q_alert(common_message["sales-billing-missing-"+bMissing],{},true);$("#sales-process-"+bMissing).focus().select();return;}
if(!validemail(_this.__order.billing["email"],true)){q_alert(common_message["sales-billing-invalid-email"],{},true);$("#sales-process-email").focus().select();return;}
this.__summary.billing=billingSummaryHTML(this.__order.billing);if(!this.__order.mail)this.__order.mail={};this.__order.mail.billing=billingSummaryMail(this.__order.billing);}
if(this.__context.step==4&&!callback){var fsm_waitId=q_fsm_wait();var json={"actid":this.__actid,"order":this.__order,"amount":this.__amount,"context":window.location.href.replace(/\?.*/,"")};if(this.__context.preprod)json.preprod=true;if(this.__custom_data)json.custom_data=this.__custom_data;document.mainform.mission.value="merchant_useract";q_ajaxsubmitwithservice("sales@"+q_lang,json,function(x){_this.__callbackresponse=x;q_fsm_deleteById(fsm_waitId);if(!_this.__actid&&x.actid)_this.__actid=x.actid;if(x.encrypted&&($.inArray(x.encrypted.channel,["m219","m220","sa222","sp23","pbx","fake"])!=-1)){var html=[];html.push('<div style="padding-bottom: 1em"><span class="rpd-h4" style="display: inline; ">Paiement</span></div>');if(x.encrypted.chooseCard){html.push('<div style="padding-top: 2em">Veuillez choisir votre mode de paiement. Vous serez alors redirigé vers la page de paiement sécurisée.</div>');html.push('<div class="payment" style="text-align: center ; padding-top: 2em">');html.push(x.encrypted.chooseCard);html.push('</div>');}else{html.push('<div style="padding-top: 2em">Vous allez être redirigé automatiquement vers la page de paiement sécurisée.<br/>Si ce n\'est pas le cas, cliquez sur le bouton ci-dessous.</div>');html.push('<div class="payment">');html.push('<form name="sales_payform" action="'+x.encrypted.formurl+'"'+(x.encrypted.formmethod?(' method="'+x.encrypted.formmethod+'"'):'')+'>');for(var i=0;i<x.encrypted.form.length;i++){html.push(x.encrypted.form[i]);}
html.push('<div style="text-align: right ; padding-top: 1em"><a class="rpd-button" href="#" onclick="document.sales_payform.submit() ; return false">ACCÉDER AU PAIEMENT</a></div>');html.push('</form>');html.push('</div>');}
$("#sales_process .stepblock.step6").empty().append(html.join(""));var p=q_geturlparams();if(!(p&&p.autosubmit=="0")&&!x.encrypted.chooseCard)_this.__context.autosubmit=document.sales_payform;}else{var html=[];html.push('<div style="padding-bottom: 1em"><span class="rpd-h4" style="display: inline; ">Mode de paiement</span></div>');html.push('<div style="padding-bottom: 2em">Cliquez sur votre mode de paiement :</div>');html.push('<div class="payment"></div>');html.push('<div style="padding-top: 2em">Vous allez être redirigé vers une page de paiement sécurisée.</div>');$("#sales_process .stepblock.step6").empty().append(html.join(""));$("#sales_process .stepblock.step6 .payment").empty().append(x.encrypted||x.errormsg);$("#sales_process .stepblock.step6 .payment form div").eq(0).remove();}
_this.nextStep(true);});return;}
this.__context.step++;if(this.__context.step==2)this.__context.step=4;if(this.__context.step==4){$("#sales_process .stepblock.step5 .billing").empty().append(this.__summary.billing);$("#sales_process .stepblock.step5 .cart").empty().append(this.__summary.cart);if(this.__summary.moreinfo)$("#sales_process .stepblock.step5 .moreinfo").empty().show().append(this.__summary.moreinfo);else $("#sales_process .stepblock.step5 .moreinfo").hide();}
if(this.__context.step==5&&this.__context.autosubmit)this.__context.autosubmit.submit();if(this.__context.step==7)$("#sales_process .navigation").hide();if(this.__context.step==8)$("#sales_process .navigation").hide();$("#sales_process .stepblock").hide();$("#sales_process .stepblock.step"+(this.__context.step+1)).show();$(window).scrollTop(0);};this.order=function(o,initValue){this.__order=o;this.__context.scrollTop=$(window).scrollTop();$(window).scrollTop(0);var targetSection=$(($("#c-0").length>0)?"#p-1":"#p-0");this.__context.targetSection=targetSection;var targetSectionId=targetSection.attr("id");$("#sales_process").remove();var html='<div id="sales_process" style="max-width: 474px ; margin: auto ; position: relative !important" class="note '+qsn_defaultRPD("wsg",targetSectionId,"rpdp-main")+'"><div class="rpd-p1">';var price=0;function itemLine(desc,q,price){return '<div style="font-weight: bold">'+escapeHTML(desc)+'</div><div>quantité : '+q+'</div><div>sous-total : '+(q*parseFloat(price)).toFixed(2)+' €</div>';}
function itemLineSummary(desc,q,price){return '<tr class="item"><td class="desc">'+escapeHTML(desc)+'</td><td class="quantity">'+q+'</td><td class="unit-price">'+parseFloat(price).toFixed(2)+' €</td><td class="price">'+(q*parseFloat(price)).toFixed(2)+' €</td></tr>';}
html+='<div class="navigation"><span class="font-q-i"></span><a onclick="quomodo.sales.prevStep() ; return false ;" target="_self" href="#" class="rpd-link" style="padding-left: 1em">Précédent</a></div>';html+='<div class="stepblock step1">';html+='<div style="padding-bottom: 1em"><span class="rpd-h4" style="display: inline; ">Récapitulatif de votre '+(o.paydate?'pré-commande':'commande')+'</span></div>';var summaryhtml='<div><span class="rpd-h5" style="display: inline; ">Votre panier</span></div>';var summary='<div class="order"><table cellpadding="0" cellspacing="0"><tr class="labels"><td class="desc">Description</td><td class="quantity">Quantité</td><td class="unit-price">P.U</td><td class="price">Total</td></tr>';for(var i=0;i<o.items.length;i++){summaryhtml+=itemLine(o.items[i].desc,o.items[i].q,o.items[i].price);summary+=itemLineSummary(o.items[i].desc,o.items[i].q,o.items[i].price);price+=parseFloat(o.items[i].q)*parseFloat(o.items[i].price);}
var amountFloat=parseFloat(price).toFixed(2);this.__amount=""+Math.round(parseFloat(price)*100);summaryhtml+='<div style="text-align: right ; padding-top: 1em"><span class="rpd-h4" style="font-weight: bold">Total '+amountFloat+' €</span></div>';summary+='<tr class="total"><td></td><td></td><td class="label">Total</td><td class="price">'+amountFloat+' €</td></tr>';summary+='</table></div>';if(o.moreinfo)summary+='<div class="summary">'+o.moreinfo+'</div>';html+=summaryhtml;this.__summary.cart=summaryhtml;if(o.moreinfo_mail){if(!this.__order.mail)this.__order.mail={};this.__order.mail.moreinfo=o.moreinfo_mail;}
html+='<div style="text-align: right ; padding-top: 1em"><a class="rpd-button" href="#" onclick="quomodo.sales.nextStep() ; return false ;" target="_self">VALIDER</a></div>';if(o.moreinfo){var htmlmoreinfo='<hr>';htmlmoreinfo+='<div class="rpd-p2">Rappel de la '+(o.paydate?'pré-commande':'commande')+'</div>';htmlmoreinfo+='<div class="rpd-p3">'+o.moreinfo+'</div>';htmlmoreinfo+='<hr>';this.__summary.moreinfo=htmlmoreinfo;html+=htmlmoreinfo;}
html+='</div>';html+='<div class="stepblock step2">';html+='<div style="padding-bottom: 1em"><span class="rpd-h4" style="display: inline; ">Vos informations de facturation</span></div>';html+='<div class="contact2_form" width="100%" cellspacing="0" cellpadding="0" border="0"><label class="contact2_formelem contact2_v6_formlabel rpd-p1" for="sales-process-name" style="font-weight: bold; ">Nom : </label><div><input type="text" class="contact2_formelem contact2_v6_forminput rpd-p1" id="sales-process-name" cform="1"/></div><label class="contact2_formelem contact2_v6_formlabel rpd-p1" for="sales-process-firstname" style="font-weight: bold; ">Prénom : </label><div><input type="text" class="contact2_formelem contact2_v6_forminput rpd-p1" id="sales-process-firstname" cform="1"/></div>'+(o.billing&&o.billing.company?'<label class="contact2_formelem contact2_v6_formlabel rpd-p1" for="sales-process-company" style="font-weight: bold; ">Raison sociale : </label><div><input type="text" class="contact2_formelem contact2_v6_forminput rpd-p1" id="sales-process-company" cform="1"/></div>':'')+'<label class="contact2_formelem contact2_v6_formlabel rpd-p1" for="sales-process-address" style="font-weight: bold; ">Adresse : </label><div><textarea rows="2" class="contact2_formelem contact2_v6_forminput rpd-p1" id="sales-process-address"/></div><label class="contact2_formelem contact2_v6_formlabel rpd-p1" for="sales-process-zip" style="font-weight: bold; ">Code postal : </label><div><input type="text" class="contact2_formelem contact2_v6_forminput rpd-p1" id="sales-process-zip" cform="1"/></div><label class="contact2_formelem contact2_v6_formlabel rpd-p1" for="sales-process-city" style="font-weight: bold; ">Ville : </label><div><input type="text" class="contact2_formelem contact2_v6_forminput rpd-p1" id="sales-process-city" cform="1"/></div><label class="contact2_formelem contact2_v6_formlabel rpd-p1" for="sales-process-email" style="font-weight: bold; ">Adresse mail : </label><div><input type="text" class="contact2_formelem contact2_v6_forminput rpd-p1" id="sales-process-email" cform="1"/></div></div>';html+='<div style="text-align: right ; padding-top: 1em"><a class="rpd-button" href="#" onclick="quomodo.sales.nextStep() ; return false ;" target="_self">VALIDER</a></div>';html+='</div>';html+='<div class="stepblock step5">';html+='<div style="padding-bottom: 1em"><span class="rpd-h4" style="display: inline; ">Paiement</span></div>';html+='<div class="billing"></div>';html+='<div class="cart" style="padding-top: 1em"></div>';html+='<div style="text-align: right ; padding-top: 1em"><a class="rpd-button" href="#" onclick="quomodo.sales.nextStep() ; return false ;" target="_self">PAYER</a></div>';html+='<div class="moreinfo" style="padding-top: 1em"></div>';html+='</div>';html+='<div class="stepblock step6">';html+='<div style="padding-bottom: 1em"><span class="rpd-h4" style="display: inline; ">Mode de paiement</span></div>';html+='<div style="padding-bottom: 2em">Cliquez sur votre mode de paiement :</div>';html+='<div class="payment"></div>';html+='<div style="padding-top: 2em">Vous allez être redirigé vers une page de paiement sécurisée.</div>';html+='</div>';html+='<div class="stepblock step7">';html+='<div style="padding-bottom: 1em"><span class="rpd-h4" style="display: inline; ">Merci de votre '+(o.paydate?'pré-commande':'commande')+'</span></div>';if(this.__context.preprod)html+='Vous allez recevoir un mail confirmant la réception de votre paiement.';else html+='Vous allez recevoir un mail récapitulatif avec le détail de votre '+(o.paydate?'pré-commande':'commande')+'.';html+='<div class="nextstep"><span class="font-q-i"></span><a onclick="quomodo.sales.nextStep() ; return false ;" target="_self" href="#" class="rpd-link" style="padding-left: 1em">Retour à la page</a></div>';html+='</div>';html+='<div class="stepblock step8">';html+='<div style="padding-bottom: 1em"><span class="rpd-h4" style="display: inline; ">Merci de votre '+(o.paydate?'pré-commande':'commande')+'</span></div>';html+='Lorsque nous aurons la confirmation de votre paiement, vous recevrez un mail récapitulatif avec le détail de votre '+(o.paydate?'pré-commande':'commande')+'.';html+='<div class="nextstep"><span class="font-q-i"></span><a onclick="quomodo.sales.nextStep() ; return false ;" target="_self" href="#" class="rpd-link" style="padding-left: 1em">Retour à la page</a></div>';html+='</div>';html+='</div></div>';$(".sk-sec").each(function(){var id=this.id;var $this=$(this);if(id!=targetSectionId&&!/^(h|f)-/.test(id)&&$this.is(":visible"))$this.hide().attr("sales-toggled","1");if(id==targetSectionId&&!$this.is(":visible"))$this.show().attr("sales-toggled","0");});var tmpContent=targetSection.find(".stuff-content");tmpContent.hide();targetSection.append(html);$("#sales_process").css("padding-top",tmpContent.css("padding-top")).css("padding-bottom",tmpContent.css("padding-bottom"));for(var k in o.billing)$("#sales-process-"+k).val(o.billing[k]);if(window.quomodoclient&&quomodoclient.sales&&quomodoclient.sales.finalizeRender)quomodoclient.sales.finalizeRender();if(initValue&&this.__order.billing){this.__summary.billing=billingSummaryHTML(this.__order.billing);if(!this.__order.mail)this.__order.mail={};this.__order.mail.billing=billingSummaryMail(this.__order.billing);}
var club_url=q_httpsiteurl()+"/";$("#sales_process .stepblock").hide();this.__context.step=0;if(initValue=="00"||initValue=="AUTHORISED"){$("#sales_process .stepblock.step7").show();$("#sales_process .navigation").hide();this.__context.step=6;delete this.__actid;}else if(initValue=="pending-ipn"){$("#sales_process .stepblock.step8").show();$("#sales_process .navigation").hide();this.__context.step=6;delete this.__actid;}else if(initValue){$("#sales_process .stepblock.step5 .billing").empty().append(this.__summary.billing);$("#sales_process .stepblock.step5 .cart").empty().append(this.__summary.cart);if(this.__summary.moreinfo)$("#sales_process .stepblock.step5 .moreinfo").empty().show().append(this.__summary.moreinfo);else $("#sales_process .stepblock.step5 .moreinfo").hide();$("#sales_process .stepblock.step5").show();this.__context.step=4;if(initValue=="expired-validity-date")q_alert(common_message["sales-expired-validity-date"],{},true);}else{if(this.__context.pending)$("#sales_process .navigation").hide();$("#sales_process .stepblock.step1").show();}};});}
if(window.quomodo){quomodo.extend("shop",function(){function addObserver(observer){if(!ec.quomodo)ec.quomodo={};if(!ec.quomodo.observers)ec.quomodo.observers={};var type=(ec.quomodo.page&&ec.quomodo.page.type)||"default";if(!ec.quomodo.observers[type])ec.quomodo.observers[type]=[];ec.quomodo.observers[type].push(observer);}
function cleanObservers(){if(!ec.quomodo||!ec.quomodo.observers)return;var type=(ec.quomodo.page&&ec.quomodo.page.type)||"default";for(var k in ec.quomodo.observers){if(k!=type)continue;for(;ec.quomodo.observers[k].length;){ec.quomodo.observers[k][0].disconnect();ec.quomodo.observers[k].splice(0,1);}}}
function ecwid_request(url,method,json,callback){if(!json)json={};if(!json.token)json.token=tokenID;if(!json.storeId)json.storeId=ecwidID;if(method=="POST-IMAGE"){if(json.contentType=="externalUrl"){json.externalUrl=json.contentData;url+="&externalUrl={externalUrl}";}}
var re=new RegExp("\{([^}]+)\}","g");url=url.replace(re,function(){var v=json[arguments[1]];if(v==undefined)return arguments[0];delete json[arguments[1]];return encodeURIComponent(v);});var contentType,data;if(method=="POST-IMAGE"){contentType=json.contentType;method="POST";if(contentType=="externalUrl"){contentType="application/json; charset=utf-8";data=null;}else{data=json.contentData;processData=false;}}else{contentType="application/json; charset=utf-8";data=JSON.stringify(json);processData=true;}
$.ajax({"url":"https://app.ecwid.com"+url,"type":method,"data":data,"contentType":contentType,"dataType":"json","processData":processData,"async":true,"success":function(data){callback(data);},"error":function(){console.log(url,method,data);}});}
this.__data={};this.activeTab=function(elem,animation){var $elem=$(elem);var $container=$elem.parents(".shop-tabs-container");var currentTab=$container.find(".shop-tab.active").attr("shop-tab-target");$container.find(".shop-tab").removeClass("active").addClass("inactive");$elem.addClass("active").removeClass("inactive");var tabtarget=$elem.attr("shop-tab-target");$container.find(".shop-tab[shop-tab-target='"+tabtarget+"']").addClass("active").removeClass("inactive");if(/^#/.test(tabtarget)){if(animation==true){$(tabtarget+" .stuff-content").css("opacity",0);$(currentTab+" .stuff-content").animate({"opacity":0},function(){$(currentTab).hide();$(tabtarget).show();$(tabtarget+" .stuff-content").animate({"opacity":1});});}else{$container.find(".shop-tab").each(function(){$($(this).attr("shop-tab-target")).hide();});$(tabtarget).show();}}else{var tabindex=parseInt(tabtarget,10)-1;$container.find(".shop-slides-wrapper .shop-slide").hide();$container.find(".shop-slides-wrapper .shop-slide").eq(tabindex).show();}};this.getCategory=function(categoryId,callback){if(!window.ecwidID)return callback(null);var _this=this;if(this.__data.categoryById)return callback(this.__data.categoryById[""+categoryId]);this.getCategories(function(){return callback(_this.__data.categoryById[""+categoryId]);});};this.getProduct=function(productId,callback){if(!window.ecwidID)return callback(null);var _this=this;if(this.__data.productById)return callback(this.__data.productById[""+productId]);this.getProducts(function(){return callback(_this.__data.productById[""+productId]);});};this.getCategories=function(callback,noWait){if(!window.ecwidID)return callback({});var _this=this;if(!this.id)this.id=window.ecwidID;if(this.__data.categories)return callback(this.__data.categories);this.__data.categories=[];this.__data.categoryById={};if(!noWait)var fsm_waitId=q_fsm_wait();function loadCategories(){ecwid_request("/api/v3/{storeId}/categories?token={token}","GET",{"storeId":_this.id,"token":_this.session},function(data){var html=[];if(data&&data.items){for(var i=0;i<data.items.length;i++){_this.__data.categories.push(data.items[i]);_this.__data.categoryById[""+data.items[i].id]=data.items[i];}}
if(!noWait)q_fsm_delete(fsm_waitId);callback(_this.__data.categories);});}
if(!this.session){q_ajaxgetppty("shopSession",function(x){if(!x.shopSession){delete _this.__data.categories;if(!noWait)q_fsm_delete(fsm_waitId);return callback({"error":"shopSession"});}
_this.session=x.shopSession;loadCategories();});return;};loadCategories();};this.getProducts=function(callback,noWait){if(!window.ecwidID)return callback({});var _this=this;if(!this.id)this.id=window.ecwidID;if(this.__data.products)return callback(this.__data.products);this.__data.products=[];this.__data.productById={};if(!noWait)var fsm_waitId=q_fsm_wait();function loadProducts(offset){ecwid_request("/api/v3/{storeId}/products?token={token}&offset={offset}","GET",{"storeId":_this.id,"token":_this.session,"offset":offset},function(data){if(data&&data.items){for(var i=0;i<data.items.length;i++){var product=data.items[i];if(product.defaultCategoryId){product.defaultCategory=_this.__data.categoryById[""+product.defaultCategoryId].name;}else{product.defaultCategory="Sans catégorie";}
_this.__data.products.push(product);_this.__data.productById[""+product.id]=product;}}
if((data.offset+data.count)<data.total){loadProducts(data.offset+data.count);return;}
if(!noWait)q_fsm_delete(fsm_waitId);callback(_this.__data.products);});}
this.getCategories(function(){loadProducts(0);},fsm_waitId||noWait);};this.chooseCategory=function(callback,options){this.getCategories(function(categories){var res=[];for(var i=0;i<categories.length;i++){var category=categories[i];res.push({"id":""+category.id,"name":category.name,"type":"shopitem"});}
if(res.length==0&&options&&options.emptyHTML){q_alert(options.emptyHTML,{},true);return;}
var path="/services/dialogs/q_select-flatdesign/index_"+q_lang+".html";var json={"json":{"addClass":options&&options.addClass,"desc":{"promptHTML":options&&options.promptHTML,"multiple":"false","noempty":true,"onValidate":function(){console.log("onValidate");}},"params":{"core":{"multiple":false,"data":qlub_tree_newitem("sitemap",res,options&&options.selected,{"singleSelection":true}),"animation":250},"plugins":["types","sort"],"checkbox":{three_state:false},"types":{"#":{"max_depth":-1,"max_children":-1,"valid_children":["folder","menu"]},"folder":{"valid_children":"none"},"menu":{"valid_children":"folder"}}},"type":"jstree","onselectnode":function(e,data){if(data.node.type=="menu"){data.instance.toggle_node(data.node);data.instance.deselect_node(data.node);}}},"callback":function(x){callback(x);}};quomodo.fsm.loadDialog(path,json);});};this.chooseProduct=function(callback,options){var _this=this;this.getCategories(function(categories){_this.getProducts(function(products){var res=[];var res_nocategory=[];var tmp={};for(var i=0;i<products.length;i++){var product=products[i];if(product.categoryIds.length==0){res_nocategory.push({"id":""+product.id,"name":product.name,"type":"shopitem"});}
for(var j=0;j<product.categoryIds.length;j++){var categoryId=""+product.categoryIds[j];if(tmp[categoryId]==undefined){if(_this.__data.categoryById[product.categoryIds[j]]){tmp[categoryId]=res.length;res.push({"id":categoryId,"name":_this.__data.categoryById[product.categoryIds[j]].name,"type":"menu","items":[]});}else{tmp[categoryId]=-1;}}
if(tmp[categoryId]!=-1)res[tmp[categoryId]].items.push({"id":""+product.id,"name":product.name,"type":"shopitem"});}}
res=res.concat(res_nocategory);if(res.length==0&&options&&options.emptyHTML){q_alert(options.emptyHTML,{},true);return;}
var path="/services/dialogs/q_select-flatdesign/index_"+q_lang+".html";var json={"json":{"addClass":options&&options.addClass,"desc":{"promptHTML":options&&options.promptHTML,"multiple":"false","noempty":true,"onValidate":function(){console.log("onValidate");}},"params":{"core":{"multiple":false,"data":qlub_tree_newitem("sitemap",res,options&&options.selected,{"singleSelection":true}),"animation":250},"plugins":["types","sort"],"checkbox":{three_state:false},"types":{"#":{"max_depth":-1,"max_children":-1,"valid_children":["folder","menu"]},"folder":{"valid_children":"none"},"menu":{"valid_children":"folder"}}},"type":"jstree","onselectnode":function(e,data){if(data.node.type=="menu"){data.instance.toggle_node(data.node);data.instance.deselect_node(data.node);}}},"callback":function(x){callback(x);}};quomodo.fsm.loadDialog(path,json);});});};this.openBackOffice=function(what,checked){if(!checked&&quomodo.node&&!quomodo.node.shopOpenBackOffice(what))return false;window.open("/services/shop-panel.html"+(what?("?"+encodeURIComponent(what)):""));};this.getBackOfficeURL=function(callback){q_ajaxgetppty("shopBackOfficeURL",function(x){if(callback)callback(x.shopBackOfficeURL);});};this.svcfromShopId=function(shopId){var svcs=window.web_svctopages||spacexml.services||[];for(var i=0;i<svcs.length;i++){if(svcs[i]["shop-id"]==shopId)return svcs[i];}
return null;};this.openCart=function(){var svc=this.svcfromShopId("cart");var href=q_httpsiteurl()+"/panier.html";if(svc)href=q_httpsiteurl()+"/"+svc.weblink.replace(/\.html$/,"")+".html";window.location.href=href+"#!/~/cart";};this.openAccount=function(){var svc=this.svcfromShopId("account");if(!svc)svc=this.svcfromShopId("cart");var href=q_httpsiteurl()+"/panier.html";if(svc)href=q_httpsiteurl()+"/"+svc.weblink.replace(/\.html$/,"")+".html";if(window.ec&&ec.quomodo&&ec.quomodo.customerLogged)window.location.href=href+"#!/~/accountSettings";else window.location.href=href+"#!/~/signIn";};this.checkOptions=function(warn,o){function checkOneOption($marker){if($marker.parents(".product-details-module").hasClass("option_disabled"))return true;var checker=$marker.attr("checker");if(checker){var h=window.quomodoclient&&quomodoclient.shop.checker&&quomodoclient.shop.checker[checker];if(h)return h($marker,o);}
var nmin=parseInt($marker.attr("min")||"1",10);var nmax=parseInt($marker.attr("max")||"1",10);;var nchecked=0;var $wrapper=$marker.parents(".details-product-option");if($wrapper.hasClass("details-product-option--radio")){nchecked=$wrapper.find("input.form-control__radio:checked").length;}else if($wrapper.hasClass("details-product-option--size")){nchecked=$wrapper.find("input.form-control__radio:checked").length;}else if($wrapper.hasClass("details-product-option--checkbox")){nchecked=$wrapper.find("input.form-control__checkbox:checked").length;}else if($wrapper.hasClass("details-product-option--select")){nchecked=$wrapper.find("select").val()?1:0;}else if($wrapper.hasClass("details-product-option--textfield")){nchecked=$wrapper.find("input").val()?1:0;}else if($wrapper.hasClass("details-product-option--flexible")){nchecked=$wrapper.find("input, textarea").val()?1:0;}else if($wrapper.hasClass("details-product-option--date")){nchecked=$wrapper.find("input").val()?1:0;}else if($wrapper.hasClass("details-product-option--files")){nchecked=$wrapper.find(".form-control__files .file-card").length;}
$marker.removeClass("marker-required--active");if(nchecked<nmin||nchecked>nmax){$marker.addClass("marker-required--active");return false;}
return true;}
var b=true;$("#my-store-"+ecwidID+" .marker-required").each(function(){if(!checkOneOption($(this)))b=false;});if(warn){$("#my-store-"+ecwidID+" .qdetails-product-purchase__controlwrapper .form__msg").removeClass("form__msg--error");if(!b){var $button=$("#my-store-"+ecwidID+" .details-product-purchase--checkout .qdetails-product-purchase__controlwrapper.add2cart[ orderable='1' ]");if($button.length==0)$button=$("#my-store-"+ecwidID+" .qdetails-product-purchase__controlwrapper.add2cart[ orderable='0' ]");$button.find(".qdetails-product-purchase__buttonwrapper").effect("bounce","slow");$button.find(".form__msg").addClass("form__msg--error");}}
return b;};function getProductId($elem){var res=getFullProduct($elem);return res.id;}
function getFullProduct($elem){var res={};var $product=$elem.parents(".grid-product");if($product.length>0){res.$=$product;var c=$product.attr("class");var m=c.match(/grid-product--id-(.\d+)/);res.id=m&&m[1];res.related=true;return res;}
$product=$elem.parents(".ec-store__product-page");res.$=$product;var c=$product.attr("class");var m=c.match(/ec-store__product-page--(.\d+)/);res.id=m&&m[1];return res;}
this.addToCart=function(productId,event){var q;var $product;var options;var related;if(typeof productId=="object"){var $elem=$(productId);var tmp=getFullProduct($elem);$product=tmp.$;productId=tmp.id;related=tmp.related;if(productId)productId=parseInt(productId,10);q_stopPropagation(event);if(!related){q=parseInt($elem.parents(".ec-store__product-page").find(".details-product-purchase__qty input").val()||1,10);$product.find(".product-details__product-options .details-product-option--select .form-control--select").each(function(){var $this=$(this);var name=$this.find("input.form-control__text").attr("name");var value=$this.find("select").val();if(!options)options={};options[name]=value;});$product.find(".product-details__product-options .details-product-option--checkbox .form-control--checkbox").each(function(){var $this=$(this);var $input=$this.find("input.form-control__checkbox");if(!$input.prop("checked"))return;var name=$input.attr("name");var value=$input.attr("value");if(!options)options={};if(!options[name])options[name]=[];options[name].push(value);});$product.find(".product-details__product-options .details-product-option--radio .form-control--radio input.form-control__radio:checked").each(function(){var $this=$(this);var name=$this.attr("name");var value=$this.attr("value");if(!options)options={};options[name]=value;});$product.find(".product-details__product-options .details-product-option--size input.form-control__radio:checked").each(function(){var $this=$(this);var name=$this.attr("name");var value=$this.attr("value");if(!options)options={};options[name]=value;});$product.find(".product-details__product-options .details-product-option--textfield input.form-control__text").each(function(){var $this=$(this);var name=$this.attr("aria-label");var value=$this.val();if(!options)options={};options[name]=value;});$product.find(".product-details__product-options .details-product-option--textarea textarea.form-control__textarea").each(function(){var $this=$(this);var name=$this.attr("aria-label");var value=$this.val();if(!options)options={};options[name]=value;});$product.find(".product-details__product-options .details-product-option--date").each(function(){var $this=$(this);var name=$this.find(".details-product-option__title").text();var value=$this.find("input.form-control__text").val();if(!options)options={};options[name]=value;});}}else{if(event)$product=$(event);}
var _this=this;var o={"quantity":q||1,"id":productId,"callback":function(success,product,cart){if(!success){q_bubble("Le produit n'a pas pu être ajouté au panier.",{"delay":3000});return;}
_this.bubbleCartUpdated(q||1);}};if(options)o.options=options;if(window.quomodoclient&&quomodoclient.shop&&quomodoclient.shop.addProductToCart){quomodoclient.shop.addProductToCart($product,o,related);}else{if(!related&&!this.checkOptions(true,o))return;Ecwid.Cart.addProduct(o);}};this.bubbleCartUpdated=function(q,wantDefault){if(!wantDefault&&window.quomodoclient&&quomodoclient.shop&&quomodoclient.shop.bubbleCartUpdated)return quomodoclient.shop.bubbleCartUpdated(q);var msg={"single-added-to-cart":"Votre produit a été ajouté avec succès !","plural-added-to-cart":"Vos produits ont été ajoutés avec succès !"};if(window.quomodoclient&&quomodoclient.shop&&quomodoclient.shop.messages)msg=quomodoclient.shop.messages("productPage",msg);q_bubble((q==null||q<2)?msg["single-added-to-cart"]:msg["plural-added-to-cart"]);};this.displayCategory=function(categoryId,event){var svc=quomodo.shop.svcfromShopId("c"+categoryId);if(svc){openservice(svc.id);return;}
svc=quomodo.shop.svcfromShopId("anyproduct");if(svc){window.location.href=q_httpsiteurl()+"/"+svc.weblink.replace(/\.html$/,"")+".html#!/c/"+categoryId;}else{Ecwid.openPage("category",{"id":categoryId});}};this.displayProduct=function(productId,event){if(typeof productId=="object"){var $elem=$(productId);productId=getProductId($elem);if(productId)productId=parseInt(productId,10);q_stopPropagation(event);}
var $product=$("#my-store-"+ecwidID+" .grid__products .grid-product--id-"+productId);if($product.length>0)$product.find("a").get(0).click();else{var svc=quomodo.shop.svcfromShopId("p"+productId);if(svc){openservice(svc.id);return;}
svc=quomodo.shop.svcfromShopId("anyproduct");if(svc){window.location.href=q_httpsiteurl()+"/"+svc.weblink.replace(/\.html$/,"")+".html#!/p/"+productId;}else{Ecwid.openPage("product",{"id":productId});}}};this.doOrder=function(event){q_stopPropagation(event);this.openCart();};this.ecwidGridCols=function(){var responsivemode=qsn_responsive_mod();if(responsivemode=="md"||responsivemode=="sm"||responsivemode=="lg")return 3;var w=$("#my-store-"+ecwidID).width();return Math.max(1,Math.floor(w/250));};function configureCleanUrls(){if(!window.spacexml||!spacexml.shop||!spacexml.shop.cleanUrls||!window.ec)return;var svc=quomodo.shop.svcfromShopId("anyproduct");if(!svc)return;if(window.currsvcid){var currsvc=q_svcfromid(currsvcid)||q_web_svcfromid(currsvcid);if(currsvc){if(currsvc["shop-id"]=="cart")return;if(currsvc["shop-id"]=="search")return;}}
ec.config=ec.config||{};ec.config.storefrontUrls=ec.config.storefrontUrls||{};ec.config.storefrontUrls.cleanUrls=true;ec.config.baseUrl=q_httpsiteurl()+"/"+svc.weblink.replace(/\.html$/,"");}
this.initWeb=function(wantDefault){if(!wantDefault&&window.quomodoclient&&quomodoclient.shop&&quomodoclient.shop.initWeb)return quomodoclient.shop.initWeb();if(!document.getElementById("ecwid-script")&&!window.Ecwid&&!this.__ecwidLoaded){if(q_pagemode()=="edit"){if($("#my-store-auto, #my-store-"+ecwidID).length==0)return;}
var currsvc=q_currsvcjson();var lang=currsvc&&currsvc.lang;if(!lang||lang=="default")lang="fr";this.__ecwidLoaded=true;$.getScript("https://app.ecwid.com/script.js?"+ecwidID+"&lang="+lang,function(){quomodo.shop.initWeb(wantDefault);});return;}
configureCleanUrls();window.ec=window.ec||{};ec.config=ec.config||{};ec.config.navigation_scrolling="DISABLED";if(common_message.ecwidMessages)ecwidMessages=common_message.ecwidMessages;var $shop=$("#my-store-auto");if($shop.length>0){var svc=q_currsvcjson();var shopId=svc["shop-id"];var newId="my-store-"+ecwidID;if(/^c/.test(shopId)){$shop.attr("categoryid",shopId.replace(/^c/,"")).attr("id",newId);}else if(/^p/.test(shopId)){$shop.attr("productid",shopId.replace(/^p/,"")).attr("id",newId);}else if(shopId=="cart"||shopId=="search"){$shop.attr("id",newId);}else if(shopId=="anyproduct"){$shop.attr("fiche","1").attr("id",newId);}}
$shop=$("#my-store-"+ecwidID);if($shop.length>0){var categoryId=$shop.attr("categoryid");var productId=$shop.attr("productid");if(categoryId){if(!ec.quomodo)ec.quomodo={};ec.quomodo.categoryId=categoryId;xProductBrowser("defaultCategoryId="+categoryId,"views=grid(3,50) list(150) table(150)","categoryView=grid","searchView=list","id=my-store-"+ecwidID);}else if(productId){if(!ec.quomodo)ec.quomodo={};ec.quomodo.productId=productId;xProductBrowser("defaultProductId="+productId,"views=grid(3,50) list(150) table(150)","categoryView=grid","searchView=list","id=my-store-"+ecwidID);}else{xProductBrowser("categoriesPerRow=3","views=grid(3,50) list(150) table(150)","categoryView=grid","searchView=list","id=my-store-"+ecwidID);}}
if($("#my-cart-"+ecwidID).length>0)xMinicart("layout=attachToCategories","id=my-cart-"+ecwidID);if($("#my-vCategories-"+ecwidID).length>0)xVCategories("id=my-vCategories-"+ecwidID);if($("#my-search-"+ecwidID).length>0)xSearch("id=my-search-"+ecwidID);if(window.Ecwid){function safePageLoaded(page){if(window.cancelAnimationFrame&&quomodo.shop.__rAFId)cancelAnimationFrame(quomodo.shop.__rAFId);if($("#ecwidStorefrontPlaceholder, .grid-product--loading, .ec-store--loading").length!=0){console.log("OnPageLoaded, ecwidStorefrontPlaceholder still there...");if(window.requestAnimationFrame){if(!quomodo.shop.__rAFCount||quomodo.shop.__rAFCount<1000){quomodo.shop.__rAFCount=(quomodo.shop.__rAFCount||0)+1;quomodo.shop.__rAFId=requestAnimationFrame(function(){safePageLoaded(page)});return;}}else{if(!quomodo.shop.__sTOCount||quomodo.shop.__sTOCount<1000){quomodo.shop.__sTOCount=(quomodo.shop.__sTOCount||0)+1;setTimeout(function(){safePageLoaded(page)},0);return;}}}
console.log("OnPageLoaded",page);ec.order=ec.order||{};ec.order.extraFields=ec.order.extraFields||{};function doPageLoaded(){if(spacexml.shop&&spacexml.shop.doit){if(!spacexml.shop.version||spacexml.shop.version=="1"){quomodo.shop.OnPageLoadedDoIt(page);}else{quomodo.shop.OnPageLoadedDoItV2(page);}
if(q_pagemode()=="edit"&&!$("body").data("my-edit-store")){$("body").data("my-edit-store",$("#my-store-"+ecwidID).html());quomodo.shop.getProducts(function(products){if(products.length==0){$("#my-store-"+ecwidID).removeClass("ecwid").empty().html('<div id="shop-edit-noproducts"><div class="btn-wrapper">Pour ajouter des produits, utilisez l\'onglet « <a class="btn" href="#" onmousedown="q_stopPropagation( event )" onclick="quomodo.shop.openBackOffice( \'products\' ) ; return false">Boutique</a> »</div></div>');$("body").data("my-edit-store",$("#my-store-"+ecwidID).html());}},true);if(quomodo.node&&quomodo.node.getState("status")=="trial"){var lastShopUpdate;function checkShopUpdated(){quomodo.shop.request("/api/v3/{storeId}/latest-stats?token={token}","GET",null,function(data){if(!lastShopUpdate){lastShopUpdate=data.categoriesUpdated
if(data.productsUpdated>lastShopUpdate)lastShopUpdate=data.productsUpdated;setTimeout(checkShopUpdated,60*1000);}else{if(data.categoriesUpdated>lastShopUpdate||data.productsUpdated>lastShopUpdate){openservice(currsvcid);}else{setTimeout(checkShopUpdated,60*1000);}}});}
checkShopUpdated();}}}else quomodo.shop.OnPageLoaded(page);}
if((window.BrowserDetect&&(BrowserDetect.browser=="Safari"||BrowserDetect.browser=="Chrome"))||(spacexml.shop&&spacexml.shop.doit)){setTimeout(function(){doPageLoaded();},10);}else{doPageLoaded();}}
Ecwid.OnPageLoaded.add(safePageLoaded);Ecwid.OnCartChanged.add(function(cart){quomodo.shop.OnCartChanged(cart);if(quomodo.page.isPopup){parent.quomodo.shop.updateCart();}});Ecwid.OnSetProfile.add(function(customer){if(!ec.quomodo)ec.quomodo={};ec.quomodo.customerLogged=Boolean(customer);});Ecwid.OnAPILoaded.add(function(){var svc=quomodo.shop.svcfromShopId("search");if(svc&&currsvcid==svc.id)Ecwid.openPage("search");Ecwid.Cart.get(function(cart){quomodo.shop.OnCartChanged(cart);});});}
Ecwid.OnOrderPlaced.add(function(order){if(window.quomodoclient&&quomodoclient.shop&&quomodoclient.shop.OnOrderPlaced)return quomodoclient.shop.OnOrderPlaced(order);});if(window.quomodoclient&&quomodoclient.shop&&quomodoclient.shop.initWebDone)return quomodoclient.shop.initWebDone();};this.updateCart=function(){Ecwid.Cart.get(function(cart){quomodo.shop.OnCartChanged(cart);});};this.OnCartChanged=function(cart,wantDefault){if(!wantDefault&&window.quomodoclient&&quomodoclient.shop&&quomodoclient.shop.OnCartChanged)return quomodoclient.shop.OnCartChanged(cart);$("#banner-cart, .shop-cart-quantity").each(function(){var $this=$(this);var t=$this.text();if($this.attr("number-only")=="1"){t=cart.productsQuantity;}else{if(/\(/.test(t))t=t.replace(/\(.*/,"("+cart.productsQuantity+")");else t=t+" ("+cart.productsQuantity+")";}
$this.show().text(t);});if(window.ec&&ec.quomodo&&ec.quomodo.useCartManager){if(!ec.quomodo||!ec.quomodo.products||ec.quomodo.products.length==0){this.loadProducts(function(){});}}};this.MondialRelay=function(){if(window.quomodoclient&&quomodoclient.shop&&quomodoclient.shop.MRID&&/(Mondial Relay)/i.test($("#my-store-"+ecwidID+" .ec-cart-step--delivery .ec-cart-step__text").text())){var fsm_waitId=q_fsm_wait();Ecwid.Cart.get(function(cart){quomodo.fsm.loadDialog("/services/dialogs/shop/mondial-relay/index_fr.html",{"json":{"MRID":quomodoclient.shop.MRID,"country":cart.shippingPerson.countryCode,"zip":cart.shippingPerson.postalCode},"callback":function(data){if(!data){$("#my-store-"+ecwidID+" .ec-cart-step--delivery .ec-cart-step__change").get(0).click();q_fsm_delete(fsm_waitId);return;}
ec.order.extraFields.mondial_relay_id={"value":data.ID,"title":"Identifiant Mondial Relay","orderDetailsDisplaySection":"shipping_info"};var infos=[];if(data.Nom)infos.push(data.Nom);if(data.Adresse1)infos.push(data.Adresse1);if(data.Adresse2)infos.push(data.Adresse2);infos.push(data.CP+" "+data.Ville);ec.order.extraFields.mondial_relay_infos={"value":infos.join(", "),"title":"Infos Mondial Relay","orderDetailsDisplaySection":"shipping_info"};Ecwid.refreshConfig();q_fsm_delete(fsm_waitId);}});});return;}};this.customCheckout=function(wantDefault){if(!wantDefault&&window.quomodoclient&&quomodoclient.shop&&quomodoclient.shop.customCheckout)return quomodoclient.shop.customCheckout();if($("#my-store-"+ecwidID+" .details-product-purchase__controls .qdetails-product-purchase__controlwrapper").length==0){if(window.ec&&ec.quomodo&&ec.quomodo.shopDisabled=="hideButtons"){if(ec.quomodo.shopDisabledInfo){$("#my-store-"+ecwidID+" .details-product-purchase__controls").append('<div class="qdetails-product-purchase__controlwrapper">'+ec.quomodo.shopDisabledInfo+'</div>');}
return;}
var msg={"cart-notorderable":"Ajouter au panier","cart-orderable":"Ajouter","do-order":"Passer la commande","warning":"Veuillez préciser vos options"};if(window.quomodoclient&&quomodoclient.shop&&quomodoclient.shop.messages)msg=quomodoclient.shop.messages("productPage",msg);$("#my-store-"+ecwidID+" .details-product-purchase__controls").append('<div class="qdetails-product-purchase__controlwrapper add2cart" orderable="0"><div class="qdetails-product-purchase__buttonwrapper"><a class="button1 qdetails-product-purchase__control" href="#" onclick="quomodo.shop.addToCart( this, event ) ; return false">'+escapeHTML(msg["cart-notorderable"])+'</a></div><div class="form__msg details-product-purchase__options-required-note">'+escapeHTML(msg["warning"])+'</div></div>').append('<div class="qdetails-product-purchase__controlwrapper add2cart" orderable="1"><div class="qdetails-product-purchase__buttonwrapper"><a class="button2 qdetails-product-purchase__control" href="#" onclick="quomodo.shop.addToCart( this, event ) ; return false">'+escapeHTML(msg["cart-orderable"])+'</a></div><div class="form__msg details-product-purchase__options-required-note">'+escapeHTML(msg["warning"])+'</div></div>').append('<div class="qdetails-product-purchase__controlwrapper" orderable="1"><a class="button1 qdetails-product-purchase__control" href="#" onclick="quomodo.shop.doOrder( event ) ; return false">'+escapeHTML(msg["do-order"])+'</a></div>');}};this.optionRequiredFor=function(productId){if(!window.ec)return false;if(!ec.quomodo)return false;if(!ec.quomodo.categoryPageCheckOptionRequired)return false;if(!ec.quomodo.productById)return false;var product=ec.quomodo.productById[""+productId];if(!product)return false;if(!product.options)return false;for(var i=0;i<product.options.length;i++){if(this.optionRequired(product.options[i]))return true;}
return false;};this.optionRequired=function(option,wantDefault){if(!wantDefault&&window.quomodoclient&&quomodoclient.shop&&quomodoclient.shop.optionRequired)return quomodoclient.shop.optionRequired(option);return(option.required&&option.defaultChoice==0);};function updateLinks(shortVersion){if(shortVersion){if(!window.ec)return;if(!ec.quomodo)return;if(!ec.quomodo.addButtonForRelateds)return;}
var bCleanUrls=window.spacexml&&spacexml.shop&&spacexml.shop.cleanUrls;var anysvc=quomodo.shop.svcfromShopId("anyproduct");var anysvclink;if(anysvc)anysvclink=anysvc.weblink.replace(/\.html$/,"")+(bCleanUrls?"":".html");$("#my-store-"+ecwidID+" .grid__products .grid-product").unbind("click").each(function(){var $this=$(this);var c=$this.attr("class");var m=c.match(/grid-product--id-(.\d+)/);var productId=m&&m[1];var svc=quomodo.shop.svcfromShopId("p"+productId);if(svc||anysvclink){var href;$this.find("a").each(function(){var $this=$(this);if($this.attr("_linkupdated")=="1")return;$this.attr("_linkupdated","1");if(svc){href=svc.weblink;}else{href=anysvclink+(bCleanUrls?$this.attr("href").replace(/.*(\/[^\/]+)$/,"$1"):$this.attr("href"));}
$this.attr("href",href);$this.on("click",function(e){e.stopPropagation();});});}
$this.find(".grid-product__price").wrap('<a class="grid-product__price" href="'+escapeattribute(href)+'" onclick="q_stopPropagation( event )"></a>');});$("#my-store-"+ecwidID+" .grid__products .grid-product").each(function(){if(window.ec&&ec.quomodo&&ec.quomodo.shopDisabled=="hideButtons")return;var $this=$(this);if($this.find(".cta-cart").length==0){var c=$this.attr("class");var m=c.match(/grid-product--id-(.\d+)/);var customCTA=window.quomodoclient&&quomodoclient.shop&&quomodoclient.shop.categoryPageCTA&&quomodoclient.shop.categoryPageCTA(m&&m[1]);if(customCTA){$this.find(".grid-product__wrap-inner").append(customCTA);return;}
if(quomodo.shop.optionRequiredFor(m&&m[1])){$this.find(".grid-product__wrap-inner").append('<div class="rpd-button cta-cart"><a href="#" onclick="quomodo.shop.displayProduct( this, event ) ; return false">'+(shortVersion?"Voir":"Choisir les options")+'</a></div>');}else{if(window.ec&&ec.quomodo&&ec.quomodo.categoryPageDisplayProduct){$this.find(".grid-product__wrap-inner").append('<div class="rpd-button cta-cart"><a href="#" onclick="quomodo.shop.displayProduct( this, event ) ; return false">'+(shortVersion?"Voir":"Voir le produit")+'</a></div>');}else{$this.find(".grid-product__wrap-inner").append('<div class="rpd-button cta-cart"><a href="#" onclick="quomodo.shop.addToCart( this, event ) ; return false">'+(shortVersion?"Ajouter":"Ajouter au panier")+'</a></div>');}}}});$("#my-store-"+ecwidID+" .grid__categories .grid-category").unbind("click").each(function(){var $this=$(this);var c=$this.attr("class");var m=c.match(/grid-category--id-(.\d+)/);var svc=quomodo.shop.svcfromShopId("c"+(m&&m[1]));if(svc||anysvclink){var href;$this.find("a").each(function(){var $this=$(this);if($this.attr("_linkupdated")=="1")return;$this.attr("_linkupdated","1");if(svc){href=svc.weblink.replace(/\.html$/,"")+".html";}else{href=anysvclink+(bCleanUrls?$this.attr("href").replace(/.*(\/[^\/]+)$/,"$1"):$this.attr("href"));}
$this.attr("href",href);$this.on("click",function(e){e.stopPropagation();});});}});}
this.OnPageLoaded=function(page,wantDefault){if(!ec.quomodo)ec.quomodo={};ec.quomodo.page=page;if(!wantDefault&&window.quomodoclient&&quomodoclient.shop&&quomodoclient.shop.OnPageLoaded)return quomodoclient.shop.OnPageLoaded(page);var $store=$("#my-store-"+ecwidID+" .grid-product__wrap");cleanObservers();if(page.type)$("body").attr("mystore-type",page.type.toLowerCase());if(page.type=="PRODUCT"){$("body").attr("mystore-productId",page.productId).attr("mystore-categoryId",(!page.categoryId||page.categoryId==-1)?(page.mainCategoryId||-1):page.categoryId);$("#my-store-"+ecwidID+" .product-details-module__content").removeClass("product-details-module__content--collapsed");if(!ec.quomodo.context)ec.quomodo.context={};if($("#my-store-"+ecwidID).attr("fiche")=="1"&&$(".shop-product-title").length>0){var productTitle=$("#my-store-"+ecwidID+" .product-details__sidebar .product-details__product-title").text();$(".shop-product-title").text(productTitle);$("#my-store-"+ecwidID+" .product-details__sidebar .product-details__product-title").hide();}
var $rowprice=$("#my-store-"+ecwidID+" .product-details__product-price-row");function customCheckout(){if($("#my-store-"+ecwidID+" .details-product-purchase__controls .qdetails-product-purchase__control").length==0){$("#my-store-"+ecwidID+" .details-product-purchase__controls").append('<a class="button1 qdetails-product-purchase__control" orderable="0" href="#" onclick="quomodo.shop.addToCart( this, event ) ; return false">Ajouter au panier</a>').append('<a class="button2 qdetails-product-purchase__control" orderable="1" href="#" onclick="quomodo.shop.addToCart( this, event ) ; return false">Ajouter</a>').append('<a class="button1 qdetails-product-purchase__control" orderable="1" href="#" onclick="quomodo.shop.doOrder( event ) ; return false">Passer la commande</a>');}}
if($rowprice.attr("mutation")!="1"){quomodo.shop.customCheckout();var observer=new MutationObserver(function(){quomodo.shop.customCheckout();});addObserver(observer);observer.observe($rowprice.get(0),{"attributes":true,"childList":true,"subtree":true,"characterData":true});$rowprice.attr("mutation","1");}
updateLinks(true);}else if(page.type=="SEARCH"){$("body").attr("mystore-keywords",page.keywords?"1":"0");$("html").removeClass("ec-has-filters-popup");}else if(page.type=="CART"){if(ec.quomodo.updateQTax)quomodo.shop.cartUpdateQTax();}else if(/CHECKOUT_/.test(page.type)){if(ec.quomodo.updateQTax)quomodo.shop.cartUpdateQTax();if(page.type=="CHECKOUT_PLACE_ORDER"){}else if(page.type=="CHECKOUT_PAYMENT_DETAILS"){quomodo.shop.MondialRelay();}else if(page.type=="CHECKOUT_SHIPPING_ADDRESS"){}}else if(page.type=="ORDER_CONFIRMATION"){if(ec.quomodo.updateQTax)quomodo.shop.cartUpdateQTax();}else{if(page.categoryId!=0){$("body").attr("mystore-categoryId",page.categoryId);}
$("#my-store-"+ecwidID+" .grid__products").attr("data-cols",quomodo.shop.ecwidGridCols());updateLinks();}
$("#my-store-"+ecwidID).parents(".qlubcontainer_content").show();this.cartManager.init();};this.OnPageLoadedDoIt=function(page,wantDefault){(function(){if(q_pagemode()=="edit")return;var d=spacexml.shop.isodate;if(d){d=q_isot2date(d);var now=new Date();if((d-now)>0)return;d.setDate(d.getDate()+15);now.setDate(now.getDate()-1);now.setHours(23);now.setMinutes(59);now.setSeconds(59);if((d-now)>0)d=null;}
q_alert(d?common_message["shop-closing-at"].replace("%date",$.datepicker.formatDate("dd.mm.yy",d)):common_message["shop-closing-soon"],null,true);})();if(!ec.quomodo)ec.quomodo={};ec.quomodo.page=page;if(!wantDefault&&window.quomodoclient&&quomodoclient.shop&&quomodoclient.shop.OnPageLoaded)return quomodoclient.shop.OnPageLoaded(page);var cartsvc=quomodo.shop.svcfromShopId("cart");var shopsvc=quomodo.shop.svcfromShopId("anyproduct");var cartsvcid=cartsvc&&cartsvc.id;var $store=$("#my-store-"+ecwidID+" .grid-product__wrap");function addTitle(type){var productTitle;if(type=="CATEGORY"){productTitle=$("#my-store-"+ecwidID+" .ec-page-title h1.page-title__name").text();}else{productTitle=$("#my-store-"+ecwidID+" .product-details__sidebar .product-details__product-title").text();}
$(".shop-product-title").text(productTitle);}
function addBreadcrumbs(type){var $set=$("#my-store-"+ecwidID+" .ec-breadcrumbs").eq(0).find("a.breadcrumbs__link");var n=$set.length;var breadcrumbsHTML=[];breadcrumbsHTML.push('<span class="rpd-p1">');if(n==0){}else{$set.each(function(i){var $this=$(this);if(i==0){breadcrumbsHTML.push('<a class="rpd-link" href="'+$this.attr("href")+'">'+escapeHTML(common_message["shop-breadcrumbs-back"])+'</a>');if(i!=n-1)breadcrumbsHTML.push('<span class="breadcrumbs-separator"> &gt; </span>');}else if(i==n-1&&type!="PRODUCT"){breadcrumbsHTML.push('<span>'+escapeHTML($this.text())+'</span>');}else{breadcrumbsHTML.push('<a class="rpd-link" href="'+$this.attr("href")+'">'+escapeHTML($this.text())+'</a>');if(i!=n-1)breadcrumbsHTML.push('<span class="breadcrumbs-separator"> &gt; </span>');}});}
breadcrumbsHTML.push('</span>');$("#my-breadcrumbs-"+ecwidID).html(breadcrumbsHTML.join(""));}
if(cartsvc&&currsvcid!=cartsvcid){var carturl=cartsvc.weblink.replace(/\.html$/,"");$("#my-store-"+ecwidID+" .ec-footer a").each(function(){var $this=$(this);var href=$this.attr("href");if(!href)return;var $li=$this.parent();var $clone=$li.clone().insertAfter($li);$li.remove();if(/\/cart$/.test(href)){$clone.find("a").attr("href",carturl+".html#!/~/cart");}else{href=href.replace(/(account\/)?([^\/?]+)\?/g,"!/~/$2/");href=href.replace(/account\/([^\/?]+)$/g,"!/~/$1");$clone.find("a").attr("href",href.replace(ec.config.baseUrl+"/",q_httpsiteurl()+"/"+carturl+".html#"));}
$clone.off("click").click(function(event){event.stopPropagation();$(this).find("a").click();});});}else if(cartsvc&&currsvcid==cartsvcid&&page.type!="CART"&&page.entryPage){Ecwid.openPage("cart");return;}else if(shopsvc){var $moreShoppping=$("#my-store-"+ecwidID+" .ec-cart__shopping a");var $clone=$moreShoppping.clone().insertAfter($moreShoppping);$moreShoppping.remove();$clone.attr("href",shopsvc.weblink.replace(/\.html$/,"")+".html");var $cartEmpty=$("#my-store-"+ecwidID+" .ec-cart--empty .form-control--button");if($cartEmpty.length>0){var $clone2=$cartEmpty.clone().insertAfter($cartEmpty);$cartEmpty.remove();$clone2.unbind("click").click(function(){openservice(shopsvc.id);});}}
$("body").removeAttr("mystore-home");if(page.type)$("body").attr("mystore-type",page.type.toLowerCase());if(page.type=="PRODUCT"){$("body").attr("mystore-productId",page.productId).attr("mystore-categoryId",(!page.categoryId||page.categoryId==-1)?(page.mainCategoryId||-1):page.categoryId);$("#my-store-"+ecwidID+" .product-details-module__content").removeClass("product-details-module__content--collapsed");if(!ec.quomodo.context)ec.quomodo.context={};addTitle(page.type);addBreadcrumbs(page.type);}else if(page.type=="SEARCH"){$("body").attr("mystore-keywords",page.keywords?"1":"0");}else if(page.type=="CART"){}else if(page.type=="CHECKOUT_PLACE_ORDER"){}else if(page.type=="ORDER_CONFIRMATION"){}else if(page.type=="CHECKOUT_PAYMENT_DETAILS"){}else if(page.type=="CHECKOUT_SHIPPING_ADDRESS"){}else{if(page.categoryId!=0){$("body").attr("mystore-categoryId",page.categoryId);$("#my-store-"+ecwidID+" .grid__products").attr("data-cols",quomodo.shop.ecwidGridCols());}else if(page.type=="CATEGORY"){$("body").attr("mystore-home","1");}
addTitle(page.type);addBreadcrumbs(page.type);}
$("#my-store-"+ecwidID).parents(".qlubcontainer_content").show();};this.OnPageLoadedDoItV2=function(page,wantDefault){(function(){if(q_pagemode()=="edit")return;if(spacexml.shop.node)return;var d=spacexml.shop.isodate;if(d){d=q_isot2date(d);var now=new Date();if((d-now)>0)return;d.setDate(d.getDate()+15);now.setDate(now.getDate()-1);now.setHours(23);now.setMinutes(59);now.setSeconds(59);if((d-now)>0)d=null;}
q_alert(d?common_message["shop-closing-at"].replace("%date",$.datepicker.formatDate("dd.mm.yy",d)):common_message["shop-closing-soon"],null,true);})();if(!ec.quomodo)ec.quomodo={};ec.quomodo.page=page;if(!wantDefault&&window.quomodoclient&&quomodoclient.shop&&quomodoclient.shop.OnPageLoaded)return quomodoclient.shop.OnPageLoaded(page);var cartsvc=quomodo.shop.svcfromShopId("cart");var shopsvc=quomodo.shop.svcfromShopId("anyproduct");var mainshopsvc=quomodo.shop.svcfromShopId("c0");var cartsvcid=cartsvc&&cartsvc.id;function addTitle(type){var productTitle;if(type=="CATEGORY"){productTitle=$("#my-store-"+ecwidID+" .ec-page-title h1.page-title__name").text();}else{productTitle=$("#my-store-"+ecwidID+" .product-details__sidebar .product-details__product-title").text();}
$(".shop-product-title").text(productTitle);}
var $store=$("#my-store-"+ecwidID+" .grid-product__wrap");if(cartsvc&&currsvcid!=cartsvcid){var carturl=cartsvc.weblink.replace(/\.html$/,"");$("#my-store-"+ecwidID+" .ec-footer a").each(function(){var $this=$(this);var href=$this.attr("href");if(!href)return;var $li=$this.parent();var $clone=$li.clone().insertAfter($li);$li.remove();if(/\/cart$/.test(href)){$clone.find("a").attr("href",carturl+".html#!/~/cart");}else{href=href.replace(/(account\/)?([^\/?]+)\?/g,"!/~/$2/");href=href.replace(/account\/([^\/?]+)$/g,"!/~/$1");$clone.find("a").attr("href",href.replace(ec.config.baseUrl+"/",q_httpsiteurl()+"/"+carturl+".html#"));}
$clone.off("click").click(function(event){event.stopPropagation();$(this).find("a").click();});});}else if(cartsvc&&currsvcid==cartsvcid&&page.type!="CART"&&page.entryPage){Ecwid.openPage("cart");return;}else if(mainshopsvc){var $moreShoppping=$("#my-store-"+ecwidID+" .ec-cart__shopping a");var $clone=$moreShoppping.clone().insertAfter($moreShoppping);$moreShoppping.remove();$clone.attr("href",mainshopsvc.weblink.replace(/\.html$/,"")+".html");var $cartEmpty=$("#my-store-"+ecwidID+" .ec-cart--empty .form-control--button");if($cartEmpty.length>0){var $clone2=$cartEmpty.clone().insertAfter($cartEmpty);$cartEmpty.remove();$clone2.unbind("click").click(function(){openservice(mainshopsvc.id);});}}
$("body").removeAttr("mystore-home");if(page.type)$("body").attr("mystore-type",page.type.toLowerCase());if(page.type=="PRODUCT"){$("body").attr("mystore-productId",page.productId).attr("mystore-categoryId",(!page.categoryId||page.categoryId==-1)?(page.mainCategoryId||-1):page.categoryId);$("#my-store-"+ecwidID+" .product-details-module__content").removeClass("product-details-module__content--collapsed");if(!ec.quomodo.context)ec.quomodo.context={};var $checkout=$("#my-store-"+ecwidID+" .details-product-purchase__checkout-controls");var $clone=$checkout.clone().insertAfter($checkout);$checkout.remove();$clone.off("click").click(function(event){event.stopPropagation();quomodo.shop.doOrder(event);});addTitle(page.type);}else if(page.type=="SEARCH"){$("body").attr("mystore-keywords",page.keywords?"1":"0");}else if(page.type=="CART"){}else if(page.type=="CHECKOUT_PLACE_ORDER"){}else if(page.type=="ORDER_CONFIRMATION"){}else if(page.type=="CHECKOUT_PAYMENT_DETAILS"){quomodo.shop.MondialRelay();}else if(page.type=="CHECKOUT_SHIPPING_ADDRESS"){}else{if(page.categoryId!=0){$("body").attr("mystore-categoryId",page.categoryId);}
ec.quomodo.shopDisabled="hideButtons";updateLinks();}
$("#my-store-"+ecwidID).parents(".qlubcontainer_content").show();};this.cartUpdateQTax=function(redo){var $summary=$("#my-store-"+ecwidID+" .ec-cart-summary").first();if($summary.length==0){if(redo)return;setTimeout(function(){quomodo.shop.cartUpdateQTax($("#my-store-"+ecwidID+" .ec-cart__sidebar").length==0?false:true);},200);return;}
function addTax(){Ecwid.Cart.get(function(data){var cart=data;var ttcs={};var totalTTC=0;var index=0;function getTaxAttribute(product){if(ec.quomodo&&ec.quomodo.uniqQTax)return ""+ec.quomodo.uniqQTax;for(var i=0;i<product.attributes.length;i++){if(product.attributes[i].name=="TVA")return product.attributes[i].value;}
return "0";}
function formatPrice(price){var formatsAndUnits=ec.quomodo.storeProfile.formatsAndUnits||{};var price=price.toFixed(2);if(formatsAndUnits.currencyGroupSeparator){var x=price.split(".")[0].split("");var n=x.length;for(var i=0;i<Math.floor((n-1)/3);i++){x.splice(n-3*i-3,0,[formatsAndUnits.currencyGroupSeparator]);}
price=x.join("")+"."+price.split(".")[1];}
if(formatsAndUnits.currencyDecimalSeparator)price=price.replace(".",formatsAndUnits.currencyDecimalSeparator);price+=(formatsAndUnits.currencySuffix||"€");return price;}
function displayTaxes(index){if(index==cart.items.length){$summary.find(".ec-cart-summary-clone").remove();var $clone=$summary.find(".ec-cart-summary__body").clone();$summary.find(".ec-cart-summary__body").css("display","none");$summary.append($clone);$clone.addClass("ec-cart-summary-clone").show();var shippingAmount=parseFloat($clone.find(".ec-cart-summary__row--shipping .ec-cart-summary__price").text().replace(",",".")||"0");if(isNaN(shippingAmount))shippingAmount=0;var keys=[];for(var k in ttcs){keys.push(k);}
keys=keys.sort(function(a,b){return parseFloat(a)-parseFloat(b);});for(var i=0;i<keys.length;i++){var k=keys[i];var tax=ttcs[k]*(parseFloat(k)/100)/(1+parseFloat(k)/100);if(ec.quomodo&&ec.quomodo.uniqQShippingTax){if(String(ec.quomodo.uniqQShippingTax)==k)tax+=shippingAmount*(parseFloat(k)/100)/(1+parseFloat(k)/100);}else{tax+=shippingAmount*ttcs[k]/totalTTC*(parseFloat(k)/100)/(1+parseFloat(k)/100);}
$clone.eq(0).append('<tr class="ec-cart-summary__row ec-cart-summary__row--taxes"><td class="ec-cart-summary__cell ec-cart-summary__title">TVA '+k+'%</td><td class="ec-cart-summary__cell ec-cart-summary__price"><span>'+formatPrice(tax)+'</span></td></tr>');}
return;}
quomodo.shop.loadProduct(cart.items[index].product.id,function(product){var tax=getTaxAttribute(product);if(!ttcs[tax])ttcs[tax]=0;var p=cart.items[index].product.price*(cart.items[index].quantity||1);ttcs[tax]+=p;totalTTC+=p;displayTaxes(index+1);});}
if(ec.quomodo&&ec.quomodo.storeProfile){displayTaxes(0);}else{quomodo.shop.request("/api/v3/{storeId}/profile?token={token}","GET",null,function(data){if(!ec.quomodo)ec.quomodo={};ec.quomodo.storeProfile=data||{};displayTaxes(0);});}});}
if($summary.attr("mutation")!="1"){addTax();var observer=new MutationObserver(function(){addTax();});addObserver(observer);observer.observe($summary.find(".ec-cart-summary__row--total").get(0),{"attributes":false,"childList":true,"subtree":true,"characterData":true});$summary.attr("mutation","1");}};this.cartUpdateShippingTax=function(){var $summary=$("#my-store-"+ecwidID+" .ec-cart-summary").first();if($summary.length==0)return;function addDeliveryTax(){if($summary.hasClass("ec-cart-summary--wait-response"))return;var $clone=$("#my-store-"+ecwidID+" .ec-cart-summary-clone");$clone.remove();$clone=$summary.clone();$summary.css("display","none").after($clone);$clone.addClass("ec-cart-summary-clone").show();var $shipping=$clone.find(".ec-cart-summary__row--shipping");if($shipping.length==0)return;var updated=false;var shippingAmount=parseFloat($shipping.find(".ec-cart-summary__price").text());if(isNaN(shippingAmount))return;var shippingTax=Math.round(shippingAmount/1.2*0.2*100)/100;$clone.find(".ec-cart-summary__row--taxes").each(function(){var $this=$(this);if($this.find(".ec-cart-summary__title").text()=="TVA 20%"){var amount=parseFloat($this.find(".ec-cart-summary__price span").text());$this.find(".ec-cart-summary__price span").text((amount+shippingTax).toFixed(2)+"€");updated=true;}});if(!updated){var $tax=$clone.find(".ec-cart-summary__row--taxes").last();var $newtax=$tax.clone();$tax.after($newtax);$newtax.find(".ec-cart-summary__title").text("TVA 20%");$newtax.find(".ec-cart-summary__price").text(shippingTax.toFixed(2)+"€");}}
if($summary.attr("mutation")!="1"){addDeliveryTax();var observer=new MutationObserver(function(){addDeliveryTax();});addObserver(observer);observer.observe($summary.get(0),{"attributes":true,"childList":true,"subtree":true,"characterData":true});$summary.attr("mutation","1");}};this.checkoutOrderUpdateShippingTax=function(){var $summary=$("#my-store-"+ecwidID+" .ecwid-Invoice-SummaryContainer");var $shipping=$summary.find(".ecwid-Invoice-Summary-shippingRow");if($shipping.length==0)return;var updated=false;var shippingAmount=parseFloat($shipping.find(".ecwid-Invoice-Summary-value").text());if(isNaN(shippingAmount))return;var shippingTax=Math.round(shippingAmount/1.2*0.2*100)/100;if(shippingAmount>0)$shipping.find(".ecwid-Invoice-Summary-label").show();$summary.find(".ecwid-Invoice-Summary-taxRow").each(function(){var $this=$(this);if($this.find(".ecwid-Invoice-Summary-label").text()=="TVA 20%"){var amount=parseFloat($this.find(".ecwid-Invoice-Summary-value").text());$this.find(".ecwid-Invoice-Summary-value").text((amount+shippingTax).toFixed(2)+"€");updated=true;}});if(!updated){var $tax=$clone.find(".ecwid-Invoice-Summary-taxRow").last();var $newtax=$tax.clone();$tax.after($newtax);$newtax.find(".ecwid-Invoice-Summary-label").text("TVA 20%");$newtax.find(".ecwid-Invoice-Summary-value").text(shippingTax.toFixed(2)+"€");}};this.loadProducts=function(callback){this.xloadProducts(callback,(window.ec&&ec.quomodo&&ec.quomodo.page&&ec.quomodo.page.categoryId)||0);};this.xloadProducts=function(callback,categoryId){var _this=this;if(!this.id)this.id=window.ecwidID;if(!this.session)this.session=Ecwid.getAppPublicToken("quomodo-interface");var products=[];function loadProducts(offset){var url="/api/v3/{storeId}/products?token={token}&offset={offset}";var o={"storeId":_this.id,"token":_this.session,"offset":offset}
if(categoryId!=undefined){url="/api/v3/{storeId}/products?token={token}&category={categoryId}&offset={offset}";o.categoryId=categoryId;}
ecwid_request(url,"GET",o,function(data){if(data&&data.items){products=products.concat(data.items);}
if((data.offset+data.count)<data.total){loadProducts(data.offset+data.count);return;}
if(window.ec){if(!ec.quomodo)ec.quomodo={};ec.quomodo.products=products;ec.quomodo.productById={};for(var i=0;i<products.length;i++){ec.quomodo.productById[""+products[i].id]=products[i];}}
callback(products);});}
loadProducts(0);};this.request=function(url,method,json,callback){var _this=this;if(!this.id)this.id=window.ecwidID;if(!this.session)this.session=Ecwid.getAppPublicToken("quomodo-interface");json=json||{};json.storeId=_this.id;json.token=_this.session;ecwid_request(url,method,json,function(data){callback(data);});};this.loadProduct=function(productId,callback){this.xloadProduct(productId,callback,false);};this.xloadProduct=function(productId,callback,forceLoad){var _this=this;if(!this.id)this.id=window.ecwidID;if(!this.session)this.session=Ecwid.getAppPublicToken("quomodo-interface");if(!forceLoad&&_this.__data&&_this.__data.productById&&_this.__data.productById[""+productId]){return callback(_this.__data.productById[""+productId]);}
ecwid_request("/api/v3/{storeId}/products/{productId}?token={token}","GET",{"storeId":_this.id,"token":_this.session,"productId":productId},function(product){if(!_this.__data)_this.__data={};if(!_this.__data.productById)_this.__data.productById={};_this.__data.productById[""+productId]=product;callback(product);});};this.initLogged=function(wantDefault){if($("#my-store-auto, #my-store-"+ecwidID).length==0&&!quomodo.shop.__autoAddStore){if(q_pagemode()!="edit")return;if(!(spacexml.shop&&spacexml.shop.doit))return;if(!q_currsvcjson()["shop-id"])return;quomodo.shop.__autoAddStore=true;quomodo.page.sections.activate("p-0");qdyn_snload(function(){var notekind="wsg";var rpds=["rpdp-main0","rpdp-main1","rpdp-art0"];var rpd=rpds[0];for(var i=0;i<rpds.length;i++){if(RPD.pbgcolor(RPD.getRPDById(rpds[i]).rpd)=="transparent"){rpd=rpds[i];break;}}
var jsonnewnote=qsn_fulljson_template(notekind);var id=qsn_makenewfulljson(notekind,jsonnewnote);var r=qsn_thenotes[id];r=$.extend(true,r,{"spacedefaults":{"common":{"width":"990px","top":"0px"}},"rpd":rpd,"header":{"display":"false","icon":"","text":""},"html":'<div id="my-store-auto"> </div>'});r.sharelinks="false";r.showrss="false";r.sociallinks="false";r.common.date=q_date2isot(new Date());qsn_addsavednote(id,function(){var section=quomodo.page.sections.get("p-0");section.saveContent(id,function(){quomodo.shop.initLogged(wantDefault);});});},null,"wsg");return;}
if($("#my-store-auto, #my-store-"+ecwidID).length==0)return;$("#my-store-auto, #my-store-"+ecwidID).parents(".note").addClass("mystore-note");if(q_pagemode()=="edit"){if(spacexml.shop&&spacexml.shop.doit){quomodo.shop.initWeb();}else{var $note=$("#my-store-"+ecwidID).parents(".note");$note.find(".wsg_content_html-v6").empty().html('<div style="text-align: center"><a class="rpd-button" href="#" onclick="quomodoclient.editShop( event ) ; return false" onmousedown="q_stopPropagation( event )">Gérer le catalogue</a></div>');if(!spacexml.memberparams||!spacexml.memberparams.skexpert)$note.attr("no-toolbar","1");}
return;}
if(q_pagemode()=="makeweb")return;if(!window.Ecwid&&!this.__ecwidLoaded){var currsvc=q_currsvcjson();var lang=currsvc&&currsvc.lang;if(!lang||lang=="default")lang="fr";this.__ecwidLoaded=true;$.getScript("https://app.ecwid.com/script.js?"+ecwidID+"&lang="+lang,function(){quomodo.shop.initWeb();});return;}};function cartManagerTotal(cart){var total=0;for(var i=0;i<cart.items.length;i++){var item=cart.items[i];total+=item.product.price*item.quantity;}
return total;}
function cartManagerHTML(cart){var items=[].concat(cart.items);quomodo.shop.cartManager.items=items.sort(function(a,b){var aName=latinize(a.product.name.toLowerCase());var bName=latinize(b.product.name.toLowerCase());if(aName<bName)return 1;if(aName>bName)return-1;return 0;});var html=['<div class="cart-manager-ghost"><div class="cart-manager'+(items.length==0?' cart-empty':'')+'"><div class="cart-manager-title rpd-h3">Mon panier</div><div class="cart-manager-emptycart without-products rpd-p2">Le panier est vide</div><div class="cart-manager-products with-products"><table cellspacing="0" cellpadding="0">'];for(var i=0;i<quomodo.shop.cartManager.items.length;i++){var item=quomodo.shop.cartManager.items[i];html.push('<tr ref="'+cartItemReference(item)+'">');var product=ec.quomodo.productById[""+item.product.id];if(!product)console.log("product not found for "+item.product.id);var imgURL=product&&product.smallThumbnailUrl;if(imgURL){html.push('<td class="image" valign="top"><div onclick="quomodo.shop.displayProduct(\''+item.product.id+'\')" style="background-image: url('+imgURL.replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27").replace(/"/g,"%22")+')"></div></td>');}else{html.push('<td class="image" valign="top"></td>');}
html.push('<td class="item" valign="top">');html.push('<div class="name-wrapper"><div class="name" onclick="quomodo.shop.displayProduct(\''+item.product.id+'\')">'+escapeHTML(item.product.name)+'</div><div class="remove" onclick="quomodo.shop.cartManager.removeProduct( $( this ).parents( \'tr\' ).eq( 0 ).attr( \'ref\' ) )"><span class="font-q-i"></span></div></div>');html.push('<div class="controls-wrapper"><div class="price rpd-p2">PU <span class="value">'+item.product.price.toFixed(2)+'</span> €</div><div class="quantity-wrapper"><span class="dec" onclick="quomodo.shop.cartManager.updateProduct( $( this ).parents( \'tr\' ).eq( 0 ).attr( \'ref\' ), -1 )">-</span><span class="quantity">'+item.quantity+'</span><span class="inc" onclick="quomodo.shop.cartManager.updateProduct( $( this ).parents( \'tr\' ).eq( 0 ).attr( \'ref\' ), 1 )">+</span></div>');html.push('<div class="quantity-warning rpd-p3">Stock épuisé</div>');html.push('</td></tr>');}
html.push('</table></div><div class="with-products cart-manager-total"><div class="amount">Total : <span class="value">'+cartManagerTotal(cart).toFixed(2)+'</span> €</div></div><div class="with-products cart-manager-checkout"><div class="rpd-button" onclick="quomodo.shop.openCart(); return false ;">Passer la commande</div></div></div></div>');return html.join("");}
function cartItemReference(cartItem){var ref=cartItem.product.id;if(cartItem.options)ref+="-"+btoa(JSON.stringify(cartItem.options));return ref;}
function removeReference(productReference,callback){Ecwid.Cart.get(function(cart){for(var i=0;i<cart.items.length;i++){if(cartItemReference(cart.items[i])==productReference){Ecwid.Cart.removeProduct(i);if(callback)callback();}}});}
function updateReference(productReference,quantity,callback){Ecwid.Cart.get(function(cart){var item,index;for(var i=0;i<cart.items.length;i++){if(cartItemReference(cart.items[i])==productReference){index=i;item=cart.items[i];break;}}
if(item){var o={"id":item.product.id};if(item.options)o.options=item.options;if(quantity>0){o.quantity=quantity;o.callback=function(success,product,cart){if(!success){var productQuantity;for(var i=0;i<cart.items.length;i++){if(cartItemReference(cart.items[i])==productReference){productQuantity=cart.items[i].quantity;break;}}
if(productQuantity!=undefined){$(".cart-manager *[ref='"+productReference+"']").each(function(){var $this=$(this);var $q=$this.find(".quantity");var q=parseInt($q.text(),10);if(q!=productQuantity){$q.text(productQuantity);$this.find(".quantity-warning").stop().show();setTimeout(function(){$this.find(".quantity-warning").fadeOut();},2000);}});}}else{$(".cart-manager *[ref='"+productReference+"'] .price .value").text(product.price.toFixed(2));}
if(callback)callback();};Ecwid.Cart.addProduct(o);}else{o.quantity=item.quantity+quantity;if(o.quantity>0){o.callback=function(success,product,cart){$(".cart-manager *[ref='"+productReference+"'] .price .value").text(product.price.toFixed(2));if(callback)callback();};removeReference(productReference,function(){Ecwid.Cart.addProduct(o);});}else{if(callback)callback();}}}else{if(callback)callback();}});}
this.cartManager={};this.cartManager.init=function(loaded){var $wrapper=$(".cart-manager-wrapper");if($wrapper.length==0)return;if(!loaded&&!ec.quomodo.productById){quomodo.shop.xloadProducts(function(){quomodo.shop.cartManager.init(true);});return;}
var that=this;$wrapper.hover(function(){that.open();var $this=$(this);$this.data("z-index",$this.parents(".sk-sec").css("z-index"));$this.parents(".sk-sec").css("z-index","1000");$this.find(".cart-manager-ghost").show();},function(){that.opened=false;var $this=$(this);$this.parents(".sk-sec").css("z-index",$this.data("z-index"));$this.find(".cart-manager-ghost").hide();});};this.cartManager.open=function(){if(this.opened)return;this.opened=true;this.cmds=[];this.processing=false;Ecwid.Cart.get(function(cart){var html=cartManagerHTML(cart);$(".cart-manager-wrapper .cart-manager-ghost").remove();$(".cart-manager-wrapper").each(function(){var $this=$(this);var h=$this.outerHeight();$this.append(html);if($this.attr("min-order")){$this.find(".cart-manager-total").append('<div class="cart-manager-condition" lt-cond="'+$this.attr("min-order")+'">Minimum de commande : '+parseFloat($this.attr("min-order")).toFixed(2)+' €</div>');$this.find(".cart-manager-checkout").attr("gte-cond",$this.attr("min-order"));}
if($this.attr("min-freedelivery")){$this.find(".cart-manager-total").append('<div class="cart-manager-condition" lt-cond="'+$this.attr("min-freedelivery")+'">Livraison gratuite à partir de : '+parseFloat($this.attr("min-freedelivery")).toFixed(2)+' €</div>');}
$this.find(".cart-manager").css("top",(10+h)+"px");});updateTotal(cart);});};function updateTotal(cart){if(cart.items.length==0)$(".cart-manager").addClass("cart-empty");var total=cartManagerTotal(cart);$(".cart-manager .cart-manager-total .amount .value").text(total.toFixed(2));$(".cart-manager *[lt-cond]").each(function(){var $this=$(this);$this.toggle(total<parseFloat($this.attr("lt-cond")));});$(".cart-manager *[gte-cond]").each(function(){var $this=$(this);$this.toggle(total>=parseFloat($this.attr("gte-cond")));});}
this.cartManager.execCmd=function(cmd){if(!cmd){if(this.cmds.length==0){this.processing=false;Ecwid.Cart.get(function(cart){updateTotal(cart);});return;}
var cmd=this.cmds[0];this.cmds.splice(0,1);this.execCmd(cmd);return;}
this.processing=true;if(cmd.remove){removeReference(cmd.ref,function(){quomodo.shop.cartManager.execCmd();});}else{updateReference(cmd.ref,cmd.quantity,function(){quomodo.shop.cartManager.execCmd();});}};this.cartManager.removeProduct=function(productReference,quantity){if(this.processing){for(var i=0;i<this.cmds.length;i++){if(this.cmds[i].ref==productReference){this.cmds[i].splice(i,1);i--;}}
this.cmds.push({"ref":productReference,"remove":true});}else{this.execCmd({"ref":productReference,"remove":true});}
$(".cart-manager *[ref='"+productReference+"']").remove();};this.cartManager.updateProduct=function(productReference,quantity){if(this.processing){var bAdded=false;for(var i=0;i<this.cmds.length;i++){if(this.cmds[i].ref==productReference){if(this.cmds[i].remove){return;}
if(this.cmds[i].quantity!=undefined&&!bAdded){this.cmds[i].quantity=this.cmds[i].quantity+quantity;bAdded=true;}}}
$(".cart-manager *[ref='"+productReference+"'] .quantity").each(function(){var $this=$(this);var q=parseInt($this.text(),10)+quantity;if(q>0)$this.text(q);});if(!bAdded){this.cmds.push({"ref":productReference,"quantity":quantity});}}else{$(".cart-manager *[ref='"+productReference+"'] .quantity").each(function(){var $this=$(this);var q=parseInt($this.text(),10)+quantity;if(q>0)$this.text(q);});this.execCmd({"ref":productReference,"quantity":quantity});}};});}
function q_languageHTML(options){if(!spacexml.spaces){spacexml.spaces=[{"lang":"fr","fake":true,"id":spacexml.id},{"lang":"en","fake":true}];}
var dict={"fr":"Français","en":"English","de":"Deutsch","it":"Italiano","pl":"Polski","ar":"العربية"};var itemshtml='<div class="q-language-menu-items-wrapper"><div class="q-language-menu-items">';var currLang;for(var i=0;i<spacexml.spaces.length;i++){var lang=spacexml.spaces[i].lang;if(!lang)continue;if(spacexml.spaces[i].id==spacexml.id){currLang=lang;}
itemshtml+='<div class="q-language-menu-item"><a href="'+q_httpsiteurl()+(spacexml.spaces[i].subhost?('/'+spacexml.spaces[i].subhost):'')+'" onclick="q_toggleLanguage(\''+lang+'\', this'+((options&&options.togglepage)?'':', true')+') ; return false">';if(options&&options.mode=="flags"){itemshtml+='<img style="width: 24px;" src="../../../images/flags/'+lang+'-48.png" /><span class="text"> '+escapeHTML(lang.toUpperCase())+'</span>';}else{itemshtml+=escapeHTML((options&&options.shortname)?lang.toUpperCase():dict[lang]);}
itemshtml+='</a></div>';}
currLang=currLang||"en";var html='<div class="q-language-menu" mode="'+((options&&options.mode)||"text")+'" dark="'+((options&&options.dark)||"0")+'"'+((options&&options.shortname)?' shortname="1"':'')+((options&&options.togglepage)?' togglepage="1"':'')+' onmouseover="q_over_languagemenu( this, event )" onmouseout="q_out_languagemenu( this, event )" onclick="q_click_languagemenu( this, event )"><div class="q-language-menu-active">';if(options&&options.mode=="flags"){html+='<img style="width: 24px;" src="../../../images/flags/'+currLang+'-48.png" />';}else{html+='<span class="value">'+escapeHTML((options&&options.shortname)?currLang.toUpperCase():dict[currLang])+'</span>';}
html+='<span class="font-q-i"></span>';if(options&&options.mode=="flags"){html+=itemshtml+'</div>';}else{html+='</div>'+itemshtml;}
html+='</div></div></div>';return html;}
function q_toggleLanguage(lang,elem,toggleHome){if(!spacexml.spaces){spacexml.spaces=[{"lang":"fr","fake":true,"id":spacexml.id},{"lang":"en","fake":true}];}
lang=lang||"en";var defaultSpaceid;for(var i=0;i<spacexml.spaces.length;i++){if(spacexml.spaces[i].lang==lang){if(spacexml.spaces[i].id==spacexml.id){$(elem).parents(".q-language-menu").removeClass("over");return;}
if(spacexml.spaces[i].fake)return q_alert("Mode démonstration. Nécessite un site multilingue.",null,true);return openservice(spacexml.spaces[i].id+(toggleHome?"":("/"+currsvcid)));}
if(!defaultSpaceid)defaultSpaceid=spacexml.spaces[i].id;}
if(defaultSpaceid)return openservice(defaultSpaceid+(toggleHome?"":("/"+currsvcid)));return;}
function q_over_languagemenu(elem){$(elem).addClass("over");}
function q_out_languagemenu(elem,event){event=event||window.event;var toElem=$(event.relatedTarget||event.toElement);if(toElem.hasClass("q-language-menu"))return;if(toElem.parents(".q-language-menu").length>0)return;$(elem).removeClass("over open");}
function q_click_languagemenu(elem){if($(elem).hasClass("open"))$(elem).removeClass("open");else $(elem).addClass("open");}
function q_track(logName,what,callback,withWaith){document.mainform.mission.value="tracking";if(withWaith)var fsm_waitId=q_fsm_wait();if(q_pagemode()=="edit"){what=spacexml.id+"/"+memberid+"\t"+what;}
q_ajaxsubmitwithservice("vp@"+parent.q_lang,{"log":logName,"data":what},function(x){if(withWaith)q_fsm_delete(fsm_waitId);if(callback)callback();});}
if(window.quomodo){quomodo.extend("page",function(){function geturlparams(url){var params={};var x=url.replace(/^[^?]*\??/,"");var t=x.split("&");var tt;for(var i=0;i<t.length;i++){tt=t[i].split("=");params[tt[0]]=decodeURIComponent(tt[1]);}
return params;}
this.urlparams=function(){return geturlparams(window.location.search);};this.isPopup=this.urlparams().popup=="true";this.popupid=this.urlparams().popupid;this.isIframe=(window.parent&&parent.window!=window);if(this.isIframe){try{this.iframeInParent=parent.quomodo.iframe(window);this.iframeInParent.__window=window;}catch(err){}}
this.svctype=function(){if((window.currsvcid)&&(/artemapage/.test(currsvcid)))return "page";else if((window.currsvcid)&&(/artemadisq/.test(currsvcid)))return "disq";else if((window.currsvcid)&&(/homepage/.test(currsvcid)))return "shareboard";return null;};this.close=function(){if(this.iframeInParent)this.iframeInParent.close();};this.href=function(src,newTab){var searchRe=new RegExp("\\?");if(this.isPopup){this.iframeInParent.togglewait(true).resize(260,126);this.iframeInParent.__window=null;}
var _this=this;setTimeout(function(){if(newTab){window.open(src+((_this.isPopup)?(((searchRe.test(src))?"&":"?")+"popup=true&popupid="+_this.popupId):""),"_blank");}else{window.location.href=src+((_this.isPopup)?(((searchRe.test(src))?"&":"?")+"popup=true&popupid="+_this.popupId):"");}},50);};function getPageOffset(){var $target=$("#"+(window.__resizeTargetId||"__calcoffset"));if($target.length){var max={};var o=$target.offset();return{scrollTop:o.top,scrollLeft:o.left,top:o.top,left:o.left,right:$target.width()+o.left,bottom:$target.height()+o.top};}
if(window.popupcalcoffset)return popupcalcoffset();if(window.quomodo&&quomodo.page&&quomodo.page&&quomodo.page.sections){if($("#p-0-stuff .qiframe-wrapper iframe").contents().find("#topheader").length>0){var tmp=$("#p-0-stuff").offset();var o={};o.scrollTop=tmp.top;o.scrollLeft=tmp.left;o.left=0;o.right=$("#p-0-stuff .qiframe-wrapper").width();o.bottom=$("#p-0-stuff .qiframe-wrapper iframe").height()-($("#p-0-stuff .qiframe-wrapper iframe").contents().find("#topheader").height()+$("#p-0-stuff .qiframe-wrapper iframe").contents().find("#qlub_topads").height());o.top=0;o.topHeader=0;}else{var o=quomodo.page.sections.offset(currsvcid);if(o.top==undefined){var tmp=$("#p-0-stuff").offset();o.scrollTop=tmp.top;o.scrollLeft=tmp.left;o.left=0;o.right=260;o.top=0;o.bottom=106;}else{o.scrollTop=Math.round((o.bottom==undefined||o.topHeader>o.bottom)?0:o.topHeader);o.scrollLeft=Math.round((o.left==undefined||o.left>o.right)?0:o.left);}}
return o;}
if(window.pages_calcpageoffset){var o=pages_calcpageoffset();var authorOffset=$("#q_author_stuff").offset();o.scrollTop=Math.round(authorOffset.top+((o.bottom==undefined||o.topHeader>o.bottom)?0:o.topHeader));o.scrollLeft=Math.round(authorOffset.left+((o.left==undefined||o.left>o.right)?0:o.left));return o;}
var offsetfn=function(){var d,noteh;var max={top:999999,left:990,right:0,bottom:0};var leftValueIsOk=false;var cnodes=document.body.childNodes;function offsets(elem){var l=elem.offsetLeft;var t=elem.offsetTop;var r=l+elem.offsetWidth;var b=t+elem.offsetHeight;return{"offsetLeft":l,"offsetTop":t,"offsetWidth":r-l,"offsetHeight":b-t};}
for(var i=0;i<cnodes.length;i++){d=offsets(cnodes[i]);var noteBottom=d.offsetTop+d.offsetHeight;var noteRight=d.offsetLeft+d.offsetWidth;if(noteBottom>max.bottom)max.bottom=noteBottom;if(noteRight>max.right)max.right=noteRight;if(d.offsetTop<max.top)max.top=d.offsetTop;if(d.offsetLeft<max.left){max.left=d.offsetLeft;leftValueIsOk=true;}}
if(!leftValueIsOk)return{};return max;}
var o=offsetfn();var top=document.body.offsetTop;var left=document.body.offsetLeft;o.scrollLeft=left;o.scrollTop=top;return o;}
this.triggerResized=function(){if(!this.isPopup)return;if(!this.nobodywidth){if(parent.qsn_responsive_mod()=="lg")$("body").width(devicesDef.lg.triggerWidth+16);else if(parent.qsn_responsive_mod()=="md")$("body").width(devicesDef.md.triggerWidth+16);else if(parent.qsn_responsive_mod()=="sm")$("body").width(devicesDef.sm.triggerWidth+16);else if(parent.qsn_responsive_mod()=="xs")$("body").width((this.iframeInParent&&this.iframeInParent.maxWidth)||($(parent.window).width()-20));else $("body").width($(parent.window).width()-20);}
var pageOffset=getPageOffset();if(!isNaN(pageOffset.left))this.iframeInParent.resize(pageOffset.right-pageOffset.left,pageOffset.bottom-(pageOffset.topHeader||pageOffset.top),pageOffset.scrollLeft,pageOffset.scrollTop);}
this.initPopup=function(options){if(!this.isPopup&&this.urlparams().popup!="true")return;this.isPopup=true;$("body").addClass("q-popup");var popupid=this.urlparams().popupid;this.popupId=popupid;this.__initTime=(new Date()).getTime();var _this=this;$(quomodo.page.iframeInParent).parents(".q_fsmblockcontainer_content, .q_fsmblockcontainer").attr("popupid",currsvcid);if(!window.triggerResized)window.triggerResized=function(){_this.triggerResized();}
function initpopup(){var pageOffset=getPageOffset();var currOffset=_this.__pageOffset;function hasChanged(){var keys=["left","right","top","bottom"];for(var i=0;i<keys.length;i++)if(currOffset[keys[i]]!=pageOffset[keys[i]])return true;return false;}
_this.__pageOffset=pageOffset;try{window.scrollTo(0,0);}catch(err){}
if(_this.iframeInParent){if(_this.iframeInParent.__window!=window)return;_this.iframeInParent.togglewait(false);if(!isNaN(pageOffset.left)){if(!options||!options.nobodywidth){if(parent.qsn_responsive_mod()=="lg")$("body").width(devicesDef.lg.triggerWidth+16);else if(parent.qsn_responsive_mod()=="md")$("body").width(devicesDef.md.triggerWidth+16);else if(parent.qsn_responsive_mod()=="sm")$("body").width(devicesDef.sm.triggerWidth+16);else if(parent.qsn_responsive_mod()=="xs")$("body").width(_this.iframeInParent.maxWidth||($(parent.window).width()-20));else $("body").width($(parent.window).width()-20);}else _this.nobodywidth=true;_this.iframeInParent.resize(pageOffset.right-pageOffset.left,pageOffset.bottom-(pageOffset.topHeader||pageOffset.top),pageOffset.scrollLeft,pageOffset.scrollTop);}}
if(!currOffset){$(document).ready(function(){initpopup();});return setTimeout(initpopup,300);}
if(hasChanged()||((new Date()).getTime()-_this.__initTime)<10000)return setTimeout(initpopup,1000);}
initpopup();if(!options||!options.displayHeaders){$("#h-0, #h-1, #h-2").css("visibility","hidden");$("#h-0, #h-1, #h-2").each(function(){var $parent=$(this).parent();if(!$parent.hasClass("sk-wra"))return;var b=true;$parent.find(".sk-sec").each(function(){if(!/^h-/.test(this.id)){b=false;return false;}});if(b)$parent.css("visibility","hidden");});}}
quomodo.events.addListener((!window.q_pagemode||!q_pagemode()||q_pagemode()=="web")?"finish_init.page":"finish_init.notes",function(eventDesc,eventName){this.initPopup();},this);});}
var q_events_newevent=1;var q_events_monthdays=[31,29,31,30,31,30,31,31,30,31,30,31];function q_events_renderevents(dest,events,options){if(typeof events&&!events.splice)events=[events];var thesrc=$('<div></div>');for(var i=0;i<events.length;i++)thesrc.append(q_events_eventHTML(events[i],options));if(events.length==1&&$(".q_event[qid='"+events[0].id+"'] .q_event_content",thesrc).length>0)$(".q_event[qid='"+events[0].id+"'] .q_event_title",thesrc).click();$(dest).append(thesrc);}
function q_events_eventHTML_elem(ppty,pptyvalue){if(!pptyvalue)return "";var bHTML=/:html$/.test(ppty);if(bHTML)ppty=ppty.replace(/:html$/,"");var val=$.trim(q_events_getPropHTML(ppty,pptyvalue));if(!val)return "";var tr='<tr>';tr+='<td class="q_eventhtml_title" width="100" valign="top">'+escapeHTML((q_events_msgs[ppty]||ppty)+q_events_msgs[":"])+'</td>';tr+='<td>'+(bHTML?val:escapeHTML(val))+'</td>';tr+='</tr>';return tr;}
function q_events_eventHTML(event,options){var t,c;var opt=$.extend({mode:"view",displaydate:true,displaytype:true,withdetails:true,displaydateformat:(q_lang=="en")?"mm/dd":"dd/mm",callback:"",callback_args:[]},options||{});function getColor(categoryColor){var finalcolor=quomodoColors.projectedColor(categoryColor,true,true).selectedid.replace(/\+.*/,"");return quomodoColors.richColor(finalcolor).c;}
var eventColor=null;var kind=event.eventkind||event.kind;switch(kind){case "birthday":var date=q_events_parseDate(event.day);t=((opt.displaytype)?q_events_msgs["birthday_title"]:"")+((event.firstname)?(event.firstname+" "):"")+event.member;if($.trim(event.category)&&event.category!=-1){if(event.category.color){eventColor=getColor(event.category.color);}}
v="";break;case "general":var date=q_events_parseDate(event.date);t=((opt.displaytype)?((q_events_msgs[kind]||kind)+q_events_msgs[":"]+" "):"")+event.title;v='<table cellspacing="5" cellpadding="0" border="0" width="100%" align="center">';if(event.icon)v+='<tr><td width="1%">'+q_events_getPropHTML("icon",event.icon)+'</td><td style="font-weight:bold; font-size:13px;">'+event.title+'</td></tr>';if($.trim(event.category)&&event.category!=-1){v+=q_events_eventHTML_elem("category",event.category);if(event.category.color){eventColor=getColor(event.category.color);}}
v+=q_events_eventHTML_elem("description"+(event.html=="1"?":html":""),event.description);if(event.image&&event.image.formats)v+='<tr><td></td><td align="left">'+q_events_getPropHTML("image",event.image)+'</td></tr>';break;case "match":var date=q_events_parseDate(event.date);t=(opt.displaytype)?((q_events_msgs[kind]||kind)+q_events_msgs[":"]+" "):"";var teams=[(event.localteam&&event.localteam.name)||"...",(event.vsteam&&event.vsteam.name)||event.vsteam||"..."];var score;if(event.homescore||event.vsscore)score=[event.homescore||"?",event.vsscore||"?"];if(event.__home=="1"){teams=teams.reverse();if(score)score.reverse();}
t+=teams.join(' VS ');if(score)t+=' ( '+score.join(" - ")+' )';v='<table cellspacing="5" cellpadding="0" border="0" width="100%" align="center">';v+=q_events_eventHTML_elem("time",event.time);var loc=q_events_getPropHTML("location",event.location);if(event.home&&event.home!="-1")loc+=((loc)?" - ":"")+" ("+q_events_getAttr("home",event.home)+")";if($.trim(loc))v+='<tr><td width="100" class="q_eventhtml_title">'+q_events_msgs["location"]+q_events_msgs[":"]+'</td><td>'+$.trim(loc)+'</td></tr>';v+=q_events_eventHTML_elem("competition",event.competition);v+=q_events_eventHTML_elem("step",event.step);v+=q_events_eventHTML_elem("comment",event.comment);v+='</table>';break;default:var date=new Date();t=(q_events_msgs[kind]||kind);v=q_tostring(event);break;}
if(opt.displaydate){var template=(eventColor?'<span class="q_event-separator" style="color:{eventcolor}">•</span>':'-')+' <span class="q_events_date">{date}</span> {event}';if(window.quomodoclient&&quomodoclient.eventTemplateHTML)template=quomodoclient.eventTemplateHTML[eventColor?"with-color":"without-color"];try{var d=$.datepicker.formatDate(opt.displaydateformat,date);}catch(e){d="invalid date";}
t=template.replace(/\{date\}/,d).replace(/\{event\}/,t).replace(/\{eventcolor\}/g,eventColor);}
var r=$('<div class="q_event">').attr({"qid":event.eventid||event.id,"qkind":kind});if(!event.eventid)r.attr({"qmode":"json"});var table=$('<table cellspacing="0" cellpadding="3" border="0" width="100%">').appendTo(r);var tr=$('<tr>').appendTo(table);if(opt.withdetails)tr.append('<td class="q_event_toggle" width="20px" style="visibility:hidden;" align="left">►</td>');tr.append('<td class="q_event_title">'+t+'</td>');if(opt.mode=="edit"){tr.append($('<td width="16"></td>').append($('<div class="adminmenu sprite_edit_16" title="'+q_events_msgs["edit"]+'" style="cursor:pointer;" ></div>').click(function(){q_events_edit($(this).parents('.q_event').attr("qid"),$(this).parents('.q_event').attr("qkind"),opt);}))).append($('<td width="16"></td>').append($('<div class="adminmenu sprite_page_dupl_16" title="'+q_events_msgs["duplicate"]+'" style="cursor:pointer;"></div>').click(function(){q_events_duplicate($(this).parents('.q_event').attr("qid"),$(this).parents('.q_event').attr("qkind"),opt);}))).append($('<td width="16"></td>').append($('<div class="adminmenu sprite_delete_16" title="'+q_events_msgs["delete"]+'" style="cursor:pointer;"></div>').click(function(){q_events_delete($(this).parents('.q_event').attr("qid"),$(this).parents('.q_event').attr("qkind"),opt);})));}
if(opt.withdetails&&v&&($(v).text()!=""||$(v).find("img").length)){$(".q_event_toggle",r).css("visibility","visible");$(".q_event_title, .q_event_toggle",r).css("cursor","pointer").click(function(){var ediv=$(this).parents(".q_event:first");$(".q_event_toggle",ediv).html(($(".q_event_toggle",ediv).html()=="▼")?"►":"▼");$(".q_event_content",ediv).slideToggle();});r.append('<div class="q_event_content" style="display:none;border-style:solid; border-width:1px;">'+v+'</div>');}
if(events_prototypes[kind]&&events_prototypes[kind].color){}else{$('.q_event_toggle, .q_event_title',r).addClass("clubcolor3");$('.q_event_content',r).addClass("clubbordercolor3");}
return r;}
function q_events_renderopenselects(kind,parent,options){var properties=[].concat(events_prototypes[kind].properties);for(var i=0;i<properties.length;i++)properties[i]=q_events_getProp(properties[i]);var table=$('<table cellspacing="0" cellpadding="5" border="0" width="95%" class="q_events_openselect_table">').bind("update",function(){var elems=$("select[kind='"+kind+"'] > "+kind,clubopenselects).get();elems=q_sort(elems,true,function(a){return $("name",a).text().replace(/[-.]/g,"").toLowerCase();});$(this).empty();var thead=$('<thead>').appendTo(this);var tr=$('<tr></tr>').appendTo(thead);for(var j=0;j<properties.length;j++)tr.append('<th>'+(q_events_msgs[properties[j]]||properties[j])+'</th>');tr.append('<th colspan="3"></th>');var tbody=$('<tbody>').appendTo(this);for(var i=0;i<elems.length;i++){var value=$(elems[i]).attr("value");var content=q_events_getJSON(kind,value,{realvalues:true});var tr=$('<tr class="q_events_openselect">').attr({"qkind":kind,"qid":value}).appendTo(tbody);for(var j=0;j<properties.length;j++){var c=content[properties[j]];if(properties[j]=="color")c='<div style="height:15px; width:30px;border:solid 1px #333; background-color:'+c+'"></div>';if(properties[j]=="logo")c='<img src="'+((c&&c.logourl)?(q_fsbaseurl()+((c.logourl.formats["square33"])?c.logourl.formats["square33"]:c.logourl.formats["original"])):q_events_defaultlogo(kind))+'"/';if(properties[j]=="logourl")c='<img src="'+((c)?(q_fsbaseurl()+((c.formats["square33"])?c.formats["square33"]:c.formats["original"])):q_events_defaultlogo(kind))+'"/';tr.append('<td>'+c+'</td>');}
tr.append('<td width="16"><div class="adminmenu sprite_edit_16" title="'+q_events_msgs["edit"]+'" style="cursor:pointer;" onclick="q_events_edit( $( this ).parents( \'.q_events_openselect\' ) );"></div></td>').append('<td width="16"><div class="adminmenu sprite_download_16" title="'+q_events_msgs["merge"]+'" style="cursor:pointer;" onclick="q_events_openselect_merge( $( this ).parents( \'.q_events_openselect\' ) ); "></div></td>').append('<td width="16"><div class="adminmenu sprite_delete_16" title="'+q_events_msgs["delete"]+'" style="cursor:pointer;" onclick="q_events_delete( $( this ).parents( \'.q_events_openselect\' ) );"></div></td>');}});var newid="new_"+q_events_newevent++;var thesrc=$('<div class="q_events_openselectform"></div>').append($('<div align="center"></div>').append(create_button({label:q_events_msgs[kind+"_newlink"],icon:"adminmenu sprite_symbol_new_16",onclick:function(){q_eventform_display("new",kind,table,newid,options);}}))).append($('<div style="max-height:500px; width:550px; overflow:auto;" onmousedown="q_stopPropagation( event );"></div>').append(table)).append($('<div align="center"></div>').append(create_button({label:common_message["close"],icon:"adminmenu sprite_cancel_32",onclick:function(){q_fsm_delete();}})));table.trigger("update");q_fsm_reveal({src:thesrc.get(0),title:q_events_msgs[kind+"_edittitle_list"],delete_callback:function(){if(parent&&parent.length){parent.trigger("update");}}});}
function q_events_request(callback,options){document.mainform.mission.value="processxml";var mimeType={"xml":"application/xml","json":"text/json"};var type=(options&&options.type)||"json";type="json";var json={"href":"events.xml","type":mimeType[type],"pi-title":"select"};var r=$.extend({},options);r.openselects=(options&&options.openselects)||"filter";if(r.openselects=="all"&&clubopenselects)r.openselects="none";else if(r.openselects=="always")r.openselects="all";if(options&&options.eventid)r.events=[{id:options.eventid}];if(options&&options.events){var dates=q_events_period.dates((options.events[0]&&options.events[0].date)||"all");if(dates[0])r.start=$.datepicker.formatDate("yy-mm-dd",dates[0]);if(dates[1])r.end=$.datepicker.formatDate("yy-mm-dd",dates[1]);r.events=[];for(var i=0;i<options.events.length;i++){var event={kind:options.events[i].kind};event=$.extend(event,options.events[i].filter);r.events.push(event);if($.inArray(event.matchselector,["l","n","ln","played","toplay"])!=-1)r.lastnext=$.datepicker.formatDate("yy-mm-dd",new Date());}}
json["pi-param"]=r;xq_ajaxsubmitwithservice("common@"+q_lang,json,function(data){if(type=="xml"){clubevents=$("events",data).get(0);if(r.openselects!="none")clubopenselects=$("openselects",data).get(0);return callback(data);}
if(!eventsManager.selects||r.openselects=="all")eventsManager.selects={};if(!eventsManager.selects.__mode||eventsManager.selects.__mode!="all")eventsManager.selects.__mode=r.openselects;data=eventsManager.update(data);if((data.__withMatches||r.openselects=="all")&&!window.q_sports_db)return q_include({urls:["/scriptsauto/sports_db_"+q_lang+".js"]},function(){callback(data);});callback(data);},type=="xml");}
function q_events_deleteevents(events,callback){if(!events.length)return q_alert(q_events_msgs["deleteevents_noevents"]);var msg="";if(events.length==1)msg+=(q_events_msgs["deleteoneevent_confirm"]+"<br/><br/>");else msg+=(q_events_msgs["deleteevents_confirm"]+"<br/><br/>").replace("%s",events.length);var div=$('<div onmousedown="q_stopPropagation( event );"></div>').append(msg);var eventsdiv=$('<div style="width:450px; max-height:300px; overflow:auto;padding-bottom:4px" onmousedown="q_stopPropagation( event );"></div>').appendTo(div);var eventstorender=[].concat(events);eventstorender.sort(function(a,b){var adate=q_events_parseDate(a.date||a.day||"");var bdate=q_events_parseDate(b.date||b.day||"");return adate-bdate;});q_events_renderevents(eventsdiv,eventstorender,{});q_confirm(div,{callback:function(){q_fsm_wait();var eventids=$.map(events,function(v){return v.id;});document.mainform.mission.value="deleteevent";q_ajaxsubmitwithservice("common@"+q_lang,{id:eventids},function(){q_fsm_delete();for(var i=0;i<eventids.length;i++)$("event[id='"+eventids[i]+"']",clubevents).remove();if(callback)callback();});}});}
function q_events_addevents(events,msg,options){if(!events.length)return q_alert(q_events_msgs["addevents_noevents"]);if(!msg)msg="";else msg+="<br/><br/>";if(events.length==1)msg+=(q_events_msgs["addoneevent_confirm"]+"<br/><br/>");else msg+=(q_events_msgs["addevents_confirm"]+"<br/><br/>").replace("%s",events.length);var div=$('<div onmousedown="q_stopPropagation( event );"></div>').append(msg);var eventsdiv=$('<div style="width:450px; max-height:300px; overflow:auto;padding-bottom:4px" onmousedown="q_stopPropagation( event );"></div>').appendTo(div);events.sort(function(a,b){var adate=q_events_parseDate(a.date||a.day||"");var bdate=q_events_parseDate(b.date||b.day||"");return adate-bdate;});var eventstorender=[];for(var i=0;i<events.length;i++){var event=eventsManager.finalizeEvent($.extend({},events[i]));eventstorender.push(event);}
q_events_renderevents(eventsdiv,eventstorender,options);var tosave=[];for(var i=0;i<events.length;i++){var id=events[i].eventid;var kind=events[i].eventkind;delete events[i].eventid;delete events[i].eventkind;for(var k in events[i])
if(events[i][k]==null)
events[i][k]="";tosave[i]={id:id,kind:kind,value:events[i]};}
q_confirm(div,{callback:function(){eventsManager.saveEvents(tosave,function(){q_alert(q_events_msgs["addevents_done"]);q_apply(options.callback,options.callback_args||options.args);});}});}
function q_events_addevents_done(options){q_alert(q_events_msgs["addevents_done"]);q_apply(options.callback,options.callback_args||options.args);}
function q_events_print(events){if(!events.length)return q_alert(q_events_msgs["print_noevents"]);if(!spacexml.members_light)return q_ajaxgetppty("membersalllight",function(x){q_events_print(events);});var grids={};for(var i=0;i<events.length;i++){var e=events[i];if(!grids[e.kind])grids[e.kind]=[];grids[e.kind].push(e);}
var thesrc=$("<div></div>");var div=$('<div style="width:700px; max-width:800px; max-height:600px; overflow:auto;" onmousedown="q_stopPropagation( event );"></div>').appendTo(thesrc);var printdiv=$('<div style="background-color:white;background-image:none;color:#333;"></div>').appendTo(div);for(var i in grids){if($.inArray(i,events_types)==-1)continue;printdiv.append('<h3 class="clubcolor3" align="left">'+q_events_msgs["events_"+i]+'</h3>');var tablediv=$('<div></div>').appendTo(printdiv);var thead=$('<thead></thead>');var tr=$('<tr></tr>').css("font-weight","bold").addClass("clubbackgroundcolor6").appendTo(thead);var ppties=events_prototypes[i].properties;for(var j=0;j<ppties.length;j++)tr.append('<th>'+q_events_msgs[q_events_getProp(ppties[j])]+'</th>');var tbody=$('<tbody></tbody>');for(var k=0;k<grids[i].length;k++){var tr=$('<tr></tr>').appendTo(tbody);for(var j=0;j<ppties.length;j++){var p=q_events_getProp(ppties[j]);tr.append('<td>'+q_events_getPropHTML(p,grids[i][k][p])+'</td>');}}
var table=$('<table cellspacing="0" cellpadding="3" border="1" width="100%" class="clubbordercolor3" style="border-collapse:collapse;background-color:white;font-size : 12px;"></table>').append(thead).append(tbody).appendTo(tablediv);}
q_printThis($(printdiv).html());}
function q_events_export(events,options){if(!events||!events.length)return q_alert(q_events_msgs["export_noevents"],null,true);if(!spacexml.members_light)return q_ajaxgetppty("membersalllight",function(x){q_events_export(events,options);});var listToExport=[];var events_by_t=[];var ev_proto_prop;var ev_proto_props;var ev_k;var ev_k_line=[];var ev_proto_prop_line=[];var ev_line=[];var empty_line=[];for(var i=0;i<events.length;i++){ev_line=[];ev_k=events[i].kind;if(!events_by_t[ev_k])events_by_t[ev_k]=[];for(var y=0;y<events_prototypes[ev_k]["properties"].length;y++){ev_proto_prop=q_events_getProp(events_prototypes[ev_k]["properties"][y]);if(ev_proto_prop=="registeredMembers"){ev_line.push((function(pptyvalue){if(!pptyvalue)return "";var allmembers=spacexml.members_light;var listmembers=[];for(var i=0;i<pptyvalue.length;i++){if(allmembers[pptyvalue[i]])listmembers.push(allmembers[pptyvalue[i]].firstname+" "+allmembers[pptyvalue[i]].username);}
if(listmembers.length>0)return listmembers.join(", ");return "";})(events[i][ev_proto_prop]));}else if(ev_proto_prop!="icon"&&ev_proto_prop!="image"){if(typeof(events[i][ev_proto_prop])=="object")ev_line.push(events[i][ev_proto_prop]["name"]);else ev_line.push((ev_proto_prop=="day"||ev_proto_prop=="date")?$.datepicker.formatDate("dd/mm/yy",q_events_parseDate(events[i][ev_proto_prop])):(events[i][ev_proto_prop]||""));}}
events_by_t[ev_k].push(ev_line);}
for(var i=0;i<events_types.length;i++){var ev_k=events_types[i];if(!events_by_t[ev_k])continue;ev_k_line=[];ev_proto_prop_line=[];ev_k_line.push(q_events_msgs[ev_k]);ev_proto_props=events_prototypes[ev_k]["properties"];for(var y=0;y<ev_proto_props.length;y++){if(ev_proto_props[y]!="icon"&&ev_proto_props[y]!="image")ev_proto_prop_line.push(q_events_msgs[q_events_getProp(ev_proto_props[y])]);}
listToExport.push(ev_k_line);listToExport.push(ev_proto_prop_line);listToExport=listToExport.concat(events_by_t[ev_k]);listToExport.push(empty_line);}
q_exportcsv(listToExport,$.extend({exportname:"events"},options));}
function q_events_duplicate(id,kind,options){if(!id)return;function duplicate(event){var e=$.extend({},event);var opt={id:id,mode:"duplicate",kind:kind,callback:function(){q_apply(options.callback,options.callback_args||options.args);}};q_events_edit(e.id,e.kind,opt);}
duplicate(eventsManager.events[id]);}
function q_events_openselect_merge(item){var id=item.attr("qid");var kind=item.attr("qkind");var content=q_events_getJSON(kind,id,{realvalues:true});var thesrc=$('<div></div>');var div=$('<div class="q_events_mergeopenselect"></div>').appendTo(thesrc);div.append("<div>"+q_events_msgs["mergeopenselect_select"].replace("%s",q_events_msgs[kind])+"<br/><li><b>"+q_events_getPropHTML(kind,content)+"</b></li></div><br/>");var select=$('<select class="q_events_mergeopenselect_select"></select>').options($.map($('select[kind="'+kind+'"] > '+kind,clubopenselects),function(v,i){var value=$(v).attr("value");if(value==id)return null;return{name:q_events_getPropHTML(kind,q_events_getJSON(kind,value,{realvalues:true})),value:value};})).appendTo(div);div.append("<br/><br/>");var thetable=$('<table cellspacing="0" cellpadding="0" border="0"><tr class="q_eventform_buttons"></tr></table>').appendTo(div);$(".q_eventform_buttons",thetable).append($('<td>').append(create_button({label:common_message["cancel"],icon:"adminmenu sprite_cancel_32",onclick:function(){q_fsm_delete();}}))).append($('<td>').append(create_button({label:common_message["ok"],icon:"adminmenu sprite_validate_32",onclick:function(){var elem=$(this).parents(".q_events_mergeopenselect:first");var val=$(".q_events_mergeopenselect_select",elem).val();q_confirm(q_events_msgs["confirmmerge"].replace("%s",q_events_msgs[kind+"_this"]),{callback:q_events_openselect_merge_confirmdone,callback_args:[val,id,kind]});}})));q_fsm_reveal({src:thesrc.get(0),title:q_events_msgs["mergeopenselect"],delete_callback:function(){if(item&&item.length){item.trigger("update");}}});}
function q_events_openselect_merge_confirmdone(newid,oldid,kind){var eventsxml=$('event',clubevents).filter(function(){return $(kind,this).text()==oldid;});var eventsids=eventsxml.map(function(){return $(this).attr("id");}).get();q_fsm_wait();q_events_delete_confirmdone(oldid,kind,"",{callback:q_events_openselect_merge_step2,callback_args:[eventsxml,kind,newid,oldid]});}
function q_events_openselect_merge_step2(eventsxml,kind,newid,oldid){$('select[kind="'+kind+'"] > '+kind+'[value="'+oldid+'"]',clubopenselects).remove();if(!eventsxml.length){q_fsm_delete();q_fsm_delete();return;}
var e=eventsxml.clone();$(kind,e).text(newid);var events={};for(var i=0;i<e.length;i++){var id=e.eq(i).attr("id");var k=e.eq(i).attr("kind");events[id]={kind:k,item:e.eq(i)};}
q_events_save(events,"event",q_events_openselect_merge_done,[eventsxml,kind,newid]);}
function q_events_openselect_merge_done(eventsxml,kind,newid){$(kind,eventsxml).text(newid);q_fsm_delete();q_fsm_delete();}
function q_events_dialogPath(kind){if(kind!="general")return "/scripts/q_event_siteevents_dialogs/"+kind+"/index_"+q_lang+".html";if(spacexml.memberparams&&spacexml.memberparams.skexpert){return "/scripts/q_event_siteevents_dialogs/general-2/index_"+q_lang+".html";}else{return "/scripts/q_event_siteevents_dialogs/general/index_"+q_lang+".html";}}
function q_events_edit(id,kind,options){var kind=(options&&options.kind)?options.kind:kind;var id=(options&&options.id)?options.id:id;if(!events_prototypes[kind])return;var q_event=eventsManager.events[id];if(options&&options.mode=="duplicate"){q_event.id=null;id=null;}
var opt={json:{"event":q_event},callback:function(x){if(!x)return;eventsManager[q_event.kind].save(id,x,function(){if(options&&options.callback)options.callback(x);});}};quomodo.fsm.loadDialog(q_events_dialogPath(q_event.kind),opt);}
function q_events_delete(id,kind,options){var path="/scripts/q_event_smartnote_dialog/delete/index_"+q_lang+".html";var opt={callback:function(x){if(x==null)return;eventsManager[kind].remove(id,function(){if(options&&options.callback)options.callback();});}};quomodo.fsm.loadDialog(path,opt);}
function q_events_deleterequest(id,kind,callback){q_fsm_wait();function done(x){q_fsm_delete();if(callback)callback(x);}
if(events_prototypes[kind].kind=="event"){document.mainform.mission.value="deleteevent";q_ajaxsubmitwithservice("common@"+q_lang,{id:id},done);}else{document.mainform.mission.value="deleteopenselect";q_ajaxsubmitwithservice("common@"+q_lang,{id:id,kind:kind},done);}}
function q_events_delete_confirmdone(id,kind,item,options){q_fsm_wait();if(events_prototypes[kind].kind=="event"){document.mainform.mission.value="deleteevent";q_ajaxsubmitwithservice("common@"+q_lang,{id:id},"q_events_delete_done",[kind,id,item,options]);}else{document.mainform.mission.value="deleteopenselect";q_ajaxsubmitwithservice("common@"+q_lang,{id:id,kind:kind},"q_events_delete_done",[kind,id,item,options]);}}
function q_events_delete_done(x,kind,id,parent,options){q_fsm_delete();q_events_getXML(kind,id).remove();if(parent&&parent.length){parent.trigger("update");}
q_apply(options.callback,options.callback_args||options.args);}
function q_events_saverequest(items,type,callback){if(!items.splice)items=[items];q_fsm_wait();function done(x){q_fsm_delete();if(callback)callback(x);}
if(type=="event"){document.mainform.mission.value="setevent";q_ajaxsubmitwithservice("common@"+q_lang,{events:items},done);}else{document.mainform.mission.value="setopenselect";q_ajaxsubmitwithservice("common@"+q_lang,{openselects:items},done);}}
function q_events_save(items,type,callback,args){var itemstosend=[];for(var i in items){try{var item=items[i].item.get(0);var kind=events_prototypes[items[i].kind].kind||"event";var id=i;try{var xmlString=(new XMLSerializer()).serializeToString(item);}catch(f){var xmlString=item.xml;}
xmlString=xmlString.replace(/ xmlns="[^"]*"/g,"");var properties=events_prototypes[items[i].kind].properties;for(var j=0;j<properties.length;j++){pp=q_events_getProp(properties[j]);var reg=new RegExp("(</?)"+pp.toUpperCase()+"\\b","g");xmlString=xmlString.replace(reg,"$1"+pp.toLowerCase());}
itemstosend.push({id:id,kind:items[i].kind,value:xmlString});}catch(err){var s="Contactez le service technique avec les infos suivantes : in q_events_save : ";try{s+="kind = "+items[i].kind;}catch(e){}
try{s+=err.message;}catch(e){}
try{s+=err.description;}catch(e){}
try{s+=callback.toString();}catch(e){}
debugmail(s);return;}}
q_fsm_wait();if(type=="event"){document.mainform.mission.value="setevent";q_ajaxsubmitwithservice("common@"+q_lang,{events:itemstosend},q_events_save_done,[items,type,callback,args]);}else{document.mainform.mission.value="setopenselect";q_ajaxsubmitwithservice("common@"+q_lang,{openselects:itemstosend},q_events_save_done,[items,type,callback,args]);}}
function q_events_save_done(x,items,type,callback,args){function cloneXML(xmlobject,target){var d=target.ownerDocument||document;var elems=xmlobject.childNodes;for(var i=0;i<elems.length;i++){var x=elems[i];if(x.nodeType==3){var v=x.nodeValue;target.appendChild(d.createTextNode(v));}else{var k=x.tagName;var clone=d.createElement(k)
cloneXML(x,clone);target.appendChild(clone);}}
var atts=xmlobject.attributes;for(var i=0;i<atts.length;i++){var x=atts[i];target.setAttribute(x.nodeName,x.nodeValue);}}
for(var i in x){if(x[i].kind=="event"){var xmlobject=items[i].item.attr("id",x[i].newid).get(0);var d=clubevents.ownerDocument||document;var target=$(d.createElement(xmlobject.tagName)).appendTo(clubevents).get(0);cloneXML(xmlobject,target);}else{var xmlobject=items[i].item.attr("value",x[i].newid).get(0);var d=clubopenselects.ownerDocument||document;var target=$(d.createElement(xmlobject.tagName)).appendTo($("select[kind='"+items[i].kind+"']",clubopenselects)).get(0);cloneXML(xmlobject,target);}}
q_fsm_delete();q_apply(callback,args);}
function q_eventform_iconchooser(x,v,option){var d=$('<div></div>');var container=$('<div class="q_eventform_icon_container" style="display:none;"></div>').appendTo(d);var t=$('<table cellspacing="0" cellpadding="0" border="0">').appendTo(container);for(var i in qlub_iconsref){if((i-1)%8==0)var tr=$('<tr></tr>').appendTo(t);tr.append('<td style="border:solid 1px transparent;"><img width="24" src="/bundles/qlub/images/clubicons32/'+qlub_iconsref[i].file+'.png" alt="'+qlub_iconsref[i].file+'"/></td>');}
$("td",container).click(function(){$('.q_eventform_icon_input',d).val($("img",this).attr("src").replace(/.*(\/bundles\/qlub\/.*)/,"$1"));$('.q_eventform_icon_preview',d).attr("src",$("img",this).attr("src"));$('.q_eventform_icon_container',d).hide();$('.q_eventform_icon_button',d).show();}).hover(function(){$(this).css("border-color","black");},function(){$(this).css("border-color","transparent");});container.append(create_button({label:q_events_msgs["icon_none"],small:true,onclick:function(){$('.q_eventform_icon_input',d).val("");$('.q_eventform_icon_preview',d).attr("src",'/images/blank.gif');$('.q_eventform_icon_container',d).hide();$('.q_eventform_icon_button',d).show();}}));return d.append('<input type="hidden" class="q_eventform_icon_input qevtsmgr_'+x+'" value="'+(v||"")+'"/>').append($('<table cellspacing="0" cellpadding="0" border="0">').append($('<tr>').append('<td><img class="q_eventform_icon_preview" alt="" width="24" src="'+(v||"/images/blank.gif")+'" /></td>').append($('<td>').append(create_button({"class":"q_eventform_icon_button",label:q_events_msgs["icon_add"],icon:"adminmenu sprite_edit_16",onclick:function(){$('.q_eventform_icon_button',d).hide();$('.q_eventform_icon_container',d).show();},small:true})))));}
function q_append_eventform_openselect(target,name,value,ppties){if(!ppties||!ppties.multiple)return $(target).append(q_eventform_openselect(name,value,ppties));var gridId="qevtsmgr_tmp_"+(cloneNumber++);var s=$('<div class="gridselect qevtsmgr_'+name+'" rel="'+gridId+'"><table cellspacing="0" cellpadding="0" border="0" class="qevtsmgr_'+name+'" id="'+gridId+'"></table></div>').appendTo(target).bind("update",function(){var griddata=[{name:q_events_msgs["chooseinselect"],value:-1}].concat($.map($("select[kind='"+name+"'] > "+name,clubopenselects),function(v,i){return{name:$("name",$(v)).text(),value:$(v).attr("value")};}).sort(function(a,b){if(a.name.toLowerCase()<b.name.toLowerCase())return-1;if(a.name.toLowerCase()>b.name.toLowerCase())return 1;return 0;}));var $grid=$("table:eq(0)",this)
$grid.jqGrid({datatype:"local",data:griddata,colModel:[{name:"name",sortable:false,index:"name",label:(q_events_msgs["filter_"+name]||q_events_msgs[name]||name)},{name:"value",index:"value",hidden:true}],gridview:true,shrinkToFit:true,width:250,height:(griddata.length>3)?75:"auto",rowNum:griddata.length,multiselect:true});$("#gview_"+gridId+" .ui-jqgrid-hdiv").hide();if(value!=null&&value!=undefined){if(typeof value!="object")value=[value];}else value=[-1];var options=$.map(griddata,function(v){return v.value;});for(var i=0;i<value.length;i++)$grid.setSelection(""+(1+$.inArray(value[i],options)));});return s.trigger("update");}
function q_events_defaultlogo(mode,size){mode=(mode||"local").replace(/team/,"");size=size||"33";function formattype(){if(spacexml.infos.subscribe_use=="sport"){var catsWithIcon=["arts-martiaux-sports-de-combat","badminton","basketball","cyclisme","football","forme-force-physique-mentale","handball","rugby","sports-choregraphiques","sports-de-nature","sports-de-precision","sports-de-vitesse","tennis-de-table","tennis","volley"];if($.inArray(spacexml.infos.type,catsWithIcon)!=-1)return spacexml.infos.type;else{var cats_arr=q_sports_db.sportsdict[spacexml.infos.type].categories;var i;for(i=0;i<cats_arr.length;i++){if($.inArray(cats_arr[i],catsWithIcon)!=-1)return cats_arr[i];}
return "other";}}else return "other";}
return "/bundles/qlub/images/logosDefaultTeam/"+size+"/"+((mode=="vs")?"vs":"local")+"/"+formattype()+".png";}
function q_eventform_openselect(name,value,ppties,parentkind){if(name=="logo"){var s=$('<div class="qevtsmgr_'+name+'" qkind="'+name+'" style="width:300px ; overflow : auto"></div>').bind("update",function(){$(this).empty().horizontalselect({imgheight:33,values:[{src:q_events_defaultlogo(parentkind),value:""}].concat($.map($("select[kind='"+name+"'] > "+name,clubopenselects),function(v,i){return{src:q_fsbaseurl()+$("logourl formats square33",$(v)).text(),value:$(v).attr("value")};}))});if(value!=null&&value!=undefined&&((typeof value)!="object"||value.length))$(this).val(value);else $(this).val("");return $(this);});}else{var s=$('<select class="qevtsmgr_'+name+'" qkind="'+name+'"></select>').bind("update",function(){$(this).empty().options([{name:q_events_msgs["chooseinselect"],value:-1}].concat($.map($("select[kind='"+name+"'] > "+name,clubopenselects),function(v,i){var optiontext=$("name",$(v)).text();if(name=="location"&&$("city",$(v)).text())optiontext=$("city",$(v)).text()+" - "+optiontext;return{name:optiontext,value:$(v).attr("value")};}).sort(function(a,b){if(a.name.toLowerCase()<b.name.toLowerCase())return-1;if(a.name.toLowerCase()>b.name.toLowerCase())return 1;return 0;})));if(value!=null&&value!=undefined&&((typeof value)!="object"||value.length))$(this).val(value);else $(this).val(-1);return $(this);});if(ppties&&ppties.multiple)s.attr("multiple","multiple");}
return s.addClass("__update");}
function q_eventform_closedselect(name,value,ppties){var options=[{name:q_events_msgs["chooseinselect"],value:-1}];var p=events_prototypes[name].properties;if(p)options=options.concat($.map(p,function(v,i){return{name:q_events_msgs[v[1]]||v[1],value:v[0]};}));var s=$('<select class="qevtsmgr_'+name+'"></select>').empty().options(options);if(value!=null&&value!=undefined&&((typeof value)!="object"||value.length))s.val(value);else s.val(-1);if(ppties&&ppties.multiple)s.attr("multiple","multiple");return s;}
function q_eventform_yearselect(name,value,ppties){var y=new Date().getFullYear();var thedate=new Date();var endweek=new Date(thedate.getFullYear(),thedate.getMonth(),thedate.getDate()+7-thedate.getDay());var nextweek=new Date(thedate.getFullYear(),thedate.getMonth(),thedate.getDate()+8-thedate.getDay());var endnextweek=new Date(thedate.getFullYear(),thedate.getMonth(),thedate.getDate()+14-thedate.getDay());var sel=$('<select class="qevtsmgr_'+name+'"></select>').empty().options([{name:q_events_msgs["chooseinselect"],value:-1},{label:"-- "+q_events_msgs["future"],options:[{name:q_events_msgs["tomorrow"],value:"tm"},{name:q_events_msgs["nextweek"],value:"nw"},{name:q_events_msgs["nextmonth"],value:"nm"},{name:q_events_msgs["next"].replace(/%s/,"7"),value:"7daysf"},{name:q_events_msgs["next"].replace(/%s/,"15"),value:"15daysf"},{name:q_events_msgs["next"].replace(/%s/,"30"),value:"30daysf"}]},{label:"-- "+q_events_msgs["current"],options:[{name:q_events_msgs["today"],value:"td"},{name:q_events_msgs["currentweek"],value:"w"},{name:q_events_msgs["currentmonth"],value:"m"},{name:q_events_msgs["currentyear"],value:"y"}]},{label:"-- "+q_events_msgs["past"],options:[{name:q_events_msgs["yesterday"],value:"yd"},{name:q_events_msgs["lastweek"],value:"lw"},{name:q_events_msgs["lastmonth"],value:"lm"},{name:"7"+q_events_msgs["last"],value:"7daysp"},{name:"15"+q_events_msgs["last"],value:"15daysp"},{name:"30"+q_events_msgs["last"],value:"30daysp"}]}]);if(value)sel.val(value);return sel;}
function q_eventform_matchselector(name,value,ppties){var sel=$('<select class="qevtsmgr_'+name+'"></select>').empty().options([{name:q_events_msgs["chooseinselect"],value:-1},{name:q_events_msgs["lastmatch"],value:"l"},{name:q_events_msgs["nextmatch"],value:"n"},{name:q_events_msgs["last&nextmatchs"],value:"ln"},{name:q_events_msgs["playedmatchs"],value:"played"},{name:q_events_msgs["matchstoplay"],value:"toplay"}]);if(value)sel.val(value);if(ppties&&ppties.multiple)sel.attr("multiple","multiple");return sel;}
function q_eventform_textinput(name,value,ppties){if(ppties&&ppties.textarea)var s=$('<textarea class="'+"qevtsmgr_"+name+'">').html(value||"");else var s=$('<input type="text" class="'+"qevtsmgr_"+name+'"/>').val(value||"");return s;}
function q_eventform_filechooser(name,value,ppties,options){var d=$('<div class="event_image"></div>').append('<input type="hidden" class="q_eventform_imageinput qevtsmgr_'+name+'" value=""/>').append($('<table cellspacing="0" cellpadding="0" border="0">').append($('<tr>').append('<td><img src="/images/blank.gif" class="q_eventform_imagepreview"/></td>').append($('<td class="q_eventform_imagebuttons">').append(create_button({label:q_events_msgs["image_add"],icon:"adminmenu sprite_album_16",onclick:function(){q_choosefile(q_eventform_image_request(options));},small:true})))));q_eventform_image_done(value,d,options);return d;}
function q_eventform_dayselector(name,value,ppties){var date=q_events_parseDate(value);var v=$.datepicker.formatDate("mm_dd",date);var d=$('<div></div>').append('<input type="hidden" class="qevtsmgr_'+name+'" value="'+v+'"/>');var sel=$('<select style="width:70px;margin-right:10px;"></select>').options($.map(new Array(31),function(v,i){return{name:""+(i+1),value:twodigs(i+1)};})).val(twodigs(parseInt(v.split("_")[1],10))).change(function(){q_eventform_daysel_update(this,"day");}).appendTo(d);sel=$('<select style="width:150px;"></select>').options($.map(new Array(12),function(v,i){return{name:mname[i],value:twodigs(i+1)};})).val(twodigs(parseInt(v.split("_")[0],10))).change(function(){q_eventform_daysel_update(this,"month");}).appendTo(d);return d;}
function q_eventform_calendar(name,value,ppties){if(!value)value=$.datepicker.formatDate("yy_mm_dd",new Date());var v=q_events_parseDate(value);return $('<div></div>').append('<div class="q_eventform_cal_display">'+$.datepicker.formatDate($.datepicker.regional[q_lang]["dateFormat"],v)+'</div>').append('<input type="hidden" class="'+"qevtsmgr_"+name+'" value="'+value+'" />');}
function q_eventform_color(name,value,ppties){var div=$('<div class="q_eventform_color"></div>').css("background-color",value).click(function(){q_colors({selected:value,c1c2:false,c1decline:false,forcecolor:true,callback:function(x,y){$(y).css("background-color",x);$(y).next().val(x);},callback_args:this});});return $('<div></div>').append(div).append('<input type="hidden" class="'+"qevtsmgr_"+name+'" value="'+value+'" />');}
function q_eventform_image_request(options){options=$.extend({},options);return{"uploadkind":"image","multiple":false,formats:options.formats||"screen halfscreen quarterscreen",validimgformat:options.validimgformat,"extensions":["jpg","jpeg","png","gif","tiff","tif"],"callback":function(x){return q_eventform_image_done(x,null,options);},fromquomodo:true,"resize":true,"resize_option":{"ratio":options.ratio||"image"},"transparency":"image","web":false,"prompt":q_events_msgs["image_add"],"title":q_events_msgs["image_add"]};}
function q_eventform_image_done(x,target,options){if(!x)return;options=$.extend({},options);if(x&&x.files&&x.files[0])x=x.files[0];$(".q_eventform_imageinput",target).val(q_toxml(x));$(".q_eventform_imagebuttons",target).empty().append(create_button({label:q_events_msgs["image_change"],icon:"adminmenu sprite_edit_16",small:true,onclick:function(){q_choosefile(q_eventform_image_request(options));}})).append(create_button({label:q_events_msgs["image_delete"],icon:"adminmenu sprite_delete_16",small:true,onclick:function(){q_eventform_image_suppress(target,options);}}));$(".q_eventform_imagepreview",target).attr({"alt":x.linkname,"src":q_fsbaseurl()+x.formats["height50"]+"?d="+(new Date()).getTime()});}
function q_eventform_image_suppress(target,options){options=$.extend({},options);$(".q_eventform_imageinput",target).val("");$(".q_eventform_imagepreview",target).attr({"alt":"","src":"/images/blank.gif"});$(".q_eventform_imagebuttons",target).empty().append(create_button({label:q_events_msgs["image_add"],icon:"adminmenu sprite_album_16",small:true,onclick:function(){q_choosefile(q_eventform_image_request(options));}}));}
function q_eventform_daysel_update(x,type){var d=$(x).parents('div:first');var sels=$('select',d);if(type=="month"){var m=x.selectedIndex;if(sels.get(0).selectedIndex>q_events_monthdays[m]-1)sels.get(0).selectedIndex=q_events_monthdays[m]-1;for(var i=0;i<31;i++)$(sels.get(0).options[i]).toggle(i<q_events_monthdays[m]);}
$('input[type="hidden"]',d).val(sels.eq(1).val()+"_"+sels.eq(0).val());}
function q_events_newXML(kind,id){if(!events_prototypes[kind])return;if(!id)id="new_"+q_events_newevent++;var e=null;var p=events_prototypes[kind].properties;var xmldoc=q_parseXMLstring("<root/>");if(events_prototypes[kind].kind=="event"){e=$(xmldoc.createElement("event")).attr({"kind":kind,"id":id});for(var i=0;i<p.length;i++)e.append(xmldoc.createElement(q_events_getProp(p[i])));}else{if(!$("select[kind='"+kind+"']",clubopenselects).length){var select=$(xmldoc.createElement("select")).attr("kind",kind);$(clubopenselects).append(select);}
e=$(xmldoc.createElement(kind)).attr("value",id);for(var i=0;i<p.length;i++)e.append(xmldoc.createElement(q_events_getProp(p[i])));}
return e;}
function q_events_getXML(kind,id){if(id=="undefined")return null;if(events_prototypes[kind].kind=="event")return $("event[id='"+id+"']",clubevents);else return $("select[kind='"+kind+"'] > "+kind+"[value='"+id+"']",clubopenselects);}
function q_events_getJSON(kind,id,options){opt=$.extend({originaldate:true,realvalue:false},options||{});var pptypath=(options&&options.pptypath)||[];var item=(typeof id=="string")?q_events_getXML(kind,id):id;if(!item.length){if(opt.realvalues&&kind=="logo"){var mode;if(pptypath.length)mode=pptypath[pptypath.length-1];return q_events_defaultlogo(mode);}else return "";}
var p=events_prototypes[kind].properties;var pp,v;var r=q_xmltojson(item);var pptypath=pptypath.concat([kind]);for(var i=0;i<p.length;i++){ppty=q_events_getProp(p[i]);if(!r[ppty])r[ppty]="";if(opt.realvalues){r["__"+ppty]=r[ppty];r[ppty]=q_events_getAttr(ppty,r[ppty],opt.originaldate,{pptypath:pptypath});}}
return r;}
function q_events_getProp(p){if(typeof(p)=="object")for(var pp in p)return pp;return p;}
function q_events_getPropOptions(kind,p){var event=events_prototypes[kind].properties;for(var i=0;i<event.length;i++)if(q_events_getProp(event[i])==p)return event[i][p];}
function q_events_propIsMandatory(kind,propindex){var prop=q_events_getPropOptions(kind,propindex);if(prop&&prop["mandatory"]&&prop["mandatory"]=="true")return true;return false;}
function q_events_getPropHTML(ppty,pptyvalue){if(typeof ppty!="string")ppty=q_events_getProp(ppty);if(!pptyvalue)return "";if(ppty=="day"||ppty=="date"){var date=q_events_parseDate(pptyvalue);return $.datepicker.formatDate($.datepicker.regional[q_lang]["dateFormat"],date);}
else if(ppty=="location"){var loc=pptyvalue.name||"";if(pptyvalue.city)loc+=((loc)?" - ":"")+pptyvalue.city;return loc;}
else if(ppty=="localteam")return pptyvalue.name||"";else if(ppty=="vsteam")return pptyvalue.name||"";else if(ppty=="category")return pptyvalue.name||"";else if(ppty=="logo")return(pptyvalue&&pptyvalue.formats)?'<img style="height:50px; max-width:500px;" src="'+q_fsbaseurl()+((pptyvalue.formats["height50"])?pptyvalue.formats["height50"]:pptyvalue.formats["original"])+'"/>':"";else if(ppty=="image")return(pptyvalue&&pptyvalue.formats)?'<img style="width:250px" src="'+q_fsbaseurl()+((pptyvalue.formats["quarterscreen"])?pptyvalue.formats["quarterscreen"]:pptyvalue.formats["original"])+'"/>':"";else if(ppty=="icon")return '<img src="'+pptyvalue+'"/>';else if(ppty=="registeredMembers"){var allmembers=spacexml.members_light;var listmembers=[];for(var i=0;i<pptyvalue.length;i++){if(allmembers[pptyvalue[i]])listmembers.push(allmembers[pptyvalue[i]].firstname+" "+allmembers[pptyvalue[i]].username);}
if(listmembers.length>0)return listmembers.join(", ");else return "";}
else return pptyvalue;}
function q_events_getAttr(kind,value,originaldate,options){if(kind=="time")return(value?value+":00":"").replace(/[^0-9]+/g,":").replace(/^:/,"").replace(/^([0-9]+:[0-9]+).*/,"$1").replace(/^([0-9]):/,"0$1:");if(!events_prototypes[kind])return value;var type=events_prototypes[kind].kind;switch(type){case "openselect":if(value==-1||(/^new_(.+)$/i).test(value))return{};return q_events_getJSON(kind,value,{realvalues:true,pptypath:options&&options.pptypath});break;case "closedselect":if(value==-1)return "";var e=events_prototypes[kind].properties;for(var j=0;j<e.length;j++){if(value==e[j][0])return q_events_msgs[e[j][1]];}
break;case "choosefile":if(value=="null")return null;break;case "day":if(originaldate)return value;var d=q_events_parseDate(value);return $.datepicker.formatDate("dd M",d);break;case "calendar":if(originaldate)return value;var d=q_events_parseDate(value);return $.datepicker.formatDate("dd M yy",d);break;}
return value;}
function q_events_parseDate(d,nonewdate){d=$.trim(d);if(d){try{if((/^\*_[0-9]{1,2}_[0-9]{1,2}$/i).test(d)){var now=new Date();var y=now.getFullYear();var d1=$.datepicker.parseDate("yy_mm_dd",d.replace("*",y));var d2=$.datepicker.parseDate("yy_mm_dd",d.replace("*",y+((d1>now)?-1:1)));if(Math.abs(now-d1)>Math.abs(now-d2))return d2;return d1;}else if((/^[0-9]{4}_[0-9]{1,2}_[0-9]{1,2}$/i).test(d))return $.datepicker.parseDate("yy_mm_dd",d);else if((/^[0-9]{4}-[0-9]{1,2}-[0-9]{1,2}$/i).test(d))return $.datepicker.parseDate("yy-mm-dd",d);else if((/^[0-9]{1,2}_[0-9]{1,2}$/i).test(d))return $.datepicker.parseDate("mm_dd",d);else if((/^[0-9]{4}[0-9]{2}[0-9]{2}$/i).test(d))return $.datepicker.parseDate("yymmdd",d);else if((/^[0-9]{2}[0-9]{2}$/i).test(d))return $.datepicker.parseDate("ddmm",d);else if((/^[0-9]{1,2}\/[0-9]{1,2}\/[0-9]{4}$/i).test(d)&&q_lang=="fr")return $.datepicker.parseDate("dd/mm/yy",d);else if((/^[0-9]{1,2}\/[0-9]{1,2}\/[0-9]{4}$/i).test(d)&&q_lang=="en")return $.datepicker.parseDate("mm/dd/yy",d);else if((/^[0-9]{1,2}\/[0-9]{1,2}\/[0-9]{1,2}$/i).test(d)&&q_lang=="fr")return $.datepicker.parseDate("dd/mm/y",d,{shortYearCutoff:((new Date()).getFullYear()%100+20)});else if((/^[0-9]{1,2}\/[0-9]{1,2}\/[0-9]{1,2}$/i).test(d)&&q_lang=="en")return $.datepicker.parseDate("mm/dd/y",d,{shortYearCutoff:((new Date()).getFullYear()%100+20)});else if((/^[0-9]{1,2}\.[0-9]{1,2}\.[0-9]{4}$/i).test(d))return $.datepicker.parseDate("dd.mm.yy",d);else if((/^[0-9]{1,2}\.[0-9]{1,2}\.[0-9]{2}$/i).test(d))return $.datepicker.parseDate("dd.mm.y",d);else if((/^[0-9]{1,2}-[0-9]{1,2}-[0-9]{2}$/i).test(d)&&q_lang=="fr")return $.datepicker.parseDate("dd-mm-y",d,{shortYearCutoff:((new Date()).getFullYear()%100+20)});else if((/^[0-9]{1,2}-[0-9]{1,2}-[0-9]{2}$/i).test(d)&&q_lang=="en")return $.datepicker.parseDate("mm-dd-y",d,{shortYearCutoff:((new Date()).getFullYear()%100+20)});else if((/^[0-9]{4}[0-9]{2}[0-9]{2}T[0-9]{2}[0-9]{2}[0-9]{2}(.*)$/i).test(d))return $.datepicker.parseDate("yymmdd",d.split("T")[0]);}catch(e){}}
return q_isot2date(d,nonewdate);}
function q_events_yearselect_getdays(date,d){if(!d)d=new Date();var days=[];function nbDaysOfYear(y){return((new Date(y,1,29)).getDate()==29)?365:366;}
if(date.match("daysf")){var nbdays=parseInt(date,10);for(var i=0;i<=nbdays;i++){days.push($.datepicker.formatDate("yy_mm_dd",new Date(d.getFullYear(),d.getMonth(),d.getDate()+i)));}}else if(date.match("daysp")){var nbdays=parseInt(date,10);for(var i=1;i<=nbdays;i++){days.push($.datepicker.formatDate("yy_mm_dd",new Date(d.getFullYear(),d.getMonth(),d.getDate()-i)));}}else if(date=="nw"){var day=7-((d.getDay()+6)%7);var begdate=new Date(d.getFullYear(),d.getMonth(),d.getDate()+day);for(var i=0;i<7;i++){days.push($.datepicker.formatDate("yy_mm_dd",new Date(begdate.getFullYear(),begdate.getMonth(),begdate.getDate()+i)));}}else if(date=="nm"){var newdate=new Date(d.getFullYear(),d.getMonth()+1);for(var i=1;i<=q_events_monthdays[newdate.getMonth()];i++){days.push($.datepicker.formatDate("yy_mm_dd",new Date(newdate.getFullYear(),newdate.getMonth(),i)));}}else if(date=="y"){for(var i=1;i<=nbDaysOfYear(d.getFullYear());i++){days.push($.datepicker.formatDate("yy_mm_dd",new Date(d.getFullYear(),0,i)));}}else if(date=="m"){for(var i=1;i<=q_events_monthdays[d.getMonth()];i++){days.push($.datepicker.formatDate("yy_mm_dd",new Date(d.getFullYear(),d.getMonth(),i)));}}else if((/^w/).test(date)){var nday=parseInt(date.replace(/w-?/,"0"),10)%7;var day=(d.getDay()+6-nday)%7;var begdate=new Date(d.getFullYear(),d.getMonth(),d.getDate()-day);for(var i=0;i<7;i++){days.push($.datepicker.formatDate("yy_mm_dd",new Date(begdate.getFullYear(),begdate.getMonth(),begdate.getDate()+i)));}}else if(date=="tm")days.push($.datepicker.formatDate("yy_mm_dd",new Date(d.getFullYear(),d.getMonth(),d.getDate()+1)));else if(date=="yd")days.push($.datepicker.formatDate("yy_mm_dd",new Date(d.getFullYear(),d.getMonth(),d.getDate()-1)));else if(date=="td")days.push($.datepicker.formatDate("yy_mm_dd",d));else if(date=="lw"){var day=7+((d.getDay()+6)%7);var begdate=new Date(d.getFullYear(),d.getMonth(),d.getDate()-day);for(var i=0;i<7;i++){days.push($.datepicker.formatDate("yy_mm_dd",new Date(begdate.getFullYear(),begdate.getMonth(),begdate.getDate()+i)));}}else if(date=="lm"){var newdate=new Date(d.getFullYear(),d.getMonth()-1);for(var i=1;i<=q_events_monthdays[newdate.getMonth()];i++){days.push($.datepicker.formatDate("yy_mm_dd",new Date(newdate.getFullYear(),newdate.getMonth(),i)));}}else if(date=="ly"){for(var i=1;i<=nbDaysOfYear(d.getFullYear()-1);i++){days.push($.datepicker.formatDate("yy_mm_dd",new Date(d.getFullYear()-1,0,i)));}}
return days;}
var q_events_period={__normalizeDate:function(d){if(d==null)return d;var d=new Date(d);d.setHours(12);d.setMinutes(0);d.setSeconds(0);d.setMilliseconds(0);return d;},dates:function(periodselector,referenceDate){periodselector=q_events_formatOldPeriod(periodselector);if(!referenceDate)referenceDate=new Date();referenceDate=this.__normalizeDate(referenceDate);var beg;var end;var startingDate=null;var endingDate=null;var periodType=q_events_getPeriodType(periodselector);function parseDate(d){try{return $.datepicker.parseDate("dd-mm-yy",d);}catch(e){try{return $.datepicker.parseDate("dd-mm-yy",d);}catch(e){return q_events_parseDate(d);}}}
switch(periodType){case "all":return[null,null];break;case "fixed":beg=periodselector.split("/")[0];end=periodselector.split("/")[1];return[parseDate(beg),parseDate(end)];break;case "slipping":beg=periodselector.split("/")[0];end=periodselector.split("/")[1];if(beg=="30daysp")startingDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth(),referenceDate.getDate()-30);else if(beg=="15daysp")startingDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth(),referenceDate.getDate()-15);else if(beg=="7daysp")startingDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth(),referenceDate.getDate()-7);else if(beg=="yd")startingDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth(),referenceDate.getDate()-1);else if(beg=="td")startingDate=referenceDate;else if(beg=="tm")startingDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth(),referenceDate.getDate()+1);else if((/^lwbeg/).test(beg))startingDate=q_getWeekDay(referenceDate,"last",true,beg);else if((/^wbeg/).test(beg))startingDate=q_getWeekDay(referenceDate,"current",true,beg);else if((/^nwbeg/).test(beg))startingDate=q_getWeekDay(referenceDate,"next",true,beg);else if(beg=="lmbeg")startingDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth()-1);else if(beg=="mbeg")startingDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth());else if(beg=="nmbeg")startingDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth()+1);else if(beg=="ybeg")startingDate=new Date(referenceDate.getFullYear(),0,1);if(end=="yd")endingDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth(),referenceDate.getDate()-1);else if(end=="td")endingDate=referenceDate;else if(end=="tm")endingDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth(),referenceDate.getDate()+1);else if(end=="7daysf")endingDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth(),referenceDate.getDate()+7);else if(end=="15daysf")endingDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth(),referenceDate.getDate()+15);else if(end=="30daysf")endingDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth(),referenceDate.getDate()+30);else if((/^lwend/).test(end))endingDate=q_getWeekDay(referenceDate,"last",false,end);else if((/^wend/).test(end))endingDate=q_getWeekDay(referenceDate,"current",false,end);else if((/^nwend/).test(end))endingDate=q_getWeekDay(referenceDate,"next",false,end);else if(end=="lmend")endingDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth()-1,q_events_monthdays[(referenceDate.getMonth()-1+12)%12]);else if(end=="mend")endingDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth(),q_events_monthdays[referenceDate.getMonth()]);else if(end=="nmend")endingDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth()+1,q_events_monthdays[(referenceDate.getMonth()+1)%12]);else if(end=="yend")endingDate=new Date(referenceDate.getFullYear(),11,q_events_monthdays[11]);return[startingDate,endingDate];break;}},checkdate:function(eventdate,periodselector,referenceDate,bGetDate){var normalizeDate=this.__normalizeDate;function checkandgetdate(eventdate,startingDate,endingDate){if(typeof eventdate=="string"){if(!/^\*/.test(eventdate))return checkandgetdate(normalizeDate(q_events_parseDate(eventdate)),startingDate,endingDate);if(startingDate==null&&endingDate==null)return checkandgetdate(normalizeDate(q_events_parseDate(eventdate)),startingDate,endingDate);var a=[];var y;if(startingDate==null){y=endingDate.getFullYear();a=[normalizeDate(q_events_parseDate(eventdate.replace("*",y))),normalizeDate(q_events_parseDate(eventdate.replace("*",y-1)))];}else if(endingDate==null){y=startingDate.getFullYear();a=[normalizeDate(q_events_parseDate(eventdate.replace("*",y))),normalizeDate(q_events_parseDate(eventdate.replace("*",y+1)))];}else{y=startingDate.getFullYear();var y2=endingDate.getFullYear();if(y2<y){y=y2;y2=startingDate.getFullYear();}
for(var i=y;i<=y2;i++)a.push(normalizeDate(q_events_parseDate(eventdate.replace("*",i))));var d=new Date();a.sort(function(a,b){var aa=Math.abs(a-d);var bb=Math.abs(b-d);return(aa<bb)?-1:(aa>bb)?1:0;});}
for(var i=0;i<a.length;i++){var x=checkandgetdate(a[i],startingDate,endingDate);if(x!=false)return x;}
return false;}
startingDate=normalizeDate(startingDate);endingDate=normalizeDate(endingDate);if(startingDate==null&&endingDate==null)return(bGetDate)?eventdate:true;else if(startingDate==null&&eventdate<=endingDate)return(bGetDate)?eventdate:true;else if(endingDate==null&&eventdate>=startingDate)return(bGetDate)?eventdate:true;else if(eventdate>=startingDate&&eventdate<=endingDate)return(bGetDate)?eventdate:true;else return false;}
var dates=this.dates(periodselector,referenceDate);return checkandgetdate(eventdate,dates[0],dates[1]);}}
function q_events_checkdate(eventdate,periodselector,referenceDate,bGetDate){return q_events_period.checkdate(eventdate,periodselector,referenceDate,bGetDate);}
function q_getWeekDay(referenceDate,theWeek,weekBeginning,period_str){var turningDay=period_str.split("-")[1];if(!turningDay)turningDay=0;var nbDayRemaining;var theWeekDate;var endWeek=weekBeginning?0:6;switch(theWeek){case "current":nbDayRemaining=(referenceDate.getDay()+6-turningDay)%7;theWeekDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth(),referenceDate.getDate()-nbDayRemaining+endWeek);break;case "last":nbDayRemaining=7+(referenceDate.getDay()+6-turningDay)%7;theWeekDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth(),referenceDate.getDate()-nbDayRemaining+endWeek);break;case "next":nbDayRemaining=7-(referenceDate.getDay()+6-turningDay)%7;theWeekDate=new Date(referenceDate.getFullYear(),referenceDate.getMonth(),referenceDate.getDate()+nbDayRemaining+endWeek);break;}
return theWeekDate;}
function q_parseXMLstring(s){var xmlDoc=null;if(window.DOMParser){var parser=new DOMParser();xmlDoc=parser.parseFromString(s,"text/xml");}else{xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(s);}
return xmlDoc;}
function q_setInnerContent(item,prop,content,kind){var node=$(prop,item);var xmldoc=q_parseXMLstring("<root/>");if(!node.length)node=$(xmldoc.createElement(prop)).appendTo(item).text("");if(kind&&kind=="choosefile"){try{function cloneXML(xmlobject,target){var d=target.ownerDocument||document;var elems=xmlobject.childNodes;for(var i=0;i<elems.length;i++){var x=elems[i];if(x.nodeType==3){var v=x.nodeValue;target.appendChild(d.createTextNode(v));}else{var k=x.tagName;var clone=d.createElement(k);cloneXML(x,clone);target.appendChild(clone);}}}
var tagname=node.get(0).tagName;var xmlobject=q_parseXMLstring("<"+tagname+">"+content+"</"+tagname+">");var target=node.get(0);var d=target.ownerDocument||document;var p=target.parentNode;p.removeChild(target);target=p.appendChild(d.createElement(tagname));cloneXML(xmlobject.getElementsByTagName(tagname)[0],target);}catch(e){try{debugmail("q_setInnerContent : "+e.message+" - "+e.description);}catch(e){}
node.text(content);}}else node.text((content!=null)?content:"");}
function q_events_select(desc){desc=$.extend({types:["match","general","birthday"],fields:{"match":["matchselector","localteam","vsteam","home","location"],"general":["title","category"],"birthday":["member","firstname","category"]},values:[],date:true,callback:function(x){if(x)q_events_alert(q_events_search(x));},callback_args:[]},desc||{});var options={json:desc,callback:function(x){if(!x)return;q_apply(desc.callback,[x.results].concat(desc.callback_args));}};quomodo.fsm.loadDialog("/scripts/q_event_select_dialog/index_"+q_lang+".html",options);}
function q_events_formatOldPeriod(oldFormattedPeriod){var newFormattedPeriod;if(!oldFormattedPeriod||oldFormattedPeriod==-1)oldFormattedPeriod="all";if(oldFormattedPeriod=="all"||oldFormattedPeriod.split("/").length>1)return oldFormattedPeriod;else{switch(oldFormattedPeriod){case "-1":newFormattedPeriod="all";break;case "tm":newFormattedPeriod="tm/tm";break;case "td":newFormattedPeriod="td/td";break;case "nm":newFormattedPeriod="nmbeg/nmend";break;case "7daysf":newFormattedPeriod="td/7daysf";break;case "15daysf":newFormattedPeriod="td/15daysf";break;case "30daysf":newFormattedPeriod="td/30daysf";break;case "m":newFormattedPeriod="mbeg/mend";break;case "y":newFormattedPeriod="ybeg/yend";break;case "yd":newFormattedPeriod="yd/yd";break;case "lm":newFormattedPeriod="lmbeg/lmend";break;case "7daysp":newFormattedPeriod="7daysp/yd";break;case "15daysp":newFormattedPeriod="15daysp/yd";break;case "30daysp":newFormattedPeriod="30daysp/yd";break;default:if((/^w/).test(oldFormattedPeriod)){var nday=parseInt(oldFormattedPeriod.replace(/w-?/,"0"),10)%7;newFormattedPeriod="wbeg-"+nday+"/wend-"+nday;}else if((/^lw/).test(oldFormattedPeriod)){var nday=parseInt(oldFormattedPeriod.replace(/lw-?/,"0"),10)%7;newFormattedPeriod="lwbeg-"+nday+"/lwend-"+nday;}else if((/^nw/).test(oldFormattedPeriod)){var nday=parseInt(oldFormattedPeriod.replace(/nw-?/,"0"),10)%7;newFormattedPeriod="nwbeg-"+nday+"/nwend-"+nday;}else return false;}
return newFormattedPeriod;}}
function q_events_getPeriodType(period){var beg=period.split("/")[0];var end=period.split("/")[1];var reg=new RegExp("^[0-9]{2}[-]{1}[0-9]{2}[-]{1}[0-9]{4}$","g");if(!end)return "all";else if(reg.test(beg)||reg.test(end))return "fixed";else return "slipping";}
function q_events_select_updatefields(kinds){var desc=$('.q_events_select',q_fsm_currentblock()).data("desc");$('.q_events_select',q_fsm_currentblock()).data("kind",kinds);var tabs=$('.q_events_search_tabs',q_fsm_currentblock());try{tabs.tabs("destroy");}catch(e){};tabs.empty();if(kinds.length>1){var ul=$('<ul></ul>').appendTo(tabs);for(var k=0;k<kinds.length;k++){ul.append($('<li></li>').append($('<a></a>').attr("href","#q_select_events_tabs_"+kinds[k]).html(q_events_msgs["events_"+kinds[k]])));}}
var values={};$.each(desc.values,function(i,v){values[v.kind]=v.filter;});for(var k=0;k<kinds.length;k++){var kind=kinds[k];if(!events_prototypes[kind].properties)return;var div=$('<div></div>').attr("id","q_select_events_tabs_"+kind).attr("qkind",kind).appendTo(tabs);var table=$('<table cellpadding="5" width="100%" cellspacing="0"></table>').appendTo(div);for(var i=0;i<desc.fields[kind].length;i++){var ppty_name=desc.fields[kind][i];var ppty_kind=(events_prototypes[ppty_name]&&events_prototypes[ppty_name].kind)?events_prototypes[ppty_name].kind:"";var ppty_value=(values[kind]&&values[kind][ppty_name])||undefined;if($.inArray(ppty_kind,["dayselector","icon","choosefile"])!=-1)continue;if($.inArray(ppty_name,["icon","image"])!=-1)continue;tr=$('<tr>').appendTo(table);tr.append('<td align="right" class="q_events_search_title clubcolor3">'+(q_events_msgs["filter_"+ppty_name]||q_events_msgs[ppty_name]||ppty_name)+q_events_msgs[":"]+'</td>');var td=$('<td>').appendTo(tr);if(ppty_kind=="calendar"){var cal=q_eventform_calendar(ppty_name,ppty_value);var pickoptions={changeMonth:true,changeYear:true,yearRange:'c-99:c+99',dateFormat:"yy_mm_dd",defaultDate:$("input",cal).val()};$(cal).click(function(){q_datepicker($("input",this),{datePicker:pickoptions,displayField:$(".q_eventform_cal_display",cal)});});td.append(cal);}
else if(ppty_kind=="openselect")q_append_eventform_openselect(td,ppty_name,ppty_value,{multiple:true});else if(ppty_kind=="closedselect")td.append(q_eventform_closedselect(ppty_name,ppty_value,{multiple:true}));else if(ppty_kind=="dayselector")td.append(q_eventform_dayselector(ppty_name,ppty_value));else if(ppty_kind=="matchselector")td.append(q_eventform_matchselector(ppty_name,ppty_value));else td.append(q_eventform_textinput(ppty_name,ppty_value));}
$(':input[class*="qevtsmgr_"]',table).css({"width":"250px","max-height":"80px","border":"solid 1px #777"});}
tabs.tabs({"selected":0});}
function q_events_search(eventselectors,desc){var opt=$.extend({sorted:"asc",output:"json"},desc||{});if(!clubevents)return[];var events=[];var eventDisplayDate={};for(var i=0;i<eventselectors.length;i++){var eventselector=eventselectors[i];var e=$('event[kind="'+eventselector.kind+'"]',clubevents);var eventfilter=eventselector.filter;for(var k in eventfilter){if(k=="matchselector"&&$.inArray(eventfilter[k],["l","ln","n"])!=-1){var today=$.datepicker.formatDate("yy_mm_dd",new Date());var teams={};var s=[];for(var jj=0;jj<e.length;jj++){var m=e[jj];var team=$("localteam",m).text();if(!teams[team])teams[team]={};var d=$.datepicker.formatDate("yy_mm_dd",q_events_parseDate($("date",m).text()));if(d==today){s.push($(m).attr("id"));continue;}
if($.inArray(eventfilter[k],["l","ln"])!=-1){if(d<today&&(!teams[team].prevdate||d>teams[team].prevdate)){teams[team].prevdate=d;s.push($(m).attr("id"));if(teams[team].previndex!=undefined)s[teams[team].previndex]=null;teams[team].previndex=s.length-1;}}
if($.inArray(eventfilter[k],["ln","n"])!=-1){if(d>today&&(!teams[team].nextdate||d<teams[team].nextdate)){teams[team].nextdate=d;s.push($(m).attr("id"));if(teams[team].nextindex!=undefined)s[teams[team].nextindex]=null;teams[team].nextindex=s.length-1;}}}
e=e.filter(function(index){return $.inArray($(this).attr("id"),s)!=-1;});}else e=e.filter(function(index){if(k=="matchselector"){var hs=$("homescore",this).text().replace(/[^0-9]/g,"");return((eventfilter[k]=="toplay"&&hs=="")||(eventfilter[k]=="played"&&hs!=""));}
function inSelector(value,selectors){if(typeof selectors=="string")return inSelector(value,[selectors]);var kind=(events_prototypes[k]&&events_prototypes[k].kind)?events_prototypes[k].kind:"";for(var j=0;j<selectors.length;j++){if($.inArray(kind,["openselect","closedselect"])==-1){var r=new RegExp(selectors[j],"gi");if(r.test(value))return true;}else if(value==selectors[j])return true;}
return false;}
return inSelector($(k,this).text().toLowerCase(),eventfilter[k]);});}
if(eventselector.date&&eventselector.date!="-1"){e=e.filter(function(index){var d=$("date",this);if(!d.length)d=$("day",this);if(!d.length)return false;var dayid=$.datepicker.formatDate(((eventselector.kind=="birthday")?"*":"yy")+"_mm_dd",q_events_parseDate(d.text()));d=q_events_checkdate(dayid,eventselector.date,null,true);if(d==false)return false;eventDisplayDate[$(this).attr("id")]=d;return true;});}
events=$.merge(events,e);}
if(opt.output=="xml")return events;var events_table=[];$(events).each(function(){var event=q_events_getJSON($(this).attr("kind"),$(this).attr("id"),{realvalues:true});event.eventid=$(this).attr("id");event.eventkind=$(this).attr("kind");events_table.push(event);});if(opt.sorted)events_table.sort(function(a,b){var now=new Date();var y=now.getFullYear();function eventdate(e){if(eventDisplayDate[e.eventid])return eventDisplayDate[e.eventid];var edate=q_events_parseDate(e.date||e.day||"");if(e.eventkind!="birthday")return edate;var d1=new Date(edate);d1.setFullYear(y);var d2=new Date(edate);d2.setFullYear(y+((now-d1>0)?1:-1));if(Math.abs(now-d1)>Math.abs(now-d2))return d2;return d1;}
var adate=eventdate(a);var bdate=eventdate(b);if((adate-bdate)==0){if(a.eventkind==b.eventkind&&a.eventkind=="match"){function formatTime(t){return t.replace(/[^0-9]+/g,":").replace(/^:/,"").replace(/^([0-9]):/,"0$1:");}
var atime=a.time?formatTime(a.time):"z";var btime=b.time?formatTime(b.time):"z";if(atime==btime)return 0;return(opt.sorted=="asc")?((atime>btime)?1:-1):((btime>atime)?1:-1);}}
return(opt.sorted=="asc")?(adate-bdate):(bdate-adate);});return events_table;}
function q_events_alert(events,options){var date;if(!events||events.length==0)return;var event=events[0];switch(event.kind){case "birthday":date=q_events_parseDate(event.day);break;case "general":date=q_events_parseDate(event.date);break;case "match":date=q_events_parseDate(event.date);break;}
q_events_smartnote_dialog(events,date,options);}
function q_events_datepicker(td){q_datepicker($("input",td),{datePicker:{changeMonth:true,changeYear:true,yearRange:'c-99:c+99',dateFormat:"dd.mm.yy",defaultDate:$("input",td).val()},displayField:$("div",td)});}
function q_events_new_dialog(type,date,callback){var options={json:{id:"new",date:date},callback:function(x){if(!x)return;eventsManager[type].save("new_"+q_events_newevent++,x,function(newid){callback(newid);});}};quomodo.fsm.loadDialog("/scripts/q_event_siteevents_dialogs/"+type+"/index_"+q_lang+".html",options);}
function q_events_smartnote_dialog(events,date,options){if(!events.length)return;if(events.length>1||(options&&options.pagemode=="edit")||(events[0].kind=="birthday")){var path="/scripts/q_event_smartnote_dialog/select/index_"+q_lang+".html";var opt={json:{date:date,registeredMembers:[],pagemode:options.pagemode,memberid:memberid,events:events,"eventsManager":eventsManager},callback:function(x){if(options&&options.callback)options.callback();}};quomodo.fsm.loadDialog(path,opt);}else{var path="/scripts/q_event_smartnote_dialog/update/"+events[0].kind+"/index_"+q_lang+".html";var opt={json:{pagemode:options.pagemode,registeredMembers:[],memberid:memberid,event:events[0].id,"eventsManager":eventsManager},callback:function(x){if(options&&options.callback)options.callback();}};quomodo.fsm.loadDialog(path,opt);}}
var eventsManager=new(function(){var _this=this;this.selects={localteam:{},vsteam:{},logo:{},category:{},location:{}};this.events={};var latin_map={'Á':'A','Ă':'A','Ắ':'A','Ặ':'A','Ằ':'A','Ẳ':'A','Ẵ':'A','Ǎ':'A','Â':'A','Ấ':'A','Ậ':'A','Ầ':'A','Ẩ':'A','Ẫ':'A','Ä':'A','Ǟ':'A','Ȧ':'A','Ǡ':'A','Ạ':'A','Ȁ':'A','À':'A','Ả':'A','Ȃ':'A','Ā':'A','Ą':'A','Å':'A','Ǻ':'A','Ḁ':'A','Ⱥ':'A','Ã':'A','Ꜳ':'AA','Æ':'AE','Ǽ':'AE','Ǣ':'AE','Ꜵ':'AO','Ꜷ':'AU','Ꜹ':'AV','Ꜻ':'AV','Ꜽ':'AY','Ḃ':'B','Ḅ':'B','Ɓ':'B','Ḇ':'B','Ƀ':'B','Ƃ':'B','Ć':'C','Č':'C','Ç':'C','Ḉ':'C','Ĉ':'C','Ċ':'C','Ƈ':'C','Ȼ':'C','Ď':'D','Ḑ':'D','Ḓ':'D','Ḋ':'D','Ḍ':'D','Ɗ':'D','Ḏ':'D','ǲ':'D','ǅ':'D','Đ':'D','Ƌ':'D','Ǳ':'DZ','Ǆ':'DZ','É':'E','Ĕ':'E','Ě':'E','Ȩ':'E','Ḝ':'E','Ê':'E','Ế':'E','Ệ':'E','Ề':'E','Ể':'E','Ễ':'E','Ḙ':'E','Ë':'E','Ė':'E','Ẹ':'E','Ȅ':'E','È':'E','Ẻ':'E','Ȇ':'E','Ē':'E','Ḗ':'E','Ḕ':'E','Ę':'E','Ɇ':'E','Ẽ':'E','Ḛ':'E','Ꝫ':'ET','Ḟ':'F','Ƒ':'F','Ǵ':'G','Ğ':'G','Ǧ':'G','Ģ':'G','Ĝ':'G','Ġ':'G','Ɠ':'G','Ḡ':'G','Ǥ':'G','Ḫ':'H','Ȟ':'H','Ḩ':'H','Ĥ':'H','Ⱨ':'H','Ḧ':'H','Ḣ':'H','Ḥ':'H','Ħ':'H','Í':'I','Ĭ':'I','Ǐ':'I','Î':'I','Ï':'I','Ḯ':'I','İ':'I','Ị':'I','Ȉ':'I','Ì':'I','Ỉ':'I','Ȋ':'I','Ī':'I','Į':'I','Ɨ':'I','Ĩ':'I','Ḭ':'I','Ꝺ':'D','Ꝼ':'F','Ᵹ':'G','Ꞃ':'R','Ꞅ':'S','Ꞇ':'T','Ꝭ':'IS','Ĵ':'J','Ɉ':'J','Ḱ':'K','Ǩ':'K','Ķ':'K','Ⱪ':'K','Ꝃ':'K','Ḳ':'K','Ƙ':'K','Ḵ':'K','Ꝁ':'K','Ꝅ':'K','Ĺ':'L','Ƚ':'L','Ľ':'L','Ļ':'L','Ḽ':'L','Ḷ':'L','Ḹ':'L','Ⱡ':'L','Ꝉ':'L','Ḻ':'L','Ŀ':'L','Ɫ':'L','ǈ':'L','Ł':'L','Ǉ':'LJ','Ḿ':'M','Ṁ':'M','Ṃ':'M','Ɱ':'M','Ń':'N','Ň':'N','Ņ':'N','Ṋ':'N','Ṅ':'N','Ṇ':'N','Ǹ':'N','Ɲ':'N','Ṉ':'N','Ƞ':'N','ǋ':'N','Ñ':'N','Ǌ':'NJ','Ó':'O','Ŏ':'O','Ǒ':'O','Ô':'O','Ố':'O','Ộ':'O','Ồ':'O','Ổ':'O','Ỗ':'O','Ö':'O','Ȫ':'O','Ȯ':'O','Ȱ':'O','Ọ':'O','Ő':'O','Ȍ':'O','Ò':'O','Ỏ':'O','Ơ':'O','Ớ':'O','Ợ':'O','Ờ':'O','Ở':'O','Ỡ':'O','Ȏ':'O','Ꝋ':'O','Ꝍ':'O','Ō':'O','Ṓ':'O','Ṑ':'O','Ɵ':'O','Ǫ':'O','Ǭ':'O','Ø':'O','Ǿ':'O','Õ':'O','Ṍ':'O','Ṏ':'O','Ȭ':'O','Ƣ':'OI','Ꝏ':'OO','Ɛ':'E','Ɔ':'O','Ȣ':'OU','Ṕ':'P','Ṗ':'P','Ꝓ':'P','Ƥ':'P','Ꝕ':'P','Ᵽ':'P','Ꝑ':'P','Ꝙ':'Q','Ꝗ':'Q','Ŕ':'R','Ř':'R','Ŗ':'R','Ṙ':'R','Ṛ':'R','Ṝ':'R','Ȑ':'R','Ȓ':'R','Ṟ':'R','Ɍ':'R','Ɽ':'R','Ꜿ':'C','Ǝ':'E','Ś':'S','Ṥ':'S','Š':'S','Ṧ':'S','Ş':'S','Ŝ':'S','Ș':'S','Ṡ':'S','Ṣ':'S','Ṩ':'S','ẞ':'SS','Ť':'T','Ţ':'T','Ṱ':'T','Ț':'T','Ⱦ':'T','Ṫ':'T','Ṭ':'T','Ƭ':'T','Ṯ':'T','Ʈ':'T','Ŧ':'T','Ɐ':'A','Ꞁ':'L','Ɯ':'M','Ʌ':'V','Ꜩ':'TZ','Ú':'U','Ŭ':'U','Ǔ':'U','Û':'U','Ṷ':'U','Ü':'U','Ǘ':'U','Ǚ':'U','Ǜ':'U','Ǖ':'U','Ṳ':'U','Ụ':'U','Ű':'U','Ȕ':'U','Ù':'U','Ủ':'U','Ư':'U','Ứ':'U','Ự':'U','Ừ':'U','Ử':'U','Ữ':'U','Ȗ':'U','Ū':'U','Ṻ':'U','Ų':'U','Ů':'U','Ũ':'U','Ṹ':'U','Ṵ':'U','Ꝟ':'V','Ṿ':'V','Ʋ':'V','Ṽ':'V','Ꝡ':'VY','Ẃ':'W','Ŵ':'W','Ẅ':'W','Ẇ':'W','Ẉ':'W','Ẁ':'W','Ⱳ':'W','Ẍ':'X','Ẋ':'X','Ý':'Y','Ŷ':'Y','Ÿ':'Y','Ẏ':'Y','Ỵ':'Y','Ỳ':'Y','Ƴ':'Y','Ỷ':'Y','Ỿ':'Y','Ȳ':'Y','Ɏ':'Y','Ỹ':'Y','Ź':'Z','Ž':'Z','Ẑ':'Z','Ⱬ':'Z','Ż':'Z','Ẓ':'Z','Ȥ':'Z','Ẕ':'Z','Ƶ':'Z','Ĳ':'IJ','Œ':'OE','ᴀ':'A','ᴁ':'AE','ʙ':'B','ᴃ':'B','ᴄ':'C','ᴅ':'D','ᴇ':'E','ꜰ':'F','ɢ':'G','ʛ':'G','ʜ':'H','ɪ':'I','ʁ':'R','ᴊ':'J','ᴋ':'K','ʟ':'L','ᴌ':'L','ᴍ':'M','ɴ':'N','ᴏ':'O','ɶ':'OE','ᴐ':'O','ᴕ':'OU','ᴘ':'P','ʀ':'R','ᴎ':'N','ᴙ':'R','ꜱ':'S','ᴛ':'T','ⱻ':'E','ᴚ':'R','ᴜ':'U','ᴠ':'V','ᴡ':'W','ʏ':'Y','ᴢ':'Z','á':'a','ă':'a','ắ':'a','ặ':'a','ằ':'a','ẳ':'a','ẵ':'a','ǎ':'a','â':'a','ấ':'a','ậ':'a','ầ':'a','ẩ':'a','ẫ':'a','ä':'a','ǟ':'a','ȧ':'a','ǡ':'a','ạ':'a','ȁ':'a','à':'a','ả':'a','ȃ':'a','ā':'a','ą':'a','ᶏ':'a','ẚ':'a','å':'a','ǻ':'a','ḁ':'a','ⱥ':'a','ã':'a','ꜳ':'aa','æ':'ae','ǽ':'ae','ǣ':'ae','ꜵ':'ao','ꜷ':'au','ꜹ':'av','ꜻ':'av','ꜽ':'ay','ḃ':'b','ḅ':'b','ɓ':'b','ḇ':'b','ᵬ':'b','ᶀ':'b','ƀ':'b','ƃ':'b','ɵ':'o','ć':'c','č':'c','ç':'c','ḉ':'c','ĉ':'c','ɕ':'c','ċ':'c','ƈ':'c','ȼ':'c','ď':'d','ḑ':'d','ḓ':'d','ȡ':'d','ḋ':'d','ḍ':'d','ɗ':'d','ᶑ':'d','ḏ':'d','ᵭ':'d','ᶁ':'d','đ':'d','ɖ':'d','ƌ':'d','ı':'i','ȷ':'j','ɟ':'j','ʄ':'j','ǳ':'dz','ǆ':'dz','é':'e','ĕ':'e','ě':'e','ȩ':'e','ḝ':'e','ê':'e','ế':'e','ệ':'e','ề':'e','ể':'e','ễ':'e','ḙ':'e','ë':'e','ė':'e','ẹ':'e','ȅ':'e','è':'e','ẻ':'e','ȇ':'e','ē':'e','ḗ':'e','ḕ':'e','ⱸ':'e','ę':'e','ᶒ':'e','ɇ':'e','ẽ':'e','ḛ':'e','ꝫ':'et','ḟ':'f','ƒ':'f','ᵮ':'f','ᶂ':'f','ǵ':'g','ğ':'g','ǧ':'g','ģ':'g','ĝ':'g','ġ':'g','ɠ':'g','ḡ':'g','ᶃ':'g','ǥ':'g','ḫ':'h','ȟ':'h','ḩ':'h','ĥ':'h','ⱨ':'h','ḧ':'h','ḣ':'h','ḥ':'h','ɦ':'h','ẖ':'h','ħ':'h','ƕ':'hv','í':'i','ĭ':'i','ǐ':'i','î':'i','ï':'i','ḯ':'i','ị':'i','ȉ':'i','ì':'i','ỉ':'i','ȋ':'i','ī':'i','į':'i','ᶖ':'i','ɨ':'i','ĩ':'i','ḭ':'i','ꝺ':'d','ꝼ':'f','ᵹ':'g','ꞃ':'r','ꞅ':'s','ꞇ':'t','ꝭ':'is','ǰ':'j','ĵ':'j','ʝ':'j','ɉ':'j','ḱ':'k','ǩ':'k','ķ':'k','ⱪ':'k','ꝃ':'k','ḳ':'k','ƙ':'k','ḵ':'k','ᶄ':'k','ꝁ':'k','ꝅ':'k','ĺ':'l','ƚ':'l','ɬ':'l','ľ':'l','ļ':'l','ḽ':'l','ȴ':'l','ḷ':'l','ḹ':'l','ⱡ':'l','ꝉ':'l','ḻ':'l','ŀ':'l','ɫ':'l','ᶅ':'l','ɭ':'l','ł':'l','ǉ':'lj','ſ':'s','ẜ':'s','ẛ':'s','ẝ':'s','ḿ':'m','ṁ':'m','ṃ':'m','ɱ':'m','ᵯ':'m','ᶆ':'m','ń':'n','ň':'n','ņ':'n','ṋ':'n','ȵ':'n','ṅ':'n','ṇ':'n','ǹ':'n','ɲ':'n','ṉ':'n','ƞ':'n','ᵰ':'n','ᶇ':'n','ɳ':'n','ñ':'n','ǌ':'nj','ó':'o','ŏ':'o','ǒ':'o','ô':'o','ố':'o','ộ':'o','ồ':'o','ổ':'o','ỗ':'o','ö':'o','ȫ':'o','ȯ':'o','ȱ':'o','ọ':'o','ő':'o','ȍ':'o','ò':'o','ỏ':'o','ơ':'o','ớ':'o','ợ':'o','ờ':'o','ở':'o','ỡ':'o','ȏ':'o','ꝋ':'o','ꝍ':'o','ⱺ':'o','ō':'o','ṓ':'o','ṑ':'o','ǫ':'o','ǭ':'o','ø':'o','ǿ':'o','õ':'o','ṍ':'o','ṏ':'o','ȭ':'o','ƣ':'oi','ꝏ':'oo','ɛ':'e','ᶓ':'e','ɔ':'o','ᶗ':'o','ȣ':'ou','ṕ':'p','ṗ':'p','ꝓ':'p','ƥ':'p','ᵱ':'p','ᶈ':'p','ꝕ':'p','ᵽ':'p','ꝑ':'p','ꝙ':'q','ʠ':'q','ɋ':'q','ꝗ':'q','ŕ':'r','ř':'r','ŗ':'r','ṙ':'r','ṛ':'r','ṝ':'r','ȑ':'r','ɾ':'r','ᵳ':'r','ȓ':'r','ṟ':'r','ɼ':'r','ᵲ':'r','ᶉ':'r','ɍ':'r','ɽ':'r','ↄ':'c','ꜿ':'c','ɘ':'e','ɿ':'r','ś':'s','ṥ':'s','š':'s','ṧ':'s','ş':'s','ŝ':'s','ș':'s','ṡ':'s','ṣ':'s','ṩ':'s','ʂ':'s','ᵴ':'s','ᶊ':'s','ȿ':'s','ß':'ss','ɡ':'g','ᴑ':'o','ᴓ':'o','ᴝ':'u','ť':'t','ţ':'t','ṱ':'t','ț':'t','ȶ':'t','ẗ':'t','ⱦ':'t','ṫ':'t','ṭ':'t','ƭ':'t','ṯ':'t','ᵵ':'t','ƫ':'t','ʈ':'t','ŧ':'t','ᵺ':'th','ɐ':'a','ᴂ':'ae','ǝ':'e','ᵷ':'g','ɥ':'h','ʮ':'h','ʯ':'h','ᴉ':'i','ʞ':'k','ꞁ':'l','ɯ':'m','ɰ':'m','ᴔ':'oe','ɹ':'r','ɻ':'r','ɺ':'r','ⱹ':'r','ʇ':'t','ʌ':'v','ʍ':'w','ʎ':'y','ꜩ':'tz','ú':'u','ŭ':'u','ǔ':'u','û':'u','ṷ':'u','ü':'u','ǘ':'u','ǚ':'u','ǜ':'u','ǖ':'u','ṳ':'u','ụ':'u','ű':'u','ȕ':'u','ù':'u','ủ':'u','ư':'u','ứ':'u','ự':'u','ừ':'u','ử':'u','ữ':'u','ȗ':'u','ū':'u','ṻ':'u','ų':'u','ᶙ':'u','ů':'u','ũ':'u','ṹ':'u','ṵ':'u','ᵫ':'ue','ꝸ':'um','ⱴ':'v','ꝟ':'v','ṿ':'v','ʋ':'v','ᶌ':'v','ⱱ':'v','ṽ':'v','ꝡ':'vy','ẃ':'w','ŵ':'w','ẅ':'w','ẇ':'w','ẉ':'w','ẁ':'w','ⱳ':'w','ẘ':'w','ẍ':'x','ẋ':'x','ᶍ':'x','ý':'y','ŷ':'y','ÿ':'y','ẏ':'y','ỵ':'y','ỳ':'y','ƴ':'y','ỷ':'y','ỿ':'y','ȳ':'y','ẙ':'y','ɏ':'y','ỹ':'y','ź':'z','ž':'z','ẑ':'z','ʑ':'z','ⱬ':'z','ż':'z','ẓ':'z','ȥ':'z','ẕ':'z','ᵶ':'z','ᶎ':'z','ʐ':'z','ƶ':'z','ɀ':'z','ﬀ':'ff','ﬃ':'ffi','ﬄ':'ffl','ﬁ':'fi','ﬂ':'fl','ĳ':'ij','œ':'oe','ﬆ':'st','ₐ':'a','ₑ':'e','ᵢ':'i','ⱼ':'j','ₒ':'o','ᵣ':'r','ᵤ':'u','ᵥ':'v','ₓ':'x'};function latinize(s){return s.replace(/[^A-Za-z0-9]/g,function(x){return latin_map[x]||x;});}
var sortname={};function toXML(id,key,json){var tmp=key.split(":");return '<'+tmp[0]+(tmp[1]?(' id="'+id+'" kind="'+tmp[1]+'"'):(' value="'+id+'"'))+'>'+q_toxmltags(json)+'</'+tmp[0]+'>';}
function __save(id,json,callback){if(!id||id=="new")id="new_"+q_events_newevent++;var key=this.__key;var tmp=key.split(":");q_fsm_wait();q_events_saverequest({id:id,kind:tmp[0],value:toXML(id,key,json)},tmp[0],function(x){_this.events[(x&&x[id]&&x[id].newid)||id]=$.extend({id:(x&&x[id]&&x[id].newid)||id,kind:tmp[1]},json);eventsManager.load(function(){q_fsm_delete();if(callback){callback(x&&x[id]&&x[id].newid);}},true);});}
function __remove(id,callback){var key=this.__key;var tmp=key.split(":");q_events_deleterequest(id,tmp[1]||tmp[0],function(){eventsManager.load(function(){if(callback)callback();},true);});}
function loaddone(callback){for(var k in _this.selects){if(_this[k])continue;_this[k]={};_this[k].__items=function(){var key=this.__key;return _this.selects[key];};_this[k].__key=k;_this[k].get=function(id){var tmp=this.__items();var o=$.extend({},tmp&&tmp[id]);if(this.__key=="category"&&o.color=="null")o.color=null;return o;};_this[k].safeid=function(id){var tmp=this.__items();if(tmp&&tmp[id])return id;else return "-1";}
_this[k].all=function(){var x=[];var tmp=this.__items();for(var k in tmp){x.push(tmp[k]);}
var fnname=sortname[this.__key]||function(o){return o.name||"";};var fn=function(o){return latinize(fnname(o)).toLowerCase();};var o=1;x=x.sort(function(a,b){var va=fn(a);var vb=fn(b);if(va==vb)return 0;if(va<vb)return-1*o;return o;});return x;};_this[k].save=__save;_this[k].remove=__remove;}
if(callback)callback();}
this.load=function(callback,forceLoad){if(!forceLoad&&_this.selects&&_this.selects.__mode=="all")return loaddone(callback);var options={openselects:"always",type:"json"};q_events_request(function(x){loaddone(callback);},options);};this.finalizeEvent=function(event,selects){return finalizeEvent(event,selects);};function finalizeProperty(ppty,selects){selects=selects||eventsManager.selects;for(var k in ppty){var ppty_prototype=events_prototypes[k];if(!ppty_prototype)continue;var type=ppty_prototype.kind;switch(type){case "openselect":if(ppty["__"+k]==undefined){ppty["__"+k]=ppty[k];if(!selects[k]||!selects[k][ppty[k]])ppty[k]="";else ppty[k]=finalizeProperty(selects[k][ppty[k]]);}
break;case "closedselect":if(ppty["__"+k]==undefined){ppty["__"+k]=ppty[k];if(k=="home"&&ppty[k]!="1")ppty["__"+k]="0";ppty[k]="";for(var j=0;j<ppty_prototype.properties.length;j++){if(ppty["__"+k]==ppty_prototype.properties[j][0])ppty[k]=q_events_msgs[ppty_prototype.properties[j][1]];}}
break;case "color":ppty[k]=(ppty[k]=="null"?null:ppty[k])||"black";break;}}
return ppty;}
function finalizeEvent(event,selects){event=finalizeProperty(event,selects);if(event.kind=="match"){if(event.__home!="1"){event.hometeam=_localteam;event.visitorteam=_vsteam;}else{event.visitorteam=_localteam;event.hometeam=_vsteam;}}
if(event["sel:time"]=="00")event["sel:time"]="";return event;}
function _localteam(){var x=$.extend({},this.localteam);x.score=this.homescore;x.team="localteam";x.logo33=(x.logo&&x.logo.logourl)?(q_fsbaseurl()+((x.logo.logourl.formats["square33"])?x.logo.logourl.formats["square33"]:x.logo.logourl.formats["original"])):q_events_defaultlogo("localteam","33");x.logo100=(x.logo&&x.logo.logourl)?(q_fsbaseurl()+((x.logo.logourl.formats["square100"])?x.logo.logourl.formats["square100"]:x.logo.logourl.formats["original"])):q_events_defaultlogo("localteam","100");return x;}
function _vsteam(){var x=$.extend({},this.vsteam);x.score=this.vsscore;x.team="vsteam";x.logo33=(x.logo&&x.logo.logourl)?(q_fsbaseurl()+((x.logo.logourl.formats["square33"])?x.logo.logourl.formats["square33"]:x.logo.logourl.formats["original"])):q_events_defaultlogo("vsteam","33");x.logo100=(x.logo&&x.logo.logourl)?(q_fsbaseurl()+((x.logo.logourl.formats["square100"])?x.logo.logourl.formats["square100"]:x.logo.logourl.formats["original"])):q_events_defaultlogo("vsteam","100");return x;}
this.finalizedLocalteam=function(eventid){var event=this.events[eventid];return _localteam.apply(event,[]);}
this.finalizedVsteam=function(eventid){var event=this.events[eventid];return _vsteam.apply(event,[]);}
this.update=function(data){var openselects=data.openselects;data.__openselects={};var __openselects=data.__openselects;for(var k in openselects){var select=openselects[k];if(!eventsManager.selects[k])eventsManager.selects[k]={};if(!__openselects[k])__openselects[k]={};for(var i=0;i<select.length;i++){__openselects[k][select[i].id]=$.extend({},select[i]);eventsManager.selects[k][select[i].id]=$.extend({},select[i]);}}
var events=data.events;var b=false;for(var i=0;i<events.length;i++){eventsManager.events[events[i].id]=$.extend({},events[i]);events[events[i].id]=finalizeEvent(events[i],__openselects);if(events[i].kind=="match")b=true;}
data.__withMatches=b;return data;};this.match={__key:"event:match",save:__save,remove:__remove};this.general={__key:"event:general",save:__save,remove:__remove};this.birthday={__key:"event:birthday",save:__save,remove:__remove};this.saveEvents=function(items,callback){var newarray=[];for(var i=0;i<items.length;i++){newarray.push(items[i]);newarray[i].value=toXML(items[i].id,"event:"+items[i].kind,items[i].value);this.events[items[i].id]=$.extend({},items[i]);}
q_events_saverequest(items,"event",function(x){eventsManager.load(function(){if(callback)callback();},true);});};this.saveOpenselects=function(items,callback){var newarray=[];for(var i=0;i<items.length;i++){newarray.push(items[i]);newarray[i].value=toXML(items[i].id,items[i].kind,items[i].value);}
q_events_saverequest(newarray,"openselect",function(x){eventsManager.load(function(){q_fsm_delete();if(callback)callback(x);},true);});};loaddone();})();function logcookies(){logentry();logad();}
function logentry(){try{if(getcookie("entry"))return;setcookie("entry",window.location.pathname+window.location.search,365);setcookie("entrydate",""+Date.parse(new Date().toUTCString()),365);}catch(err){}}
function logad(){try{var searchad=q_geturlparams()["ad"];if(!searchad){if(!(/(www\.)?basket-jeu-2011.com/).test(window.location.host))return;searchad=q_geturlparams()["refererpage"];}
if(getcookie("ad"))return;setcookie("ad",searchad,365);setcookie("addate",""+Date.parse(new Date().toUTCString()),365);}catch(err){}}
function q_initlanguage(){if(!document.cookie)return;var lang=getcookie("lang");if(lang)return;lang=q_navigatorlanguage();if(!lang)lang="en";if(lang!="fr")lang="en";setcookie("lang",lang,365000);}
function q_redirectmember(){var lang;var url="fv.html";if(!document.cookie){lang=q_navigatorlanguage();if(!lang)lang="en";if(lang!="fr")lang="en";}else{lang=getcookie("lang");if((getcookie("status"))&&(getcookie("status")=="member"))url="authfv.html";}
if(!lang)lang="en";if(lang!="fr")lang="en";window.location.replace("services/homepage@"+lang+"/"+url)}
function q_navigatorlanguage(){var lang=(navigator.language)?navigator.language:((navigator.userLanguage)?navigator.userLanguage:"fr");lang=lang.split("-")[0];if(lang!="fr")lang="en";return lang;}
var q_jstarget;function q_document_form(formname){for(var i=0;i<document.forms.length;i++)if(document.forms[i].name==formname)return document.forms[i];return null;}
function q_xrssubmit(formname){if(q_alreadysubmitted())return false;var theform=q_document_form(formname);theform["q_method"].value="rscgi";return xxq_rssubmit(formname);}
function q_rssubmit(){if(q_alreadysubmitted())return false;document.mainform["q_method"].value="rscgi";return xq_rssubmit();}
function xq_rssubmit(){return xxq_rssubmit("mainform");}
function xxq_rssubmit(formname){if(!document.createElement)return true;if(!q_jstarget)q_jstarget=getelement("jstarget");if(!q_jstarget){var tempIFrame=document.createElement('iframe');tempIFrame.id="jstarget";tempIFrame.name="jstarget";tempIFrame.frameborder="0";tempIFrame.style.width='0px';tempIFrame.style.height='0px';tempIFrame.style.border='0px';q_jstarget=document.body.appendChild(tempIFrame);q_jstarget.src='/services/qblank';}
var theform=q_document_form(formname);theform.target='jstarget';theform.action=cgiurl("rscgi");theform.submit();}
function cgiurl(requestmethod){if(iswaiting){return "wait";}
var url;if(window.q_cgiurls&&q_cgiurls.length)url=q_cgiurls[Math.floor(Math.random()*q_cgiurls.length)];else if(requestmethod=="rscgi")return "/cgi-bin/cgismilers";else if(requestmethod=="ajax")return "/cgi-bin/cgismileajax";else{try{url=members[memberid].userlevel||"membre";if(url=="member")url="membre";if(url=="invite")url="login";}catch(e){url="login";}}
return url;}
function waitq_submit(forcesubmit){if((!forcesubmit)&&(!q_readytosubmit()))return false;document.mainform["q_method"].value="cgi";document.mainform.action=cgiurl();document.mainform.submit();return true;}
function q_submit(forcesubmit){if(!forcesubmit&&!q_readytosubmit())return false;if(!forcesubmit&&q_alreadysubmitted())return false;document.mainform["q_method"].value="cgi";document.mainform.action=cgiurl();document.mainform.submit();return true;}
var q_ready=true;function q_alreadysubmitted(){if(iswaiting)return true;if(q_ready){q_ready=false;return false;}
return true;}
var serverbusy={"fr":"Opération en cours, veuillez réessayer dans quelques instants."};function q_readytosubmit(asking1){var asking=asking1===undefined?true:asking1;if((!q_ready)||(iswaiting)){if(asking){var defaultlang="fr";var lang=(q_lang)?q_lang:defaultlang;var s=common_message["serverbusy"]||serverbusy[lang]||serverbusy[defaultlang];q_alert(s,null,true);}
return((q_ready)&&(!iswaiting));}
return true;}
function handlepurchasebutton(){document.mainform.target='_self';document.mainform.mission.value='purchase';q_submit();}
function resetform(wantxml,req){if(queuedData.length){if((typeof queuedData[0])=="function"){queuedData[0](wantxml,req);queuedData.splice(0,1);}else queuedData_ajaxsubmit(wantxml,req);}
else q_ready=true;}
function writenewusercookie(sid){if(sid==undefined){sid=document.mainform.sessionid.value;}else{document.mainform.sessionid.value=sid;document.mainform["q_space"].value=(document.mainform["q_space"].value!="")?document.mainform["q_space"].value:sid;}
if(document.cookie){if((!getcookie("uid"))||(getcookie("uid")!="member")){setcookie("uid",sid,15);setcookie("known",true,60000);}}}
function handlenewuser(x){if(window.q_nonewsessionid)return;if(document.mainform.sessionid.value!="")return;var sid=x["q_newsessionid"];if(x.authresult){document.mainform.sessionid.value=sid;return;}
if(!sid)q_alert(common_message["unexperror"],null,true);document.mainform.sessionid.value=sid;document.mainform["q_space"].value=(x["q_newspace"])?x["q_newspace"]:((document.mainform["q_space"].value)?document.mainform["q_space"].value:sid);if(document.cookie){if((!getcookie("uid"))||(getcookie("uid")!="member")){setcookie("uid",sid,15);setcookie("known",true,60000);}}}
var q_ajaxgetreq=null;function q_ajaxgetstdcallback(){if(!q_ajaxgetreq)return;if(q_ajaxgetreq.readyState==4){if(q_ajaxgetreq.status==undefined){return;}
if(q_ajaxgetreq.status==200){if(q_ajaxgetreq.responseText)handleupdate(q_ajaxgetreq.responseText);}else{handleupdate("");}
if(issafari())return;q_ajaxgetreq=null;}}
function q_ajaxget(url){if(!q_ajaxgetreq){if(window.XMLHttpRequest){q_ajaxgetreq=new XMLHttpRequest();if(q_ajaxgetreq.overrideMimeType){q_ajaxgetreq.overrideMimeType('text/plain');}}else if(window.ActiveXObject){try{q_ajaxgetreq=new ActiveXObject("Msxml2.XMLHTTP");}
catch(e){try{q_ajaxgetreq=new ActiveXObject("Microsoft.XMLHTTP");}
catch(e){}}}
q_ajaxgetreq.onreadystatechange=q_ajaxgetstdcallback;}
q_ajaxgetreq.open("GET",url,true);q_ajaxgetreq.setRequestHeader("Content-Type","text/xml;charset=utf-8");q_ajaxgetreq.send(null);}
function badrequest(){var x=common_message["badrequest"];if(issafari())x=x+"\n\n"+common_message["safaribugarrow"];else x=x+"\n\n"+common_message["sigbug"];q_alert(x,null,true);}
var queueajaxsubmit=false;var queuedData=[];function q_ajaxpptycallback(x,withwait,callBackFunction,params){for(var k in x){if(k=="currspaceright"){q_addspaceparams(x.currspaceright);if(window.q_sitemap_update)q_sitemap_update();if(window.q_sitemap_update)qlub_construct_weblinknames();}
if((/^otherspaceright\?/).test(k)){var spaceid=k.replace(/otherspaceright\?id=/,"");var space=q_spacefromid(spaceid);space.spacexml=x[k];q_sitemap_update(space.spacexml);function getsubhost(currxml){var re=new RegExp("^[^/]+(/)?([^/]+)?$");var host=currxml.infos.host||currxml.infos.privatedomain;return host.replace(/club[0-9]+\.quomodo\.com\//,"").replace(re,"$2$1");}
qlub_construct_weblinknames(space.spacexml,((getsubhost(spacexml)=="")?"":"../")+getsubhost(space.spacexml));}
if(k=="membersall"){if(window.members)members=x.membersall;q_addspaceparams({members:x.membersall});}
if(k=="membersalllight")q_addspaceparams({members_light:x.membersalllight});if(k=="membersallqorp"&&window.am_members)am_members=x.membersallqorp;}
if(withwait)q_fsm_delete();if(callBackFunction!=null){if(params)callBackFunction.apply(this,[x].concat(params));else callBackFunction(x);}}
function q_ajaxgetppty(ppty,callBackFunction,params){q_ajaxobjgetppty(null,null,ppty,callBackFunction,params);}
function q_ajaxobjgetppty(objkind,objselector,ppty,callBackFunction,params){var withwait=false;if(withwait)q_fsm_wait();document.mainform.mission.value=((q_pagemode()=="web")?"www":"")+"getspaceppty";q_ajaxsubmitwithservice("common@"+q_lang,{objkind:objkind,objselector:objselector,properties:ppty},q_ajaxpptycallback,[withwait,callBackFunction,params]);}
function q_ajaxsetppty(json,callBackFunction,params){q_ajaxobjsetppty(null,null,json,callBackFunction,params);}
function q_ajaxobjsetppty(objkind,objselector,json,callBackFunction,params){q_ajaxobjsetpptywithoptions(objkind,objselector,json,{},callBackFunction,params);}
function q_ajaxobjsetpptywithoptions(objkind,objselector,json,options,callBackFunction,params){var withwait=!(options&&options.silent);if(withwait)q_fsm_wait();document.mainform.mission.value=((q_pagemode()=="web")?"www":"")+"setspaceppty";q_ajaxsubmitwithservice("common@"+q_lang,$.extend({},options,{objkind:objkind,objselector:objselector,data:json}),q_ajaxpptycallback,[withwait,callBackFunction,params]);}
function q_ajaxobjremove(objkind,objselector,callBackFunction,params){var withwait=true;if(withwait)q_fsm_wait();document.mainform.mission.value=((q_pagemode()=="web")?"www":"")+"removespaceobj";q_ajaxsubmitwithservice("common@"+q_lang,{objkind:objkind,objselector:objselector},q_ajaxpptycallback,[withwait,callBackFunction,params]);}
function q_ajaxsubmitqueue(callBackFunction){if(queuedData.length==0){queueajaxsubmit=false;return;}
queueajaxsubmit=false;var r={json:queuedData};r.upindex=document.mainform.upindex.value;q_ajaxsubmit(r,callBackFunction);queuedData=[];}
function q_queueajaxsubmit(){queueajaxsubmit=true;}
function q_ajaxsubmitwithservice(service,q_data,callBackFunction,params){return xq_ajaxsubmitwithservice(service,q_data,callBackFunction,false,params);}
function q_xmlajaxsubmitwithservice(service,q_data,callBackFunction,params){return xq_ajaxsubmitwithservice(service,q_data,callBackFunction,true,params);}
function xq_ajaxsubmitwithservice(service,q_data,callBackFunction,wantxml,params){var savedservice=document.mainform.service.value;document.mainform.service.value=service;try{xq_ajaxsubmit(q_data,callBackFunction,wantxml,params);}catch(err){};document.mainform.service.value=savedservice;}
function q_ajaxsubmit(q_data,callBackFunction,params){if(window.currsvcid&&document.mainform&&document.mainform.service)document.mainform.service.value=currsvcid.replace(/@intl/,"@"+(window.q_lang||"fr"));return xq_ajaxsubmit(q_data,callBackFunction,false,params);}
function q_xmlajaxsubmit(q_data,callBackFunction,params){return xq_ajaxsubmit(q_data,callBackFunction,true,params);}
function xq_ajaxsubmit(q_data,callBackFunction,wantxml,params){if(q_alreadysubmitted()){queuedData.push([[q_data,callBackFunction,wantxml,params],document.mainform.mission.value,document.mainform.service.value]);return;}
xxq_ajaxsubmit(q_data,callBackFunction,wantxml,params);}
function queuedData_ajaxsubmit(wantxml,req){var savedmission=document.mainform.mission.value;document.mainform.mission.value=queuedData[0][1];var savedservice=document.mainform.service.value;document.mainform.service.value=queuedData[0][2];var r=queuedData[0][0][0];if(req&&(!wantxml)&&r.upindex){var x=new Object();if(req.responseText!=""){x=eval("("+req.responseText+")");}
queuedData[0][0][0].upindex=x.upindex||document.mainform.upindex.value;}
xxq_ajaxsubmit.apply(this,queuedData[0][0]);document.mainform.mission.value=savedmission;document.mainform.service.value=savedservice;queuedData.splice(0,1);}
function xxq_ajaxsubmit(q_data,callBackFunction,wantxml,params){if(window.snchoosersample){q_ready=true;return;}
document.mainform["q_method"].value="ajax";var req=null;if(window.XMLHttpRequest){req=new XMLHttpRequest();if(req.overrideMimeType){req.overrideMimeType('text/xml');}}else if(window.ActiveXObject){try{req=new ActiveXObject("Msxml2.XMLHTTP");}
catch(e){try{req=new ActiveXObject("Microsoft.XMLHTTP");}
catch(e){}}}
req.open("POST",cgiurl("ajax"),true);req.setRequestHeader("Content-type","application/x-www-form-urlencoded");req.onreadystatechange=function(){if(req.readyState==4){if(req.status==undefined){badrequest();return false;}else if(req.status==200){if(wantxml){resetform(wantxml,req);if(callBackFunction!=null)q_apply(callBackFunction,[req.responseXML].concat(q_args(params)));}else{var x=new Object();if(req.responseText!=""){x=eval("("+req.responseText+")");}
if(x.servererror){resetform(wantxml,req);handleajaxservererror(x);}else if(x.ajaxerror){resetform(wantxml,req);handleajaxerror(x);}else if(x.waitid){handleajaxwait(x,callBackFunction);iswaiting=true;}else{iswaiting=false;resetform(wantxml,req);handlenewuser(x);if(callBackFunction!=null)q_apply(callBackFunction,[x].concat(q_args(params)));}}
req=null;}}};req.send(requiredhiddendata()+"&"+reqAddData("data",q_toplist(q_data)));}
function handleajaxservererror(x){if(q_pagemode()=="makeweb")return;var currentTime=new Date();var month=twodigs(currentTime.getMonth()+1);var day=twodigs(currentTime.getDate());var year=currentTime.getFullYear();var hours=twodigs(currentTime.getHours());var min=twodigs(currentTime.getMinutes());var date='<br/><br/><span style="font-style: italic; font-size:10px">'+day+"."+month+"."+year+", "+hours+":"+min+"</span>";q_alert((x.servererror.message||common_message[x.servererror.kind].replace(/%s/,x.servererror.desc))+date,null,true);}
function handleajaxerror(x){if(q_pagemode()=="makeweb")return;var lang=q_lang;if(x.errormessage=="forcehomepage"){q_alert(common_message[x.errormessage],null,true);return openhomepage();}
if(typeof x.errormessage=="function")return x.errormessage();if(x.customerrormessage)return q_alert(x.customerrormessage,null,true);if(x.errormessage&&common_message[x.errormessage])return q_alert(common_message[x.errormessage],null,true);q_alert(common_message["ajaxerror"],null,true);}
var iswaiting=false;var rwait;var waitcallBackFunction;function handleajaxwait(x,callBackFunction){rwait=x;if(callBackFunction){waitcallBackFunction=callBackFunction;}else{waitcallBackFunction=null;}
setTimeout(ajaxwaitsubmit,1000*x.waitdelay);}
function ajaxwaitsubmit(){xxq_ajaxsubmit(rwait,waitcallBackFunction);}
var hiddenoptional=[];var hiddenrequired=["mission","sessionid","service","q_space","filename","q_method","loginsfolder"];function requiredhiddendata(hiddenkeys){var z=hiddenrequired;var s="";var i;for(i=0;i<z.length;i++){if(document.mainform[z[i]]){if(i>0)s+="&";s+=reqAddData(z[i],document.mainform[z[i]].value);}}
hiddenkeys=(hiddenkeys||[]).concat(hiddenoptional);for(i=0;i<hiddenkeys.length;i++){if(document.mainform[hiddenkeys[i]])s+="&"+reqAddData(hiddenkeys[i],document.mainform[hiddenkeys[i]].value);}
return s;}
function reqAddData(key,value){return encodeURIComponent(key)+"="+encodeURIComponent(value);}
function q_ajaxcount(mission,callback){xq_ajaxcount(mission,currsvcid,callback);}
function xq_ajaxcount(mission,what,callback){$.ajax({url:"/cgi-bin/cgicounter",data:{"data":q_toplist({mission:mission,spaceid:document.mainform.q_space.value,svcid:what})},success:function(data){if(callback)callback(data);},type:"POST",cache:false,dataType:"json"});}
var remote_upload_callback;var remote_upload_params=[];function q_remote_upload_callback(x){var currspaceright=rights_record.currspaceright;if(!q_spaceparam("currsize")||!q_spaceparam("maxmb")){if(remote_upload_callback)remote_upload_callback.apply(this,[x].concat(remote_upload_params));return;}
var maxmb=getmaxmb()*1024*1024;if(x.uploadcancelled){if(x.overspace)q_alert(common_message["overspace"].replace(/%maxmb/,q_smart_filesize(maxmb)).replace(/%overspace/,q_smart_filesize(x.overspace)),null,true);else q_alert(common_message["maxsizereached"].replace(/%maxmb/,q_smart_filesize(maxmb)),null,true);if(remote_upload_callback)remote_upload_callback.apply(this,["stop"].concat(remote_upload_params));return;}else{if(x.uploadedsize){if(x.uploadedsize>maxmb)q_alert(common_message["firstmaxsizereached"].replace(/%maxmb/,q_smart_filesize(maxmb)),null,true);q_setspaceparam("currsize",x.uploadedsize);if(q_spaceparam("currqorpsize")&&x.updatedsize)q_setspaceparam("currqorpsize",""+(parseInt(q_spaceparam("currqorpsize"),10)+x.updatedsize));q_mbchangedall();}}
if(remote_upload_callback)remote_upload_callback.apply(this,[x].concat(remote_upload_params));}
function q_setinputinmainform(inputname,inputvalue){if(!document.mainform[inputname])q_newinputinmainform(inputname);document.mainform[inputname].value=inputvalue;}
function q_newinputinmainform(inputname){document.mainform.innerHTML+='<input type="hidden" name="'+inputname+'" value="" />';}
function q_cloneinputsfrommainform(formname,inputhidden){var z=(inputhidden)?inputhidden:hiddenrequired;var i;var input;var theform=q_document_form(formname);var firstelem=theform.firstChild;var zi;for(i=0;i<z.length;i++){zi=z[i];if(document.mainform[zi]){if(!theform[zi]){input=q_CloneFromNode2(document.mainform[zi]);if(firstelem)theform.insertBefore(input,firstelem);else theform.appendChild(input);}
theform[zi].value=document.mainform[zi].value;}}}
function q_check_overspace(displayalert){if(q_spaceparam("currsize")&&q_spaceparam("maxmb")){var currsize=(q_spaceparam("currqorpsize")||q_spaceparam("currsize"))/1024/1024;var maxmb=getmaxmb();var b=maxmb&&(currsize>maxmb);if(b&&displayalert)q_alert(common_message["maxsizereached"].replace(/%maxmb/,q_smart_filesize(maxmb*1024*1024)),null,true);return b;}
return false;}
function q_availablespace(){if(q_spaceparam("currsize")&&q_spaceparam("maxmb")){var currsize=q_spaceparam("currqorpsize")||q_spaceparam("currsize");var maxmb=getmaxmb()*1024*1024;return maxmb-currsize;}
return 10*1024*1024;}
function q_remote_upload(formname,callBack,params){q_remote_uploadwithoptions({},formname,callBack,params);}
function q_remote_uploadwithoptions(options,formname,callBack,params){if(callBack)remote_upload_callback=callBack;else remote_upload_callback=null;remote_upload_params=params||[];if(q_check_overspace())return q_remote_upload_callback({uploadcancelled:"maxsizereached",maxmb:getmaxmb()});q_cloneinputsfrommainform(formname);var theform=q_document_form(formname);theform.mission.value="upload";for(var k in(options||{}))if(theform[k])theform[k].value=options[k];q_xrssubmit(formname);}
var remote_remove_callback;function q_remote_remove_callback(x){if(x.uploadedsize){q_setspaceparam("currsize",x.uploadedsize);if(q_spaceparam("currqorpsize")&&x.updatedsize)q_setspaceparam("currqorpsize",""+(parseInt(q_spaceparam("currqorpsize"),10)+x.updatedsize));q_mbchangedall();}
if(remote_remove_callback)remote_remove_callback(x);}
function q_remote_remove(rmfiles,callBack){var r={json:rmfiles};document.mainform.mission.value="rmfiles";remote_remove_callback=callBack?callBack:null;q_ajaxsubmit(r,q_remote_remove_callback);}
function q_remote_changeuploadname(uploadid,linkname){var r={uploadid:uploadid,linkname:linkname};document.mainform.mission.value="changeuploadname";q_ajaxsubmit(r,null);}
function q_readusersettings(callBack){document.mainform.mission.value="readusersettings";q_ajaxsubmitwithservice("subscribe@"+q_lang,"",callBack);}
function q_writeusersettings(usersettings){document.mainform.mission.value="writeusersettings";q_ajaxsubmitwithservice("subscribe@"+q_lang,{usersettings:usersettings},null);}
function isbeta2(){return(/^http:\/\/(beta2|club2).quomodo.com/).test(window.location.href);}
function q_toplist(x){return "<?xml version='1.0' encoding='UTF-8'?><!DOCTYPE plist PUBLIC '-//Apple Computer//DTD PLIST 1.0//EN' 'http://www.apple.com/DTDs/PropertyList-1.0.dtd'><plist version='1.0'>"+q_toplisttags(x)+"</plist>";}
function taggedescapedvalue(s,x){return "<"+s+">"+x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+s+">";}
function taggedvalue(s,x){return "<"+s+">"+x+"</"+s+">";}
function q_toplisttags(x){if(x==null)return "";var t,y,s;t=typeof(x);if(t=="number"){y=''+x;if(/[Ee\.]/.test(y))s="real";else s="integer";return taggedescapedvalue(s,y);}else if(t=="string"){return taggedescapedvalue("string",x);}else if(t=="function"){return taggedescapedvalue("string",x.toString());}else if(t=="boolean"){return(x)?"<true/>":"<false/>";}else if(t=="object"){if(x.tagName)return taggedescapedvalue("string",x.tagName+" element");s='';if(x.splice){for(var i=0;i<x.length;i++)if(x[i]!=null&&x[i]!=undefined)s+=q_toplisttags(x[i]);return taggedvalue("array",s);}else{for(y in x){if(x[y]!=null&&x[y]!=undefined)s+=taggedescapedvalue("key",y)+q_toplisttags(x[y]);}
return taggedvalue("dict",s);}}}
function q_toxml(x,entete){if(entete)return "<?xml version='1.0' encoding='UTF-8'?>\n<root>\n"+q_toxmltags(x)+"\n</root>\n";else return q_toxmltags(x);}
function q_toxmltags(x){if(x==null)return "";var t,y,s,res;t=typeof(x);if(t=="number")return x;if(t=="string")return x.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(t=="object"){if(x.tagName)return "<"+x.tagName+"/>";res="";if(x.splice){for(var i=0;i<x.length;i++)if(x[i]!=null)res+="<item>"+q_toxmltags(x[i])+"</item>";}else{function forceValidTag(tagName){if((/^[^a-zA-Z]/).test(tagName))return "k"+tagName;return tagName;}
for(y in x){if(x[y]!=null){var yTag=forceValidTag(y);res+="<"+yTag+">"+q_toxmltags(x[y])+"</"+yTag+">";}}}
return res;}}
function q_tostring(x,forcespace){var optionalspace=forcespace||"";try{q_debugging;optionalspace=" "}catch(err){};if(x==null)return "";var t,y,s;t=typeof(x);if(t=="number"){return(''+x);}else if(t=="string"){return "\""+x.replace(/(\r|\n)/g,"\\n").replace(/\\/g,"\\\\").replace(/"/g,"\\\"")+"\"";}else if(t=="boolean"){return(x)?"true":"false";}else if(t=="object"){if(x.tagName)return "["+x.tagName+" node]";if(x.splice){s="["+optionalspace;for(var i=0;i<x.length;i++)if(x[i]!=null){if(i>0)s+=","+optionalspace;s+=q_tostring(x[i]);}
return s+optionalspace+"]";}else{s="{"+optionalspace;i=0;for(y in x)if(x[y]!=null){if(i++>0)s+=","+optionalspace;s+=y+":"+optionalspace+q_tostring(x[y]);}
return s+optionalspace+"}";}}}
function q_xmltojson(xml,obj){if(!obj)obj={};var c=$(xml).children().get();if(!c.length&&$(xml).text())return $(xml).text();for(var i=0;i<c.length;i++){var tagname=c[i].tagName;if($(c[i]).children().length)obj[tagname]=q_xmltojson(c[i],obj[tagname]);else obj[tagname]=$(c[i]).text();}
return obj;}
var qdyn_message={"trylater":"Problème de réseau, veuillez ré-essayer plus tard."};if(!window.qdyn_queue)var qdyn_queue=[];var qdyn_switchloading={};var qdyn_loading=" ";function qdyn_load(h,args,url){if(typeof(url)=="string")url=[url];if(url.length<2)xqdyn_load(h,args,url);else{var oneurl=url.splice(0,1);xqdyn_load("qdyn_load",[h,args,url],oneurl);}}
function xqdyn_load(h,args,url){var waiting=" ";var toload=[];var ready=true;var s;if(typeof(url)=="string")url=[url];for(var k=0;k<url.length;k++){s=urltoteststring(url[k]);if(eval("window."+s))continue;if(eval("window."+s.replace(/_(it|de|pl|ar)_/,"_"+q_lang+"_")))continue;ready=false;if(waiting.indexOf(" "+s+" ")==-1)waiting+=s+" ";if(qdyn_loading.indexOf(" "+s+" ")==-1){toload.push(url[k]);qdyn_loading+=s+" ";}}
if(ready){if(h)((typeof h=="function")?h:eval(h)).apply(this,args||[]);}else{qdyn_queue.push({h:h,args:args,waiting:waiting});loadfiles(toload);}}
function qdyn_urlloaded(url){var s=urltoteststring(url);if(eval("window."+s))return true;if(eval("window."+s.replace(/_(it|de|pl|ar)_/,"_"+q_lang+"_")))return true;return false;}
function qdyn_loaded(s){if(!window.qdyn_loading)return;qdyn_loading=qdyn_loading.replace(" "+s+" "," ");if(qdyn_switchloading[s])qdyn_loading=qdyn_loading.replace(" "+qdyn_switchloading[s]+" "," ");var r;eval(s+" = true ;");for(var i=0;i<qdyn_queue.length;i++){r=qdyn_queue[i];if(r.waiting.indexOf(" "+s+" ")==-1){if(!qdyn_switchloading[s])continue;if(r.waiting.indexOf(" "+qdyn_switchloading[s]+" ")==-1)continue;}
r.waiting=r.waiting.replace(" "+s+" "," ");if(qdyn_switchloading[s])r.waiting=r.waiting.replace(" "+qdyn_switchloading[s]+" "," ");if(r.waiting.length>1)continue;if(r.h)((typeof r.h=="function")?r.h:eval(r.h)).apply(this,r.args);qdyn_queue.splice(i--,1);}}
function urltoteststring(url){if(/\.js$/.test(url))return url.replace(/(.*\/)?([^\/]+)\.js$/,"$2_js_loaded").replace(/[-.]/g,"_");if(/\.css$/.test(url))return url.replace(/(.*\/)?([^\/]+)\.css$/,"$2_css_loaded").replace(/[-.]/g,"_");if(/\.html$/.test(url))return url.replace(/(.*\/)?([^\/]+)\.html$/,"$2_html_loaded").replace(/[-.]/g,"_");}
function loadfiles(url){for(var k=0;k<url.length;k++)loadfile(url[k]);}
function loadfile(url){if(/\.js$/.test(url))return loadscript(url);if(/\.css$/.test(url))return loadcss(url);if(/\.html$/.test(url))return loadhtml(url);}
function loadscript(url){function doloadscript(url){var s=document.createElement("script");s.setAttribute("type","text/javascript");s.setAttribute("charset","UTF-8");s.setAttribute("src","https://core1.quomodo.com"+url+((window.q_jscssversion)?("?v="+window.q_jscssversion):""));document.getElementsByTagName("head")[0].appendChild(s);}
if(/_(it|de|pl|ar)\.js$/.test(url)){$.ajax({"url":url,"type":"HEAD",error:function(){var newurl=url.replace(/_(it|de|pl|ar)\.js$/,"_"+q_lang+".js");qdyn_switchloading[urltoteststring(newurl)]=urltoteststring(url);doloadscript(newurl);},success:function(){doloadscript(url);}});}else doloadscript(url);}
function loadcss(url){var s=document.createElement("link");s.setAttribute("type","text/css");s.setAttribute("rel","stylesheet");s.setAttribute("href","https://core0.quomodo.com"+url+((window.q_jscssversion)?("?v="+window.q_jscssversion):""));document.getElementsByTagName("head")[0].appendChild(s);var loadedid=urltoteststring(url);if(loadedid)qdyn_loaded(loadedid);}
function loadhtml(url){function doloadhtml(url){var iframeid=url.replace(/(.*\/)?([^\/]+)\.html$/,"$2_html_loaded")+"ifid";var iframe=document.createElement("iframe");iframe.id=iframeid;iframe.name=iframeid;iframe.className="jstarget";iframe.scrolling="no";iframe.style.borderWidth="0px";iframe.style.width="0px";iframe.style.height="0px";iframe.src=url+((window.q_jscssversion)?("?v="+window.q_jscssversion):"");document.body.appendChild(iframe);}
if(/_(it|de|pl|ar)\.html$/.test(url)){$.ajax({"url":url,"type":"HEAD",error:function(){var newurl=url.replace(/_(it|de|pl|ar)\.html$/,"_"+q_lang+".html");qdyn_switchloading[urltoteststring(newurl)]=urltoteststring(url);doloadhtml(newurl);},success:function(){doloadhtml(url);}});}else doloadhtml(url);}
function framedocument(theframe){theframe=ge(theframe);if(theframe.contentDocument)return theframe.contentDocument;return theframe.contentWindow.document;}
function qdyn_snloaddone(h,args,snkinds,loopcounter,svcLang){if(typeof snkinds=="string")snkinds=[snkinds];var shortsnkind,iframeid,snkind;var inheritedsn=[];for(var i=0;i<snkinds.length;i++){snkind=snkinds[i];shortsnkind=snkind.replace(/_intl/,"");if(svcLang&&(svcLang=="it"||svcLang=="de"||svcLang=="pl"||svcLang=="ar")){if(eval("window."+shortsnkind+"_"+svcLang+"_html_loaded")){iframeid=shortsnkind+"_"+svcLang+"_html_loaded"+"ifid";}else{iframeid=shortsnkind+"_"+q_lang+"_html_loaded"+"ifid";}}else{iframeid=shortsnkind+"_"+(svcLang||q_lang)+"_html_loaded"+"ifid";}
inheritedsn=inheritedsn.concat(qsn_dynload(snkind,iframeid));}
if(inheritedsn.length==0){if(h)((typeof h=="function")?h:eval(h)).apply(this,args||[]);return;}
qdyn_snload(h,args,inheritedsn,loopcounter,svcLang);}
function qdyn_snurlstoload(snkind,svcLang){if(typeof snkind=="object"){var urls=[];for(var i=0;i<snkind.length;i++)urls=urls.concat(qdyn_snurlstoload(snkind[i],svcLang));return urls;}
var shortsnkind=snkind.replace(/_intl/,"");var dir="/services/"+snkind+"/";var ulang="_"+(svcLang||q_lang);return[dir+"style/"+snkind+".css",dir+shortsnkind+ulang+".html",dir+"scripts/"+shortsnkind+"_msgs"+ulang+".js",dir+"scripts/"+snkind+".js"];}
function qdyn_snload(h,args,snkind,loopcounter,svcLang){if(loopcounter==undefined)var loopcounter=1;else loopcounter++;if(loopcounter>10){alert("Infinite recursion suspected.");return;}
var urls=qdyn_snurlstoload(snkind,svcLang);if(urls.length==0){if(h)((typeof h=="function")?h:eval(h)).apply(this,args||[]);return;}
qdyn_load("qdyn_snloaddone",[h,args,snkind,loopcounter,svcLang],urls);}
function qdyn_qorgiframeid(qorgref){if(typeof qorgref!="string")qorgref=qorgref.id;return qorgref+"_"+q_lang+"_html_loaded"+"ifid";}
function qdyn_qorgfilesloaded(qorgref){if((typeof qorgref=="object")&&(qorgref.splice)){for(var i=0;i<qorgref.length;i++)qdyn_qorgfilesloaded(qorgref[i]);}
if(typeof qorgref!="string")qorgref=qorgref.id;eval(qorgref+"_filesloaded = true ;");}
function qdyn_qorgloaddone(h,args,theref,params){if(theref=="qu")q_fsm_delete();qdyn_qorgfilesloaded(theref);var hh,dynloadparams;if((typeof theref=="object")&&(theref.splice))dynloadparams=[theref];else dynloadparams=[qdyn_qorgiframeid(theref),qdyn_qorgforceload(theref)];var qorgcontainer=[];if((params)&&(params.dynloadhandler))hh=eval(params.dynloadhandler);else try{hh=eval(((typeof theref=="string")?theref:theref.id)+"_dynload");}catch(err){}
if((params)&&(params.dynloadparams))dynloadparams=dynloadparams.concat(params.dynloadparams);if(hh)qorgcontainer=hh.apply(this,dynloadparams);if((qorgcontainer)&&(qorgcontainer.length!=0))return qdyn_qorgload.apply(this,[qdyn_qorgloaddone,[h,args,theref,params]].concat(qorgcontainer));if(h)((typeof h=="function")?h:eval(h)).apply(this,args||[]);}
function qdyn_qorgloaded(qorgref){return eval("window."+qorgref+"_filesloaded");}
function qdyn_qorgurlstoload(theref,wantmsgs){if(wantmsgs==undefined)wantmsgs=true;if((typeof theref=="object")&&(theref.splice)){var urls=[];for(var i=0;i<theref.length;i++)urls=urls.concat(qdyn_qorgurlstoload(theref[i],wantmsgs));return urls;}
var qorgref;if(typeof theref=="string")qorgref=theref;else{qorgref=theref.id;}
if(qdyn_qorgloaded(qorgref))return[];var dir,forceload,addedfiles;dir="/services/qorg/";forceload=false;addedfiles=[];if(typeof theref!="string"){if(theref.dir)dir=theref.dir;if(theref.forceload)forceload=true;if(theref.addedfiles)addedfiles=theref.addedfiles;}
var ulang="_"+q_lang;var urls=addedfiles.concat([dir+qorgref+ulang+".html",dir+"scripts/"+qorgref+".js"]);if(wantmsgs)urls.push(dir+"scripts/"+qorgref+"_msgs"+ulang+".js");if($.inArray(qorgref,["rights","managespace","manageselfspace","familyrights"])!=-1){urls.push("/services/paypal_intl/scripts/paypal_msgs"+ulang+".js");urls.push("/services/paypal_intl/scripts/paypal.js");}
if($.inArray(qorgref,["notepad"])!=-1)urls.push(dir+"style/"+qorgref+".css");if($.inArray(qorgref,["qu"])!=-1){urls.push("/services/swfs/scripts/swfupload.js");urls.push("/services/swfs/scripts/swfupload_queue.js");urls.push("/services/swfs/scripts/swfupload_swfobject.js");urls.push("/services/swfs/scripts/swfupload_functions.js");urls.push("/services/swfs/style/swfupload.css");}
return urls;}
function qdyn_qorgforceload(theref){if((typeof theref=="object")&&(theref.splice)){for(var i=0;i<theref.length;i++)if(qdyn_qorgforceload(theref[i]))return true;return false;}
if((typeof theref!="string")&&(theref.forceload))return true;return false;}
function qdyn_qorgloadwom(h,args,theref,params){qdyn_xqorgload(h,args,theref,params,false);}
function qdyn_qorgload(h,args,theref,params){qdyn_xqorgload(h,args,theref,params,true);}
function qdyn_xqorgload(h,args,theref,params,wantmsgs){if(theref=="qu")return q_apply(q_choosefile,args);if(typeof h=="object")return qdyn_qorglistload(h,wantmsgs);var urls=qdyn_qorgurlstoload(theref,wantmsgs);if(urls.length==0){if(qdyn_qorgforceload(theref))qdyn_qorgloaddone(h,args,theref,params);else if(h)((typeof h=="function")?h:eval(h)).apply(this,args||[]);return true;}
if(theref=="qu")q_fsm_wait();qdyn_load("qdyn_qorgloaddone",[h,args,theref,params],urls);return false;}
function qdyn_qorglistloaddone(qorgloads,wantmsgs,h,args,theref,params){qdyn_qorgloaddone(h,args,theref,params);qdyn_qorglistload(qorgloads,wantmsgs);}
function qdyn_qorglistload(qorgloads,wantmsgs){if(wantmsgs==undefined)wantmsgs=true;if(qorgloads.length==0)return;var p=qorgloads[0];qorgloads.splice(0,1);var theref=p[2];var urls=qdyn_qorgurlstoload(theref,wantmsgs);if(urls.length==0){if(qdyn_qorgforceload(theref))return qdyn_qorglistloaddone.apply(this,[qorgloads,wantmsgs].concat(p));else if(h!="")eval(p[0]).apply(this,p[1]);return qdyn_qorglistload(qorgloads,wantmsgs);}
qdyn_load("qdyn_qorglistloaddone",[qorgloads,wantmsgs].concat(p),urls);return false;}
function qdyn_finishload(iframeid,target){var elem,div;var mode="append";var srcid="qorg_block";if((typeof target=="string")||(target.tagName))elem=ge(target);else{elem=ge(target.target);if(target.mode)mode=target.mode;if(target.srcid)srcid=target.srcid;}
if(eval("window."+iframeid+"_"+srcid+"_finishloaddone"))return;if(mode=="append")div=elem.appendChild(document.createElement("DIV"));else if(mode=="insert")div=elem.parentNode.insertBefore(document.createElement("DIV"),elem);else if(mode=="replace")div=elem;if(target.id)div.id=target.id;div.innerHTML=framedocument(iframeid).getElementById(srcid).innerHTML;eval(iframeid+"_"+srcid+"_finishloaddone = true ;");}
function qdyn_q_partial_done(x){if(x.clienturls){var urls=[];for(var i in x.clienturls)urls.push(x.clienturls[i]);qdyn_load("qdyn_q_done",[x],urls);}else qdyn_q_done(x);}
function qdyn_q_done(x){if(x.id)eval(x.id+" = true ;");var iframeid=[];var t=x.urls.join(" ").match(new RegExp("/?([^/.]+\.html)","g"));if(t)for(var i=0;i<t.length;i++)iframeid.push(urltoteststring(t[i])+"ifid");if(iframeid.length==1)iframeid=iframeid[0];if(x.target)qdyn_finishload(iframeid,x.target);else if(x.dynh){var hh=(typeof x.dynh=="function")?x.dynh:eval(x.dynh);var dynargs=[iframeid];if(x.dynargs)dynargs=dynargs.concat(x.dynargs);hh.apply(this,dynargs);}
if(x.target&&(x.target=="q_drawers"||x.target==ge("q_drawers")))showblock("q_drawers");if(x.h)((typeof x.h=="function")?x.h:eval(x.h)).apply(this,(x.args)?x.args:[]);}
function q_(x){if((x.id)&&(eval("window."+x.id))){if(x.target&&(x.target=="q_drawers"||x.target==ge("q_drawers")))showblock("q_drawers");if(x.h)((typeof x.h=="function")?x.h:eval(x.h)).apply(this,(x.args)?x.args:[]);return true;}
var urls=[];for(var i in x.urls)urls.push(x.urls[i]);qdyn_load("qdyn_q_partial_done",[x],urls);}
function q_include(x,h,args){var xx;if(!x.splice)xx=[x];else xx=x;if(xx.length==0){if(h)((typeof h=="function")?h:eval(h)).apply(this,args||[]);return;}
var p=xx[0];xx.splice(0,1);p.h="q_include";p.args=[xx,h,args];q_(p);}
var dragdisabled=false;function disabledrag(){dragdisabled=true;}
function q_stopPropagation(ee){var e=ee||window.event;if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=true;}
function q_preventDefault(ee){var e=ee||window.event;if(e.preventDefault)e.preventDefault();else e.returnValue=false;}
var sliderindent=-64;var qdr_leftcolwidth=198;var qdr_resizewidth=12;function q_clientX(ee){var e=ee||window.event;if(e.pageX)return e.pageX;return e.clientX+document.documentElement.scrollLeft+document.body.scrollLeft;}
function q_clientY(ee){var e=ee||window.event;if(e.pageY)return e.pageY;return e.clientY+document.documentElement.scrollTop+document.body.scrollTop;}
function beginDragE(e){e=e||window.event;var x=getElementFromEvent(e);var elem=getContainer(x);beginDrag(elem,e);}
var latestclick={time:(new Date()).getTime(),x:0,y:0,target:null};function beginDrag(elem,ee,movecallBack,upcallBack,thelimits,preparecallBack){if(dragdisabled){dragdisabled=false;return false;}
if(window.unselect)unselect();var e=ee||window.event;if(!window.qsn_currstate)var qsn_currstate="view";if((((new Date()).getTime()-latestclick.time)<700)&&(Math.abs(q_clientX(e)-latestclick.x)<2)&&(Math.abs(q_clientY(e)-latestclick.y)<2)&&(elem==latestclick.target)&&(!(/(edit|new)/.test(qsn_currstate))))return false;latestclick.time=(new Date()).getTime();latestclick.x=q_clientX(e);latestclick.y=q_clientY(e);latestclick.target=elem;var x=parseInt(gcs(elem,"left"),10);var y=parseInt(gcs(elem,"top"),10);elem.deltawidth=(window.qsn_deltawidth)?qsn_deltawidth(elem):0;elem.deltacontentwidth=(window.q_deltacontentwidth)?q_deltacontentwidth(elem):0;var w=elem.offsetWidth;var h=elem.offsetHeight;var dx=q_clientX(e)-x;var dy=q_clientY(e)-y;var dw=q_clientX(e)-w;var xylimits=thelimits;var clientX0=q_clientX(e);var clientY0=q_clientY(e);if(elem.toresize){var targets=elem.toresize();for(var i=0;i<targets.length;i++){var targetelem=targets[i];targetelem.deltawidth=q_deltawidth(targetelem);if(isie6()&&targetelem.tagName=="IMG"&&targetelem.offsetHeight&&targetelem.filters["DXImageTransform.Microsoft.AlphaImageLoader"]){var originalwidth=targetelem.offsetWidth-((window.qsn_deltawidth)?qsn_deltawidth(targetelem):0);var originalheight=targetelem.offsetHeight-((window.qsn_deltaheight)?qsn_deltaheight(targetelem):0);if(originalwidth)targetelem.dragratio=originalheight/originalwidth;else targetelem.dragratio=1;}}}
var isGrow=(q_clientX(e)>($(elem).offset().left+elem.offsetWidth-qdr_resizewidth));if(preparecallBack){var r=preparecallBack(elem,clientX0,isGrow);if((r)&&(r.isgrow!=null)&&(r.isgrow!=undefined))isGrow=r.isgrow;}
function moveHandler(ee){var em=ee||window.event;if(qsn_currstate=="tm")return;if(!movecallBack)movecallBack=q_moveHandler;var qx=q_clientX(em)-dx;var qy=q_clientY(em)-dy;if(em.shiftKey){if(Math.abs(qx-x)<Math.abs(qy-y)){var ex=x;var ey=qy;}else{var ex=qx;var ey=y;}}else{var ex=qx;var ey=qy;}
var ew=q_clientX(em)-dw;movecallBack(elem,ex,ey,ew,isGrow,xylimits,em);q_stopPropagation(em);q_preventDefault(em);}
function upHandler(ee){var eu=ee||window.event;if(!upcallBack)upcallBack=q_upHandler;document.onmouseup=null;document.onmousemove=null;var qx=q_clientX(eu)-dx;var qy=q_clientY(eu)-dy;if(eu.shiftKey){if(Math.abs(qx-x)<Math.abs(qy-y)){var ex=x;var ey=qy;}else{var ex=qx;var ey=y;}}else{var ex=qx;var ey=qy;}
var ew=q_clientX(eu)-dw;var isMove=!((parseInt(clientX0,10)==parseInt(q_clientX(eu),10))&&(parseInt(clientY0,10)==parseInt(q_clientY(eu),10)));upcallBack(elem,ex,ey,ew,isGrow,isMove,xylimits,eu);elem=null;q_stopPropagation(eu);q_preventDefault(eu);}
document.onmousemove=moveHandler;document.onmouseup=upHandler;q_stopPropagation(e);if((window.getSelection)&&(window.getSelection()==""))q_preventDefault(e);if(!window.getSelection)q_preventDefault(e);}
function q_moveHandler(elem,ex,ey,ew,isGrow){if(isGrow){elem.style.cursor="nwse-resize";elem.style.width=Math.max(24,ew)+"px";}
else{elem.style.cursor="move";if(ex<0)ex=2;if(ey<0)ey=0;elem.style.left=ex+"px";elem.style.top=ey+"px";}}
function q_upHandler(elem,ex,ey,ew,isGrow,isMove){elem.style.cursor="auto";}
function beginDragOnly(elem,e){beginDrag(elem,e,moveOnlyHandler,upOnlyHandler);}
function moveOnlyHandler(elem,ex,ey,ew,isGrow){q_moveHandler(elem,ex,ey,ew,false);}
function upOnlyHandler(elem,ex,ey,ew,isGrow,isMove){q_upHandler(elem,ex,ey,ew,false,isMove);}
function beginFreeDrag(elem,ee){return beginDrag(elem,ee,q_freemoveHandler);}
function q_VmoveHandler(elem,ex,ey,ew,isGrow){elem.style.cursor="move";if(ey<0)ey=0;elem.style.top=ey+"px";if(elem.id=="q_drawerleftcol"){if(window.$)$("#q_drawerleftcol-badges-wrapper").css("top",ey+"px");}}
function beginVDrag(elem,ee){return beginDrag(elem,ee,q_VmoveHandler);}
function q_freemoveHandler(elem,ex,ey,ew,isGrow){if(isGrow){elem.style.cursor="nwse-resize";elem.style.width=Math.max(24,ew)+"px";}
else{elem.style.cursor="default";elem.style.left=ex+"px";elem.style.top=ey+"px";}}
function beginResize(elem,ee,h){beginDrag(elem,ee,q_moveResizeHandler,h);}
function q_moveResizeHandler(elem,ex,ey,ew,isGrow){q_moveHandler(elem,ex,ey,ew,true);}
var quomodoColors=new(function(){var _this=this;var __qColors=[{"id":"white","c":"#FFFFFF","l":"#FFFFFF","m":"#E6E6E6","d":"#CCCCCC","p":"#FAFAFA"},{"id":"black","c":"#000000","l":"#595959","m":"#333333","d":"#000000","p":"#EBEBEB"},{"id":"green","c":"#43BF2A","l":"#3ED930","m":"#43BF2A","d":"#27990F","p":"#E2FFDB"},{"id":"darkgreen","c":"#0D5500","l":"#179400","m":"#0D5500","d":"#093800","p":"#E0FFDB"},{"id":"darkblue","c":"#001D75","l":"#002EB7","m":"#001D75","d":"#00134D","p":"#DBE4FF"},{"id":"cyan","c":"#00B5F2","l":"#00D5FF","m":"#00B5F2","d":"#008FBF","p":"#DAF4FD"},{"id":"flatblue","c":"#1479FC","l":"#14A9FF","m":"#1479FC","d":"#1166D6","p":"#D9E8FC"},{"id":"purple","c":"#4C2699","l":"#6400E0","m":"#4C2699","d":"#391C73","p":"#EBDBFF"},{"id":"darkpurple","c":"#6E0057","l":"#A40081","m":"#6E0057","d":"#480039","p":"#FFDBF8"},{"id":"magenta","c":"#D63377","l":"#FF199F","m":"#D63377","d":"#A7005D","p":"#FFDBEE"},{"id":"red","c":"#C82619","l":"#F91F1F","m":"#C82619","d":"#A10500","p":"#FFDBDB"},{"id":"darkred","c":"#960C00","l":"#CA1100","m":"#960C00","d":"#6D0900","p":"#FFDEDB"},{"id":"yellow","c":"#FCCD0F","l":"#FFE626","m":"#FCCD0F","d":"#D4AD0D","p":"#FCFAB1"},{"id":"orange","c":"#F77300","l":"#FFA600","m":"#F77300","d":"#CC5F00","p":"#FFE7D1"},{"id":"gold","c":"#C28F00","l":"#E6B400","m":"#C28F00","d":"#9C7500","p":"#FFEFBA"},{"id":"graylight","c":"#E6E6E6","l":"#FFFFFF","m":"#E6E6E6","d":"#CCCCCC","p":"#FAFAFA"},{"id":"graymedian","c":"#999999","l":"#B3B3B3","m":"#999999","d":"#737373","p":"#F2F2F2"},{"id":"graydark","c":"#333333","l":"#595959","m":"#333333","d":"#000000","p":"#EBEBEB"}];this.sortedColorIds=["green","darkgreen","darkblue","cyan","flatblue","purple","darkpurple","magenta","red","darkred","yellow","orange","gold","white","black","graymedian"];var __qGrays=[{id:"lightgray",c:"#F2F2F2"},{id:"gray",c:"#D1D1D1"},{id:"darkgray",c:"#545454"}];var __qTextGrays=[{id:"pendarkergray",c:"#3A3A3A"},{id:"pendarkgray",c:"#4C4C4C"},{id:"pengray",c:"#727272"},{id:"penlightgray",c:"#939393"},{id:"penlightergray",c:"#B2B2B2"}];var __qLinks=[{id:"darkerlink",c:"#000075"},{id:"darklink",c:"#000A75"},{id:"link",c:"#0055FF"},{id:"lightlink",c:"#00B7FF"},{id:"lighterlink",c:"#00D0FF"}];var __colorsOnBackground={"gold+m-purple+l":"#E8AB00","red+l-darkblue+l":"#FF7571","flatblue+d-darkred+m":"#4886D7","darkred+d-purple+l":"#E3675C","magenta+d-black+l":"#FF1998","darkblue-orange":"#000075","cyan+m-purple+l":"#62D7FF","yellow+d-gray":"#947D00","red+d-darkgreen+l":"#6B0300","link-lightgray":"#0055FF","orange+l-flatblue+l":"#D06100","yellow+d-cyan+m":"#F1D74A","magenta+d-darkgreen+l":"#F768B7","purple+l-darkgray":"#B67AFF","link-flatblue+d":"#00CCFF","link-green":"#000A75","darkpurple+d-darkblue+m":"#B60390","cyan+m-green+d":"#5AD5FF","purple+l-red+l":"#5A2897","red+l-cyan+m":"#BF110C","flatblue+l-gold+l":"#3287F5","yellow+m-flatblue+m":"#FFE44D","cyan+d-red+m":"#70C4E1","black+m-red+l":"#262626","red+d-flatblue+d":"#FA5B56","green+l-white+m":"#2ED900","gold+d-flatblue+m":"#CEA100","flatblue+d-purple+d":"#3384ED","red+d-cyan+d":"#6E0300","purple+l-darkred+m":"#BD8FF4","bw-black+l":"#FFFFFF","white+m-yellow+m":"#F7F7F7","flatblue+l-darkgreen+d":"#509BFC","darkgreen+m-black+l":"#1FC800","flatblue+l-yellow+d":"#287AE6","bw-flatblue+l":"#000000","gold+m-darkred+d":"#D19A00","orange+d-gold+d":"#FF8317","gold+d-darkpurple+l":"#C69100","magenta+d-orange+m":"#89004B","magenta+l-purple+l":"#FF80C7","gbw-green+d":"#DBDBDB","magenta+l-black+m":"#FF31A4","red+l-darkred+d":"#FF4641","black+l-lightgray":"#4D4D4D","orange+l-cyan+d":"#FFB473","yellow+l-lightgray":"#FFDA38","darkred+l-red+m":"#8E1B11","flatblue+m-green+m":"#9CC7FF","flatblue+d-orange+m":"#00449D","bw-lightgray":"#000000","purple+d-gold+d":"#2D0064","green+m-orange+d":"#94ED7C","green+d-flatblue+d":"#73CE5B","link-white":"#0055FF","purple+l-red+d":"#C89CFF","cyan+m-darkpurple+l":"#00D5FF","black+m-green+m":"#262626","darkpurple+l-darkred+d":"#F300C0","gbw2-white+l":"#DDDDDD","cyan+m-magenta+d":"#65CEF2","green+d-darkblue+d":"#25AC00","darkred+m-darkblue+m":"#E84F42","gold+d-flatblue+l":"#674D00","magenta+m-cyan+d":"#FF7DC5","bw-white+d":"#000000","gold+m-red+d":"#E3A800","magenta+m-darkred+l":"#FF67BB","link-darkred":"#00C8FF","purple+m-darkred+d":"#A051FF","darkblue+l-magenta+d":"#90ACFF","flatblue+m-black+m":"#4595FC","gold+m-purple+d":"#CE9800","red+m-magenta+m":"#FF8682","orange+l-darkred+m":"#FF8C28","darkred+d-red+m":"#6A211B","magenta+l-black+l":"#FF79C3","purple+l-darkblue+d":"#A256FE","flatblue+d-red+d":"#4784D4","yellow+m-white+m":"#C2A800","purple+d-magenta+m":"#330072","white+d-white+l":"#717171","link-magenta+m":"#72D0FF","darkgreen+l-darkgray":"#22DE00","yellow+l-white+d":"#D4B400","darkblue+l-flatblue+l":"#002AA6","black+m-darkblue+m":"#919191","gold+m-white+d":"#A67A00","magenta+d-white+m":"#B60065","purple+l-darkred+l":"#D9B8FF","darkgreen+l-cyan+d":"#137B00","black+l-purple+m":"#BDBDBD","flatblue+l-flatblue+m":"#B7D7FF","bww-gold":"#FFFFFF","gbw2-orange+d":"#CC9B70","magenta+m-flatblue+m":"#FF9FD4","magenta+d-orange+l":"#A5005B","cyan+m-darkred+m":"#31CBFF","darkblue+l-green+d":"#002180","magenta+l-gold+m":"#DF007B","cyan+m-gray":"#008FBF","cyan+d-darkblue+m":"#0099CC","darkblue+l-purple+l":"#B8CAFF","green+m-gray":"#229F00","purple+l-darkgreen+l":"#5700C1","darkblue+l-darkpurple+m":"#6E93FF","darkpurple+d-purple+l":"#F83BD2","flatblue+m-green+l":"#1258B5","bw-white":"#000000","flatblue+m-darkgreen+m":"#4293FC","orange+d-magenta+m":"#FF9230","link-darkgray":"#00C8FF","darkpurple+m-flatblue+m":"#640050","magenta+d-magenta+m":"#FF4FB1","green+m-darkgreen+m":"#31E200","bww-black+d":"#FFFFFF","gold+d-yellow+m":"#664700","darkblue+m-red+m":"#000A75","darkblue+l-black+d":"#416FFF","darkgreen+l-darkred+l":"#9DE98F","purple+d-darkblue+m":"#7A00DE","flatblue+m-magenta+m":"#88BBFF","green+l-red+l":"#CAFFBB","white+d-darkgreen+l":"#D4D4D4","magenta+m-purple+d":"#F41591","bww-green":"#FFFFFF","darkpurple+l-darkblue+m":"#FF1DD2","yellow+m-orange+l":"#FFF245","bw-gray":"#000000","purple+m-purple+m":"#AA63FF","yellow+d-green+m":"#FFDF2B","orange+d-yellow+m":"#D55206","flatblue+m-black+l":"#4BB5FC","darkblue+m-darkblue+m":"#7396FF","orange+l-darkred+l":"#FFA24F","red+l-darkblue+d":"#F13C38","cyan+d-gray":"#007299","flatblue+l-flatblue+d":"#B3D3FF","orange+m-gold+l":"#BA5600","flatblue+m-orange+m":"#004FB7","red+l-flatblue+l":"#C60500","green+d-darkpurple+m":"#36BA0E","black+l-red+m":"#2E2E2E","gold+d-magenta+l":"#EEB30D","purple+m-gold+m":"#3E0088","darkred+d-darkblue+d":"#BA0F00","red+d-darkblue+m":"#CE1D18","cyan+d-darkblue+l":"#0DB6EF","magenta+l-magenta+m":"#FFAEDB","darkpurple+m-darkred+l":"#F87BDE","white+d-white+d":"#F0F0F0","link-red":"#00D0FF","darkpurple+l-black+l":"#FF4BE1","purple+d-magenta+l":"#3E007B","gold+m-gold+d":"#EDAE00","black+m-flatblue+l":"#262626","green+d-green+m":"#72FF4B","cyan+d-darkred+l":"#6FC3DE","green+m-darkred+m":"#5DCF3D","darkgreen+l-red+m":"#9DE98F","magenta+m-darkblue+l":"#F350AB","yellow+m-flatblue+l":"#F6E586","black+m-darkblue+l":"#8A8A8A","gbw-green+m":"#D5D5D5","flatblue+d-darkgreen+l":"#609CEE","purple+l-black+m":"#A15CF7","magenta+l-white+m":"#FF008E","darkpurple+d-black+l":"#CC00A2","purple+m-purple+l":"#C697FF","darkpurple+d-darkgreen+m":"#CB00A1","gbw2-flatblue+m":"#86A7D2","cyan+l-flatblue+m":"#AFEBFF","yellow+m-yellow+m":"#B58900","darkblue+m-darkblue+d":"#5984FF","yellow+d-orange+l":"#F4E40E","yellow+m-green+m":"#FFE659","orange+l-yellow+d":"#F85B00","darkpurple+d-darkblue+d":"#B70090","red+l-cyan+l":"#D10600","green+m-darkpurple+m":"#3FDA10","purple+m-magenta+m":"#410091","flatblue+m-cyan+d":"#95C3FF","green+l-purple+m":"#86F764","darkred+d-magenta+d":"#EF4534","green+d-cyan+m":"#156200","cyan+d-red+l":"#93DFEF","green+l-green+l":"#23A400","gbw-white+d":"#595959","red+l-gold+m":"#E90600","darkblue+d-darkgray":"#3668FF","flatblue+d-orange+l":"#0C56B5","magenta+d-flatblue+d":"#FF39A7","black+d-darkgreen+d":"#949494","darkpurple+d-darkpurple+m":"#CC00A2","green+m-darkred+l":"#85DE6D","orange+d-magenta+l":"#FFA455","darkred+l-purple+d":"#E86D62","cyan+l-cyan+d":"#AFEBFF","darkred+m-gold+d":"#740900","darkgreen+l-red+l":"#2D5F24","link-yellow+l":"#0051F3","cyan+l-gold+m":"#91DEF8","flatblue+m-darkgreen+d":"#1D7EFC","bw-darkgray":"#FFFFFF","cyan+l-magenta+l":"#C0EFFF","cyan+l-darkpurple+m":"#33CCFF","purple+l-darkpurple+l":"#C595FF","magenta+l-flatblue+l":"#EC188D","darkred+l-magenta+d":"#FF6F61","black+d-red+d":"#9E9E9E","darkpurple+m-purple+m":"#F41DC7","purple+d-darkpurple+m":"#8B2AFF","cyan+l-flatblue+l":"#ABF1FF","orange+m-gold+d":"#FF973D","gbw-black+l":"#C7C7C7","yellow+m-yellow+l":"#B48700","green+d-purple+l":"#6DCE53","link-darkred+l":"#5DE1FF","gbw2-darkblue+m":"#6b769a","yellow+d-yellow+m":"#8E6B00","red+m-darkred+m":"#FF312B","bw-graymedian+m":"#FFFFFF","cyan+m-flatblue+m":"#8CE2FF","red+d-green+l":"#7D1C19","green+l-darkpurple+l":"#91EE78","gold+m-darkpurple+d":"#CA9500","white+d-cyan+l":"#E6E6E6","black+m-darkgray":"#171717","red+l-magenta+m":"#FFA7A4","cyan+m-white+m":"#008FBF","black+l-orange+d":"#363636","gold+m-green+m":"#8C6600","gold+m-cyan+d":"#ECAE00","darkgreen+d-darkblue+l":"#1AAB00","white+d-darkgray":"#D0D0D0","link-graymedian+m":"#65E6FF","bw-green":"#000000","flatblue+l-darkpurple+l":"#9FC8FF","cyan+l-green+l":"#178CB5","gold+l-yellow+m":"#B48400","green+m-cyan+l":"#219600","purple+m-darkgray":"#A255FF","gbw2-darkgreen+m":"#6D9166","flatblue+d-cyan+m":"#00439B","flatblue+m-red+m":"#8DBFFF","gbw2-darkred+m":"#BE7973","darkpurple+m-purple+d":"#F000BE","purple+d-darkpurple+d":"#8625FC","link-darkred+d":"#00AAFF","gold+m-gray":"#AC7F00","cyan+l-yellow+m":"#00A4DC","green+l-green+d":"#A4F68F","red+d-orange+d":"#7B0300","gbw2-green+m":"#96CA87","purple+m-magenta+l":"#4900A1","darkpurple+m-darkblue+l":"#EF2CC6","yellow+d-yellow+l":"#8E6300","darkgreen+m-darkgreen+l":"#0A3F00","bww-black+m":"#FFFFFF","black+d-black+m":"#808080","magenta+m-magenta+m":"#FF7CC5","cyan+m-flatblue+l":"#8CECFF","darkred+d-black+m":"#B30F00","gbw-cyan+d":"#DADADA","darkred+d-darkred+m":"#DB3324","darkred+d-orange+d":"#660900","gbw2-graymedian+m":"#B6B6B6","magenta+d-magenta+l":"#FF69BC","green+m-darkgreen+l":"#89F66C","green+m-flatblue+m":"#93EC7A","gold+d-orange+m":"#663D00","black+d-purple+d":"#6C6C6C","purple+d-darkblue+l":"#9843FF","link-graymedian+l":"#0028F0","green+m-magenta+m":"#A5F08F","magenta+d-gold+d":"#FF5CB6","darkblue+m-cyan+m":"#000075","flatblue+m-gold+m":"#95C3FF","black+m-purple+l":"#151515","green+m-cyan+d":"#8DEA74","cyan+l-green+d":"#80DFFF","gbw2-gold+d":"#b6a570","cyan+d-orange+m":"#9CD8ED","flatblue+m-flatblue+l":"#0054BF","darkgreen+l-darkblue+m":"#20D200","green+m-darkblue+m":"#2ED900","darkblue+l-darkpurple+d":"#5D86FF","flatblue+d-cyan+l":"#004FB5","red+l-flatblue+d":"#FA9997","gbw-darkgreen+m":"#CECECE","darkblue+m-darkgray":"#5F87FF","flatblue+m-orange+l":"#1166D4","red+d-cyan+m":"#750B08","purple+l-flatblue+d":"#CDA4FF","gold+d-magenta+d":"#B78700","black+l-black+l":"#292929","link-purple+d":"#00AEFF","gbw-darkred+m":"#CFCFCF","green+d-darkred+m":"#4CA932","magenta+m-green+m":"#B50064","purple+d-darkgray":"#8F33FF","gbw-darkpurple+l":"#DADADA","orange+d-cyan+l":"#A45917","darkred+m-flatblue+m":"#810A00","link-gray":"#0044FF","red+d-darkgreen+d":"#CE211C","darkred+l-darkred+m":"#EF5B4E","flatblue+d-darkred+l":"#6498DA","magenta+l-magenta+l":"#FFC0E3","black+d-flatblue+d":"#02000D","magenta+d-darkgray":"#FF2DA2","darkpurple+m-flatblue+d":"#F36BD6","link-darkblue":"#00C8FF","darkgreen+m-darkblue+l":"#1EC400","darkred+d-black+l":"#E3483A","cyan+d-darkred+d":"#00A2D8","flatblue+l-magenta+m":"#ACCFFF","darkpurple+l-darkblue+d":"#FF00C9","magenta+l-orange+d":"#FFB9E0","link-black":"#00B7FF","black+d-darkblue+d":"#737373","darkblue+l-white+d":"#002AA6","purple-green":"#350075","gbw2-graymedian+l":"#8C8C8C","flatblue+l-gold+d":"#A4CAFC","purple+d-cyan+l":"#3A0080","darkred+l-darkblue+m":"#FF5E50","darkblue+d-darkblue+m":"#4D79FF","green+m-magenta+l":"#B8FAA5","flatblue+m-gold+l":"#126DE3","link-gold+l":"#0026E6","gbw2-yellow+l":"#bfbb40","flatblue+m-darkpurple+l":"#76B1FF","bw-darkgreen":"#FFFFFF","gbw-white+m":"#606060","white-white":"#000000","darkred+m-magenta+d":"#EF6154","black+l-flatblue+m":"#3E3E3E","gold+m-red+m":"#EAAB00","green+d-darkred+l":"#6CCD53","magenta+m-darkpurple+m":"#FF008E","darkpurple+l-purple+m":"#FF3AD6","darkgreen+m-flatblue+m":"#126F00","black+l-darkred+m":"#AEAEAE","black+l-darkblue+m":"#9C9C9C","flatblue+l-orange+d":"#9AC5FF","gbw-cyan+m":"#676767","darkred+l-black+m":"#FF3928","orange+d-green+m":"#EDAE56","purple+l-purple+m":"#BF89FF","magenta+l-cyan+m":"#DD2E8F","purple+m-black+l":"#AB64FF","black+l-darkpurple+m":"#A6A6A6","gold+d-darkred+m":"#C69100","red+m-flatblue+l":"#960400","darkpurple+d-orange+d":"#3D0030","purple+m-red+m":"#C799FF","magenta+d-purple+m":"#FF0E93","flatblue+d-darkpurple+m":"#418DF0","green+m-flatblue+l":"#1B8000","darkgreen+m-darkpurple+m":"#20D200","black+m-darkgreen+m":"#ADADAD","purple+d-flatblue+m":"#2F0068","orange+m-flatblue+d":"#FF9E4A","gold+d-flatblue+d":"#C79400","green+m-green+l":"#1B7B00","cyan+l-magenta+d":"#85D7F4","darkred+m-darkblue+l":"#E8685D","darkblue+d-darkblue+d":"#2F64FF","darkgreen+d-darkred+l":"#55C740","darkpurple+l-darkgreen+l":"#8C0071","cyan+l-darkpurple+l":"#39DEFF","magenta+m-yellow+d":"#DA0079","bw-black+d":"#FFFFFF","darkblue+m-darkpurple+l":"#6E94FF","darkgreen+d-flatblue+d":"#1AAC00","green+m-darkblue+l":"#5CF135","green+d-purple+d":"#33B50E","gold+l-white+d":"#CE9700","black+l-black+d":"#8A8A8A","darkred+m-purple+m":"#DE5A4E","darkgreen+l-darkblue+d":"#1FCC00","orange+d-cyan+d":"#FF871D","gold+l-red+d":"#FFBD00","flatblue+l-darkgray":"#7EC9FC","darkblue+d-darkgreen+d":"#4070FF","link-flatblue+m":"#32E0FF","black+l-darkred+l":"#A3A3A3","gold+l-darkblue+l":"#F3BE00","darkpurple+l-purple+d":"#FF1AD2","magenta+m-darkgreen+m":"#FF35A5","darkgreen+d-gold+d":"#0B4500","darkred+l-black+l":"#E6695E","purple+l-purple+l":"#D6B5FF","red+m-darkpurple+d":"#E10600","gbw-cyan":"#525252","flatblue+d-magenta+d":"#6194D9","yellow+l-yellow+m":"#DDA700","white+m-black+l":"#E5E5E5","darkred+d-flatblue+d":"#4D0700","gold+m-darkblue+m":"#CA9500","darkblue-yellow":"#000075","white+m-darkgray":"#E5E5E5","darkpurple+d-darkred+l":"#DE5CC3","gold+l-magenta+m":"#FFC533","orange+d-gold+m":"#882D00","purple+l-green+m":"#6100DA","darkgreen+l-black+m":"#22E100","red+l-darkred+m":"#FF5A55","green+d-red+m":"#69D44D","black+l-flatblue+l":"#484848","magenta+m-flatblue+l":"#BA136F","darkred+l-darkgreen+l":"#830000","orange+l-cyan+m":"#CE6B15","cyan+l-darkred+m":"#00D0FF","green+d-darkgreen+m":"#2BC900","black+l-gray":"#4D4D4D","darkpurple+m-black+m":"#E000B1","purple+d-gold+m":"#32006E","red+l-orange+m":"#DB0600","gold+l-orange+l":"#B78000","darkred+m-darkred+m":"#EF4435","gold+d-purple+l":"#CA9500","darkblue+m-darkred+d":"#4D79FF","gbw2-purple+d":"#826b9d","black+l-darkblue+l":"#949494","darkblue+l-graymedian+d":"#B5C6FF","magenta+m-magenta+l":"#FF93CF","magenta+m-darkgreen+d":"#E80081","cyan+l-orange+l":"#009ACE","green+d-magenta+m":"#7DDC61","magenta+m-darkpurple+d":"#F20086","cyan+d-purple+l":"#3CCDFF","link-darkgreen":"#00C8FF","darkgreen+m-flatblue+d":"#1FD000","yellow+l-yellow+l":"#DA9900","darkred+d-darkred+l":"#FB493A","gbw2-gold+m":"#947C3B","magenta+l-darkgreen+l":"#FFADDA","magenta+d-purple+l":"#FF1E9B","darkblue+l-cyan+m":"#00009B","gbw2-green+l":"#5AB940","darkpurple+l-gold+m":"#940075","green+m-green+d":"#89F66C","gold+m-darkblue+l":"#CE9800","black+m-purple+d":"#7A7A7A","gold+m-purple+m":"#D99F00","bw-black+m":"#FFFFFF","flatblue+m-magenta+l":"#9BC7FF","darkred+m-cyan+d":"#7D130A","yellow+l-white+l":"#FBDE21","yellow+m-white+l":"#F4C70E","darkred+d-darkgreen+l":"#4D0000","cyan+m-purple+m":"#40CFFF","white+d-purple+d":"#D2D2D2","cyan+m-gold+m":"#76D8F8","darkpurple+d-cyan+d":"#3E0031","gbw-darkpurple+d":"#CECECE","darkred+m-purple+l":"#EF766C","darkpurple+d-darkpurple+d":"#B90092","darkblue-gold":"#000075","green+d-darkpurple+l":"#60D73F","darkred+l-darkred+l":"#FF796E","orange+m-magenta+d":"#FF8000","green+d-magenta+l":"#9CEB85","gold+l-cyan+d":"#FBB900","cyan+d-darkpurple+d":"#009FD4","white+m-black+d":"#E5E5E5","black+l-magenta+m":"#2B2B2B","red+l-green+m":"#CC140E","gold+l-gold+m":"#FFC728","link-cyan+d":"#00D0FF","cyan+d-gold+d":"#2CB8E7","green+d-gold+m":"#177000","red+d-cyan+l":"#850400","darkblue+l-cyan+l":"#002AA6","flatblue+d-purple+m":"#4B92EF","flatblue+d-flatblue+l":"#00459C","flatblue+l-yellow+m":"#3884E7","link-darkpurple+m":"#00BFFF","purple+m-purple+d":"#A051FF","yellow+l-green+m":"#FFEF97","orange+d-yellow+d":"#BE4600","magenta+m-orange+m":"#B50064","yellow+d-white+m":"#9F8A00","yellow+d-flatblue+m":"#E8C819","darkred+l-gold+m":"#A80E00","black+l-red+l":"#3B3B3B","gold+l-orange+d":"#FFC72D","orange+m-cyan+l":"#C06D25","green+m-darkpurple+l":"#75EA55","gbw-darkred":"#CCC","purple+m-black+d":"#812AEA","cyan+l-orange+d":"#B0E6F9","darkpurple+d-flatblue+m":"#3E0031","cyan+d-purple+d":"#0096C8","darkblue+m-graymedian+d":"#90AAFF","red+m-flatblue+d":"#FA807D","green+m-darkred+d":"#2CCD00","black+l-magenta+l":"#454545","darkred+m-darkpurple+l":"#E85F52","darkgreen+l-red+d":"#76CE65","gold+m-red+l":"#F4C11C","purple+d-flatblue+l":"#3B0082","black+m-darkgreen+l":"#262626","darkgreen+l-green+d":"#0D5100","link-darkpurple+l":"#31C5FF","cyan+l-white+m":"#00ACE6","white+d-gold+l":"#DEDEDE","gold+l-green+m":"#A97A00","gbw-magenta+m":"#D2D2D2","purple+l-darkblue+m":"#B272FF","cyan+l-flatblue+d":"#8BE2FF","darkgreen+m-magenta+m":"#114607","yellow+m-yellow+d":"#FFED46","magenta+d-cyan+d":"#EE5AAC","darkgreen+m-darkgray":"#1EC400","gold+m-black+l":"#D59D00","white+d-white+m":"#999999","bww-orange":"#FFFFFF","darkpurple+d-darkgreen+d":"#BC0095","flatblue+d-darkpurple+d":"#3184EE","darkgreen+l-orange+d":"#116E00","green+m-gold+l":"#229F00","green+l-flatblue+m":"#B8F9A6","link-orange+m":"#001EB0","cyan+m-cyan+m":"#99E5FF","red+m-green+l":"#A62521","green+l-darkblue+m":"#31E800","darkpurple+d-magenta+m":"#3D0030","cyan+l-purple+l":"#95E4FF","cyan+l-gold+l":"#2399C0","white+l-white+l":"#999999","cyan+d-cyan+d":"#5CD2F9","darkgreen+l-black+l":"#23E100","red+d-darkpurple+m":"#CF201B","darkgreen+m-magenta+d":"#40D025","darkred+l-flatblue+m":"#9A0C00","darkblue+l-red+l":"#071E8F","magenta+m-gold+m":"#B30063","black+d-darkpurple+m":"#808080","orange+m-cyan+d":"#FF9D47","magenta+m-orange+l":"#D00073","darkblue+l-darkblue+m":"#99B3FF","darkgreen+l-darkpurple+l":"#23E700","green+d-darkgreen+l":"#80E665","gbw-red+l":"#D4D4D4","green+m-gold+d":"#5EEF74","gold+m-magenta+l":"#FDC529","purple+m-darkgreen+m":"#9741FF","bww-flatblue+l":"#FFFFFF","yellow+d-yellow+d":"#F3DF20","orange+d-red+l":"#EF903C","darkpurple+m-red+m":"#FA83E1","darkred+m-darkred+l":"#FB6053","darkpurple+d-red+d":"#D600AB","cyan+m-flatblue+d":"#71DBFF","red-black":"#FF0800","yellow+d-gold+l":"#FFEE37","black-black":"#FFFFFF","purple+m-green+l":"#40008E","purple+m-cyan+d":"#4900A2","green+d-black+l":"#54D130","flatblue+m-purple+d":"#4A99FF","purple+d-darkgreen+m":"#7A18F1","green+m-red+d":"#6BD74D","yellow+l-cyan+l":"#FAF5C1","link-graymedian+d":"#00BFFF","darkblue+d-purple+d":"#124DFF","darkblue+d-black+d":"#0039EA","orange+m-gold+m":"#A63700","darkblue+l-yellow+d":"#002AA6","flatblue+d-cyan+d":"#76AAEE","green+l-cyan+m":"#209600","darkblue+l-darkred+d":"#7799FF","white+m-lightgray":"#A8A8A8","darkpurple+m-darkpurple+m":"#EF00BE","flatblue+d-gray":"#0661D7","darkred+d-purple+d":"#D0493D","magenta+l-darkpurple+l":"#FF6EBE","orange+l-red+l":"#FFC189","bww-flatblue+d":"#FFFFFF","orange+d-red+d":"#E16900","black+m-darkpurple+m":"#949494","darkblue+l-darkblue+d":"#83A3FF","link-cyan+m":"#0023D2","green+l-flatblue+l":"#219C00","darkgreen+d-magenta+m":"#0E3906","darkred+d-black+d":"#A40D00","red+m-cyan+d":"#9A0400","flatblue+l-magenta+l":"#C1DCFF","darkred+m-green+m":"#5B1812","gbw2-graymedian+d":"#939393","flatblue+d-purple+l":"#66A0ED","darkpurple+l-flatblue+m":"#8A006F","darkpurple+l-red+d":"#FF4FDC","gbw-orange+d":"#D9D9D9","darkred+l-darkblue+l":"#EA6F64","green+m-magenta+d":"#7AE65C","cyan+m-yellow+l":"#009CD0","red+m-red+d":"#FF3F39","flatblue+m-gold+d":"#89BBFC","flatblue+l-yellow+l":"#3C85E4","green+d-darkgray":"#55ED2C","red+d-purple+l":"#FF5A55","red+m-darkblue+m":"#F23530","green+d-orange+m":"#80F15F","green+l-green+m":"#B9FFA6","darkpurple+d-magenta+d":"#DA00AC","darkpurple+d-darkblue+l":"#DA0CAF","black+l-white+l":"#4D4D4D","green+l-orange+l":"#27BE00","darkred+d-magenta+m":"#690900","red+d-darkpurple+l":"#FF3F39","darkblue+d-darkred+m":"#3265FB","orange+l-red+d":"#FF9131","magenta+l-purple+d":"#F445A6","gold+l-darkred+l":"#FFBB00","yellow+d-flatblue+l":"#E8D25B","green+d-darkred+d":"#25A900","magenta+m-green+d":"#FF8CCC","red+m-orange+m":"#AF0500","gbw-darkred+l":"#CFCFCF","purple+d-purple+m":"#9135FF","white+l-cyan+l":"#FFFFFC","black+d-darkgreen+m":"#A3A3A3","link-purple":"#00C8FF","darkgreen+d-magenta+d":"#38B721","magenta+d-darkpurple+l":"#F31C93","black+l-darkgreen+d":"#A7A7A7","gbw-darkblue+l":"#CCCCCC","green+d-black+d":"#24A900","black+l-darkpurple+l":"#2E2E33","gold+l-red+m":"#FFBA00","gbw2-orange+m":"#B07038","purple+d-red+m":"#A76CEF","gbw-gold+l":"#4D4D4D","yellow+l-cyan+d":"#FFE75B","red+d-gold+d":"#820000","darkred+l-magenta+m":"#9C0D00","link-orange":"#000075","gold+d-green+l":"#846200","darkgreen+m-purple+m":"#1FCE00","gbw-yellow":"#525252","cyan+d-flatblue+m":"#69D9FF","flatblue+m-darkred+m":"#69AAFF","darkred+d-gold+d":"#580700","red+d-purple+d":"#E10D07","gbw-purple+d":"#CECECE","purple+l-darkblue+l":"#BE88FF","darkgreen+d-darkgray":"#1AAB00","darkpurple+d-flatblue+d":"#F13ACA","purple+d-purple+l":"#B375FF","red+m-darkgray":"#FF504B","gbw-white":"#808080","black+l-darkred+d":"#9F9F9F","darkgreen+l-purple+m":"#23E800","darkred+l-black+d":"#F23828","darkpurple+l-orange+m":"#940075","purple+l-purple+d":"#B476FF","gbw-darkblue+d":"#C7C7C7","orange+l-green+m":"#F9D29C","darkblue+l-darkgreen+l":"#BBCCFF","darkblue+d-red+m":"#000B42","flatblue+l-red+l":"#CEE3FF","green+l-yellow+m":"#2CCC00","flatblue+d-gold+m":"#7CB0F5","cyan+d-white+d":"#00648C","cyan+m-yellow+d":"#0083AF","gold+d-green+d":"#CD9700","white+d-green+l":"#E6E6E6","bw-orange":"#000000","cyan+d-flatblue+l":"#69E0F7","white+d-orange+m":"#D6D6D6","gold+m-gold+m":"#FFBC00","purple+l-darkred+d":"#B476FF","black+l-white+d":"#4D4D4D","darkgreen+m-darkpurple+d":"#1AA800","darkblue+l-red+d":"#A1B8FF","magenta+d-orange+d":"#FF5DB8","flatblue+l-flatblue+l":"#0063E1","gold+m-magenta+d":"#DFA500","yellow+l-gray":"#D1B100","bw-red":"#FFFFFF","darkpurple+m-black+l":"#F244CE","darkred-black":"#D91200","purple+m-green+d":"#4D00AB","flatblue+m-green+d":"#80B6FF","darkred+l-cyan+m":"#AC1B0F","green+d-yellow+l":"#229D00","darkpurple+l-orange+d":"#89006E","gold+d-gold+d":"#CE9700","white+m-white+l":"#808080","yellow+l-yellow+d":"#FFF276","orange+l-darkpurple+l":"#FF9335","flatblue+d-gold+l":"#0F5DC2","darkred+m-orange+d":"#800B00","gbw-red+d":"#D2D2D2","magenta+m-red+l":"#FFA3D6","white+d-lightgray":"#A3A3A3","orange+m-purple+m":"#FF7F10","purple+l-darkgreen+d":"#9945FF","darkblue+l-darkpurple+l":"#9BB5FF","black+l-black+m":"#949494","purple+l-flatblue+m":"#5100B4","white+m-cyan+m":"#E5E5E5","orange+d-cyan+m":"#89450B","link-black+d":"#00AAFF","darkpurple+m-darkred+m":"#E723BE","green+d-red+l":"#93E17C","darkgreen+l-gold+m":"#147E00","darkblue+m-darkblue+l":"#8FABFF","cyan+l-cyan+m":"#B3ECFF","darkblue+d-darkgreen+m":"#5983FF","gbw-gold":"#525252","gold-darkgray":"#E3A600","yellow+m-lightgray":"#FACC00","red+l-darkpurple+m":"#FF5C58","red+d-flatblue+m":"#670805","purple+d-black+l":"#9546F6","darkpurple+l-darkblue+l":"#FF39DE","orange+l-darkgreen+l":"#FFBA7E","darkpurple+d-darkgray":"#E100B3","magenta+m-darkgray":"#FF5DB7","yellow+m-gold+l":"#FFF264","flatblue+m-darkblue+m":"#328AFC","green+d-magenta+d":"#62D542","purple+d-magenta+d":"#9C4BFF","black+m-flatblue+d":"#262626","black+d-red+m":"#000014","red+m-red+m":"#FF7975","orange+m-darkpurple+l":"#FF7D0C","gold+m-darkred+m":"#E3A700","white+l-yellow+m":"#FAFFFF","flatblue+d-darkgreen+m":"#2875D8","link-magenta+l":"#8CECFF","flatblue+l-purple+d":"#73B0FF","purple+m-orange+m":"#3C0085","white+d-green+d":"#D4D4D4","darkblue+l-cyan+d":"#002799","gbw-red+m":"#D1D1D1","darkpurple+m-green+d":"#660050","black+m-darkblue+d":"#7D7D7D","orange+m-purple+l":"#FF963B","darkblue+m-magenta+m":"#001965","bw-darkred":"#FFFFFF","bww-graymedian+l":"#FFFFFF","darkred+m-magenta+m":"#840B00","darkpurple+l-black+d":"#EC00BB","green+m-darkgray":"#55ED2C","orange+d-purple+m":"#DE6B08","green+l-orange+d":"#ABF397","green+m-orange+m":"#B1FF80","darkred+d-magenta+l":"#5B0700","gold+l-darkred+d":"#F1B100","cyan+m-gold+l":"#1E8CB1","gold+d-darkgreen+m":"#B38300","white+d-gray":"#F0F0F0","flatblue+l-orange+m":"#0059CE","gbw-magenta":"#CCC","red+m-gold+d":"#AF0000","gbw-purple":"#CCC","gold+m-cyan+m":"#8E6900","black+d-darkgreen+l":"#00000D","cyan+m-magenta+m":"#79DDFF","darkpurple+d-black+d":"#A0007F","darkpurple+l-flatblue+d":"#F17DD8","magenta+l-red+l":"#FFCCE8","magenta+m-cyan+m":"#CA0070","cyan+d-darkgreen+l":"#3FC1ED","purple+m-flatblue+d":"#B980FF","white+d-yellow+l":"#9E9E9E","cyan+m-red+m":"#89DAF5","white+m-white+d":"#F7F7F7","gbw2-magenta+m":"#D980B1","link-magenta+d":"#6CCEFF","flatblue+m-darkblue+d":"#2281FC","black+l-magenta+d":"#9D9D9D","green+m-green+m":"#95FF78","orange+d-magenta+d":"#DF7000","darkpurple+l-darkpurple+m":"#FF00BF","orange+m-flatblue+m":"#FFB474","red+l-green+l":"#CB2D28","magenta+m-red+d":"#FF43AC","gold+l-gold+l":"#BA7F00","black+d-cyan+l":"#00000D","darkgreen+d-purple+m":"#1BB500","black+l-gold+m":"#464646","darkred+l-magenta+l":"#A70D00","flatblue+d-red+m":"#6F9DD7","link-darkpurple+d":"#00AAFF","gold+d-cyan+d":"#D09900","purple+d-orange+m":"#2C0061","darkred+m-darkgreen+m":"#EB4E40","magenta+d-red+l":"#FF78C3","red+l-purple+m":"#FF7A76","orange+d-purple+l":"#F47B12","gold+l-red+l":"#FFCF32","yellow+l-white+m":"#E6C800","purple+d-darkpurple+l":"#933AFF","darkgreen+l-gold+l":"#127500","yellow+d-magenta+l":"#DDC000","darkred+l-darkgray":"#F75D4F","darkpurple+m-purple+l":"#F85ED9","green+m-purple+l":"#8CE175","purple+l-magenta+m":"#5100B5","black+m-lightgray":"#262626","orange+d-flatblue+d":"#F58829","darkgreen+l-magenta+m":"#18620A","red+l-darkpurple+l":"#FF827E","gold+m-darkpurple+l":"#E2A600","darkgreen+d-darkgreen+m":"#1BB800","darkpurple+m-darkred+d":"#CC00A1","gbw-graymedian+l":"#393939","darkpurple+m-cyan+d":"#64004F","magenta+l-flatblue+d":"#FF9AD2","flatblue+l-red+d":"#A6CCFF","darkgreen+d-darkblue+m":"#189F00","cyan+d-green+m":"#6ED9EE","magenta+d-darkblue+m":"#BA0067","flatblue+l-darkred+m":"#95C3FF","darkblue+m-green+m":"#001C70","black+d-cyan+d":"#00000D","link-purple+m":"#00C3FF","cyan+d-magenta+l":"#7ECEE9","darkblue+d-darkpurple+m":"#1952FF","darkgreen+d-darkpurple+l":"#1BB400","flatblue+d-darkgreen+d":"#0862D8","purple+d-orange+l":"#3B0082","green+l-darkpurple+d":"#47E81A","orange+m-darkred+l":"#FF8A23","yellow+m-magenta+m":"#FADD00","darkred+m-darkgreen+d":"#EA483A","red+l-red+l":"#FFCAC8","gbw-magenta+l":"#D6D6D6","orange+m-green+l":"#C85D00","gold+l-orange+m":"#B06900","link-darkgreen+l":"#00D5FF","gold+d-purple+m":"#B78600","bw-cyan":"#000000","gold+d-darkgreen+l":"#C59100","magenta+l-yellow+d":"#FF008E","darkblue+m-darkgreen+l":"#99B3FF","darkblue+m-black+m":"#3B6BFF","black+d-darkpurple+l":"#00000D","cyan+l-orange+m":"#CEF3FF","magenta+l-red+d":"#FF76C2","cyan+d-purple+m":"#1BC6FF","darkred+d-green+m":"#4D0600","purple+m-magenta+d":"#B171FF","darkblue+l-gold+m":"#002AA6","purple+m-darkgreen+l":"#46009C","darkblue+l-gray":"#002AA6","darkgreen+l-magenta+d":"#54E239","orange+l-magenta+m":"#FFB879","green+l-gold+m":"#1D8E00","green+d-cyan+l":"#1B7C00","yellow+l-flatblue+m":"#FFED89","link-orange+l":"#0024DA","green+d-yellow+d":"#1C8100","cyan+m-cyan+l":"#007CA6","gbw2-cyan+l":"#40AABF","green+m-yellow+l":"#25AB00","darkpurple+l-magenta+m":"#89006E","green+l-lightgray":"#2DD000","red+l-darkblue+m":"#F85D59","darkpurple+d-darkpurple+l":"#EB13C1","purple+d-darkgreen+l":"#37007A","red+m-cyan+m":"#990E0A","magenta+d-red+d":"#F52B9C","yellow+m-red+l":"#FFE550","flatblue+l-green+m":"#BCD9FF","purple+l-flatblue+l":"#5D00CE","flatblue+d-green+m":"#7DB5FD","gbw-black+d":"#C7C7C7","gbw-orange+m":"#555555","darkgreen+m-darkblue+m":"#1CB800","darkred+d-cyan+d":"#590700","darkred+l-darkpurple+l":"#E8756A","purple+l-magenta+l":"#6300C5","purple+d-black+d":"#6E1DCE","black+m-darkpurple+l":"#252528","darkblue+l-gold+l":"#002AA6","cyan+d-darkpurple+m":"#00ADE8","darkblue+l-orange+d":"#002AA6","green+d-cyan+d":"#7CCE66","red+l-darkgray":"#FF736F","darkblue+m-flatblue+d":"#99B2FF","flatblue+l-black+m":"#7BB4FC","flatblue+d-black+m":"#2F76D2","flatblue+d-darkred+d":"#3F83DB","gold+d-white+m":"#8D6800","darkgreen+d-darkblue+d":"#179900","black+m-black+l":"#141414","bww-graymedian+d":"#FFFFFF","darkpurple+l-darkgreen+m":"#FF18D1","gold+m-green+l":"#A27800","darkred+m-magenta+l":"#890B00","darkblue+d-darkblue+l":"#698EFF","red+d-gold+m":"#9B0400","yellow+m-magenta+l":"#FFDD00","orange+m-cyan+m":"#A65611","black+m-red+d":"#B8B8B8","darkblue+d-darkred+l":"#0D256D","gbw2-darkred+l":"#D87C73","darkblue+l-darkgray":"#87A5FF","darkblue+m-black+l":"#638AFF","flatblue+d-darkblue+m":"#186BD7","orange+m-red+m":"#FF983D","darkpurple+l-cyan+d":"#8A006D","red+d-red+l":"#FF7874","flatblue+l-orange+l":"#1F79ED","link-cyan":"#00008C","darkred+m-gold+m":"#8A0B00","orange+l-purple+m":"#FF9234","gbw-purple+m":"#C8C8C8","orange+l-magenta+l":"#FFC695","white+d-yellow+d":"#E1E1E1","darkpurple+l-purple+l":"#F874DE","bw-flatblue+d":"#FFFFFF","white+m-yellow+l":"#A8A8A8","darkblue+l-magenta+m":"#002D86","darkred+d-darkpurple+l":"#E84B3D","darkred+m-green+d":"#670A0A","gbw-flatblue+m":"#CDCDCD","orange+m-flatblue+l":"#A65108","darkgreen+l-green+m":"#106900","cyan+m-white+d":"#0086B3","gbw2-darkpurple+m":"#8D6885","green+m-flatblue+d":"#86F06A","link-gold":"#000075","gold+m-green+d":"#E5A900","darkpurple+l-magenta+d":"#FF3DD6","darkgreen+m-purple+l":"#63CE50","gbw2-purple+m":"#9385A3","flatblue+m-darkred+l":"#8DBFFF","link-green+d":"#00D0FF","flatblue+l-green+l":"#166CDE","cyan+m-red+l":"#B4E6F0","red+m-black+m":"#F8241D","darkblue+l-lightgray":"#0000B7","flatblue+d-green+l":"#0E4792","green+m-darkblue+d":"#2DD200","purple+l-orange+m":"#4D00AB","gbw2-darkred+d":"#AA7873","green+m-purple+d":"#47DA1E","black+l-darkgray":"#2E2E2E","orange+l-gold+l":"#E76B00","flatblue+d-darkpurple+l":"#5496ED","purple+d-purple+d":"#8A29FF","black+l-orange+m":"#434343","orange+l-purple+l":"#FFAE67","darkred+m-darkblue+d":"#D53D2F","flatblue+d-darkblue+d":"#0C63D5","gbw-graymedian+d":"#D2D2D2","darkgreen+l-purple+l":"#6FDF5C","darkgreen+m-darkblue+d":"#1BB300","purple+d-green+l":"#2F0068","red+l-darkgreen+m":"#FF615D","green+d-white+d":"#229A00","magenta+m-darkgreen+l":"#FF8ACB","flatblue+l-black+l":"#78C7FC","cyan+l-purple+m":"#60D7FF","gbw2-orange+l":"#BF9340","darkpurple+d-darkred+m":"#D120AC","gbw-gold+d":"#DBDBDB","purple+l-gold+l":"#5D00CE","flatblue+d-black+l":"#1A9AF1","cyan+d-magenta+d":"#49B5DA","gold+l-purple+l":"#F4BC21","black+m-black+d":"#808080","purple+m-darkpurple+m":"#9E4DFF","white+l-white+m":"#A8A8A8","gbw2-darkpurple+l":"#BA70AA","gbw-yellow+d":"#6C6C6C","cyan+d-flatblue+d":"#4ED2FF","darkred+l-orange+m":"#A10D00","link-gold+d":"#1ECAFF","darkgreen+d-darkgreen+d":"#189F00","orange+m-green+d":"#FF9C45","gold+l-cyan+m":"#A77C00","magenta+d-green+m":"#8E004E","link-darkgreen+d":"#00BFFF","purple+l-orange+l":"#5D00CE","black+l-flatblue+d":"#2F2F2F","cyan+d-gold+m":"#57C8EE","green+l-darkgreen+l":"#A2F68C","cyan+l-gray":"#00ACE6","black+d-purple+m":"#8F8F8F","green+d-black+m":"#25A900","darkblue+d-darkpurple+d":"#0E4BFF","darkgreen+m-darkred+m":"#3ECA25","magenta+d-gold+m":"#89004C","link-black+m":"#00AAFF","cyan+l-darkblue+l":"#51D3FF","flatblue+m-purple+m":"#64A7FF","red+l-darkgreen+l":"#B30600","darkgreen+d-black+d":"#179300","black+l-purple+l":"#272727","yellow+l-flatblue+l":"#FFF2A8","black+l-darkblue+d":"#8A8A8A","yellow+l-cyan+m":"#FFF2A8","green+m-yellow+d":"#1F8B00","purple+m-darkblue+d":"#933BFE","bw-darkpurple":"#FFFFFF","darkblue+d-magenta+d":"#396BFF","magenta+m-flatblue+d":"#FF72C0","darkblue+d-purple+m":"#3C6EFF","flatblue+d-gold+d":"#699FE6","cyan+m-darkred+l":"#89DAF5","red+l-flatblue+m":"#BA0F09","gold+d-magenta+m":"#D89B00","darkred+d-darkblue+m":"#CF1100","magenta+d-purple+d":"#D10074","darkblue+l-yellow+m":"#002AA6","gbw-black+m":"#C7C7C7","purple+m-red+l":"#431E70","purple+m-darkpurple+d":"#9B4BFC","red+m-purple+m":"#FF504B","gold+m-darkgreen+m":"#D69D00","gold+m-gold+l":"#9C6A00","link-white+d":"#0040FF","cyan+d-darkred+m":"#00AEE9","cyan+d-yellow+l":"#0088B5","green+l-black+l":"#86F766","orange+l-gold+d":"#FFAC65","darkblue+m-red+l":"#061975","green+l-red+d":"#84E669","darkred+m-purple+d":"#DE5A4E","cyan+m-darkgreen+l":"#5AD5FF","darkpurple+m-orange+d":"#63004F","flatblue+m-magenta+d":"#8ABBFC","darkpurple+l-darkpurple+d":"#FF00C9","red+m-cyan+l":"#AB0500","cyan+d-darkpurple+l":"#00C6ED","yellow+d-green+l":"#FFF368","darkgreen+m-darkred+d":"#3CBC25","green+l-darkgray":"#55ED2C","gbw-gold+m":"#4D4D4D","red+m-gold+m":"#BF0500","cyan+m-yellow+m":"#0093C5","purple+l-gold+d":"#4A00A3","gbw-orange+l":"#555555","yellow+l-purple+l":"#FFED87","gold+m-yellow+l":"#B78700","green+d-darkpurple+d":"#29A705","purple+m-red+d":"#B375FF","red+d-darkblue+l":"#DD3732","darkpurple+m-darkgreen+m":"#E813BB","cyan+m-darkblue+l":"#28C9FF","black+l-white+m":"#4D4D4D","darkpurple+d-darkred+d":"#A90085","magenta+d-flatblue+m":"#FF6EBE","magenta+l-green+m":"#DC0079","gbw-darkpurple":"#CCC","purple+d-darkred+m":"#9547F4","darkgreen+l-flatblue+m":"#168E00","gold+d-red+d":"#C08E00","cyan+l-cyan+l":"#0092C4","darkblue+d-flatblue+d":"#7093FF","flatblue+d-yellow+d":"#005ACE","black+l-darkgreen+m":"#B8B8B8","purple+l-yellow+l":"#5D00CE","purple+l-black+l":"#C08CFF","darkred+m-darkpurple+m":"#E31300","cyan+l-magenta+m":"#96E4FF","white+m-yellow+d":"#ECECEC","cyan+d-cyan+m":"#7DDAF9","yellow+m-cyan+l":"#FAF194","bw-green+l":"#000000","cyan+m-green+m":"#8CECFF","yellow+m-green+l":"#FFF68F","purple+m-orange+d":"#41008F","green+l-gray":"#27B900","green+d-purple+m":"#56C734","darkgreen+l-green+l":"#148000","green+m-darkpurple+d":"#33D007","gbw-purple+l":"#D0D0D0","green+l-purple+l":"#B1FF9B","darkgreen+d-purple+l":"#54AF44","cyan+l-red+m":"#A4E1F5","gbw2-red+l":"#DB8B88","orange+l-orange+m":"#FFC491","cyan+d-black+l":"#00A3DA","red+d-black+m":"#DC1812","cyan+d-yellow+d":"#006290","gbw2-black+d":"#595959","gold+m-darkgreen+l":"#E5A900","darkgreen+d-green+d":"#083300","green+l-black+d":"#34F000","black+d-gold+d":"#00000D","link-yellow+d":"#0028EE","darkgreen+l-darkpurple+m":"#24EC00","orange+d-darkred+m":"#DD6700","green+m-red+m":"#87E26F","black+m-darkred+m":"#B8B8B8","magenta+d-darkred+d":"#BC0069","red+l-orange+d":"#BA0500","gold+m-cyan+l":"#A67A00","darkgreen+l-darkgreen+m":"#23EB00","white+d-green+m":"#D9D9D9","purple+l-red+m":"#DABCFF","darkblue+m-purple+d":"#4271FF","gold+m-yellow+d":"#936A00","magenta+d-darkblue+l":"#E82D95","flatblue+l-darkred+l":"#B3D5FF","darkblue+d-cyan+m":"#00004F","link-gold+m":"#0034CE","yellow+m-white+d":"#BFA200","bw-orange+d":"#FFFFFF","green+d-gold+l":"#1C8500","purple+d-orange+d":"#2D0062","red+d-green+d":"#590000","orange+l-orange+l":"#FF6410","magenta+l-darkred+d":"#FF289F","flatblue+l-darkgreen+l":"#A8CDFF","gbw-green+l":"#555555","purple+d-darkred+l":"#B375FF","black+d-orange+d":"#00000D","magenta+m-orange+d":"#FF8ACC","black+m-darkred+l":"#232323","white+m-white+m":"#A1A1A1","darkblue+l-darkblue+l":"#AEC2FF","darkgreen+l-flatblue+d":"#23E900","black+m-purple+m":"#B3B3B3","black+l-purple+d":"#8A8A8A","flatblue+m-purple+l":"#87BBFF","darkred+m-cyan+m":"#8F251D","green+d-flatblue+m":"#82D16C","magenta+m-red+m":"#FF80C6","gbw2-darkgreen+l":"#7AB370","yellow+m-cyan+d":"#FFD900","flatblue+m-red+l":"#A3CCFF","gbw-black":"#CCC","green+l-darkred+m":"#6AEC46","darkblue+d-purple+l":"#668CFF","darkred+m-darkpurple+d":"#DE1100","magenta+l-gold+d":"#FFB6DF","flatblue+l-darkblue+m":"#5DA2FC","green+d-gold+d":"#4EC762","gbw-darkpurple+m":"#D0D0D0","green+d-darkblue+m":"#24A900","darkpurple+l-darkred+l":"#FF9DEB","link-purple+l":"#4DE2FF","darkblue+l-yellow+l":"#002AA6","red+d-magenta+l":"#870000","gold+m-white+m":"#B38400","link-black+l":"#00B3FF","purple+m-darkred+m":"#AA6DF4","magenta+l-darkpurple+m":"#FF3DA9","flatblue+m-yellow+d":"#0065E8","white+d-magenta+l":"#D8D8D8","gold+l-green+l":"#C39000","darkblue+m-red+d":"#7395FF","orange+d-darkred+l":"#E37B1F","darkred+d-green+d":"#4D0000","darkblue+l-gold+d":"#002AA6","magenta+d-darkgreen+m":"#F10C8B","green+l-flatblue+d":"#ABED99","flatblue+l-purple+m":"#8CBEFF","bww-green+m":"#FFFFFF","orange+l-flatblue+d":"#FFAF6A","green+l-darkred+l":"#A3EA90","green+m-black+l":"#69EB44","green+l-darkblue+d":"#34EE00","red+d-darkblue+d":"#BE0B06","darkred+m-flatblue+d":"#700E04","gold+m-orange+l":"#956800","flatblue+l-darkblue+d":"#509BFC","darkred+d-darkgray":"#DC4032","cyan+m-orange+l":"#0086B3","cyan+l-white+d":"#009AD9","bww-white+d":"#FFFFFF","purple+m-black+m":"#8D37F7","flatblue+l-magenta+d":"#B5D4FC","black+m-gray":"#262626","gold+l-green+d":"#FFBC00","red+m-flatblue+m":"#8C0B07","magenta+l-red+m":"#FFB0DB","red+l-black+m":"#FF4A45","darkblue+l-green+m":"#002289","red+d-darkpurple+d":"#B20500","darkgreen+m-black+d":"#1BAD00","darkred+l-darkblue+d":"#FB4C3D","purple+m-flatblue+m":"#4900A2","magenta+d-darkpurple+m":"#D00074","darkpurple+l-flatblue+l":"#940075","link-green+m":"#60ECFF","black+l-darkgreen+l":"#373737","purple+l-black+d":"#9D59EF","gbw2-yellow+d":"#A7994C","black+l-green+l":"#4D4D4D","magenta+d-darkgreen+d":"#BC0068","darkpurple+m-red+d":"#FB08CB","green+d-flatblue+l":"#156100","black+m-magenta+m":"#262626","darkblue+l-magenta+l":"#002AA6","gbw-red":"#CCC","graymedian+d-graymedian+d":"#A9A9A9","magenta+d-cyan+m":"#AB005F","bww-black+l":"#FFFFFF","darkblue+l-black+m":"#6389FF","black+m-white+l":"#262626","magenta+l-darkgray":"#FF8ACB","magenta+d-red+m":"#FF51B1","green+l-purple+d":"#5EEF35","red+d-magenta+d":"#F9130C","magenta+m-purple+m":"#FF3AA7","magenta+d-yellow+d":"#B30063","purple+m-darkred+l":"#C799FF","orange+d-green+l":"#A54D00","link-darkpurple":"#00C8FF","black+l-darkpurple+d":"#969696","black+d-darkred+m":"#C2C2C2","gold+d-darkred+l":"#CA9400","flatblue+d-magenta+m":"#65A1F1","gold+d-gold+m":"#E8AB00","orange+d-flatblue+m":"#F49E55","magenta+m-darkred+d":"#EA0082","gbw-yellow+m":"#6E6E6E","darkred+d-flatblue+m":"#5B0700","green+l-cyan+l":"#35B80F","darkpurple+l-darkgreen+d":"#FF00CA","darkpurple+m-darkpurple+l":"#FA49D7","darkblue+l-darkgreen+m":"#A4BBFF","magenta+l-darkpurple+d":"#FF2BA0","link-red+l":"#97F4FF","orange+l-purple+d":"#FF9D00","cyan+l-red+l":"#D6F4FA","black+m-magenta+l":"#262626","darkblue+l-flatblue+m":"#002AA2","green+m-black+d":"#4AD923","gold+m-orange+d":"#F2B200","gbw2-darkpurple+d":"#886b82","darkpurple+d-gold+d":"#3C0030","cyan+m-orange+d":"#93DFF9","green+l-magenta+m":"#C0FFAE","darkpurple+m-darkpurple+d":"#DF00B0","darkblue+m-darkred+m":"#5983FF","darkgreen+m-red+m":"#78DA66","purple+m-yellow+m":"#48009F","gbw2-purple+l":"#A573E3","black+d-darkred+l":"#000014","darkgreen+l-darkgreen+d":"#20D500","red+m-black+l":"#FF504B","green+l-cyan+d":"#B1EAA1","purple+l-orange+d":"#5200B5","darkblue+l-green+l":"#002699","yellow+m-purple+l":"#FFE23E","gold+d-darkblue+l":"#B38600","black+l-green+d":"#363636","gbw-white+l":"#666666","darkpurple+d-purple+m":"#D600AA","link-white+m":"#0055FF","gold+l-magenta+l":"#FDD35D","red+l-darkgreen+d":"#FB5551","purple+l-green+l":"#5100B4","gbw2-darkgreen+d":"#6B8266","magenta+d-darkpurple+d":"#C2006B","flatblue+m-red+d":"#69AAFF","darkred+l-purple+m":"#E76D62","bw-magenta":"#FFFFFF","darkblue+l-purple+d":"#7093FF","darkgreen+l-darkred+m":"#69E453","black+m-white+d":"#262626","darkblue+l-flatblue+d":"#BFCFFF","darkblue+l-black+l":"#88A6FF","purple+d-red+l":"#311652","cyan+l-darkred+l":"#A4E1F5","purple+l-cyan+l":"#5C00CC","darkgreen+m-green+d":"#0A3F00","flatblue+m-darkgreen+l":"#80B6FF","orange+d-darkpurple+l":"#DF6903","darkred+d-darkblue+l":"#D74436","magenta+m-purple+l":"#FF50B1","darkpurple+m-black+d":"#C6009D","link-darkblue+l":"#00BBFF","white+m-green+l":"#F2F2F2","green+l-magenta+l":"#CBFABD","green+d-gray":"#1C8500","gold+l-flatblue+m":"#FBC500","darkred+m-red+l":"#890B00","white+d-darkgreen+d":"#DEDEDE","magenta+d-green+d":"#FF65BB","bww-cyan+m":"#FFFFFF","link-darkred+m":"#34BBFF","flatblue+l-cyan+m":"#0062E1","gold+l-cyan+l":"#C89300","darkblue+l-orange+m":"#002AA6","purple+d-yellow+m":"#370078","red+d-darkred+l":"#FE514C","red+d-orange+m":"#880400","cyan+d-gold+l":"#1A7C9D","green+d-white+m":"#24A600","red+m-orange+d":"#990400","darkpurple+d-purple+d":"#CC00A2","gold+d-cyan+m":"#6A4E00","yellow+d-purple+l":"#E5C40D","gold+d-red+m":"#D09800","darkblue+l-darkgreen+d":"#8AA8FF","white+d-cyan+m":"#D5D5D5","orange+m-orange+m":"#FFAF6A","flatblue+l-purple+l":"#ADD0FF","black+m-black+m":"#8A8A8A","yellow+m-gray":"#B39800","flatblue+m-darkblue+l":"#21A0FC","purple+d-red+d":"#9F51FF","yellow+d-cyan+l":"#F2E660","darkred+m-black+m":"#D9382A","bww-white+m":"#000000","white+m-gray":"#F7F7F7","darkgreen+l-darkred+d":"#4AD531","cyan+l-green+m":"#A2F0FF","green+m-cyan+m":"#1B8000","gold+l-flatblue+l":"#9D7600","cyan+m-black+l":"#00BFFF","magenta+d-flatblue+l":"#890E52","flatblue+l-cyan+l":"#006CF7","purple+d-yellow+l":"#3B0082","red+d-darkgray":"#FF312B","black+d-magenta+m":"#00000D","gbw2-black+m":"#666666","darkred+l-green+m":"#6A1109","purple+l-yellow+d":"#6700CE","red+m-darkgreen+m":"#F4423D","gbw-darkgray":"#CCC","gold+m-flatblue+m":"#E9B700","bw-gold":"#000000","orange+m-orange+l":"#DD4E00","darkred+d-gold+m":"#590700","yellow+l-green+l":"#FFF9B4","darkgreen-black":"#1EC900","darkred+l-purple+l":"#FA877E","darkred+l-red+l":"#A30D00","flatblue+d-orange+d":"#579BF5","darkred+m-black+l":"#EC5447","black+l-red+d":"#ADADAD","link-darkblue+d":"#00AAFF","purple+l-cyan+d":"#6000D6","orange+d-orange+m":"#FF9D49","white+m-green+d":"#E5E5E5","darkgreen+d-darkpurple+m":"#1CB900","gbw-darkgreen":"#CCC","link-green+l":"#0000B3","purple+l-darkpurple+m":"#B576FF","gbw2-gold+l":"#B39A40","orange+d-green+d":"#E9852E","black+m-green+l":"#262626","magenta+l-cyan+d":"#FFAEDB","bw-black":"#FFFFFF","gbw2-white+d":"#B3B3B3","darkred+m-red+d":"#FF3C2B","gold+d-darkred+d":"#B08100","orange+l-gold+m":"#D64700","magenta+l-green+d":"#FFADDB","darkpurple+d-darkgreen+l":"#400033","darkred+m-darkgreen+l":"#670A0A","red+d-darkred+d":"#CA1914","white+m-cyan+l":"#F2F2F2","orange+d-flatblue+l":"#843D00","darkpurple+m-darkgreen+d":"#E20FB6","darkgreen+l-gold+d":"#116C00","black+d-magenta+l":"#00000D","black+d-flatblue+m":"#000008","red+m-magenta+l":"#AA0000","red+m-darkgreen+l":"#800400","flatblue+l-darkpurple+m":"#84BAFF","purple+l-gold+m":"#5400BA","darkpurple-black":"#FF00C8","red+l-darkpurple+d":"#FF241E","gold+m-flatblue+l":"#7F5F00","darkgreen+l-magenta+l":"#116E00","gold+l-purple+m":"#EEB926","magenta+l-orange+m":"#E1007C","flatblue+d-darkgray":"#3699DC","black+d-darkblue+m":"#878787","cyan+d-cyan+l":"#006B90","yellow+d-cyan+d":"#DEBD00","bww-yellow+l":"#000000","bw-green+d":"#FFFFFF","darkblue+l-white+m":"#002AA6","gbw-yellow+l":"#6E6E6E","darkblue+l-red+m":"#001076","gold+l-darkpurple+m":"#F0BA23","orange+m-yellow+m":"#FF6207","orange+d-orange+l":"#BE4300","darkgreen+d-red+m":"#55C740","gold+m-magenta+m":"#F7B100","darkpurple+m-darkblue+m":"#DA00AB","gbw2-red+d":"#BF7673","darkgreen+m-darkgreen+m":"#1FD100","orange+l-orange+d":"#FFAF69","darkgreen+d-darkgreen+l":"#083300","purple+l-darkpurple+d":"#B175FC","darkblue+m-darkgreen+m":"#80A0FF","green+l-white+d":"#2CCE00","red+m-green+d":"#800000","red+d-black+l":"#FF312B","gold+l-white+m":"#D9A000","darkpurple+m-darkgray":"#F031C9","link-yellow":"#000075","cyan+l-gold+d":"#6CDAFF","darkgreen+d-black+m":"#189D00","green+m-red+l":"#AFF29B","black+m-darkred+d":"#A8A8A8","darkblue+d-darkpurple+l":"#3E70FF","purple+m-darkblue+m":"#A051FF","gold+l-magenta+d":"#FFBD00","purple+l-green+d":"#5B00CA","magenta+l-darkblue+m":"#FF31A3","darkgreen+l-darkpurple+d":"#1EC200","bw-purple":"#FFFFFF","darkred+l-red+d":"#FF5445","darkblue+l-darkred+m":"#7D9EFF","gbw2-magenta+l":"#E18FC1","darkred+l-flatblue+d":"#770B00","black+m-red+m":"#262626","black+d-darkpurple+d":"#737373","orange+m-yellow+l":"#F76B00","darkpurple+l-darkpurple+l":"#FA5DDB","purple+m-darkgreen+d":"#8119FF","black+m-green+d":"#262626","cyan+d-yellow+m":"#007197","flatblue+m-flatblue+m":"#99C6FF","magenta+d-magenta+d":"#F12D99","link-white+l":"#0055FF","green+l-black+m":"#34F000","green+m-darkgreen+d":"#2CCA00","gbw-gray":"#525252","gold+d-yellow+l":"#8C6700","purple+d-darkblue+d":"#750DF2","bw-flatblue+m":"#FFFFFF","darkred+l-darkpurple+m":"#F61400","red+l-purple+l":"#FFAAA7","purple+d-darkgreen+d":"#7116E0","gbw-darkblue":"#CCC","darkblue+l-orange+l":"#002AA6","darkred+d-red+d":"#FF2512","darkgreen+l-darkblue+l":"#22DE00","red+m-magenta+d":"#F93933","gbw-green":"#525252","white+m-darkgreen+m":"#E5E5E5","darkblue+d-darkgreen+l":"#7397FF","orange+m-darkgreen+l":"#FFA14E","purple+l-magenta+d":"#C697FF","flatblue+m-orange+d":"#85BAFF","magenta+m-black+m":"#F50088","gold+m-yellow+m":"#8E6800","red+m-darkpurple+m":"#F13732","flatblue+m-darkpurple+m":"#5AA2FF","bw-green+m":"#FFFFFF","magenta+l-orange+l":"#FF008D","gbw2-magenta+d":"#B36991","magenta+l-magenta+d":"#FF6CBD","black+d-darkblue+l":"#848484","green+l-darkred+d":"#32EA00","darkblue+l-white+l":"#002AA6","green+l-orange+m":"#C2FF9D","cyan+d-green+l":"#106482","orange+d-darkgreen+l":"#E78A38","gold+l-darkred+m":"#FFC31E","darkblue+m-green+d":"#001966","gbw2-red+m":"#D77D7A","black+m-darkpurple+d":"#808080","green+d-green+l":"#145C00","black+l-gold+d":"#313131","bw-white+l":"#000000","flatblue+m-flatblue+d":"#8DBEFF","bw-darkgreen+d":"#FFFFFF","gold+d-red+l":"#D8AB19","red+l-purple+d":"#ED5854","flatblue+d-yellow+m":"#0F5BBC","red+l-red+d":"#FF615C","flatblue+m-darkgray":"#4BB5FC","gbw2-flatblue+l":"#4A94BF","darkblue+m-darkgreen+d":"#658CFF","darkred+d-darkpurple+m":"#D01200","darkblue+m-black+d":"#134DFF","bww-cyan":"#FFFFFF","yellow+m-cyan+m":"#F8E787","flatblue+d-darkblue+l":"#0C7FD2","bw-yellow":"#000000","red+l-cyan+d":"#C40500","magenta+m-black+l":"#FF4AAE","cyan+d-red+d":"#0096C8","darkblue+m-darkpurple+m":"#4372FF","orange+l-magenta+d":"#FF952A","green+d-orange+l":"#1C8800","red+m-darkblue+l":"#FF514C","green+l-gold+l":"#27B800","magenta+m-darkpurple+l":"#FF40AA","yellow+d-white+d":"#967F00","cyan+d-green+d":"#41C2EF","gbw2-cyan+d":"#7DB2C5","darkblue+d-darkred+d":"#255BFF","gbw-darkred+d":"#CFCFCF","darkred+l-gold+d":"#8E0B00","darkgreen+d-darkred+m":"#1BAD00","darkpurple+l-green+d":"#8C0071","gbw2-black+l":"#737373","darkgreen+d-green+m":"#083600","gold+d-yellow+d":"#735300","yellow+l-magenta+l":"#FFE74D","flatblue+l-green+d":"#AED0FF","flatblue+l-red+m":"#B0D2FF","flatblue+d-green+d":"#5F9AEB","flatblue+d-magenta+l":"#7AB0F4","magenta+d-darkred+m":"#E0007C","red+l-black+l":"#FF736E","darkred+l-darkpurple+d":"#F11300","darkpurple+d-green+d":"#400033","darkgreen+m-purple+d":"#1EC300","orange+m-magenta+m":"#FFA453","darkblue+m-purple+m":"#658CFF","flatblue+m-darkred+d":"#5CA3FF","purple+m-gold+d":"#3A0080","darkpurple+l-darkgray":"#FF49DA","red+m-darkpurple+l":"#FF615C","green+l-gold+d":"#8BFF9D","gbw2-darkblue+l":"#6B7DB4","black+m-magenta+d":"#A6A6A6","yellow+l-gold+l":"#FFF694","link-cyan+l":"#0428D9","flatblue+l-black+d":"#509AFC","bw-graymedian+l":"#000000","red+m-darkred+l":"#FE7773","flatblue+d-black+d":"#1165D3","green+d-green+d":"#78D75E","gold+l-darkpurple+l":"#FDBA00","bw-gold+d":"#FFFFFF","green+l-red+m":"#9FED8A","darkgreen+m-darkpurple+l":"#20D200","darkblue+d-graymedian+d":"#6C8FFF","magenta+l-darkred+m":"#FF3EA9","darkgreen+l-purple+d":"#22DD00","darkgreen+d-darkred+d":"#19A200","purple+m-darkpurple+l":"#B578FF","red+l-magenta+l":"#D10000","darkblue+d-red+l":"#000D4D","black+d-darkred+d":"#B3B3B3","darkblue+m-darkred+l":"#0D256D","flatblue+l-darkpurple+d":"#7DB6FF","orange+l-green+l":"#DF781E","darkred+l-darkgreen+m":"#ED6255","magenta-black":"#FF008C","white+l-lightgray":"#ADADAD","gbw2-flatblue+d":"#789ED1","green+l-yellow+l":"#2CCF00","gold+d-gold+l":"#775100","gold+l-yellow+l":"#DBA200","darkblue-black":"#0080FF","link-red+d":"#40CFFF","gold+l-darkgreen+m":"#F3B200","darkgreen+d-black+l":"#1BAE00","red+d-red+d":"#FF130C","purple+m-darkblue+l":"#AE6BFF","purple+l-darkgreen+m":"#AD69FF","orange+m-red+l":"#FFAB60","darkpurple+m-darkblue+d":"#D700A9","cyan+l-yellow+l":"#00AFEA","white+d-orange+l":"#E3E3E3","white+d-black+d":"#D1D1D1","cyan+l-darkgreen+l":"#82DFFF","darkgreen+m-darkgreen+d":"#1CBC00","darkgreen+m-darkred+l":"#78DA66","green+m-white+d":"#26B300","magenta+l-darkgreen+m":"#FF60B8","darkred+d-darkpurple+d":"#BF0F00","red+d-magenta+m":"#FF6560","bw-darkblue":"#FFFFFF","magenta+m-gold+d":"#FF88CA","magenta+m-magenta+d":"#FF3DA8","gbw-flatblue+l":"#555555","orange-darkred":"#F77E14","darkred+d-cyan+m":"#660800","flatblue+m-yellow+m":"#116ADD","darkred+d-darkred+d":"#BF1000","gold+d-white+d":"#815F00","white+d-gold+m":"#D2D2D2","white+d-darkpurple+l":"#D1D1D1","green+l-magenta+d":"#9AF581","purple+d-black+m":"#752DCC","darkgreen+m-red+d":"#2FC114","purple+m-yellow+d":"#5400A8","darkred+d-darkgreen+m":"#E12D1D","gold+d-orange+l":"#765300","darkred+l-darkgreen+d":"#EE5948","cyan+d-orange+l":"#007298","orange+l-yellow+m":"#FF7C30","darkpurple+m-magenta+m":"#63004F","cyan+l-black+l":"#35CCFF","green+m-gold+m":"#187400","purple-black":"#C800FF","link-magenta":"#000075","orange+m-red+d":"#FF7D0B","flatblue+m-cyan+m":"#0053BF","orange+l-flatblue+m":"#FFC797","orange+m-magenta+l":"#FFB473","yellow+l-orange+m":"#FAE25C","bww-graymedian+m":"#FFFFFF","gbw-darkgreen+l":"#D1D1D1","darkpurple+l-black+m":"#FF00C9","gbw2-darkblue+d":"#6b728a","green+m-black+m":"#30DC00","darkred+l-darkred+d":"#F11400","gold+m-orange+m":"#865000","green+d-red+d":"#54C435","bw-graymedian+d":"#FFFFFF","gbw-flatblue+d":"#CECECE","red+m-darkred+d":"#F11E18","flatblue+d-flatblue+m":"#7FB4F6","magenta+l-darkgreen+d":"#FF2FA3","magenta+m-darkblue+m":"#E90081","link-yellow+m":"#0051F3","cyan+m-orange+m":"#B5E5F5","red+l-red+m":"#FF9F9C","darkred+m-darkgray":"#EB4E40","red+l-magenta+d":"#F96762","red+d-flatblue+l":"#730300","darkpurple+d-black+m":"#BA0093","white+d-yellow+m":"#F0F0F0","darkred+l-orange+d":"#990C00","darkgreen+m-black+m":"#1DC000","gbw-lightgray":"#808080","darkred+d-darkgreen+d":"#C9372B","gold+l-flatblue+d":"#FFBD00","white+l-yellow+l":"#B3B3B3","gold+m-darkred+l":"#EAAC00","flatblue+m-darkpurple+d":"#4D9BFF","flatblue+l-cyan+d":"#BAD8FF","black+l-green+m":"#3B3B3B","flatblue+d-yellow+l":"#0E57B3","darkpurple+m-gold+d":"#62004E","gold+d-darkpurple+m":"#BA8900","link-red+m":"#57E0FF","purple+d-yellow+d":"#410082","gold+l-yellow+d":"#B38100","bww-flatblue+m":"#FFFFFF","bw-cyan+d":"#FFFFFF","green-lightgray":"#1F9100","gbw2-white+m":"#C7C7C7","darkblue+d-green+m":"#001656","orange+d-red+m":"#F47B11","flatblue+m-cyan+l":"#005FD9","darkblue+m-magenta+d":"#648BFF","gbw2-cyan+m":"#409AB9","yellow+l-orange+l":"#FFF573","cyan+l-yellow+d":"#008CCE","gold+l-darkgreen+l":"#FFBC00","darkpurple+d-red+m":"#ED5FCF","red+d-green+m":"#760C08","green+d-orange+d":"#7BDD60","black+m-white+m":"#262626","orange+m-orange+d":"#FF9940","red+m-darkblue+d":"#E41C17","black+l-cyan+d":"#3D3D3D","white+m-gold+l":"#EAEAEA","gold+d-cyan+l":"#896500","green+m-orange+l":"#209B00","black+d-black+d":"#757575","cyan+m-gold+d":"#44CAF7","cyan+m-darkpurple+m":"#00BFFF","darkred+m-black+d":"#CA2416","flatblue+d-flatblue+d":"#6CA3ED","green+m-purple+m":"#73E152","cyan+m-magenta+l":"#ABEAFF","darkblue+d-black+m":"#154EFF","gbw-graymedian+m":"#DADADA","magenta+m-darkred+m":"#FF1295","magenta+l-flatblue+m":"#FFB9DF","gold+d-orange+d":"#D89F00","purple+d-flatblue+d":"#A154FF","black+m-darkgreen+d":"#9D9D9D","red+m-purple+l":"#FF8480","darkblue+m-darkpurple+d":"#3367FF","red+l-green+d":"#AD0000","gold+l-gold+d":"#FFBE0B","cyan+d-orange+d":"#69CEF1","orange+l-red+m":"#FFB675","red+l-gold+d":"#CD0000","magenta+d-darkred+l":"#EF48A4","darkred+d-purple+m":"#C8453A","black+d-magenta+d":"#B0B0B0","bw-cyan+m":"#000000","cyan+d-magenta+m":"#5EC7EC","darkgreen+d-purple+d":"#1AAA00","flatblue+d-red+l":"#7CB1F4","darkred+l-green+d":"#830000","gbw-darkgreen+d":"#D4D4D4","red+m-darkgreen+d":"#EF3732","gold+m-flatblue+d":"#EBAE00","darkblue+m-purple+l":"#92ADFF","green+l-darkpurple+m":"#51EC22","darkpurple+m-magenta+d":"#F800C4","gbw-cyan+l":"#686868","link-flatblue+l":"#0000E1","orange+m-green+m":"#F9C173","link-darkgreen+m":"#00D5FF","darkpurple+l-red+m":"#FA9BE6","orange+d-orange+d":"#EE8325","flatblue+l-darkgreen+m":"#6DABFC","red+m-red+l":"#FFA09E","magenta+l-darkred+l":"#FF92CE","red+d-purple+m":"#FF2822","darkblue+d-red+d":"#4673FF","orange+l-green+d":"#FFB371","darkgreen+l-darkgreen+l":"#0D5100","red+m-purple+d":"#ED322D","red+d-red+m":"#FF504B","green+m-yellow+m":"#26B100","green+l-yellow+d":"#27B300","flatblue+l-darkred+d":"#88BCFF","darkgreen+d-darkpurple+d":"#168F00","magenta+l-purple+m":"#FF6DBE","orange+d-gold+l":"#9C4800","purple+d-darkred+d":"#8C2DFF","magenta+d-black+m":"#C8006F","darkgreen+l-black+d":"#20CE00","red+l-darkred+l":"#FE9D9A","red+d-darkgreen+m":"#D52824","darkblue+l-purple+m":"#90ACFF","gbw-darkblue+m":"#C9C9C9","orange+l-cyan+l":"#E8842D","white+m-orange+l":"#E8E8E8","gbw-magenta+d":"#CFCFCF","darkpurple+l-darkred+m":"#F846D2","link-darkblue+m":"#00AAFF","purple+d-gold+l":"#3B0082","purple-cyan":"#38007D","darkred+m-darkred+d":"#D71100","darkgreen+m-green+m":"#0C4F00","magenta+l-darkblue+l":"#FF7BC5","cyan+d-white+m":"#007399","darkblue+l-darkred+l":"#0D256D","gbw-orange":"#525252","white+d-flatblue+l":"#D2D2D2","orange+m-yellow+d":"#D95000","flatblue+l-gold+m":"#B3D4FF","darkgreen+d-red+d":"#249F0D","gold+d-green+m":"#694C00","cyan+m-green+l":"#147B9F","darkred+m-red+m":"#7B160D","flatblue+l-darkblue+l":"#4AB1FC","flatblue+m-yellow+l":"#1167D5","link-orange+d":"#4AE1FF","darkblue+d-black+l":"#3565F7","gbw2-yellow+m":"#BDAA40","gbw2-green+d":"#77B366","cyan+m-cyan+d":"#86E1FF","red+d-darkred+m":"#FF0700","darkred+l-cyan+d":"#980C00","darkpurple+l-gold+d":"#88006C","green+m-graymedian+d":"#6EE84C","green+m-graymedian+m":"#94FF78","green+m-graymedian+l":"#219A00","green+l-graymedian+l":"#27B300","green+l-graymedian+d":"#88EF6C","green+d-graymedian+d":"#46C024","green+l-graymedian+m":"#A5FF8D","green+d-graymedian+m":"#78FF55","green+d-graymedian+l":"#1B8000","green+l-darkblue+l":"#74F653","green+d-darkblue+l":"#52D72F","darkgreen+m-graymedian+d":"#21D400","darkgreen+l-graymedian+d":"#27FA00","darkgreen+d-graymedian+d":"#1AAA00","darkgreen+l-graymedian+m":"#106900","darkgreen+d-graymedian+m":"#0B4800","darkgreen+l-graymedian+l":"#148200","darkgreen+d-graymedian+l":"#0C4D00","darkgreen+d-gold+m":"#0C4800","darkgreen+d-gold+l":"#0C4B00","darkgreen+l-orange+m":"#168B00","darkgreen+d-orange+m":"#0B4500","darkgreen+d-orange+d":"#0B4600","darkgreen+d-orange+l":"#0B4800","darkgreen+l-yellow+d":"#168D00","darkgreen+d-yellow+d":"#0B4500","darkgreen+l-orange+l":"#179200","darkgreen+d-yellow+m":"#0B4700","darkgreen+d-yellow+l":"#0B4300","darkgreen+d-red+l":"#0A3A00","darkgreen+m-red+l":"#114607","darkgreen+d-flatblue+m":"#0F5B00","darkgreen+m-flatblue+l":"#116C00","darkgreen+d-flatblue+l":"#0F5A00","darkgreen+m-cyan+d":"#0F6700","darkgreen+d-cyan+d":"#0D5100","darkgreen+m-cyan+m":"#116C00","darkgreen+d-cyan+m":"#0F5A00","darkgreen+m-cyan+l":"#116E00","darkgreen+d-cyan+l":"#0F5B00","flatblue+m-graymedian+d":"#75B0FC","flatblue+m-graymedian+m":"#92C1FF","flatblue+m-graymedian+l":"#0066EB","cyan+m-graymedian+d":"#27C9FF","cyan+m-graymedian+m":"#78D7F7","cyan+m-graymedian+l":"#0094C6","cyan+d-graymedian+l":"#0089B7","cyan+m-darkred+d":"#29C1F4","cyan+m-red+d":"#60CEF3","cyan+m-purple+d":"#00B9F7","cyan+m-darkgreen+d":"#0FC3FF","cyan+m-darkgreen+m":"#2AC9FF","flatblue+m-white+d":"#1375F3","flatblue+m-gray":"#1375F3","red+m-graymedian+d":"#FF7E7B","red+m-graymedian+m":"#C40600","red+m-graymedian+l":"#D30600","red+m-green+m":"#9F100B","yellow+m-graymedian+m":"#FFE340","yellow+m-graymedian+l":"#FFEC40","yellow+m-gold+m":"#FFE032","yellow+m-orange+d":"#FFDD1C","yellow+m-orange+m":"#FADC31","yellow+l-gold+m":"#FFE764","yellow+l-graymedian+l":"#FFF06A","bww-green+p":"#000000","link-white+p":"#0055FF","link-green+p":"#0055FF","gbw2-green+p":"#C4CCC2","link-darkgreen+p":"#0055FF","link-darkblue+p":"#0055FF","link-cyan+p":"#0055FF","link-flatblue+p":"#0055FF","link-purple+p":"#0055FF","link-darkpurple+p":"#0055FF","link-magenta+p":"#0055FF","link-red+p":"#0055FF","link-darkred+p":"#0055FF","link-yellow+p":"#0055FF","link-orange+p":"#0055FF","link-gold+p":"#0055FF","link-graymedian+p":"#0055FF","link-black+p":"#0055FF","gbw2-black+p":"#C9C9C9","gbw2-darkgreen+p":"#BCC4BB","bw-darkgreen+p":"#000000","gbw2-darkblue+p":"#BBBCC4","gbw2-cyan+p":"#C2CACC","gbw2-flatblue+p":"#BBC1C4","gbw2-purple+p":"#BEBBC4","gbw2-darkpurple+p":"#C7BDC5","gbw2-magenta+p":"#CCC2C8","gbw2-red+p":"#CCC2C2","gbw2-darkred+p":"#C5BCBB","gbw2-yellow+p":"#CCCAC2","gbw2-orange+p":"#CCC8C2","gbw2-gold+p":"#CCCAC2","gbw2-graymedian+p":"#CCCCCC","gbw2-white+p":"#D8D8D8","bw-black+p":"#000000","bw-darkblue+p":"#000000","bw-flatblue+p":"#000000","bw-purple+p":"#000000","bw-darkpurple+p":"#000000","bw-magenta+p":"#000000","bw-red+p":"#000000","bw-darkred+p":"#000000","bw-gold+p":"#000000","bw-graymedian+p":"#000000","bww-cyan+p":"#000000","bww-orange+p":"#000000","gbw-black+p":"#606060","gbw-green+p":"#606060","gbw-darkgreen+p":"#606060","gbw-darkblue+p":"#606060","gbw-cyan+p":"#606060","gbw-flatblue+p":"#606060","gbw-purple+p":"#606060","gbw-darkpurple+p":"#606060","gbw-magenta+p":"#606060","gbw-red+p":"#606060","gbw-darkred+p":"#606060","gbw-yellow+p":"#606060","gbw-orange+p":"#606060","gbw-gold+p":"#606060","gbw-graymedian+p":"#606060","gbw-white+p":"#808080","orange+m-graymedian+d":"#FF9030","orange+m-graymedian+m":"#FFAE66","orange+d-graymedian+m":"#F39B4C","orange+m-graymedian+l":"#CC5F00","orange+d-graymedian+l":"#AB5000","orange+m-darkblue+d":"#EA6D00","orange+m-darkblue+l":"#F78C2F","orange+m-darkgreen+m":"#FF7700","orange+m-black+l":"#FF7700","orange+m-darkgray":"#FF7C0B","yellow+m-graymedian+p":"#E6C300","yellow+l-graymedian+p":"#F7D200","yellow+m-gold+p":"#DFBE00","yellow+m-orange+p":"#D9B800","yellow+m-yellow+p":"#EBC400","yellow+m-darkred+p":"#D4AD00","yellow+m-flatblue+p":"#D4B100","yellow+d-darkred+p":"#AD8D00","yellow+m-red+p":"#D4B100","yellow+m-magenta+p":"#D4AA00","yellow+m-darkpurple+p":"#D4AD00","yellow+m-purple+p":"#D4AD00","yellow+m-cyan+p":"#D4B400","yellow+m-darkblue+p":"#D4AA00","yellow+m-darkgreen+p":"#D4AD00","yellow+m-green+p":"#D4AD00","yellow+m-black+p":"#D4B400","yellow+l-gold+p":"#FFD900","yellow+d-purple+p":"#BA9800","yellow+m-black+l":"#FFDE21","yellow+d-red+p":"#B09300","yellow+d-magenta+p":"#B49000","yellow+d-black+p":"#B39700","yellow+d-green+p":"#A98A00","green+l-darkred+p":"#31E300","green+l-purple+p":"#2FDC00","green+l-darkblue+p":"#30E100","green+l-darkgreen+p":"#31E600","white+l-white+p":"#999999","white+m-white+p":"#808080","white+d-white+p":"#717171","white+l-black+p":"#B3B3B3","white+m-black+p":"#ABABAB","white+d-black+p":"#A3A3A3","white+d-graymedian+m":"#D7D7D7","white+d-graymedian+l":"#E6E6E6","white+m-graymedian+l":"#F1F1F1","white+l-graymedian+p":"#C7C7C7","white+m-graymedian+p":"#B8B8B8","white+d-graymedian+p":"#ACACAC","white+l-gold+p":"#B9B9B9","white+m-gold+p":"#B1B1B1","white+d-gold+p":"#ABABAB","white+l-green+p":"#BABABA","white+m-green+p":"#B5B5B5","white+m-darkgreen+p":"#B8B8B8","white+m-darkblue+p":"#ACACAC","white+m-cyan+p":"#BABABA","white+m-flatblue+p":"#B3B3B3","white+l-darkgreen+p":"#C0C0C0","white+l-cyan+p":"#C4C4C4","white+l-flatblue+p":"#B9B9B9","white+l-magenta+p":"#B7B7B7","white+l-red+p":"#B7B7B7","white+l-yellow+p":"#BBBBBB","white+l-orange+p":"#BABABA","white+m-yellow+p":"#B3B3B3","white+m-orange+p":"#B3B3B3","white+m-purple+p":"#B0B0B0","white+d-green+p":"#B0B0B0","white+d-darkgreen+p":"#B0B0B0","white+d-darkblue+p":"#A4A4A4","white+d-cyan+p":"#B3B3B3","white+d-flatblue+p":"#ABABAB","white+d-purple+p":"#A9A9A9","white+m-darkpurple+p":"#B0B0B0","white+d-darkpurple+p":"#A6A6A6","white+m-magenta+p":"#AFAFAF","white+d-magenta+p":"#A3A3A3","white+m-red+p":"#B1B1B1","white+d-red+p":"#AAAAAA","white+l-darkred+p":"#B8B8B8","white+m-darkred+p":"#B0B0B0","white+d-darkred+p":"#A7A7A7","white+d-yellow+p":"#ABABAB","white+d-orange+p":"#ABABAB","white+l-darkpurple+p":"#BFBFBF","black+m-cyan+d":"#1F1F1F","graymedian+l-gray":"#969696","graymedian+m-gray":"#858585","graymedian+m-darkgray":"#A7A7A7","graymedian+d-darkgray":"#8F8F8F","graymedian+l-lightgray":"#A1A1A1","graymedian+m-lightgray":"#959595","graymedian+m-white+m":"#8D8D8D","graymedian+l-white+m":"#9F9F9F","graymedian+m-white+d":"#828282","graymedian+l-white+d":"#8D8D8D","graymedian+m-black+l":"#A9A9A9","graymedian+d-black+l":"#8E8E8E","graymedian+d-black+m":"#7C7C7C","graymedian+l-green+l":"#799879","graymedian+m-green+l":"#7B8779","graymedian+m-green+m":"#C3D6C1","graymedian+d-green+l":"#686868","graymedian+l-green+m":"#D7E6D3","graymedian+d-green+m":"#B0C1AF","graymedian+m-green+d":"#BFBFBF","graymedian+l-green+d":"#D9D9D9","graymedian+d-green+d":"#A7A7A7","graymedian+l-black+l":"#C0C0C0","graymedian+m-darkgreen+l":"#BFBFBF","graymedian+l-darkgreen+l":"#D9D9D9","graymedian+d-darkgreen+l":"#A7A7A7","graymedian+m-darkgreen+m":"#A9A9A9","graymedian+l-darkgreen+m":"#C1C1C1","graymedian+d-darkgreen+m":"#929292","graymedian+m-darkblue+l":"#A9A9A9","graymedian+l-darkblue+l":"#C8C8C8","graymedian+d-darkblue+l":"#909090","graymedian+m-darkblue+m":"#A6A6A6","graymedian+l-darkblue+m":"#BFBFBF","graymedian+d-darkblue+m":"#858585","graymedian+m-cyan+l":"#879696","graymedian+l-cyan+l":"#95A6A7","graymedian+d-cyan+l":"#898989","graymedian+l-cyan+m":"#849394","graymedian+m-cyan+m":"#727F80","graymedian+m-cyan+d":"#B7B7B7","graymedian+l-cyan+d":"#CECECE","graymedian+d-cyan+d":"#A7A7A7","graymedian+m-flatblue+l":"#6E7474","graymedian+d-flatblue+l":"#6B6B6B","graymedian+l-flatblue+l":"#808D8E","graymedian+m-flatblue+m":"#B9B9B9","graymedian+l-flatblue+m":"#CECECE","graymedian+d-flatblue+m":"#ADADAD","graymedian+m-flatblue+d":"#A6A6A6","graymedian+l-flatblue+d":"#C0C0C0","graymedian+d-flatblue+d":"#9B9B9B","graymedian+m-purple+l":"#ADADAD","graymedian+l-purple+l":"#C6C6C6","graymedian+d-purple+l":"#959595","graymedian+d-purple+m":"#939393","graymedian+m-purple+m":"#ABABAB","graymedian+l-purple+m":"#BFBFBF","graymedian+d-purple+d":"#959595","graymedian+m-purple+d":"#AEAEAE","graymedian+l-purple+d":"#C7C7C7","graymedian+m-darkpurple+l":"#B4B4B4","graymedian+l-darkpurple+l":"#C7C7C7","graymedian+d-darkpurple+l":"#A2A2A2","graymedian+m-darkpurple+m":"#AAAAAA","graymedian+l-darkpurple+m":"#C3C3C3","graymedian+d-darkpurple+m":"#929292","graymedian+m-darkpurple+d":"#A3A3A3","graymedian+d-darkpurple+d":"#848484","graymedian+m-magenta+l":"#CECECE","graymedian+l-magenta+l":"#E3E3E3","graymedian+d-magenta+l":"#C8BDC6","graymedian+m-magenta+m":"#BDBDBD","graymedian+l-magenta+m":"#CDCDCD","graymedian+d-magenta+m":"#A5A5A5","graymedian+m-magenta+d":"#ACACAC","graymedian+l-magenta+d":"#C1C1C1","graymedian+d-magenta+d":"#959595","graymedian+m-red+l":"#CCCCCC","graymedian+l-red+l":"#E1E1E1","graymedian+d-red+l":"#C1AEAE","graymedian+m-red+m":"#BFBFBF","graymedian+d-red+m":"#999999","graymedian+l-red+m":"#D9D9D9","graymedian+m-red+d":"#B0B0B0","graymedian+l-red+d":"#C6C6C6","graymedian+d-red+d":"#9B9B9B","graymedian+m-darkred+l":"#B3B3B3","graymedian+l-darkred+l":"#CACACA","graymedian+d-darkred+l":"#9E9E9E","graymedian+m-darkred+m":"#AEAEAE","graymedian+l-darkred+m":"#C6C6C6","graymedian+d-darkred+m":"#949494","graymedian+m-darkred+d":"#A7A7A7","graymedian+l-darkred+d":"#C0C0C0","graymedian+d-darkred+d":"#8E8E8E","graymedian+m-yellow+m":"#8E8E8E","graymedian+l-yellow+m":"#A2A2A2","graymedian+m-yellow+d":"#828282","graymedian+l-yellow+d":"#8D8D8D","graymedian+d-yellow+d":"#6C6C6C","graymedian+m-orange+l":"#858585","graymedian+l-orange+l":"#8F8F8F","graymedian+m-orange+m":"#6E6864","graymedian+l-orange+m":"#7F7976","graymedian+d-orange+m":"#5F5F5F","graymedian+m-orange+d":"#AFAFAF","graymedian+l-orange+d":"#C2C2C2","graymedian+d-orange+d":"#9B9B9B","graymedian+m-gold+l":"#767676","graymedian+l-gold+l":"#8F8F83","graymedian+d-gold+l":"#646464","graymedian+m-gold+m":"#C0C0C0","graymedian+l-gold+m":"#D4D4D4","graymedian+d-gold+m":"#B4B3A9","graymedian+m-gold+d":"#B3B3B3","graymedian+l-gold+d":"#CACACA","graymedian+d-gold+d":"#A1A1A1","graymedian+l-graymedian+l":"#8C8C8C","graymedian+m-graymedian+l":"#767676","graymedian+d-graymedian+l":"#636363","graymedian+m-graymedian+m":"#CECECE","graymedian+l-graymedian+m":"#E2E2E2","graymedian+d-graymedian+m":"#BEBEBE","graymedian+l-graymedian+d":"#D2D2D2","graymedian+m-graymedian+d":"#B7B7B7","white+l-purple+p":"#BCBCBC","white+l-darkblue+p":"#BCBCBC","darkred+m-graymedian+d":"#952319","darkred+l-graymedian+d":"#A71C11","darkred+d-graymedian+d":"#680800","darkred+l-graymedian+m":"#B40F00","darkred+l-graymedian+l":"#C11000","darkred+m-orange+m":"#880B00","darkred+m-yellow+l":"#96281E","darkred+l-yellow+l":"#CA2314","darkred+d-yellow+l":"#7C0A00","darkred+m-cyan+l":"#962E25","darkred+l-cyan+l":"#AE0F00","darkred+m-green+l":"#6C0900","darkred+l-green+l":"#900B00","darkred+d-green+l":"#621A14","green+l-red+p":"#31E600","green+l-darkpurple+p":"#2FD900","green+l-magenta+p":"#32E600","green+l-flatblue+p":"#31E400","green+l-cyan+p":"#32E900","cyan+l-graymedian+m":"#9EE3FA","cyan+d-graymedian+m":"#59CBF1","cyan+l-graymedian+l":"#149ECD","cyan+l-graymedian+d":"#51E1FF","cyan+d-graymedian+d":"#00ABE4","cyan+l-cyan+p":"#00D2FB","cyan+l-darkgreen+d":"#41CFFF","cyan+d-darkgreen+d":"#0DAFE5","cyan+l-darkgreen+m":"#59D5FF","cyan+d-darkgreen+m":"#0FADE3","cyan+l-gold+p":"#00CAF2","cyan+l-orange+p":"#00C7EF","cyan+l-yellow+p":"#00C7EE","cyan+l-darkred+p":"#00C1E7","cyan+l-red+p":"#00CAF1","cyan+l-magenta+p":"#00CDF5","cyan+l-darkpurple+p":"#00CBF3","cyan+l-purple+p":"#00C7EE","cyan+m-purple+p":"#00B0EB","cyan+l-flatblue+p":"#00CAF1","cyan+l-darkblue+p":"#00CDF5","cyan+l-darkgreen+p":"#00C9F1","cyan+l-green+p":"#00D0F9","cyan+l-black+p":"#00CCF4","flatblue+l-graymedian+d":"#9AC5FC","flatblue+d-graymedian+d":"#5595EA","flatblue+l-graymedian+m":"#B6D6FF","flatblue+d-graymedian+m":"#76ADF7","flatblue+l-graymedian+l":"#3988EF","flatblue+d-graymedian+l":"#0059CE","flatblue+l-white+d":"#4496FE","flatblue+d-white+d":"#0461D7","flatblue+l-gray":"#3E93FF","red+l-graymedian+d":"#FF9895","red+d-graymedian+d":"#FF5752","red+l-graymedian+m":"#E80700","red+d-graymedian+m":"#960500","red+l-graymedian+l":"#F90700","red+d-graymedian+l":"#A00500","magenta+m-graymedian+d":"#FF7FC6","magenta+l-graymedian+d":"#FF9BD3","magenta+d-graymedian+d":"#F14EA8","magenta+m-graymedian+m":"#CA0070","magenta+l-graymedian+m":"#F10086","magenta+d-graymedian+m":"#9F0058","yellow+l-graymedian+m":"#FFE968","yellow+d-graymedian+m":"#FFDD14","yellow+d-graymedian+l":"#FFE713","yellow+d-gold+m":"#F7D200","yellow+d-gold+p":"#BCA000","yellow+l-orange+d":"#FFE75F","yellow+d-orange+d":"#D9B800","yellow+d-orange+m":"#EFCC03","yellow+l-orange+p":"#FFD800","yellow+d-orange+p":"#B79C00","yellow+l-yellow+p":"#FFDA23","yellow+d-yellow+p":"#C1A100","yellow+l-darkred+p":"#F2C600","yellow+l-red+l":"#FFED85","yellow+d-red+l":"#ECCC16","yellow+l-red+p":"#F4CF15","yellow+l-magenta+p":"#F7C600","yellow+l-darkpurple+p":"#EEC200","yellow+d-darkpurple+p":"#B59400","yellow+l-purple+p":"#F7CA00","yellow+l-flatblue+p":"#F0C900","yellow+d-flatblue+p":"#B39500","yellow+l-cyan+p":"#FFD800","yellow+d-cyan+p":"#AB9100","yellow+l-darkblue+p":"#F7C600","yellow+d-darkblue+p":"#AC8A00","yellow+l-darkgreen+p":"#F9CC00","yellow+d-darkgreen+p":"#B08F00","yellow+l-green+p":"#FBCD00","yellow+l-black+l":"#FFE85E","yellow+d-black+l":"#DDBC00","yellow+l-black+p":"#F0CC00","yellow+l-darkgray":"#FFE862","yellow+d-darkgray":"#D5B600","yellow+d-lightgray":"#D7B000","orange+l-graymedian+d":"#FFAA60","orange+d-graymedian+d":"#EF760D","orange+l-graymedian+m":"#FFC28C","orange+l-graymedian+l":"#F17000","orange+l-yellow+l":"#FF872C","orange+d-yellow+l":"#D75D00","orange+l-darkblue+d":"#EA8B38","orange+d-darkblue+d":"#C85D00","orange+l-darkblue+m":"#F78C2F","orange+d-darkblue+m":"#C75D00","orange+l-darkblue+l":"#F7A35A","orange+d-darkblue+l":"#D57929","orange+l-darkgreen+d":"#F78F34","orange+d-darkgreen+d":"#D76400","orange+l-darkgreen+m":"#FF963A","orange+d-darkgreen+m":"#D86500","orange+l-black+d":"#F79138","orange+d-black+d":"#CE6000","orange+l-black+m":"#F79138","orange+d-black+m":"#D06100","orange+l-black+l":"#FF9437","orange+d-black+l":"#DE6700","orange+l-darkgray":"#FF983E","orange+d-darkgray":"#D36709","bww-yellow+d":"#FFFFFF","bww-yellow+m":"#000000","bw-yellow+d":"#FFFFFF","bw-yellow+m":"#000000","bww-gold+p":"#000000","gold+m-graymedian+d":"#DFA400","gold+l-graymedian+d":"#FDBA00","gold+d-graymedian+d":"#BC8B00","gold+m-graymedian+m":"#F4B914","gold+l-graymedian+m":"#FFC930","gold+d-graymedian+m":"#DCA200","gold+m-graymedian+l":"#AF8100","gold+l-graymedian+l":"#CA9500","gold+d-graymedian+l":"#946D00","gold+l-darkpurple+d":"#E7AB00","gold+d-darkpurple+d":"#A17700","gold+m-darkpurple+m":"#E0A500","gold+l-black+d":"#E5A900","gold+d-black+d":"#A17700","gold+l-black+m":"#E1A600","gold+d-black+m":"#9F7500","gold+l-black+l":"#F6B500","gold+d-black+l":"#B08200","gold+l-darkgray":"#E3A800","gold+d-darkgray":"#9B7200","gold+l-gray":"#D49C00","gold+d-gray":"#8C6800","purple+m-graymedian+d":"#450099","purple+l-graymedian+d":"#5700BF","purple+d-graymedian+d":"#330071","purple+m-graymedian+m":"#47009D","purple+l-graymedian+m":"#6000D8","purple+d-graymedian+m":"#360076","purple+m-graymedian+l":"#4900A2","purple+l-graymedian+l":"#6000D8","purple+d-graymedian+l":"#370079","darkpurple+m-graymedian+d":"#72005A","darkpurple+l-graymedian+d":"#990078"};function asXYZ(c){var rgb=asRGB(c);var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;function linear(c){var a=0.055;if(c>0.04045)return Math.exp(2.4*Math.log((c+a)/(1+a)));return c/12.92;}
var r=linear(r);var g=linear(g);var b=linear(b);return[0.4124*r+0.3576*g+0.1805*b,0.2126*r+0.7152*g+0.0722*b,0.0193*r+0.1192*g+0.9502*b];var c=1/0.17697;return[c*0.49*r+c*0.31*g+c*0.2*b,c*0.17697*r+c*0.81240*g+c*0.01063*b,c*0.00*r+c*0.01*g+c*0.99*b];}
function asLAB(c){var rgb=asRGB(c);var xyz=asXYZ(rgb);var xyzn=asXYZ([255,255,255]);var x=xyz[0];var y=xyz[1];var z=xyz[2];var xn=xyzn[0];var yn=xyzn[1];var zn=xyzn[2];function f(t){if(t>Math.pow(6/29,3))return Math.pow(t,1/3);return t/3*Math.pow(29/6,2)+4/29;}
return[116*f(y/yn)-16,500*(f(x/xn)-f(y/yn)),200*(f(y/yn)-f(z/zn))];}
function distanceCIEDE2000(Lab1,Lab2){var L1=Lab1[0];var a1=Lab1[1];var b1=Lab1[2];var L2=Lab2[0];var a2=Lab2[1];var b2=Lab2[2];var dLp=L2-L1;var Lb=(L1+L2)/2;var C1=Math.sqrt(a1*a1+b1*b1);var C2=Math.sqrt(a2*a2+b2*b2);var Cb=(C1+C2)/2;var a1p=a1+a1*(1-Math.sqrt(Math.pow(Cb,7)/(Math.pow(Cb,7)+Math.pow(25,7))))/2;var a2p=a2+a2*(1-Math.sqrt(Math.pow(Cb,7)/(Math.pow(Cb,7)+Math.pow(25,7))))/2;var C1p=Math.sqrt(a1p*a1p+b1*b1);var C2p=Math.sqrt(a2p*a2p+b2*b2);var Cp=(C1p+C2p)/2;var dCp=C2p-C1p;var h1p=C1p?((360+Math.atan2(b1,a1p)/Math.PI*180)%360):0;var h2p=C2p?((360+Math.atan2(b2,a2p)/Math.PI*180)%360):0;var dhp=(function(){if(C1p==0||C2p==0)return 0;var tmp=Math.abs(h1p-h2p);if(tmp>180){if(h2p>h1p)return h2p-h1p-360;return h2p-h1p+360;}
return h2p-h1p;})();var dHp=2*Math.sqrt(C1p*C2p)*Math.sin(dhp/2*Math.PI/180);var Hp=(function(){if(C1p==0||C2p==0)return h1p+h2p;if(Math.abs(h1p-h2p)>180)return(h1p+h2p+360)/2;return(h1p+h2p)/2;})();var T=1-0.17*Math.cos((Hp-30)*Math.PI/180)+0.24*Math.cos(2*Hp*Math.PI/180)+0.32*Math.cos((3*Hp+6)*Math.PI/180)-0.2*Math.cos((4*Hp-63)*Math.PI/180);var SL=1+0.015*Math.pow(Lb-50,2)/Math.sqrt(20+Math.pow(Lb-50,2));var SC=1+0.045*Cp;var SH=1+0.015*Cp*T;var RT=-2*Math.sqrt(Math.pow(Cp,7)/(Math.pow(Cp,7)+Math.pow(25,7)))*Math.sin(60*Math.exp(-Math.pow((Hp-275)/25,2))*Math.PI/180);return Math.sqrt(Math.pow(dLp/SL,2)+Math.pow(dCp/SC,2)+Math.pow(dHp/SH,2)+RT*dCp*dHp/SC/SH);}
function _spacexml(){var _window={};var _parent={};try{_window=window;_parent=parent;}catch(err){}
return _window.spacexml||_parent.spacexml;}
var o=_spacexml();this.__c1=(o&&o.theme&&o.theme.c1);this.__c2=(o&&o.theme&&o.theme.c2);this.c1=function(){if(this.__c1)return this.__c1;var o=_spacexml();var c=(o&&o.theme&&o.theme.c1);if(c)this.__c1=c;return c||"white";};this.c2=function(){if(this.__c2)return this.__c2;var o=_spacexml();var c=(o&&o.theme&&o.theme.c2);if(c)this.__c2=c;return c||"white";};this.__colors=[];this.__colorsOnBackground=__colorsOnBackground;this.setTheme=function(theme){this.__c1=theme.c1;this.__c2=theme.c2;};this.debug=false;this.getColorOnBackground=function(cBackground,cColor,nullResult){var _this=this;cBackground=cBackground.split("-");var idBackground1=asFullColorID(cBackground[0]);var idBackground2=cBackground[1]?asFullColorID(cBackground[1]):"";var idColor=asFullColorID(cColor);function getColor(idColor,idBackground1,idBackground2){var c=_this.__colorsOnBackground[idColor+"-"+idBackground1+(idBackground2?("-"+idBackground2):"")];if(c)return c;if(idBackground2){c=_this.__colorsOnBackground[idColor+"-"+idBackground1.split("+")[0]+"-"+idBackground2];c=c||_this.__colorsOnBackground[idColor+"-"+idBackground1+"-"+idBackground2.split("+")[0]];c=c||_this.__colorsOnBackground[idColor+"-"+idBackground1.split("+")[0]+"-"+idBackground2.split("+")[0]];return c;}else{return _this.__colorsOnBackground[idColor+"-"+idBackground1.split("+")[0]];}}
var c=getColor(idColor,idBackground1,idBackground2);if(!c&&idColor=="bww")c=getColor("bw",idBackground1,idBackground2);if(nullResult||c)return c;if(cBackground[1]){return this.getColorOnBackground(this.getColorOnBackground(cBackground[1],cBackground[0],nullResult),cColor,nullResult);}else{if(cColor=="bw"||cColor=="bww")return bwcolor(cBackground[0]);if(cColor=="gbw")return gbwcolor(cBackground[0]);if(cColor=="gbw2")return gbw2color(cBackground[0]);if(cColor=="link")return linkcolor(cBackground[0]);}
return cColor;};this.getName=function(id){if(colors_name[id])return colors_name[id];else if(/\+/.test(id)){var tmp=id.split("+");if(colors_name[tmp[0]]){if(tmp[1]=="m")return colors_name[tmp[0]];else if(colors_name["+"+tmp[1]])return colors_name["+"+tmp[1]].replace("%s",colors_name[tmp[0]]);}}
return id;};function declinedColor(c,mode){c=cleanColor(c);var many=c.split(" ");if(many.length>1){var tmp=[];for(var i=0;i<many.length;i++){tmp.push(declinedColor(many[i],mode));}
return tmp.join(" ");}
var tmp=c.split("@");c=tmp[0];var colors=c.split("-");function calculate_color(color){var color_calcul={"p":-20,"l":-2,"ml":-1,"m":0,"md":1,"d":2};var tab_colors=color.split("+");var color_plus;var res=0;if(tab_colors.length<=1)return color;for(var i=0;i<tab_colors.length;i++){if(color_calcul[tab_colors[i]])res+=color_calcul[tab_colors[i]];}
if(res>2)res=2;if(res<-5)res=-20;else if(res<-2)res=-2;for(var key in color_calcul){if(color_calcul[key]==res)color_plus=key;}
return tab_colors[0]+"+"+color_plus;}
for(var i=0;i<colors.length;i++){colors[i]=calculate_color(colors[i]);}
var c=colors[0];if(colors[2])var background=colors[1]+"-"+colors[2];else var background=colors[1];function knownColorOnBackground(background,color){if(background=="transparent")return null;return _this.getColorOnBackground(background,color);}
if(background){c=knownColorOnBackground(background,c)||c;if(c=="bw"||c=="bww")c=bwcolor(background);else if(c=="gbw")c=gbwcolor(background);else if(c=="gbw2")c=gbw2color(background);else if(c=="link")c=linkcolor(background);}
for(var i=1;i<tmp.length;i++){c=declinedColor(c,tmp[i]);}
if(tmp.length>1&&!mode)return c;if(/^d[0-9]+/.test(mode))return quomodoColors.brightenColor(c,-parseInt(/([0-9]+)/.exec(mode)[0],10));if(/^l[0-9]+/.test(mode))return quomodoColors.brightenColor(c,parseInt(/([0-9]+)/.exec(mode)[0],10));if(/^s[0-9]+/.test(mode)){var hsv=asHSV(c);if(hsv[1]==0)return asHEX(c);var new_s=parseInt(/^s([0-9]+)/.exec(mode)[1],10);return asHEX(hsv2rgb([hsv[0],new_s,hsv[2]]));}
if(/^alpha/.test(mode)){var rgba=asRGB(c).concat(mode.replace("alpha",""));return "rgba( "+rgba.join(",")+")";}
switch(mode){case "c150":var b=getBrightness(c);return asHEX(rgb2givenlevel((b>50)?Math.max(0,b-75):Math.min(100,b+75),asRGB(c)));case "c9":case "c13":case "c19":case "c27":case "c40":var v=parseInt(mode.replace("c",""),10);if(!v)v=20;if(v==9)v=5;var hsv=asHSV(c);var c=(hsv[2]>50)?hsv[2]-v:hsv[2]+v;if(c<20)c=20;if(c>100)c=100;return asHEX(hsv2rgb([hsv[0],hsv[1],c]));case "1":return asHEX(c);case "2":case "3":case "4":case "5":case "6":var v=parseInt(mode,10)-2;var levels=[17,33,50,67,83,96];return asHEX(rgb2givenlevel(levels[v],asRGB(c)));case "7":var rgb=asRGB(c);return asHEX([255-rgb[0],255-rgb[1],255-rgb[2]]);case "bw":case "bww":return knownColorOnBackground(c,mode)||bwcolor(c);case "gbw":return knownColorOnBackground(c,mode)||gbwcolor(c);case "gbw2":return knownColorOnBackground(c,mode)||gbw2color(c);case "link":return knownColorOnBackground(c,mode)||linkcolor(c);case "inset":var n=getBrightness(c);var c1=asHEX(c);var c2=asHEX(rgb2givenlevel((n<50)?(n+33):(n-33),asRGB(c)));return((n<50)?[c1,c2,c2,c1]:[c2,c1,c1,c2]).join(" ");}
return asHEX(c);};this.get=function(id){return __colorsByIDs[id];};this.getHEX=function(c){return asHEX(c);};this.penColors=function(qColorsOnly){if(qColorsOnly)return[].concat(__qColors);return[].concat(__qColors).concat(__qTextGrays);};this.fillColors=function(qColorsOnly){if(qColorsOnly=="gray")return[].concat(__qGrays);if(qColorsOnly)return[].concat(__qColors);return[].concat(__qColors).concat(__qGrays);};this.RichColor=function(c){this.c=(__colorsByIDs[c]&&__colorsByIDs[c].c)||c;this.asRGB=function(){return asRGB(this.c);};this.asHEX=function(){return asHEX(this.c);};this.asLAB=function(){return asLAB(this.c);};this.asHSV=function(noRound){return asHSV(this.c,noRound);};this.asColorID=function(){return asColorID(this.c);};this.declined=function(mode){return declinedColor(this.c,mode);};}
function hasClassColor(color,background){var c=(color=="c1"||color=="c2")?"c":color;var bg=(background=="c1"||background=="c2")?"c":background;if(!bg)return c=="c";var tmp=["c-c","c-transparent","c-black","c-darkgray","c-gray","c-lightgray","c-white","bw-c","bww-c","gbw-c","link-c"];var v=c+"-"+bg;for(var i=0;i<tmp.length;i++){if(v==tmp[i])return true;}
return false;}
function cleanColor(c){var re=new RegExp("rgb\\(([^)]+)\\)","g");c=c.replace(re,function(){return "rgb("+arguments[1].replace(/ /g,"")+")";});return c;}
this.richColor=function(c,style){c=cleanColor(c);style=style||"color";var classBase="club"+style.replace(/-/g,"");var re=new RegExp(classBase+"[^ ]* ?","g");function basicColor(c){var realcolor=declinedColor(c);return{"style":realcolor,"class":"","c":realcolor,"re":re};}
var declined=c.split("@");var tmp=declined[0].split("-");var color=tmp[0];var background=tmp[1];if(color!="c1"&&color!="c2"&&background!="c1"&&background!="c2")return basicColor(c);if(declined.length>2||(declined.length==2&&declined[1]!="inset"))return basicColor(c);if(background||!hasClassColor(color,background))return basicColor(c);var s=classBase+declined[0].replace("-transparent","");if(declined[1]=="inset")s=s.replace(/clubbordercolor/,"clubborderinset");return{"style":"","class":s,"c":declinedColor(c),"re":re};};this.isdark=function(c,want_bww){if(want_bww)return declinedColor(c,"bww")=="#FFFFFF";return declinedColor(c,"bw")=="#FFFFFF";return getBrightness(c)<50;};this.Brightness=function(c){return getBrightness(c);};this.asHEX=function(c){return asHEX(c);};this.asRGB=function(c){return asRGB(c);};this.rgb2givenlevel=function(thelevel,c){return rgb2givenlevel(thelevel,c);};function basicBrightenColor(c,deltaBrightness){var thehsv=asHSV(c);var h=thehsv[0];var s=thehsv[1];var v=thehsv[2];if(deltaBrightness>0){var old_v=v;v+=deltaBrightness;v=Math.min(v,100);s-=deltaBrightness-(v-old_v);s=Math.max(s,0);}else{if(s==0){v+=deltaBrightness;v=Math.max(v,0);}else{var old_s=s;s-=deltaBrightness;s=Math.min(s,100);v+=deltaBrightness+(s-old_s);v=Math.max(v,0);}}
return asHEX(hsv2rgb([h,s,v]));}
this.basicBrightenColor=function(c,deltaBrightness){return basicBrightenColor(c,deltaBrightness);};this.brightenColor=function(c,d,deltaBrightness,ntrial,dmin,dmax){if(this.debug)console.log("brightenColor",c,d,deltaBrightness,ntrial);if(!ntrial)ntrial=0;if(!deltaBrightness)deltaBrightness=d;if(!dmin)dmin={distance:0,brightness:0};d=Math.abs(d);var dhmax=0.5;var max=10;var thehsv=asHSV(c);var h=thehsv[0];var s=thehsv[1];var v=thehsv[2];var c2=basicBrightenColor(c,deltaBrightness);var d2=this.distance(c,c2);if(d2!=0&&Math.abs(d-d2)>dhmax&&ntrial<max&&(!dmax||dmax.brightness-dmin.brightness>1)){if(d2>d){if(!dmax)dmax={};if(!dmax.distance||dmax.distance>d2){dmax.distance=d2;dmax.brightness=deltaBrightness;}}else if(dmin.distance<d2){dmin.distance=d2;dmin.brightness=deltaBrightness;}
if(!dmax){if(deltaBrightness>0)deltaBrightness+=d;else deltaBrightness-=d;}else deltaBrightness=(dmax.brightness+dmin.brightness)/2;ntrial++;return this.brightenColor(c,d,deltaBrightness,ntrial,dmin,dmax);}else{return asHEX(c2);}};this.distance=function(a,b){return distanceCIEDE2000(asLAB(a),asLAB(b));};this.projectedColor=function(c,wantRichColor,wantDeclined){if(!c)c="#FFFFFF";var rgb=this.richColor(c).c;var declineds=wantDeclined?["l","m","d","p"]:["c"];var max;var projected;for(var i=0;i<this.__colors.length;i++){var color=this.__colors[i];if(!color.qColor)continue;for(var j=0;j<declineds.length;j++){var k=declineds[j];var tmp=(function(a,b){return distanceCIEDE2000(asLAB(a),asLAB(b));})(rgb,color[k]);if(max==undefined||tmp<max){max=tmp;if(wantRichColor){projected=cloneObject(color);projected["selected"]=color[k];projected["selectedid"]=color.id;if(wantDeclined)projected["selectedid"]=color.id+"+"+k;}
else projected=color[k];}}}
return projected;};this.qlub0CSS=function(c1,c2){var saved;if(c1&&c2){saved={c1:this.__c1,c2:this.__c2};this.__c1=c1;this.__c2=c2;}
var jcss=[];jcss.push({selector:".clubcolorc1 , a.clubcolorc1:link , a.clubcolorc1:visited , a.clubcolorc1:hover , a.clubcolorc1:active",style:"color: c1 !important"});jcss.push({selector:".clubcolorc2 , a.clubcolorc2:link , a.clubcolorc2:visited , a.clubcolorc2:hover , a.clubcolorc2:active",style:"color: c2 !important"});jcss.push({selector:".clubbackgroundcolorc1",style:"background-color: c1 !important"});jcss.push({selector:".clubbackgroundcolorc2",style:"background-color: c2 !important"});jcss.push({selector:".clubbordercolorc1",style:"border-color: c1 !important"});jcss.push({selector:".clubbordercolorc2",style:"border-color: c2 !important"});var res=JCSSManager.css(jcss);if(saved){this.__c1=saved.c1;this.__c2=saved.c2;}
return res+"\n";};function getBrightness(c){var rgb=asRGB(c);for(var i=0;i<rgb.length;i++)rgb[i]=rgb[i]/255;return 100*(0.2125*rgb[0]+0.7154*rgb[1]+0.0721*rgb[2]);}
function bwcolor(c){if(c=="transparent")return declinedColor("white","bw");return(getBrightness(c)<50)?"#FFFFFF":"#000000";}
function gbwcolor(c){if(c=="transparent")return declinedColor("white","gbw");return(getBrightness(c)<50)?"#CCCCCC":"#333333";}
function gbw2color(c){if(c=="transparent")return declinedColor("white","gbw2");return(getBrightness(c)<50)?"#999999":"#666666";}
function linkcolor(c){if(c=="transparent")return _this.getColorOnBackground("white","link");return _this.getColorOnBackground(_this.projectedColor(c,true,true).selectedid,"link",true,true)||_this.getColorOnBackground("white","link");}
function rgb2givenlevel(thelevel,c){var a,b;var desat=0.4;thelevel=thelevel/100;var thehsv=asHSV(c);var h=thehsv[0];var s=thehsv[1];var v=thehsv[2];var l=Math.round(thelevel*255);if(s==0)return[l,l,l];var hlevel=getBrightness(hsv2rgb([h,100,100]))/100;if(thelevel<=hlevel){a=thelevel/hlevel;b=0;}else{a=(1-thelevel)/(1-hlevel);b=1-a;}
a=a*(1-desat);b=b*(1-desat)+thelevel*desat;if((a+b)==0)return hsv2rgb([h,0,0]);return hsv2rgb([h,100*a/(a+b),100*(a+b)]);}
function hsv2rgb(hsv){var h=hsv[0];var s=hsv[1];var v=hsv[2];if(h==360)h=0;s/=100;v/=100;var r=null;var g=null;var b=null;if(s==0)r=g=b=v;else{var hTemp=h/60;var i=Math.floor(hTemp);var f=hTemp-i;var p=v*(1-s);var q=v*(1-(s*f));var t=v*(1-(s*(1-f)));switch(i){case 0:r=v;g=t;b=p;break;case 1:r=q;g=v;b=p;break;case 2:r=p;g=v;b=t;break;case 3:r=p;g=q;b=v;break;case 4:r=t;g=p;b=v;break;case 5:r=v;g=p;b=q;break;}}
var base=255;r=Math.round(r*base);g=Math.round(g*base);b=Math.round(b*base);return[r,g,b];}
this.hsv2rgb=hsv2rgb;this.hsv2HEX=function(c){return asHEX(hsv2rgb(c));};function asHSV(c,noRound){var rgb=asRGB(c);var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;var minval=Math.min(r,g,b);var maxval=Math.max(r,g,b);var delta=maxval-minval;var v=maxval;var h,s;if(delta==0)h=s=0;else{s=delta/maxval;var del_r=(((maxval-r)/6)+(delta/2))/delta;var del_g=(((maxval-g)/6)+(delta/2))/delta;var del_b=(((maxval-b)/6)+(delta/2))/delta;if(r==maxval)h=del_b-del_g;else if(g==maxval)h=(1/3)+del_r-del_b;else if(b==maxval)h=(2/3)+del_g-del_r;if(h<0)h=h+1;if(h>1)h=h-1;}
h=Math.max(0,Math.min(360,(noRound)?h*360:Math.round(h*360)));s=Math.max(0,Math.min(100,(noRound)?s*100:Math.round(s*100)));v=Math.max(0,Math.min(100,(noRound)?v*100:Math.round(v*100)));var hsv=[h,s,v];hsv.__type="hsv";return hsv;}
function asHEX(c){if(c=="transparent")return c;var rgb=asRGB(c);var val="#";var hexChars="0123456789ABCDEF";for(var i=0;i<3;i++){var v=Math.max(0,Math.min(255,rgb[i]));val+=hexChars.charAt(Math.floor(v/16))+hexChars.charAt(v%16);}
return val;}
function asRGB(c){if(c=="transparent")return c;if(c=="1")c="c1";if(/^c1/.test(c))c=c.replace(/^c1/,_this["c1"]());if(/^c2/.test(c))c=c.replace(/^c2/,_this["c2"]());if(/^[2-7]$/.test(c))return asRGB(declinedColor("c1",c));if(typeof(c)=="string"&&(/rgb/).test(c)){c=c.replace(/\+.*$/,"");var rgb=c.replace(/rgba?\((.*)\)/,"$1").split(",");if(/%/.test(rgb[0]))var r=Math.round((parseInt(rgb[0],10)/100)*255);else var r=parseInt(rgb[0],10);if(/%/.test(rgb[1]))var g=Math.round((parseInt(rgb[1],10)/100)*255);else var g=parseInt(rgb[1],10);if(/%/.test(rgb[2]))var b=Math.round((parseInt(rgb[2],10)/100)*255);else var b=parseInt(rgb[2],10);}else if(typeof(c)=="string"&&(/#/).test(c)){c=c.replace(/\+.*$/,"");c=c.replace("#","");if(c.length==3)c=c.replace(/(.)(.)(.)/,"$1$1$2$2$3$3");var r=parseInt(c.substring(0,2),16);var g=parseInt(c.substring(2,4),16);var b=parseInt(c.substring(4,6),16);}else if(typeof(c)=="string"){var tmp_c=c.split("+");if(tmp_c[0]=="graydark"){tmp_c[0]="black";if(!tmp_c[1])tmp_c[1]="m";}else if(tmp_c[0]=="graylight"){tmp_c[0]="white";if(!tmp_c[1])tmp_c[1]="m";}
if(__colorsByIDs[tmp_c[0]]){var k=tmp_c[1]||"c";return asRGB(__colorsByIDs[tmp_c[0]][k]||__colorsByIDs[tmp_c[0]].c);}
try{return asRGB($("<div>").css("color",c).css("color"));}catch(err){}
return null;}else{if(c.__type=="hsv")c=hsv2rgb(c);var r=c[0];var g=c[1];var b=c[2];}
return[Math.round(r),Math.round(g),Math.round(b)];}
function asFullColorID(c,modifier){if(/\+/.test(c)){var tmp=c.split("+");return asFullColorID(tmp[0],tmp[1]);}
var id=asColorID(c);var color=_this.get(id);if(id=="graylight")id="white";else if(id=="graydark")id="black";if(!color)return c;if(typeof(modifier)!="undefined"&&modifier){modifier=modifier.replace("ml","l");modifier=modifier.replace("md","d");return id+"+"+modifier;}
if(color.alias)return id+"+"+color.alias;if(color.m)return id+"+m";return id;}
function asColorID(c){if(c=="bw")return "bw";if(c=="bww")return "bww";if(c=="gbw")return "gbw";if(c=="gbw2")return "gbw2";if(c=="link")return "link";if(c=="1")c="c1";if(/^[2-7]$/.test(c))return c;if(c=="c1")c=_this["c1"]();if(c=="c2")c=_this["c2"]();if(__colorsByIDs[c])return c;if(/\+/.test(c))return c.replace(/\+.*/,"");c=asHEX(c);c=c.replace(/#/,"x").toLowerCase();return(__colorsByIDs[c]&&__colorsByIDs[c].id)||c;}
var __colorsByIDs={};function noramlizedColorID(c){return c.replace(/#/,"x").toLowerCase();}
for(var i=0;i<__qColors.length;i++){var color=__qColors[i];var j=this.__colors.length;var o={id:color.id,c:color.c,l:color.l,m:color.m,d:color.d,p:color.p,rgb:asRGB(color.c),qColor:true};if(o.c==o.l)o.alias="l";if(o.c==o.d)o.alias="d";this.__colors.push(o);__colorsByIDs[color.c.replace(/#/,"x").toLowerCase()]=this.__colors[j];__colorsByIDs[color.id]=this.__colors[j];}
for(var i=0;i<__qGrays.length;i++){var color=__qGrays[i];var j=this.__colors.length;this.__colors.push({id:color.id,c:color.c,rgb:asRGB(color.c),qColor:false});var colorid=noramlizedColorID(color.c);if(!__colorsByIDs[colorid])__colorsByIDs[colorid]=this.__colors[j];__colorsByIDs[color.id]=this.__colors[j];}
for(var i=0;i<__qTextGrays.length;i++){var color=__qTextGrays[i];var j=this.__colors.length;this.__colors.push({id:color.id,c:color.c,rgb:asRGB(color.c),qColor:false});var colorid=noramlizedColorID(color.c);if(!__colorsByIDs[colorid])__colorsByIDs[colorid]=this.__colors[j];__colorsByIDs[color.id]=this.__colors[j];}
for(var i=0;i<__qLinks.length;i++){var color=__qLinks[i];var j=this.__colors.length;this.__colors.push({id:color.id,c:color.c,rgb:asRGB(color.c),qColor:false});var colorid=noramlizedColorID(color.c);if(!__colorsByIDs[colorid])__colorsByIDs[colorid]=this.__colors[j];__colorsByIDs[color.id]=this.__colors[j];}
this.setColor=function(anyID,colorValue){if(typeof anyID=="object"){var color=anyID;if(__colorsByIDs[color.c.replace(/#/,"x").toLowerCase()]){var originalcolor=__colorsByIDs[color.c.replace(/#/,"x").toLowerCase()];__colorsByIDs[color.id]=originalcolor;for(var k in color){if(k=="id")continue;originalcolor[k]=color[k];}
return;}
var o={id:color.id,c:color.c,l:color.l,m:color.m,d:color.d,p:color.p,rgb:asRGB(color.c),qColor:true};if(o.c==o.l)o.alias="l";if(o.c==o.d)o.alias="d";this.__colors.push(o);var j=this.__colors.length-1;__colorsByIDs[color.c.replace(/#/,"x").toLowerCase()]=this.__colors[j];__colorsByIDs[color.id]=this.__colors[j];return;}
if(/-/.test(anyID)){function formatColorId(colorid){if(/(\+|^(bw|gbw|gbw2|bww|link)$)/.test(colorid))return colorid;if(colorid=="white")return "white+l";if(colorid=="black")return "black+d";return colorid+"+m";}
var tmp=anyID.split("-");var cBackground=asFullColorID(tmp[1]);var cColor=asFullColorID(tmp[0]);this.__colorsOnBackground[formatColorId(cColor)+"-"+formatColorId(cBackground)]=colorValue;}else{var tmp=anyID.split("+");var c=this.get(tmp[0]);var k=tmp[1]||c.alias||"m";var alias=c.alias||"m";c[k]=colorValue;if(k==alias){c.c=colorValue;c.rgb=asRGB(colorValue);}
if(!__colorsByIDs[colorValue.replace(/#/,"x").toLowerCase()])__colorsByIDs[colorValue.replace(/#/,"x").toLowerCase()]=c;}};this.customizeColors=function(colors){for(var k in quomodoColors.__colorsOnBackground){var tmp=k.split("-");var c=tmp[0];if(c==tmp[1])continue;if(colors[c]){delete quomodoColors.__colorsOnBackground[k];}else{if(/\+m$/.test(c)){c=c.replace(/\+m$/,"");if(colors[c])delete quomodoColors.__colorsOnBackground[k];}else if(!/\+/.test(c)){c=c+"+m";if(colors[c])delete quomodoColors.__colorsOnBackground[k];}}}
for(var k in colors){this.setColor(k,colors[k]);}};this.getRedefined=function(cBackground,cColor,res){var reBackground=new RegExp(cBackground);var reColor=new RegExp(cColor);res=res||{};for(var k in quomodoColors.__colorsOnBackground){var tmp=k.split("+");if(reBackground.test(tmp[1])&&reColor.test(tmp[0])){if(!res[k])res[k]=quomodoColors.__colorsOnBackground[k];}}
if(cBackground=="graydark")this.getRedefined("black",cColor,res);if(cBackground=="graylight")this.getRedefined("white",cColor,res);if(cColor=="graydark")this.getRedefined(cBackground,"black",res);if(cColor=="graylight")this.getRedefined(cBackground,"white",res);return JSON.stringify(res,null,"\t");};})();var colors_name={"auto":"automatique","c1":"couleur principale","c1+l":"couleur principale éclaircie","c1+d":"couleur principale assombrie","c2":"couleur secondaire","c2+l":"couleur secondaire éclaircie","c2+d":"couleur secondaire assombrie","white":"blanc","black":"noir","green":"vert émeraude","darkgreen":"vert bouteille","darkblue":"bleu marine","cyan":"bleu azur","flatblue":"bleu roi","purple":"indigo","darkpurple":"prune","magenta":"fuchsia","red":"rouge","darkred":"bordeaux","yellow":"jaune","orange":"orange","gold":"or","graylight":"argent","graymedian":"gris","graydark":"anthracite","+d":"%s assombri","+l":"%s éclairci","+p":"%s pastel","white+m":"argent","white+l":"blanc","white+d":"argent assombri","white+p":"argent pastel","black+m":"anthracite","black+l":"anthracite éclairci","black+d":"noir","black+p":"anthracite pastel","graylight+l":"blanc","graydark+d":"noir","bw":"blanc/noir auto","gbw":"gris auto","gbw2":"gris clair auto"};var quomodoFonts=new(function(){var _this=this;var _brief={};this._criteriaID=0;var _defs={"serif:1":"serif","serif:-1":"sans-serif","round:1":"rond","round:-1":"carré","bold:1":"gras","bold:0":"bold0","bold:-1":"fin","spacing:1":"large","spacing:0":"spacing0","spacing:-1":"condensé"};var fontKeywords=["serif:1","serif:-1","round:1","round:-1","bold:-1","bold:0","bold:1","spacing:-1","spacing:0","spacing:1"];function getKeywords(translated){if(!translated)return fontKeywords.concat(keywords_list("fonts"));var tmp=[];for(var i=0;i<fontKeywords.length;i++)tmp.push(_defs[fontKeywords[i]]);return tmp.concat(keywords_list("fonts"));};var _fonts=[{"id":"0","t-kw":["sans-serif","carré","classique"],"p-nl":false,"btn-nl":false,"name":"Arial","css":"Arial, Helvetica, sans-serif","legible":true,"pop":0,"wref":667},{"id":"1","t-kw":["serif","carré","classique"],"p-nl":false,"btn-nl":false,"name":"Times New Roman","css":"'Times New Roman', Times, serif","legible":true,"pop":0,"wref":734},{"id":"2","t-kw":["serif","rond","calligraphie","fantaisie"],"up-nl":true,"p-nl":true,"btn-nl":true,"name":"Zapf-Chancery","css":"Zapf-Chancery, 'Segoe Script', cursive","legible":false,"pop":0,"wref":869},{"id":"3","t-kw":["serif","fin","carré","large","typewriter"],"p-nl":true,"btn-nl":false,"name":"Courier New","css":"'Courier New', monospace","legible":true,"pop":0,"wref":721},{"id":"4","t-kw":["sans-serif","carré","classique"],"p-nl":false,"btn-nl":false,"name":"Verdana","css":"Verdana, Geneva, sans-serif","legible":true,"pop":0,"wref":759},{"id":"5","t-kw":["sans-serif","carré","classique"],"p-nl":false,"btn-nl":false,"name":"Lucida Sans","css":"'Lucida Sans', 'Lucida Grande', sans-serif","legible":true,"pop":0,"wref":690},{"id":"6","t-kw":["sans-serif","gras","condensé","carré"],"p-nl":true,"btn-nl":true,"name":"Impact","css":"Impact, Charcoal, sans-serif","legible":false,"pop":0,"wref":603},{"id":"7","t-kw":["serif","carré"],"p-nl":false,"btn-nl":false,"name":"Palatino Linotype","css":"'Palatino Linotype', 'Book Antiqua', Palatino, serif","legible":true,"pop":0,"wref":770},{"id":"8","t-kw":["serif","carré","classique"],"p-nl":false,"btn-nl":false,"name":"Georgia","css":"Georgia, serif","legible":true,"pop":0,"wref":791},{"id":"9","t-kw":["sans-serif","gras","large","carré"],"p-nl":true,"btn-nl":false,"name":"Arial Black","css":"'Arial Black', Gadget, sans-serif","legible":false,"pop":0,"wref":800},{"id":"10","t-kw":["sans-serif","large","rond"],"p-nl":false,"btn-nl":false,"name":"Century Gothic","css":"'Century Gothic', sans-serif","legible":true,"pop":0,"wref":688},{"id":"11","t-kw":["sans-serif","carré","classique"],"p-nl":false,"btn-nl":false,"name":"Trebuchet MS","css":"'Trebuchet MS', Helvetica, sans-serif","legible":true,"pop":0,"wref":593},{"id":"12","t-kw":["sans-serif","carré","classique"],"p-nl":false,"btn-nl":false,"name":"Tahoma","css":"Tahoma, Geneva, sans-serif","legible":true,"pop":0,"wref":687},{"id":"q-i","name":"q-i","css":"q-i","url":"/style/fonts/q-i.css","wref":667},{"id":"q-sn","name":"q-sn","css":"q-sn","url":"/style/fonts/q-sn.css","wref":362},{"id":"q-sn-emotion","name":"q-sn-emotion","css":"q-sn-emotion","url":"/style/fonts/q-sn-emotion.css","wref":667},{"id":"q-sn-event","name":"q-sn-event","css":"q-sn-event","url":"/style/fonts/q-sn-event.css","wref":667},{"id":"q-sn-multimedia","name":"q-sn-multimedia","css":"q-sn-multimedia","url":"/style/fonts/q-sn-multimedia.css","wref":667},{"id":"q-sn-nature","name":"q-sn-nature","css":"q-sn-nature","url":"/style/fonts/q-sn-nature.css","wref":667},{"id":"q-sn-nonsport","name":"q-sn-nonsport","css":"q-sn-nonsport","url":"/style/fonts/q-sn-nonsport.css","wref":667},{"id":"q-sn-notification","name":"q-sn-notification","css":"q-sn-notification","url":"/style/fonts/q-sn-notification.css","wref":667},{"id":"q-sn-office","name":"q-sn-office","css":"q-sn-office","url":"/style/fonts/q-sn-office.css","wref":667},{"id":"q-sn-social","name":"q-sn-social","css":"q-sn-social","url":"/style/fonts/q-sn-social.css","wref":667},{"id":"q-sn-sport","name":"q-sn-sport","css":"q-sn-sport","url":"/style/fonts/q-sn-sport.css","wref":667},{"id":"q-sn-substitution","name":"q-sn-substitution","css":"q-sn-substitution","url":"/style/fonts/q-sn-substitution.css","wref":667},{"id":"q-sn-way","name":"q-sn-way","css":"q-sn-way","url":"/style/fonts/q-sn-way.css","wref":667},{"id":"q-sn-web","name":"q-sn-web","css":"q-sn-web","url":"/style/fonts/q-sn-web.css","wref":667}];var _fontsByID;function normalizedID(id){return id.toLowerCase().replace(/\?.*/,"").replace(/ /g,"-");}
this.normalizedID=function(id){return normalizedID(id);};function addscript(v){var s=document.createElement("link");s.setAttribute("type","text/css");s.setAttribute("rel","stylesheet");s.setAttribute("href",v.url.replace(/^http:\/\//,"https://"));if(window.q_pagemode&&q_pagemode()=="makeweb")s.setAttribute("makeweb","1");document.getElementsByTagName("head")[0].appendChild(s);return s;}
function quomodofonts_getFontsByAmbiance(look,p,sortKey){var fonts=[];for(var i=0;i<10;i++){var font=quomodofonts.__fonts[i];}
return fonts;}
function _spacexml(){var _window={};var _parent={};try{_window=window;_parent=parent;}catch(err){}
return _window.spacexml||_parent.spacexml;}
var o=_spacexml();this.__f1=(o&&o.theme&&o.theme.f1);this.__f2=(o&&o.theme&&o.theme.f2);function IDFromDefaultfont(defaultfont){var tmp=[[0,"Arial, Helvetica, sans-serif"],[1,"'Times New Roman', Times, serif"],[3,"'Courier New', monospace"],[2,"Zapf-Chancery, 'Segoe Script', cursive"],[5,"'Lucida Sans', 'Lucida Grande', sans-serif"],[4,"Verdana, Geneva, sans-serif"],[7,"'Palatino Linotype', 'Book Antiqua', Palatino, serif"],[8,"Georgia, serif"],[9,"'Arial Black', Gadget, sans-serif"],[10,"'Century Gothic', sans-serif"],[11,"'Trebuchet MS', Helvetica, sans-serif"],[6,"Impact, Charcoal, sans-serif"],[12,"Tahoma, Geneva, sans-serif"]];for(var i=0;i<tmp.length;i++){if(tmp[i][1]==defaultfont)return f=""+tmp[i][0];}
return "0";}
this.f1=function(){if(this.__f1)return this.__f1;var o=_spacexml();if(o&&o.theme){var f=o.theme.f1;if(!f&&o.theme.defaultfont)f=IDFromDefaultfont(o.theme.defaultfont);}
if(f)this.__f1=f;return f||"0";};this.f2=function(){if(this.__f2)return this.__f2;var o=_spacexml();var f=(o&&o.theme&&o.theme.f2);if(f)this.__f2=f;return f||this.f1();};function indexFonts(){_fontsByID={};for(var i=0;i<_fonts.length;i++){var id=_fonts[i].id;_fontsByID[id]=i;}}
extendFontsPrepared=false;function extendFonts(){if(extendFontsPrepared)return;try{var extended=quomodoFontsExtended;_fonts=_fonts.concat(extended._fonts);_brief=extended.brief;extendFontsPrepared=true;indexFonts();}catch(err){}}
this.customizeFonts=function(customFonts){if(!_fontsByID)indexFonts();for(var i=0;i<customFonts.length;i++){var font=customFonts[i];font.id=normalizedID(font.id);if(!font.icons)font["t-kw"]="custom";var index=_fontsByID[font.id]
if(index==undefined){this.addFont(font);}else{_fonts[index]=font;}}};this.all=function(keywords,withHidden){extendFonts();if(!keywords){if(withHidden)return _fonts;var fonts=[];var canCloneObject=false;try{cloneObject({a:1});canCloneObject=true;}catch(err){}
for(var j=0;j<_fonts.length;j++){var font=_fonts[j];if(font.hidden&&!withHidden)continue;if(canCloneObject){fonts.push(cloneObject(font));}else{fonts.push(font);}}
return fonts;}
keywords=getKeywords(true);var fonts=[];for(var j=0;j<_fonts.length;j++){var font=_fonts[j];if(font.hidden&&!withHidden)continue;if(!font["t-kw"])continue;var fontParams=font["params"];if(!fontParams){fontParams=[].concat(font["t-kw"]);if($.inArray("gras",fontParams)==-1&&$.inArray("fin",fontParams)==-1)fontParams.push("bold0");if($.inArray("large",fontParams)==-1&&$.inArray("condensé",fontParams)==-1)fontParams.push("spacing0");for(var i=fontParams.length-1;i>-1;i--)if($.inArray(fontParams[i],keywords)==-1)fontParams.splice(i,1);font["params"]=fontParams;}
fonts.push(cloneObject(font));}
return fonts;};this.AllSort=function(withoutHidden){var fonts=this.all(true,!withoutHidden);return(window.arraySortByText||parent.arraySortByText)(fonts,"name");};this.FDASort=function(fda,verbose){var keywords=getKeywords();var attributes=this.attributes();function translateCriteria(x){function criteriaToFont(criteria,normalized){var oFont={};for(var i=0;i<keywords.length;i++){oFont[keywords[i]]=0;}
var tmp=attributes[criteria];for(var k in tmp){if(typeof tmp[k]=="object"){var p=tmp[k].p||0;var key=k+":"+tmp[k].v;}else{var p=tmp[k];var key=k;}
if(p==-1)oFont[key]=-1;else if(p>0)oFont[key]=p;}
return oFont;}
var o={};for(var i=0;i<keywords.length;i++){o[keywords[i]]=0;}
var excludeds=[];var n=x.length;for(var i=0;i<n;i++){var tmp=criteriaToFont(x[i]);for(var k in tmp){var p=tmp[k];if(p==-1){o[k]=-1;var kk=_defs[k]||k;if($.inArray(kk,excludeds)==-1)excludeds.push(kk);}else if(o[k]!=-1)o[k]+=p/n;}}
var maxFont=0;var maxOther=0;for(var k in o){if($.inArray(k,fontKeywords)==-1)maxOther=Math.max(maxOther,o[k]);else maxFont=Math.max(maxFont,o[k]);}
var translated=[];for(var k in o){if($.inArray(k,fontKeywords)==-1){if(maxOther>0&&(o[k]>0))translated.push((_defs[k]||k)+":"+Math.round(100*o[k]/maxOther));}else{if(maxFont>0&&(o[k]>0))translated.push((_defs[k]||k)+":"+Math.round(100*o[k]/maxFont));}}
return{"params":translated,"maxFont":maxFont,"maxOther":maxOther,"excludeds":excludeds};}
function specialProd(x0,y0,mode,coeff,excludeds){var ks=["serif","sans-serif","rond","carré","gras","bold0","fin","large","spacing0","condensé"];if(mode==true){var p=specialProd(x0,y0,"font")+(coeff||1)*specialProd(x0,y0,"other");for(var i=0;i<y0.length;i++){if($.inArray(y0[i],excludeds)!=-1)p-=2;}
return p;}
var xx=[],yy=[],x=[],y=[];for(var i=0;i<x0.length;i++){var k=x0[i].split(":")[0];if(mode=="font"){if($.inArray(k,ks)!=-1){x.push(x0[i]);xx.push(k);}}else if(mode=="other"){if($.inArray(k,ks)==-1){x.push(x0[i]);xx.push(k);}}else{x.push(x0[i]);xx.push(k);}}
for(var i=0;i<y0.length;i++){var k=y0[i].split(":")[0];if(mode=="font"){if($.inArray(k,ks)!=-1){y.push(y0[i]);yy.push(k);}}else if(mode=="other"){if($.inArray(k,ks)==-1){y.push(y0[i]);yy.push(k);}}else{y.push(y0[i]);yy.push(k);}}
function oneProd(a,aa,b,bb){var p=0;var n=a.length;for(var i=0;i<n;i++){var j=$.inArray(aa[i],bb);if(j!=-1){var va=(a[i].split(":")[1]||100)/100;var vb=(b[j].split(":")[1]||100)/100;p+=(1-Math.abs(va-vb))/n;}}
return p;}
return oneProd(x,xx,y,yy)+oneProd(y,yy,x,xx);}
var fonts=this.all(true);var x=translateCriteria(fda);var v=x["params"];var coeff=Math.min(1,x["maxFont"]==0?1:x["maxOther"]/x["maxFont"]);var excludeds=x["excludeds"];var _criteriaID=this._criteriaID;fonts.sort(function(a,b){function criteria(x){if(x._criteriaID==_criteriaID&&x._criteria!=undefined)return x._criteria;if(!x["params"]){x["params"]=[].concat(x["t-kw"]);if($.inArray("gras",x["params"])==-1&&$.inArray("fin",x["params"])==-1)x["params"].push("bold0");if($.inArray("large",x["params"])==-1&&$.inArray("condensé",x["params"])==-1)x["params"].push("spacing0");}
x._criteria=specialProd(v,x["params"],true,coeff,excludeds);x._criteriaID=_criteriaID;return x._criteria;}
var va=criteria(a);var vb=criteria(b);if(va<vb)return 1;else if(va>vb)return-1;return 0;});this._criteriaID++;return(verbose)?{"params":v,"fonts":fonts}:fonts;};this.attributes=function(){return _brief;};this.addFont=function(font){var tmp=this.get(font.id);if(tmp.id==font.id)return;_fonts.push(font);_fontsByID[font.id]=_fonts.length-1;};this.get=function(val){if(!val||typeof val!="string")return null;if(val=="-1")val="f1";extendFonts();if(val=="f1")val=this.f1();if(val=="f2")val=this.f2();var id=normalizedID(val);var index=_fontsByID[id];if(index!=undefined)return _fonts[index];if(/^f\d+$/.test(val)){if(this["__"+val]){index=_fontsByID[this["__"+val]];if(index!=undefined)return _fonts[index];}}
var o=_spacexml();if(o&&/^f\d+$/.test(val)){if(o.skeleton&&o.skeleton[val]){index=_fontsByID[o.skeleton[val]];if(index!=undefined)return _fonts[index];}}
if(o&&o.fonts&&o.fonts.f1&&o.fonts.f1.id==id)return o.fonts.f1;if(o&&o.fonts&&o.fonts.f2&&o.fonts.f2.id==id)return o.fonts.f2;return{css:val,name:val.split(",")[0].replace(/'/g,"")};};this.load=function(id){var v=this.get(id);if(!v)return;id=normalizedID(id);if(v.style){var linkID="__quomodofontstyle-"+id;if(!document.getElementById(linkID)){$("head").append('<style id="'+linkID+'">\n<!--\n'+v.style+'\n-->\n</style>');}}
if(v.url){var linkID="__quomodofonts-"+id;if(!document.getElementById(linkID)){var s=addscript(v);s.id=linkID;}}};this.richFont=function(id){var f=this.get(id);var re=new RegExp("clubfontfamily[^ ]* *","g");if(id=="f1"||id=="f2")return{"style":"","class":"clubfontfamily"+id,"css":f.css,"re":re};return{"style":f.css,"class":"","css":f.css,"re":re};};this.setTheme=function(theme){for(var i=1;;i++){var k="f"+i;if(theme[k])this["__"+k]=theme[k];else{if(k=="f1"){if(theme.defaultfont)this.__f1=IDFromDefaultfont(theme.defaultfont);}else{break;}}}
if(theme.fonts)this.__customFonts=theme.fonts;};this.qlub0CSS=function(f1,f2){var saved;if(f1&&f2){saved={f1:this.__f1,f2:this.__f2};this.__f1=f1;this.__f2=f2;}
var jcss=[];jcss.push({selector:".clubfontfamilyf1",style:"font-family: f1"});jcss.push({selector:".clubfontfamilyf2",style:"font-family: f2"});var res=JCSSManager.css(jcss);if(saved){this.__f1=saved.f1;this.__f2=saved.f2;}
if(this.__customFonts){res=[res];for(var i=0;i<this.__customFonts.length;i++){if(this.__customFonts[i].style)res.push(this.__customFonts[i].style);}
res=res.join("\n");}
return res+"\n";};this._waitFont={};this.measureFont=function(cssFont,callback){function measureFont(cssFont,n){var tmp=$(quomodoFonts.measureFontHTML(cssFont)).appendTo("body");var w1=$("#__checkfont-arial").get(0).offsetWidth;var w2=$("#__checkfont-arial-ref").get(0).offsetWidth;var w3=$("#__checkfont-times").get(0).offsetWidth;var w4=$("#__checkfont-times-ref").get(0).offsetWidth;tmp.remove();if((w1!=w2)||(w3!=w4)){return callback(w1);}
if(n==0)return callback(null);n--;setTimeout(function(){measureFont(cssFont,n);},200);}
measureFont(cssFont,10);};this.measureFontHTML=function(cssFont){return '<div style="font-size: 100px ; position: absolute ; top: 400px ; left: 400px"><span id="__checkfont-arial" style="font-family: '+cssFont+', Arial ; font-size: 100px">MIMIMIMIMIMI</span><br/><span id="__checkfont-arial-ref" style="font-family: Arial ; font-size: 100px">MIMIMIMIMIMI</span><br/><span id="__checkfont-times" style="font-family: '+cssFont+', Times ; font-size: 100px">MIMIMIMIMIMI</span><br/><span id="__checkfont-times-ref" style="font-family: Times ; font-size: 100px">MIMIMIMIMIMI</span></div>';};this.waitFont=function(fontId,callback){if(!this._waitFont[fontId])this._waitFont[fontId]={};if(this._waitFont[fontId].status=="loaded")return callback();if(this._waitFont[fontId].status=="loading"){this._waitFont[fontId].callbacks.push(callback);return;}
this._waitFont[fontId].callbacks=[callback];this._waitFont[fontId].status="loading";var _thisFont=this._waitFont[fontId];try{var cssFont;if(fontId=="q-sn")cssFont="q-sn";else{var font=this.get(fontId);cssFont=font.css;wref=font.wref;}}catch(err){if((typeof err)=="object")throw $.extend({},err,{message:"in quomodoFonts.waitFont fontId="+fontId+" :\r"+err.message});throw{message:"in quomodoFonts.waitFont fontId="+fontId+" :\r"};}
function checkOneFont(cssFont,n){var tmp=$(quomodoFonts.measureFontHTML(cssFont)).appendTo("body");var w1=$("#__checkfont-arial").get(0).offsetWidth;var w2=$("#__checkfont-arial-ref").get(0).offsetWidth;var w3=$("#__checkfont-times").get(0).offsetWidth;var w4=$("#__checkfont-times-ref").get(0).offsetWidth;tmp.remove();function checkWRef(w){if(wref==undefined)return true;return Math.abs(1-w/wref)<0.1;}
if((checkWRef(w1)&&w1!=w2)||(checkWRef(w3)&&w3!=w4)||n==0){_thisFont.status="loaded";for(var i=0;i<_thisFont.callbacks.length;i++){_thisFont.callbacks[i]();}}else{n--;setTimeout(function(){checkOneFont(cssFont,n);},200);}}
function checkQFont(cssFont,n){var c="";var tmp=$('<div style="font-size: 100px ; position: absolute ; top: 400px ; left: 400px"><span id="__checkfont-arial" style="font-family: '+cssFont+', Arial ; font-size: 100px">'+c+'</span><br/><span id="__checkfont-arial-ref" style="font-family: Arial ; font-size: 100px">'+c+'</span><br/><span id="__checkfont-times" style="font-family: '+cssFont+', Times ; font-size: 100px">'+c+'</span><br/><span id="__checkfont-times-ref" style="font-family: Times ; font-size: 100px">'+c+'</span></div>').appendTo("body");var w1=$("#__checkfont-arial").get(0).offsetWidth;var w2=$("#__checkfont-arial-ref").get(0).offsetWidth;var w3=$("#__checkfont-times").get(0).offsetWidth;var w4=$("#__checkfont-times-ref").get(0).offsetWidth;tmp.remove();if(w1!=w2||w3!=w4||n==0){_thisFont.status="loaded";for(var i=0;i<_thisFont.callbacks.length;i++){_thisFont.callbacks[i]();}}else{n--;setTimeout(function(){checkQFont(cssFont,n);},200);}}
if(fontId=="q-sn")checkQFont(cssFont,20);else checkOneFont(cssFont,20);};this._waitSpaceFonts={};this.waitSpaceFonts=function(callback){if(this._waitSpaceFonts.status=="loaded")return callback();if(this._waitSpaceFonts.status=="loading"){this._waitSpaceFonts.callbacks.push(callback);return;}
this._waitSpaceFonts.callbacks=[callback];this._waitSpaceFonts.status="loading";var _thisWait=this._waitSpaceFonts;function fontLoaded(fontId){_thisWait[fontId]=true;if(_thisWait["f1"]&&_thisWait["f2"]){_thisWait.status="loaded";for(;_thisWait.callbacks[0];){_thisWait.callbacks[0]();_thisWait.callbacks.splice(0,1);}}}
try{this.waitFont(this.get("f1").id,function(){fontLoaded("f1");});}catch(err){var o=_spacexml();if((typeof err)=="object")throw $.extend({},err,{message:"in quomodoFonts.waitSpaceFonts for f1, get = "+q_tostring(this.get("f1"))+" - this.__f1 = "+this.__f1+" - spacexml.theme.f1 = "+(o&&o.theme&&o.theme.f1)+" - spacexml.fonts = "+q_tostring(o&&o.fonts)+" - q_logouturl = "+(window.q_logouturl||"undefined")+" :\r"+err.message});throw{message:"in quomodoFonts.waitSpaceFonts for f1, get = "+q_tostring(this.get("f1"))+" - this.__f1 = "+this.__f1+" - spacexml.theme.f1 = "+(o&&o.theme&&o.theme.f1)+" - spacexml.fonts = "+q_tostring(o&&o.fonts)+" - q_logouturl = "+(window.q_logouturl||"undefined")+" :\r"};}
try{this.waitFont(this.get("f2").id,function(){fontLoaded("f2");});}catch(err){var o=_spacexml();if((typeof err)=="object")throw $.extend({},err,{message:"in quomodoFonts.waitSpaceFonts for f2, get = "+q_tostring(this.get("f2"))+" - this.__f2 = "+this.__f2+" - spacexml.theme.f2 = "+(o&&o.theme&&o.theme.f2)+" - spacexml.fonts = "+q_tostring(o&&o.fonts)+" - q_logouturl = "+(window.q_logouturl||"undefined")+" :\r"+err.message});throw{message:"in quomodoFonts.waitSpaceFonts for f2, get = "+q_tostring(this.get("f2"))+" - this.__f2 = "+this.__f2+" - spacexml.theme.f2 = "+(o&&o.theme&&o.theme.f2)+" - spacexml.fonts = "+q_tostring(o&&o.fonts)+" - q_logouturl = "+(window.q_logouturl||"undefined")+" :\r"};}};extendFonts();indexFonts();});function quomodofonts_getFontById(val){return quomodoFonts.get(val);}
function quomodofonts_loadWebfontById(id){quomodoFonts.load(id);}
function quomodofonts_getFontsByAmbiance(look,p,sortKey){var fonts=[];var allfonts=quomodoFonts.all();for(var i=0;i<10;i++){fonts.push(allfonts[i]);}
return fonts;}
var JCSSManager=new(function(){var _this=this;this.classDisabled=false;this.debug=false;this.wantColors=false;this.colors={};this.c1="";this.c2="";this.parse=function(inlineStyle){var styles=inlineStyle.replace(/\n|\r/g,"").split(";");var json={};for(var i=0;i<styles.length;i++){var style=styles[i];var tmp=style.split(":");if(!tmp[1])continue;var styleProperty=tmp[0].replace(/^ +/,"").replace(/ +$/,"");tmp.splice(0,1);var styleValue=tmp.join(":").replace(/^ +/,"").replace(/ +$/,"");json[styleProperty]=styleValue;}
return json;};this.stringify=function(json){var styles=[];for(var k in json)styles.push(k+":"+json[k]);return styles.join(";");};this.apply=function(elem,inlineStyle){var $elem;if(elem.tagName)$elem=$(elem);else $elem=elem;var _json=inlineStyle;if(typeof _json!="object")_json=this.parse(inlineStyle);if($.isEmptyObject(_json))return;$elem.each(function(){var json=$.extend({},_json);json=applyColorCSS(json,this);json=applyFontCSS(json,this);$(this).css(json);});};this.applyJCSS=function(elem,jcss,json){var $elem;if(elem.tagName)$elem=$(elem);else $elem=elem;var tmp=[];for(var i=0;i<jcss.length;i++){var res=getCSS(jcss[i],json,null,true);if(!res.splice)res=[res];for(var j=0;j<res.length;j++){if(res[j].selector==undefined)continue;if(res[j].selector=="")this.apply($elem,res[j].style);else this.apply($elem.find(res[j].selector),res[j].style);if(res[j].inline){$elem.find(res[j].selector).each(function(){res[j].inline(this);});}}}};this.css=function(jcss,json,prefixSelector,coloronly){if(!jcss.splice)jcss=[jcss];var tmp=[];for(var i=0;i<jcss.length;i++){var res=getCSS(jcss[i],json,prefixSelector,false,coloronly);if(res!=null)tmp.push(res);}
return tmp.join("\n");};this.prefix=function(jcss,jcssPrefix){if(!jcss)return[];if(jcss.splice){var res=[];for(var i=0;i<jcss.length;i++)res.push(this.prefix(jcss[i],jcssPrefix));return res;}
jcss=cloneObject(jcss);jcss.prefix=getSelector(jcss.prefix,jcssPrefix);return jcss;};this.extend=function(jcss1,jcss2){if(!jcss1)jcss1=[];if(!jcss2)jcss2=[];if(!jcss1.splice)jcss1=[jcss1];if(!jcss2.splice)jcss2=[jcss2];return jcss1.concat(jcss2);};function getSelector(prefixSelector,selector,jcssPrefix,responsivePrefix){if(jcssPrefix)return getSelector(prefixSelector,getSelector(jcssPrefix,selector),null,responsivePrefix);if(prefixSelector&&typeof prefixSelector=="object"){var tmp=[];for(var i=0;i<prefixSelector.length;i++)tmp.push(getSelector(prefixSelector[i],selector,null,responsivePrefix));return tmp.join(", ");}
var tmp=selector.split(",");var css=[];for(var i=0;i<tmp.length;i++){var s=tmp[i].replace(/^ */,"");if(prefixSelector){if(/^self/.test(s))css.push((responsivePrefix?(responsivePrefix+" "):"")+prefixSelector+s.replace("self",""));else if(s)css.push((responsivePrefix?(responsivePrefix+" "):"")+prefixSelector+" "+s);}else{if(s=="self")css.push((responsivePrefix?(responsivePrefix+" "):"")+"");else if(s)css.push((responsivePrefix?(responsivePrefix+" "):"")+s);}}
return css.join(", ");}
function getCSS(jcssDef,json,prefixSelector,inline,coloronly){if(_this.debug)console.log("getCSS","jcssDef.selector",jcssDef.selector,"jcssDef.style",jcssDef.style,"jcssDef.prefix",jcssDef.prefix,json,prefixSelector,inline);if(typeof jcssDef=="function"){jcssDef=jcssDef();}
var inlineStyle;if(typeof jcssDef.selector=="function"){var jcss=jcssDef.selector(json,inline);var prefix=jcssDef.prefix;var media=jcssDef.media
if(!jcss.splice)jcss=[jcss];var tmp=[];var res;for(var i=0;i<jcss.length;i++){var tmpjcss=jcss[i];if(prefix)tmpjcss.prefix=prefix;if(media)tmpjcss.media=media;if(coloronly&&media)res=null;else res=getCSS(tmpjcss,json,prefixSelector,inline,coloronly);if(res!=null)tmp.push(res);}
if(inline)return tmp;return tmp.join("\n");}
if(typeof jcssDef.style=="function")inlineStyle=jcssDef.style(json,inline);else inlineStyle=jcssDef.style;if(!inlineStyle){if(inline)return{};return null;}
var o=_this.parse(inlineStyle);if(!inline){if(coloronly){if(jcssDef.media)o="";else o=applyColorCSS(o,false,coloronly);}else{o=applyColorCSS(o);o=applyFontCSS(o);}}
if(inline&&!jcssDef.media)return{selector:getSelector(prefixSelector,jcssDef.selector,jcssDef.prefix),style:_this.stringify(o),"inline":jcssDef.inline};if(!_this.stringify(o))return null;var lgResponsive=(spacexml&&spacexml.skeleton&&spacexml.skeleton.lgresponsive);if(jcssDef.media&&jcssDef.media=="sm"){return("@media screen and ( min-width : 768px ) and ( max-width:1007px ) { "+getSelector(prefixSelector,jcssDef.selector,jcssDef.prefix,".viewmode.responsive")+" { "+_this.stringify(o)+" } }").replace(/\.viewmode\.responsive body/g,"body.viewmode.responsive");}else if(jcssDef.media&&jcssDef.media=="xs"){return("@media screen and ( max-width:767px ) { "+getSelector(prefixSelector,jcssDef.selector,jcssDef.prefix,".viewmode.responsive")+" { "+_this.stringify(o)+" } }").replace(/\.viewmode\.responsive body/g,"body.viewmode.responsive");}else if(jcssDef.media&&jcssDef.media=="!xs"){return("@media screen and ( min-width:768px ) { "+getSelector(prefixSelector,jcssDef.selector,jcssDef.prefix,".viewmode.responsive")+" { "+_this.stringify(o)+" } }").replace(/\.viewmode\.responsive body/g,"body.viewmode.responsive");}else if(jcssDef.media&&jcssDef.media=="!md"){return("@media screen and ( max-width:1007px ) { "+getSelector(prefixSelector,jcssDef.selector,jcssDef.prefix,".viewmode.responsive")+" { "+_this.stringify(o)+" } }").replace(/\.viewmode\.responsive body/g,"body.viewmode.responsive");}else if(jcssDef.media&&jcssDef.media=="md"){return("@media screen and ( min-width:1008px ) "+(lgResponsive?"and ( max-width:1199px ) ":"")+"{ "+getSelector(prefixSelector,jcssDef.selector,jcssDef.prefix,".viewmode.responsive")+" { "+_this.stringify(o)+" } }").replace(/\.viewmode\.responsive body/g,"body.viewmode.responsive");}else if(jcssDef.media&&jcssDef.media=="md+"){return("@media screen and ( min-width:1008px ) { "+getSelector(prefixSelector,jcssDef.selector,jcssDef.prefix,".viewmode.responsive")+" { "+_this.stringify(o)+" } }").replace(/\.viewmode\.responsive body/g,"body.viewmode.responsive");}else if(jcssDef.media&&jcssDef.media=="lg"){return("@media screen and ( min-width:1200px ) { "+getSelector(prefixSelector,jcssDef.selector,jcssDef.prefix,".viewmode.responsive")+" { "+_this.stringify(o)+" } }").replace(/\.viewmode\.responsive body/g,"body.viewmode.responsive");}else return getSelector(prefixSelector,jcssDef.selector,jcssDef.prefix)+" { "+_this.stringify(o)+" }";}
function applyColorCSS(json,elem,coloronly){var colorProperties=["color","background-color","border-color","border-top-color","border-bottom-color","border-left-color","border-right-color","text-shadow","background","box-shadow"];function getRichColor(c,style){var richColor=quomodoColors.richColor(c,style);if(_this.wantColors){if(!/@/.test(c)){var tmp=c.split("-");if(tmp.length==2){var k=c.replace(/c1/g,_this.c1).replace(/c2/g,_this.c2);_this.colors[k]=richColor.c;}}}
return richColor;}
for(var i=0;i<colorProperties.length;i++){var k=colorProperties[i];if(!json[k])continue;var isimportant=/!important/.test(json[k]);json[k]=json[k].replace(/\s?!important/g,"");var reg_rgb=new RegExp("rgba?\\(([^)]+)\\)","g");json[k]=json[k].replace("jcssbgimg",(_this.jcssbgimg||"black"));json[k]=json[k].replace("jcssbg",(_this.jcssbg||"black"));json[k]=json[k].replace(reg_rgb,function(){var s="";if(/rgba/.test(arguments[0])){var rgb=arguments[0].replace(/rgba\((.*)\)/,"$1").split(",");s="@alpha"+rgb[3].replace(" ","");}
return quomodoColors.asHEX(arguments[0])+s;});if(_this.debug)console.log("getCSS colorProperty for",k,json[k]);if(k=="background"){if(/.+gradient.+/.test(json[k])){var reg_gradient=/,\s*([^\s]+)/g;json[k]=json[k].replace(reg_gradient,function(){return ", "+getRichColor(arguments[1],k).c;});continue;}
else if(json[k]=="none")continue;}
if(k=="text-shadow"||k=="box-shadow"){if(json[k]!="none"){var reg_shadow=/([^\s]+)\s*$/g;var tmp=json[k].split(",");var css=[];for(var j=0;j<tmp.length;j++){css.push(tmp[j].replace(reg_shadow,function(){return getRichColor(arguments[1],k).c;}));}
json[k]=css.join(", ");}
continue;}
var cc=getRichColor(json[k],k);if(_this.debug)console.log("getCSS colorProperty = ",cc.c,cc,"_this.classDisabled",_this.classDisabled);if(!elem||_this.classDisabled)json[k]=cc.c+(isimportant?" !important":"");else{elem.className=elem.className.replace(cc.re,"")+((cc["class"]!="")?" "+cc["class"]:"");json[k]=cc.style;}}
if(coloronly){var json2={};for(var i=0;i<colorProperties.length;i++){var k=colorProperties[i];if(!json[k])continue;json2[k]=json[k];}
return json2;}
return json;}
function applyFontCSS(json,elem){if(json["font-family"]){var f=quomodoFonts.richFont(json["font-family"]);if(!elem||_this.classDisabled)json["font-family"]=f.css;else{elem.className=elem.className.replace(f.re,"")+((f["class"]!="")?" "+f["class"]:"");json["font-family"]=f.style;}}
return json;}})();var rpdpreset={};rpdpreset["z20"]={"models":{"m0":{"layout":"filet","params":{"hcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m1":{"layout":"filet","alt":"m1d","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m1d":{"layout":"filet","use":"content","alt":"m1","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"]},"m2":{"layout":"filet","alt":"m2d","params":{"hrstyle":"border-top: 4px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m2d":{"layout":"filet","use":"content","alt":"m2","params":{"hrstyle":"border-top: 4px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"]},"m3":{"layout":"filet","alt":"m3d","params":{"hrstyle":"border-top : 1px dashed","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m3d":{"layout":"filet","use":"content","alt":"m3","params":{"hrstyle":"border-top : 1px dashed","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"]},"m4":{"layout":"separateur","alt":"m4d","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["al0","al2","ico2","ico3","ico6","ico7","cs4","cs5"]},"m4d":{"layout":"separateur","use":"content","alt":"m4","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs0","cs1","cs2","cs3","cs4","cs5"]},"m5":{"layout":"separateur","alt":"m5d","params":{"hrstyle":"border-top:4px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs4","cs5"]},"m5d":{"layout":"separateur","use":"content","alt":"m5","params":{"hrstyle":"border-top:4px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs0","cs1","cs2","cs3","cs4","cs5"]},"m6":{"layout":"separateur","alt":"m6d","params":{"hrstyle":"border-top:1px dashed","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs4","cs5"]},"m6d":{"layout":"separateur","use":"content","alt":"m6","params":{"hrstyle":"border-top:1px dashed","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs0","cs1","cs2","cs3","cs4","cs5"]},"m7":{"layout":"etiquette","params":{"hrstyle":"border-top:2px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg","hrmargin":"0px"},"exclude":["ico2","ico6","ico3","ico7","cs4","cs5"]},"m8":{"layout":"etiquette","params":{"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m9":{"layout":"etiquette","params":{"hrstyle":"border-top:2px solid","hrmargin":"2px","hbgcolor":"cs-main","hrcolor":"cs-second","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m10":{"use":"content","layout":"etiquette","params":{"ruban":true,"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","al1","al2","ico2","ico6","ico3","ico7","bh2","bh7","bh8","cs2","cs3"]},"m11":{"layout":"etiquette","params":{"onglet":true,"hrstyle":"border-bottom:4px solid","hbgcolor":"cs-main","hrcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m12":{"layout":"origine","params":{"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m13":{"layout":"origine","params":{"hbgcolor":"cs-main","bgcolor":"cs-bg","bgmask":"mask.png"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m14":{"layout":"origine","params":{"hbgcolor":"cs-main","bgcolor":"cs-bg","bgimage":"image.jpg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m15":{"layout":"origine","params":{"gradient":true,"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m16":{"layout":"origine","params":{"glossy":true,"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m17":{"layout":"origine","params":{"relief":true,"hrstyle":"border-bottom : 4px solid","hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m18":{"use":"content","layout":"origine","params":{"interieur":true,"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","ico2","ico6","ico3","ico7","bh2","bh7","bh8"]},"m19":{"use":"content","layout":"origine","params":{"interieur":true,"hbgcolor":"cs-main","bgcolor":"cs-bg","bgmask":"mask.png"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","ico2","ico6","ico3","ico7","bh2","bh7","bh8"]},"m20":{"use":"content","layout":"origine","params":{"interieur":true,"hbgcolor":"cs-main","bgcolor":"cs-bg","bgimage":"image.jpg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","ico2","ico6","ico3","ico7","bh2","bh7","bh8"]},"m21":{"use":"content","layout":"origine","params":{"detachment":"10px","hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","bh2","bh7","bh8"]},"m22":{"use":"content","layout":"origine","params":{"detachment":"10px","hbgcolor":"cs-main","bgcolor":"cs-bg","bgmask":"mask.png"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","bh2","bh7","bh8"]},"m23":{"use":"content","layout":"origine","params":{"detachment":"10px","hbgcolor":"cs-main","bgcolor":"cs-bg","bgimage":"image.jpg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","bh2","bh7","bh8"]},"m24":{"use":"content","layout":"origine","params":{"detachment":"10px","hbgcolor":"cs-main","bgcolor":"cs-bg","gradient":true},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","bh2","bh7","bh8"]},"m25":{"use":"content","layout":"origine","params":{"detachment":"10px","glossy":true,"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","bh2","bh7","bh8"]},"m26":{"use":"content","layout":"origine","params":{"detachment":"10px","relief":true,"hrstyle":"border-bottom : 4px solid","hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","bh2","bh7","bh8"]}},"typos":{"t0":{"notemargin":"10px","notehmargin":"11px","hrmargin":"8px","h1":{"textsize":"38px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"22px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"18px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"20px","line-height":"150%","bold":"700","case":"up","font":"f2"},"h5":{"textsize":"14px","line-height":"150%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"13px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"normal","case":"normal","italic":false},"p3":{"textsize":"90%","line-height":"150%","bold":"normal","case":"normal","italic":true},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"bold":true,"after":"content: '' ; padding-left: 8px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.0em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.48em 0px","inset":false,"css":"border-top : solid 1px"}},"t1":{"notemargin":"10px","notehmargin":"10px","hrmargin":"8px","h1":{"textsize":"30px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"22px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"18px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"15px","line-height":"150%","bold":"700","case":"up","font":"f2"},"h5":{"textsize":"14px","line-height":"150%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"13px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"normal","case":"normal","italic":false},"p3":{"textsize":"90%","line-height":"150%","bold":"normal","case":"normal","italic":true},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"bold":true,"after":"content: '' ; padding-left: 8px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.0em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.48em 0px","inset":false,"css":"border-top : solid 1px"}},"t2":{"notemargin":"10px","notehmargin":"10px","hrmargin":"8px","h1":{"textsize":"42px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"22px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"18px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"20px","line-height":"150%","bold":"700","case":"up","font":"f2"},"h5":{"textsize":"15px","line-height":"150%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"14px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"normal","case":"normal","italic":false},"p3":{"textsize":"90%","line-height":"150%","bold":"normal","case":"normal","italic":true},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"bold":true,"after":"content: '' ; padding-left: 8px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.0em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.48em 0px","inset":false,"css":"border-top : solid 1px"}},"t3":{"notemargin":"10px","notehmargin":"10px","hrmargin":"8px","h1":{"textsize":"14px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h2":{"textsize":"22px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"36px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h4":{"textsize":"18px","line-height":"150%","bold":"700","case":"up","font":"f2"},"h5":{"textsize":"13px","line-height":"150%","bold":"700","case":"normal","font":"f2"},"p1":{"textsize":"13px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"normal","case":"normal","italic":false},"p3":{"textsize":"100%","line-height":"150%","bold":"normal","case":"normal","italic":true},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"bold":true,"before":"content: '' ; padding-right: 8px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.0em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.48em 0px","inset":false,"css":"border-top : solid 1px"}},"t4":{"notemargin":"10px","notehmargin":"10px","hrmargin":"8px","h1":{"textsize":"30px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"22px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"18px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"14px","line-height":"150%","bold":"700","case":"up","font":"f2"},"h5":{"textsize":"12px","line-height":"150%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"12px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"normal","case":"normal","italic":false},"p3":{"textsize":"90%","line-height":"150%","bold":"normal","case":"normal","italic":true},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"bold":true,"after":"content: '' ; padding-left: 8px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.0em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.48em 0px","inset":false,"css":"border-top : solid 1px"}},"t5":{"notemargin":"10px","notehmargin":"10px","hrmargin":"8px","h1":{"textsize":"40px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h2":{"textsize":"22px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"18px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"19px","line-height":"150%","bold":"700","case":"up","font":"f2"},"h5":{"textsize":"14px","line-height":"150%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"12px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"normal","case":"normal","italic":false},"p3":{"textsize":"90%","line-height":"150%","bold":"normal","case":"normal","italic":true},"button":{"padding":"0.4em 1.0em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.48em 0px","inset":false,"css":"border-top : solid 1px"}}},"colorsets":{"cs0":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"c1","cs-action":"c1","cs-link":"c2","cs-morelink":"c2"},"cs1":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"c2","cs-action":"c2","cs-link":"c1","cs-morelink":"c1"},"cs2":{"cs-main":"bww","cs-second":"c2","cs-third":"c1","cs-fourth":"white","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c1","cs-action":"bww","cs-link":"c2","cs-morelink":"c2"},"cs3":{"cs-main":"bww","cs-second":"c1","cs-third":"c2","cs-fourth":"white","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c2","cs-action":"bww","cs-link":"c1","cs-morelink":"c1"},"cs4":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c1","cs-action":"bww","cs-link":"c2","cs-morelink":"c2"},"cs5":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c2","cs-action":"bww","cs-link":"c1","cs-morelink":"c1"},"cs6":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c1","cs-bg":"c1","cs-stroke":"c1+d","cs-fun":"c2","cs-btn":"c2","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c2","cs-action":"c2","cs-link":"c2","cs-morelink":"c2","use":"content"},"cs7":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c2","cs-bg":"c2","cs-stroke":"c2+d","cs-fun":"c1","cs-btn":"c1","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c1","cs-action":"c1","cs-link":"c1","cs-morelink":"c1","use":"content"},"cs8":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"c1+p","cs-stroke":"c1","cs-fun":"c1","cs-btn":"c1","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"c1","cs-action":"c1","cs-link":"c2","cs-morelink":"c2","use":"content"},"cs9":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"c2+p","cs-stroke":"c2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"c2","cs-action":"c2","cs-link":"c1","cs-morelink":"c1","use":"content"},"cs10":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"white","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"c1","cs-action":"c1","cs-link":"c2","cs-morelink":"c2","use":"content"},"cs11":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"white","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"c2","cs-action":"c2","cs-link":"c1","cs-morelink":"c1","use":"content"},"cs12":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"black","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"c1","cs-action":"c1","cs-link":"c2","cs-morelink":"c2","use":"content"},"cs13":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"black","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"c2","cs-action":"c2","cs-link":"c1","cs-morelink":"c1","use":"content"},"cs14":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"lightgray","cs-stroke":"lightgray@d20","cs-fun":"c1","cs-btn":"c1","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"c1","cs-action":"c1","cs-link":"c2","cs-morelink":"c2","use":"content"},"cs15":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"lightgray","cs-stroke":"lightgray@d20","cs-fun":"c2","cs-btn":"c2","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"c2","cs-action":"c2","cs-link":"c1","cs-morelink":"c1","use":"content"},"cs16":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"darkgray","cs-stroke":"darkgray@d25","cs-fun":"c1","cs-btn":"c1","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"c1","cs-action":"c1","cs-link":"c2","cs-morelink":"c2","use":"content"},"cs17":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"darkgray","cs-stroke":"darkgray@d25","cs-fun":"c2","cs-btn":"c2","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"c2","cs-action":"c2","cs-link":"c1","cs-morelink":"c1","use":"content"}},"buttons":{"btn0":{"button":{"id":"flat","hideicon":true}},"btn1":{"button":{"id":"flatrelief","hideicon":true}},"btn2":{"button":{"id":"shadow","hideicon":true}},"btn18":{"button":{"id":"rounded","hidecon":true}},"btn3":{"button":{"id":"outline","hideicon":true}},"btn4":{"button":{"id":"outline2","hideicon":true}},"btn5":{"button":{"id":"bouton","hideicon":true}},"btn6":{"button":{"id":"relief","hideicon":true}},"btn7":{"button":{"id":"relief2","hideicon":true}},"btn8":{"button":{"id":"glossy","hideicon":true}},"btn9":{"button":{"id":"flat","hideicon":false}},"btn10":{"button":{"id":"flatrelief","hideicon":false}},"btn11":{"button":{"id":"shadow","hideicon":false}},"btn12":{"button":{"id":"outline","hideicon":false}},"btn13":{"button":{"id":"outline2","hideicon":false}},"btn14":{"button":{"id":"bouton","hideicon":false}},"btn15":{"button":{"id":"relief","hideicon":false}},"btn16":{"button":{"id":"relief2","hideicon":false}},"btn17":{"button":{"id":"glossy","hideicon":false}},"btn19":{"button":{"id":"capsule","hideicon":true}}},"biheaders":{"bh0":{},"bh1":{"bh-span2":{"text":"bww"}},"bh2":{"alt":"bh12","bh-span1":{"text":"cs-main"},"bh-span2":{"text":"cs-second"},"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh3":{"alt":"bh14","bh-span1":{"bg":"cs-main","text":"bww"},"bh-span2":{"text":"bww"},"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh4":{"alt":"bh15","bh-span1":{"bg":"cs-main","text":"bww"},"bh-span2":{"text":"cs-main"},"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh5":{"bh-span1":{"bold":"700"},"bh-span2":{"bold":"normal"}},"bh6":{"bh-span1":{"bold":"700"},"bh-span2":{"bold":"normal","text":"bww"}},"bh7":{"alt":"bh13","bh-span1":{"bold":"700","text":"cs-main"},"bh-span2":{"bold":"normal","text":"cs-second"},"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh8":{"alt":"bh16","bh-span1":{"isicon":true,"text":"cs-second"},"bh-span2":{"text":"cs-main"},"exclude":["ico0","ico2","ico6","ico3","ico7","ico4","ico5","m1d","m2d","m3d","m4d","m5d","m6d"]},"bh9":{"alt":"bh17","bh-span1":{"isicon":true,"text":"bww"},"bh-span2":{"text":"cs-main"},"include":["ico1","ico4","ico5"],"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh10":{"alt":"bh18","bh-span1":{"isicon":true,"text":"gbw"},"bh-span2":{"text":"cs-main"},"include":["ico1","ico4","ico5"],"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh11":{"alt":"bh19","bh-span1":{"text":"cs-main"},"bh-span2":{"text":"gbw"},"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh12":{"alt":"bh2","bh-span1":{"text":"cs-fourth"},"bh-span2":{"text":"cs-second"},"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"},"bh13":{"alt":"bh7","bh-span1":{"bold":"700","text":"cs-fourth"},"bh-span2":{"bold":"normal","text":"cs-main"},"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"},"bh14":{"alt":"bh3","bh-span1":{"bg":"cs-fourth","text":"bww"},"bh-span2":{"text":"bww"},"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"},"bh15":{"alt":"bh4","bh-span1":{"bg":"cs-fourth","text":"bww"},"bh-span2":{"text":"cs-fourth"},"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"},"bh16":{"alt":"bh8","bh-span1":{"isicon":true,"text":"cs-second"},"bh-span2":{"text":"cs-fourth"},"exclude":["ico0","ico2","ico6","ico3","ico7","ico4","ico5"],"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"},"bh17":{"alt":"bh9","bh-span1":{"isicon":true,"text":"bww"},"bh-span2":{"text":"cs-fourth"},"exclude":["ico0","ico2","ico6","ico3","ico7","ico4","ico5"],"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"},"bh18":{"alt":"bh10","bh-span1":{"isicon":true,"text":"gbw"},"bh-span2":{"text":"cs-fourth"},"exclude":["ico0","ico2","ico6","ico3","ico7","ico4","ico5"],"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"},"bh19":{"alt":"bh11","bh-span1":{"text":"cs-fourth"},"bh-span2":{"text":"gbw"},"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"}},"aligns":{"al0":{"h1":{"align":"left"},"h2":{"align":"left"},"h3":{"align":"left"},"exclude":["ico5","ico8","ico9"]},"al1":{"h1":{"align":"center"},"h2":{"align":"center"},"h3":{"align":"center"},"exclude":["ico2","ico3","ico6","ico7"]},"al2":{"h1":{"align":"right"},"h2":{"align":"right"},"h3":{"align":"right"},"exclude":["ico2","ico3","ico5","ico6","ico7","ico8","ico9"]}},"outlines":{"out0":{"note":{"strokecolor":"transparent"}},"out1":{"note":{"strokecolor":"cs-stroke"},"withborder":true},"out2":{"note":{"shadow":"1px 3px 3px rgba(0,0,0,0.25)","strokecolor":"transparent"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out3":{"note":{"shadow":"0px 1px 4px rgba(0,0,0,0.3)","strokecolor":"transparent"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out4":{"note":{"shadow":"1px 3px 3px rgba(0,0,0,0.25)","strokecolor":"cs-stroke"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out5":{"note":{"shadow":"0px 1px 4px rgba(0,0,0,0.3)","strokecolor":"cs-stroke"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out6":{"note":{"shadow":"3px 3px 10px rgba( 0,0,0,0.15)","strokecolor":"transparent"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out7":{"note":{"shadow":"3px 3px 10px rgba( 0,0,0,0.15)","strokecolor":"cs-stroke"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"}},"images":{"img0":{"notebgimage":false}},"icons":{"ico0":{"icon":false},"ico1":{"icon":"in"},"ico2":{"icon":"inout"},"ico3":{"icon":"out"},"ico4":{"icon":"inbig","include":["m0","m1","m2","m3","m4","m5","m6"]},"ico5":{"icon":"intop","include":["m0","m1","m2","m3"]},"ico6":{"icon":"inoutbig"},"ico7":{"icon":"outbig"},"ico8":{"icon":"intopbig","include":["m0","m1","m2","m3"]},"ico9":{"icon":"intopvbig","include":["m0","m1","m2","m3"]}}};rpdpreset["z40"]={"models":{"m0":{"layout":"filet","params":{"hcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m1":{"layout":"filet","alt":"m1d","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m1d":{"layout":"filet","use":"content","alt":"m1","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"]},"m2":{"layout":"filet","alt":"m2d","params":{"hrstyle":"border-top: 4px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m2d":{"layout":"filet","use":"content","alt":"m2","params":{"hrstyle":"border-top: 4px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"]},"m3":{"layout":"filet","alt":"m3d","params":{"hrstyle":"border-top : 1px dashed","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m3d":{"layout":"filet","use":"content","alt":"m3","params":{"hrstyle":"border-top : 1px dashed","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"]},"m4":{"layout":"separateur","alt":"m4d","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["al0","al2","ico2","ico3","ico6","ico7","cs4","cs5"]},"m4d":{"layout":"separateur","use":"content","alt":"m4","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs0","cs1","cs2","cs3","cs4","cs5"]},"m5":{"layout":"separateur","alt":"m5d","params":{"hrstyle":"border-top:4px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs4","cs5"]},"m5d":{"layout":"separateur","use":"content","alt":"m5","params":{"hrstyle":"border-top:4px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs0","cs1","cs2","cs3","cs4","cs5"]},"m6":{"layout":"separateur","alt":"m6d","params":{"hrstyle":"border-top:1px dashed","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs4","cs5"]},"m6d":{"layout":"separateur","use":"content","alt":"m6","params":{"hrstyle":"border-top:1px dashed","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs0","cs1","cs2","cs3","cs4","cs5"]},"m7":{"layout":"etiquette","params":{"hrstyle":"border-top:2px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg","hrmargin":"0px"},"exclude":["ico2","ico6","ico3","ico7","cs4","cs5"]},"m8":{"layout":"etiquette","params":{"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m9":{"layout":"etiquette","params":{"hrstyle":"border-top:2px solid","hrmargin":"2px","hbgcolor":"cs-main","hrcolor":"cs-second","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m10":{"use":"content","layout":"etiquette","params":{"ruban":true,"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","al1","al2","ico2","ico6","ico3","ico7","bh2","bh7","bh8","cs2","cs3"]},"m11":{"layout":"etiquette","params":{"onglet":true,"hrstyle":"border-bottom:4px solid","hbgcolor":"cs-main","hrcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m12":{"layout":"origine","params":{"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m13":{"layout":"origine","params":{"hbgcolor":"cs-main","bgcolor":"cs-bg","bgmask":"mask.png"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m14":"m13","m15":{"layout":"origine","params":{"gradient":true,"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m16":"m15","m17":{"layout":"origine","params":{"relief":true,"hrstyle":"border-bottom : 4px solid","hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m18":{"use":"content","layout":"origine","params":{"interieur":true,"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","ico2","ico6","ico3","ico7","bh2","bh7","bh8"]},"m19":{"use":"content","layout":"origine","params":{"interieur":true,"hbgcolor":"cs-main","bgcolor":"cs-bg","bgmask":"mask.png"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","ico2","ico6","ico3","ico7","bh2","bh7","bh8"]},"m20":"m19","m21":{"use":"content","layout":"origine","params":{"detachment":"10px","hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","bh2","bh7","bh8"]},"m22":{"use":"content","layout":"origine","params":{"detachment":"10px","hbgcolor":"cs-main","bgcolor":"cs-bg","bgmask":"mask.png"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","bh2","bh7","bh8"]},"m23":"m22","m24":{"use":"content","layout":"origine","params":{"detachment":"10px","hbgcolor":"cs-main","bgcolor":"cs-bg","gradient":true},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","bh2","bh7","bh8"]},"m25":"m24","m26":{"use":"content","layout":"origine","params":{"detachment":"10px","relief":true,"hrstyle":"border-bottom : 4px solid","hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","bh2","bh7","bh8"]}},"typos":{"t0":{"notemargin":"15px","notehmargin":"12px","hrmargin":"9px","h1":{"textsize":"40px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"24px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"19px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"22px","line-height":"150%","bold":"700","case":"up","font":"f2"},"h5":{"textsize":"15px","line-height":"150%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"13px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"normal","case":"normal","italic":false},"p3":{"textsize":"90%","line-height":"150%","bold":"normal","case":"normal","italic":true},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"bold":true,"after":"content: '' ; padding-left: 9px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.1em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.52em 0px","inset":false,"css":"border-top : solid 1px"}},"t1":{"notemargin":"15px","notehmargin":"12px","hrmargin":"9px","h1":{"textsize":"31px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"23px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"18px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"16px","line-height":"150%","bold":"700","case":"up","font":"f2"},"h5":{"textsize":"14px","line-height":"150%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"13px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"normal","case":"normal","italic":false},"p3":{"textsize":"90%","line-height":"150%","bold":"normal","case":"normal","italic":true},"link":{"bold":true,"after":"content: '' ; padding-left: 9px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.1em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.52em 0px","inset":false,"css":"border-top : solid 1px"}},"t2":{"notemargin":"15px","notehmargin":"12px","hrmargin":"9px","h1":{"textsize":"43px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"24px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"19px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"22px","line-height":"150%","bold":"700","case":"up","font":"f2"},"h5":{"textsize":"16px","line-height":"150%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"15px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"normal","case":"normal","italic":false},"p3":{"textsize":"90%","line-height":"150%","bold":"normal","case":"normal","italic":true},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"bold":true,"after":"content: '' ; padding-left: 9px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.1em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.52em 0px","inset":false,"css":"border-top : solid 1px"}},"t3":{"notemargin":"15px","notehmargin":"12px","hrmargin":"9px","h1":{"textsize":"16px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"24px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"38px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h4":{"textsize":"20px","line-height":"150%","bold":"700","case":"up","font":"f2"},"h5":{"textsize":"14px","line-height":"150%","bold":"700","case":"normal","font":"f2"},"p1":{"textsize":"14px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"normal","case":"normal","italic":false},"p3":{"textsize":"90%","line-height":"150%","bold":"normal","case":"normal","italic":true},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"bold":true,"before":"content: '' ; padding-right: 9px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.1em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.52em 0px","inset":false,"css":"border-top : solid 1px"}},"t4":{"notemargin":"15px","notehmargin":"12px","hrmargin":"9px","h1":{"textsize":"31px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"23px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"18px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"14px","line-height":"150%","bold":"700","case":"up","font":"f2"},"h5":{"textsize":"13px","line-height":"150%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"12px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"normal","case":"normal","italic":false},"p3":{"textsize":"90%","line-height":"150%","bold":"normal","case":"normal","italic":true},"link":{"bold":true,"after":"content: '' ; padding-left: 9px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.1em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.52em 0px","inset":false,"css":"border-top : solid 1px"}},"t5":{"notemargin":"15px","notehmargin":"12px","hrmargin":"9px","h1":{"textsize":"40px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h2":{"textsize":"20px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"17px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"18px","line-height":"150%","bold":"700","case":"up","font":"f2"},"h5":{"textsize":"14px","line-height":"150%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"12px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"normal","case":"normal","italic":false},"p3":{"textsize":"90%","line-height":"150%","bold":"normal","case":"normal","italic":true},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"bold":true,"after":"content: '' ; padding-left: 9px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.1em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.52em 0px","inset":false,"css":"border-top : solid 1px"}}},"colorsets":{"cs0":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"graydark","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"c1","cs-action":"c1","cs-link":"c2","cs-morelink":"c2"},"cs1":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"graydark","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"c2","cs-action":"c2","cs-link":"c1","cs-morelink":"c1"},"cs2":{"cs-main":"bww","cs-second":"c2","cs-third":"c1","cs-fourth":"white","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c1","cs-action":"bww","cs-link":"c2","cs-morelink":"c2"},"cs3":{"cs-main":"bww","cs-second":"c1","cs-third":"c2","cs-fourth":"white","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c2","cs-action":"bww","cs-link":"c1","cs-morelink":"c1"},"cs4":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c1","cs-action":"bww","cs-link":"c2","cs-morelink":"c2"},"cs5":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c2","cs-action":"bww","cs-link":"c1","cs-morelink":"c1"},"cs6":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c1","cs-bg":"c1","cs-stroke":"c1+d","cs-fun":"c2","cs-btn":"c2","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c2","cs-action":"c2","cs-link":"c2","cs-morelink":"c2","use":"content"},"cs7":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c2","cs-bg":"c2","cs-stroke":"c2+d","cs-fun":"c1","cs-btn":"c1","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c1","cs-action":"c1","cs-link":"c1","cs-morelink":"c1","use":"content"},"cs8":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"c1+p","cs-stroke":"c1","cs-fun":"c1","cs-btn":"c1","cs-p1":"graydark","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"c1","cs-action":"c1","cs-link":"c2","cs-morelink":"c2","use":"content"},"cs9":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"c2+p","cs-stroke":"c2","cs-fun":"c2","cs-btn":"c2","cs-p1":"graydark","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"c2","cs-action":"c2","cs-link":"c1","cs-morelink":"c1","use":"content"},"cs10":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"white","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"graydark","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"c1","cs-action":"c1","cs-link":"c2","cs-morelink":"c2","use":"content"},"cs11":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"white","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"graydark","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"c2","cs-action":"c2","cs-link":"c1","cs-morelink":"c1","use":"content"},"cs12":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"black","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"c1","cs-action":"c1","cs-link":"c2","cs-morelink":"c2","use":"content"},"cs13":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"black","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"c2","cs-action":"c2","cs-link":"c1","cs-morelink":"c1","use":"content"},"cs14":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"lightgray","cs-stroke":"lightgray@d20","cs-fun":"c1","cs-btn":"c1","cs-p1":"graydark","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"c1","cs-action":"c1","cs-link":"c2","cs-morelink":"c2","use":"content"},"cs15":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"lightgray","cs-stroke":"lightgray@d20","cs-fun":"c2","cs-btn":"c2","cs-p1":"graydark","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"c2","cs-action":"c2","cs-link":"c1","cs-morelink":"c1","use":"content"},"cs16":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"darkgray","cs-stroke":"darkgray@d25","cs-fun":"c1","cs-btn":"c1","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"c1","cs-action":"c1","cs-link":"c2","use":"content"},"cs17":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"darkgray","cs-stroke":"darkgray@d25","cs-fun":"c2","cs-btn":"c2","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"c2","cs-action":"c2","cs-link":"c1","cs-morelink":"c1","use":"content"}},"buttons":{"btn0":{"button":{"id":"flat","hideicon":true}},"btn1":{"button":{"id":"flatrelief","hideicon":true}},"btn2":{"button":{"id":"shadow","hideicon":true}},"btn18":{"button":{"id":"rounded","hidecon":true}},"btn3":{"button":{"id":"outline","hideicon":true}},"btn4":{"button":{"id":"outline2","hideicon":true}},"btn5":{"button":{"id":"bouton","hideicon":true}},"btn6":{"button":{"id":"relief","hideicon":true}},"btn7":{"button":{"id":"relief2","hideicon":true}},"btn8":"btn2","btn9":{"button":{"id":"flat","hideicon":false}},"btn10":{"button":{"id":"flatrelief","hideicon":false}},"btn11":{"button":{"id":"shadow","hideicon":false}},"btn12":{"button":{"id":"outline","hideicon":false}},"btn13":{"button":{"id":"outline2","hideicon":false}},"btn14":{"button":{"id":"bouton","hideicon":false}},"btn15":{"button":{"id":"relief","hideicon":false}},"btn16":{"button":{"id":"relief2","hideicon":false}},"btn17":"btn11","btn19":{"button":{"id":"capsule","hideicon":true}}},"biheaders":{"bh0":{},"bh1":{"bh-span2":{"text":"bww"}},"bh2":"bh1","bh3":{"alt":"bh14","bh-span1":{"bg":"cs-main","text":"bww"},"bh-span2":{"text":"bww"},"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh4":"bh3","bh5":{"bh-span1":{"bold":"700"},"bh-span2":{"bold":"normal"}},"bh6":{"bh-span1":{"bold":"700"},"bh-span2":{"bold":"normal","text":"bww"}},"bh7":"bh6","bh8":"bh9","bh9":{"alt":"bh17","bh-span1":{"isicon":true,"text":"bww"},"bh-span2":{"text":"cs-main"},"include":["ico1","ico4","ico5"],"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh10":{"alt":"bh18","bh-span1":{"isicon":true,"text":"gbw"},"bh-span2":{"text":"cs-main"},"include":["ico1","ico4","ico5"],"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh11":{"alt":"bh19","bh-span1":{"text":"cs-main"},"bh-span2":{"text":"gbw"},"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh12":"bh11","bh13":"bh11","bh14":{"alt":"bh3","bh-span1":{"bg":"cs-fourth","text":"bww"},"bh-span2":{"text":"bww"},"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"},"bh15":"bh11","bh16":"bh17","bh17":{"alt":"bh9","bh-span1":{"isicon":true,"text":"bww"},"bh-span2":{"text":"cs-fourth"},"exclude":["ico0","ico2","ico6","ico3","ico7","ico4","ico5"],"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"},"bh18":{"alt":"bh10","bh-span1":{"isicon":true,"text":"gbw"},"bh-span2":{"text":"cs-fourth"},"exclude":["ico0","ico2","ico6","ico3","ico7","ico4","ico5"],"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"},"bh19":{"alt":"bh11","bh-span1":{"text":"cs-fourth"},"bh-span2":{"text":"gbw"},"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"}},"aligns":{"al0":{"h1":{"align":"left"},"h2":{"align":"left"},"h3":{"align":"left"},"exclude":["ico5","ico8","ico9"]},"al1":{"h1":{"align":"center"},"h2":{"align":"center"},"h3":{"align":"center"},"exclude":["ico2","ico3","ico6","ico7"]},"al2":{"h1":{"align":"right"},"h2":{"align":"right"},"h3":{"align":"right"},"exclude":["ico2","ico3","ico5","ico6","ico7","ico8","ico9"]}},"outlines":{"out0":{"note":{"strokecolor":"transparent"}},"out1":{"note":{"strokecolor":"cs-stroke"},"withborder":true},"out2":{"note":{"shadow":"1px 3px 3px rgba(0,0,0,0.25)","strokecolor":"transparent"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out3":{"note":{"shadow":"0px 1px 4px rgba(0,0,0,0.3)","strokecolor":"transparent"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out4":{"note":{"shadow":"1px 3px 3px rgba(0,0,0,0.25)","strokecolor":"cs-stroke"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out5":{"note":{"shadow":"0px 1px 4px rgba(0,0,0,0.3)","strokecolor":"cs-stroke"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out6":{"note":{"shadow":"3px 3px 10px rgba( 0,0,0,0.15)","strokecolor":"transparent"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out7":{"note":{"shadow":"3px 3px 10px rgba( 0,0,0,0.15)","strokecolor":"cs-stroke"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"}},"images":{"img0":{"notebgimage":false}},"icons":{"ico0":{"icon":false},"ico1":{"icon":"in"},"ico2":{"icon":"inout"},"ico3":{"icon":"out"},"ico4":{"icon":"inbig","include":["m0","m1","m2","m3","m4","m5","m6"]},"ico5":{"icon":"intop","include":["m0","m1","m2","m3"]},"ico6":{"icon":"inoutbig"},"ico7":{"icon":"outbig"},"ico8":{"icon":"intopbig","include":["m0","m1","m2","m3"]},"ico9":{"icon":"intopvbig","include":["m0","m1","m2","m3"]}}};rpdpreset["z60"]={"models":{"m0":{"layout":"filet","params":{"hcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m1":{"layout":"filet","alt":"m1d","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m1d":{"layout":"filet","use":"content","alt":"m1","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"]},"m2":{"layout":"filet","alt":"m2d","params":{"hrstyle":"border-top: 4px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m2d":{"layout":"filet","use":"content","alt":"m2","params":{"hrstyle":"border-top: 4px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"]},"m3":{"layout":"filet","alt":"m3d","params":{"hrstyle":"border-top : 1px dashed","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m3d":{"layout":"filet","use":"content","alt":"m3","params":{"hrstyle":"border-top : 1px dashed","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"]},"m4":{"layout":"separateur","alt":"m4d","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["al0","al2","ico2","ico3","ico6","ico7","cs4","cs5"]},"m4d":{"layout":"separateur","use":"content","alt":"m4","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs0","cs1","cs2","cs3","cs4","cs5"]},"m5":{"layout":"separateur","alt":"m5d","params":{"hrstyle":"border-top:4px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs4","cs5"]},"m5d":{"layout":"separateur","use":"content","alt":"m5","params":{"hrstyle":"border-top:4px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs0","cs1","cs2","cs3","cs4","cs5"]},"m6":{"layout":"separateur","alt":"m6d","params":{"hrstyle":"border-top:1px dashed","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs4","cs5"]},"m6d":{"layout":"separateur","use":"content","alt":"m6","params":{"hrstyle":"border-top:1px dashed","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs0","cs1","cs2","cs3","cs4","cs5"]},"m7":{"layout":"etiquette","params":{"hrstyle":"border-top:2px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg","hrmargin":"0px"},"exclude":["ico2","ico6","ico3","ico7","cs4","cs5"]},"m8":{"layout":"etiquette","params":{"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m9":"m8","m10":{"use":"content","layout":"etiquette","params":{"ruban":true,"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","al1","al2","ico2","ico6","ico3","ico7","bh2","bh7","bh8","cs2","cs3"]},"m11":{"layout":"etiquette","params":{"onglet":true,"hrstyle":"border-bottom:4px solid","hbgcolor":"cs-main","hrcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m12":{"layout":"origine","params":{"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m13":{"layout":"origine","params":{"hbgcolor":"cs-main","bgcolor":"cs-bg","bgmask":"mask.png"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m14":"m12","m15":{"layout":"origine","params":{"gradient":true,"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m16":"m12","m17":{"layout":"origine","params":{"relief":true,"hrstyle":"border-bottom : 4px solid","hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m18":{"use":"content","layout":"origine","params":{"interieur":true,"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","ico2","ico6","ico3","ico7","bh2","bh7","bh8"]},"m19":"m19","m20":"m19","m21":{"use":"content","layout":"origine","params":{"detachment":"10px","hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","bh2","bh7","bh8"]},"m22":"m21","m23":"m21","m24":{"use":"content","layout":"origine","params":{"detachment":"10px","hbgcolor":"cs-main","bgcolor":"cs-bg","gradient":true},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","bh2","bh7","bh8"]},"m25":"m21","m26":{"use":"content","layout":"origine","params":{"detachment":"10px","relief":true,"hrstyle":"border-bottom : 4px solid","hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","bh2","bh7","bh8"]}},"typos":{"t0":{"notemargin":"15px","notehmargin":"12px","hrmargin":"10px","h1":{"textsize":"42px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"26px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"20px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"24px","line-height":"150%","bold":"700","case":"normal","font":"f2"},"h5":{"textsize":"16px","line-height":"150%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"14px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"700","case":"normal","italic":false},"p3":{"textsize":"85%","line-height":"150%","bold":"normal","case":"normal","italic":false},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"after":"content: '' ; padding-left: 10px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.2em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.56em 0px","inset":false,"css":"border-top : solid 1px"}},"t1":{"notemargin":"15px","notehmargin":"12px","hrmargin":"10px","h1":{"textsize":"32px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"24px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"18px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"17px","line-height":"150%","bold":"700","case":"normal","font":"f2"},"h5":{"textsize":"15px","line-height":"150%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"14px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"700","case":"normal","italic":false},"p3":{"textsize":"85%","line-height":"150%","bold":"normal","case":"normal","italic":false},"link":{"after":"content: '' ; padding-left: 10px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.2em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.56em 0px","inset":false,"css":"border-top : solid 1px"}},"t2":{"notemargin":"15px","notehmargin":"12px","hrmargin":"10px","h1":{"textsize":"44px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"26px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"20px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"24px","line-height":"150%","bold":"700","case":"normal","font":"f2"},"h5":{"textsize":"17px","line-height":"150%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"15px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"700","case":"normal","italic":false},"p3":{"textsize":"85%","line-height":"150%","bold":"normal","case":"normal","italic":false},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"after":"content: '' ; padding-left: 10px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.2em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.56em 0px","inset":false,"css":"border-top : solid 1px"}},"t3":{"notemargin":"15px","notehmargin":"12px","hrmargin":"10px","h1":{"textsize":"18px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h2":{"textsize":"26px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"40px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h4":{"textsize":"22px","line-height":"150%","bold":"700","case":"up","font":"f2"},"h5":{"textsize":"15px","line-height":"150%","bold":"700","case":"normal","font":"f2"},"p1":{"textsize":"14px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"700","case":"normal","italic":false},"p3":{"textsize":"85%","line-height":"150%","bold":"normal","case":"normal","italic":false},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"before":"content: '' ; padding-right: 10px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.2em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.56em 0px","inset":false,"css":"border-top : solid 1px"}},"t4":{"notemargin":"15px","notehmargin":"12px","hrmargin":"10px","h1":{"textsize":"32px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"24px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"18px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"14px","line-height":"150%","bold":"700","case":"normal","font":"f2"},"h5":{"textsize":"13px","line-height":"150%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"12px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"700","case":"normal","italic":false},"p3":{"textsize":"85%","line-height":"150%","bold":"normal","case":"normal","italic":false},"link":{"after":"content: '' ; padding-left: 10px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.2em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.56em 0px","inset":false,"css":"border-top : solid 1px"}},"t5":{"notemargin":"15px","notehmargin":"12px","hrmargin":"10px","h1":{"textsize":"40px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h2":{"textsize":"20px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h3":{"textsize":"18px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"17px","line-height":"150%","bold":"700","case":"up","font":"f2"},"h5":{"textsize":"15px","line-height":"150%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"12px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"700","case":"normal","italic":false},"p3":{"textsize":"85%","line-height":"150%","bold":"normal","case":"normal","italic":false},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"after":"content: '' ; padding-left: 10px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.2em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.56em 0px","inset":false,"css":"border-top : solid 1px"}}},"colorsets":{"cs0":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"graydark+l","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"graydark+l","cs-action":"graydark+l","cs-link":"c2","cs-morelink":"graymedian"},"cs1":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"graydark+l","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"graydark+l","cs-action":"c2","cs-link":"c1","cs-morelink":"graymedian"},"cs2":{"cs-main":"bww","cs-second":"c1","cs-third":"c1","cs-fourth":"white","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"bww","cs-action":"gbw","cs-link":"c2","cs-morelink":"gbw"},"cs3":{"cs-main":"bww","cs-second":"c2","cs-third":"c2","cs-fourth":"white","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"bww","cs-action":"gbw","cs-link":"c1","cs-morelink":"gbw"},"cs4":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"bww","cs-action":"gbw","cs-link":"c2","cs-morelink":"gbw"},"cs5":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"bww","cs-action":"gbw","cs-link":"c1","cs-morelink":"gbw"},"cs6":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c1","cs-bg":"c1","cs-stroke":"c1+d","cs-fun":"c2","cs-btn":"c2","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"bww","cs-action":"gbw","cs-link":"c2","cs-morelink":"gbw","use":"content"},"cs7":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c2","cs-bg":"c2","cs-stroke":"c2+d","cs-fun":"c1","cs-btn":"c1","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"bww","cs-action":"gbw","cs-link":"c1","cs-morelink":"gbw","use":"content"},"cs8":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"c1+p","cs-stroke":"c1","cs-fun":"c1","cs-btn":"c1","cs-p1":"graydark+l","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"graydark+l","cs-action":"graydark+l","cs-link":"c2","cs-morelink":"graymedian","use":"content"},"cs9":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"c2+p","cs-stroke":"c2","cs-fun":"c2","cs-btn":"c2","cs-p1":"graydark+l","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"graydark+l","cs-action":"graydark+l","cs-link":"c1","cs-morelink":"graymedian","use":"content"},"cs10":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"white","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"graydark+l","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"graydark+l","cs-action":"graydark+l","cs-link":"c2","cs-morelink":"graymedian","use":"content"},"cs11":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"white","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"graydark+l","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"graydark+l","cs-action":"graydark+l","cs-link":"c1","cs-morelink":"graymedian","use":"content"},"cs12":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"black","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"bw","cs-action":"gbw","cs-link":"c2","cs-morelink":"gbw","use":"content"},"cs13":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"black","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"bw","cs-action":"gbw","cs-link":"c1","cs-morelink":"gbw","use":"content"},"cs14":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"lightgray","cs-stroke":"lightgray@d20","cs-fun":"c1","cs-btn":"c1","cs-p1":"graydark+l","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"graydark+l","cs-action":"graydark+l","cs-link":"c2","cs-morelink":"graymedian","use":"content"},"cs15":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"lightgray","cs-stroke":"lightgray@d20","cs-fun":"c2","cs-btn":"c2","cs-p1":"graydark+l","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"graydark+l","cs-action":"graydark+l","cs-link":"c1","cs-morelink":"graymedian","use":"content"},"cs16":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"darkgray","cs-stroke":"darkgray@d25","cs-fun":"c1","cs-btn":"c1","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c2","cs-h5":"bw","cs-action":"gbw","cs-link":"c2","cs-morelink":"gbw","use":"content"},"cs17":{"cs-main":"c2","cs-second":"c1","cs-third":"c2","cs-fourth":"c2","cs-bg":"darkgray","cs-stroke":"darkgray@d25","cs-fun":"c2","cs-btn":"c2","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"c1","cs-h5":"bw","cs-action":"gbw","cs-link":"c1","cs-morelink":"gbw","use":"content"}},"buttons":{"btn0":{"button":{"id":"flat","hideicon":true}},"btn1":{"button":{"id":"flatrelief","hideicon":true}},"btn2":{"button":{"id":"shadow","hideicon":true}},"btn18":{"button":{"id":"rounded","hidecon":true}},"btn3":{"button":{"id":"outline","hideicon":true}},"btn4":{"button":{"id":"outline2","hideicon":true}},"btn5":{"button":{"id":"bouton","hideicon":true}},"btn6":"btn2","btn7":"btn2","btn8":"btn2","btn9":{"button":{"id":"flat","hideicon":false}},"btn10":{"button":{"id":"flatrelief","hideicon":false}},"btn11":{"button":{"id":"shadow","hideicon":false}},"btn12":{"button":{"id":"outline","hideicon":false}},"btn13":{"button":{"id":"outline2","hideicon":false}},"btn14":{"button":{"id":"bouton","hideicon":false}},"btn15":"btn11","btn16":"btn11","btn17":"btn11","btn19":{"button":{"id":"capsule","hideicon":true}}},"biheaders":{"bh0":{},"bh1":{"bh-span2":{"text":"bww"}},"bh2":"bh1","bh3":"bh1","bh4":"bh1","bh5":{"bh-span1":{"bold":"700"},"bh-span2":{"bold":"normal"}},"bh6":{"bh-span1":{"bold":"700"},"bh-span2":{"bold":"normal","text":"bww"}},"bh7":"bh6","bh8":"bh9","bh9":{"alt":"bh17","bh-span1":{"isicon":true,"text":"bww"},"bh-span2":{"text":"cs-main"},"include":["ico1","ico4","ico5"],"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh10":{"alt":"bh18","bh-span1":{"isicon":true,"text":"gbw"},"bh-span2":{"text":"cs-main"},"include":["ico1","ico4","ico5"],"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh11":{"alt":"bh19","bh-span1":{"text":"cs-main"},"bh-span2":{"text":"gbw"},"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh12":"bh11","bh13":"bh11","bh14":"bh11","bh15":"bh11","bh16":"bh17","bh17":{"alt":"bh9","bh-span1":{"isicon":true,"text":"bww"},"bh-span2":{"text":"cs-fourth"},"exclude":["ico0","ico2","ico6","ico3","ico7","ico4","ico5"],"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"},"bh18":{"alt":"bh10","bh-span1":{"isicon":true,"text":"gbw"},"bh-span2":{"text":"cs-fourth"},"exclude":["ico0","ico2","ico6","ico3","ico7","ico4","ico5"],"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"},"bh19":{"alt":"bh11","bh-span1":{"text":"cs-fourth"},"bh-span2":{"text":"gbw"},"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"}},"aligns":{"al0":{"h1":{"align":"left"},"h2":{"align":"left"},"h3":{"align":"left"},"exclude":["ico5","ico8","ico9"]},"al1":{"h1":{"align":"center"},"h2":{"align":"center"},"h3":{"align":"center"},"exclude":["ico2","ico3","ico6","ico7"]},"al2":{"h1":{"align":"right"},"h2":{"align":"right"},"h3":{"align":"right"},"exclude":["ico2","ico3","ico5","ico6","ico7","ico8","ico9"]}},"outlines":{"out0":{"note":{"strokecolor":"transparent"}},"out1":{"note":{"strokecolor":"cs-stroke"},"withborder":true},"out2":{"note":{"shadow":"1px 3px 3px rgba(0,0,0,0.25)","strokecolor":"transparent"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out3":{"note":{"shadow":"0px 1px 4px rgba(0,0,0,0.3)","strokecolor":"transparent"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out4":{"note":{"shadow":"1px 3px 3px rgba(0,0,0,0.25)","strokecolor":"cs-stroke"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out5":{"note":{"shadow":"0px 1px 4px rgba(0,0,0,0.3)","strokecolor":"cs-stroke"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out6":{"note":{"shadow":"3px 3px 10px rgba( 0,0,0,0.15)","strokecolor":"transparent"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out7":{"note":{"shadow":"3px 3px 10px rgba( 0,0,0,0.15)","strokecolor":"cs-stroke"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"}},"images":{"img0":{"notebgimage":false}},"icons":{"ico0":{"icon":false},"ico1":{"icon":"in"},"ico2":{"icon":"inout"},"ico3":{"icon":"out"},"ico4":{"icon":"inbig","include":["m0","m1","m2","m3","m4","m5","m6"]},"ico5":{"icon":"intop","include":["m0","m1","m2","m3"]},"ico6":{"icon":"inoutbig"},"ico7":{"icon":"outbig"},"ico8":{"icon":"intopbig","include":["m0","m1","m2","m3"]},"ico9":"ico5"}};rpdpreset["z80"]={"models":{"m0":{"layout":"filet","params":{"hcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m1":{"layout":"filet","alt":"m1d","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m1d":{"layout":"filet","use":"content","alt":"m1","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"]},"m2":{"layout":"filet","alt":"m2d","params":{"hrstyle":"border-top: 4px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m2d":{"layout":"filet","use":"content","alt":"m2","params":{"hrstyle":"border-top: 4px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"]},"m3":{"layout":"filet","alt":"m3d","params":{"hrstyle":"border-top : 1px dashed","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m3d":{"layout":"filet","use":"content","alt":"m3","params":{"hrstyle":"border-top : 1px dashed","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"]},"m4":{"layout":"separateur","alt":"m4d","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["al0","al2","ico2","ico3","ico6","ico7","cs4","cs5"]},"m4d":{"layout":"separateur","use":"content","alt":"m4","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs0","cs1","cs2","cs3","cs4","cs5"]},"m5":{"layout":"separateur","alt":"m5d","params":{"hrstyle":"border-top:4px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs4","cs5"]},"m5d":{"layout":"separateur","use":"content","alt":"m5","params":{"hrstyle":"border-top:4px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs0","cs1","cs2","cs3","cs4","cs5"]},"m6":{"layout":"separateur","alt":"m6d","params":{"hrstyle":"border-top:1px dashed","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs4","cs5"]},"m6d":{"layout":"separateur","use":"content","alt":"m6","params":{"hrstyle":"border-top:1px dashed","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs0","cs1","cs2","cs3","cs4","cs5"]},"m7":{"layout":"etiquette","params":{"hrstyle":"border-top:2px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg","hrmargin":"0px"},"exclude":["ico2","ico6","ico3","ico7","cs4","cs5"]},"m8":{"layout":"etiquette","params":{"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m9":"m8","m10":{"use":"content","layout":"etiquette","params":{"ruban":true,"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","al1","al2","ico2","ico6","ico3","ico7","bh2","bh7","bh8","cs2","cs3"]},"m11":{"layout":"etiquette","params":{"onglet":true,"hrstyle":"border-bottom:4px solid","hbgcolor":"cs-main","hrcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m12":{"layout":"origine","params":{"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m13":"m12","m14":"m12","m15":"m12","m16":"m12","m17":"m12","m18":{"use":"content","layout":"origine","params":{"interieur":true,"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","ico2","ico6","ico3","ico7","bh2","bh7","bh8"]},"m19":"m18","m20":"m18","m21":{"use":"content","layout":"origine","params":{"detachment":"10px","hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5","bh3","bh4","bh2","bh7","bh8"]},"m22":"m21","m23":"m21","m24":"m21","m25":"m21","m26":"m21"},"typos":{"t0":{"notemargin":"20px","notehmargin":"13px","hrmargin":"13px","h1":{"textsize":"44px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"28px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"21px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"26px","line-height":"160%","bold":"700","case":"normal","font":"f2"},"h5":{"textsize":"17px","line-height":"160%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"14px","line-height":"160%"},"p2":{"textsize":"100%","line-height":"160%","bold":"700","case":"normal","italic":false},"p3":{"textsize":"85%","line-height":"160%","bold":"normal","case":"normal","italic":false},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"after":"content: '' ; padding-left: 11px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.3em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"normal"},"list":{"margin":"0.6em 0px","inset":false,"css":"border-top : solid 1px"}},"t1":{"notemargin":"20px","notehmargin":"13px","hrmargin":"13px","h1":{"textsize":"33px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"25px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"20px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"18px","line-height":"160%","bold":"700","case":"normal","font":"f2"},"h5":{"textsize":"15px","line-height":"160%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"14px","line-height":"160%"},"p2":{"textsize":"100%","line-height":"160%","bold":"700","case":"normal","italic":false},"p3":{"textsize":"85%","line-height":"160%","bold":"normal","case":"normal","italic":false},"link":{"after":"content: '' ; padding-left: 11px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.3em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"normal"},"list":{"margin":"0.6em 0px","inset":false,"css":"border-top : solid 1px"}},"t2":{"notemargin":"20px","notehmargin":"13px","hrmargin":"13px","h1":{"textsize":"45px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"28px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"21px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"26px","line-height":"160%","bold":"700","case":"normal","font":"f2"},"h5":{"textsize":"18px","line-height":"160%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"16px","line-height":"160%"},"p2":{"textsize":"100%","line-height":"160%","bold":"700","case":"normal","italic":false},"p3":{"textsize":"85%","line-height":"160%","bold":"normal","case":"normal","italic":false},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"after":"content: '' ; padding-left: 11px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.3em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"normal"},"list":{"margin":"0.6em 0px","inset":false,"css":"border-top : solid 1px"}},"t3":{"notemargin":"20px","notehmargin":"13px","hrmargin":"13px","h1":{"textsize":"20px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h2":{"textsize":"28px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"42px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h4":{"textsize":"24px","line-height":"150%","bold":"700","case":"up","font":"f2"},"h5":{"textsize":"15px","line-height":"150%","bold":"700","case":"normal","font":"f2"},"p1":{"textsize":"15px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"700","case":"normal","italic":false},"p3":{"textsize":"85%","line-height":"150%","bold":"normal","case":"normal","italic":false},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"before":"content: '' ; padding-right: 11px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.3em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"normal"},"list":{"margin":"0.6em 0px","inset":false,"css":"border-top : solid 1px"}},"t4":{"notemargin":"20px","notehmargin":"13px","hrmargin":"13px","h1":{"textsize":"33px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"25px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h3":{"textsize":"20px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"16px","line-height":"160%","bold":"700","case":"normal","font":"f2"},"h5":{"textsize":"14px","line-height":"160%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"12px","line-height":"160%"},"p2":{"textsize":"100%","line-height":"160%","bold":"700","case":"normal","italic":false},"p3":{"textsize":"85%","line-height":"160%","bold":"normal","case":"normal","italic":false},"link":{"after":"content: '' ; padding-left: 11px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.3em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"normal"},"list":{"margin":"0.6em 0px","inset":false,"css":"border-top : solid 1px"}},"t5":{"notemargin":"20px","notehmargin":"13px","hrmargin":"13px","h1":{"textsize":"40px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h2":{"textsize":"18px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h3":{"textsize":"20px","line-height":"auto","bold":"700","case":"up","font":"f2"},"h4":{"textsize":"16px","line-height":"160%","bold":"700","case":"up","font":"f2"},"h5":{"textsize":"15px","line-height":"160%","bold":"700","case":"up","font":"f2"},"p1":{"textsize":"12px","line-height":"160%"},"p2":{"textsize":"100%","line-height":"160%","bold":"700","case":"normal","italic":false},"p3":{"textsize":"85%","line-height":"160%","bold":"normal","case":"normal","italic":false},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"after":"content: '' ; padding-left: 11px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.3em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"normal"},"list":{"margin":"0.6em 0px","inset":false,"css":"border-top : solid 1px"}}},"colorsets":{"cs0":{"cs-main":"c1","cs-second":"c2","cs-third":"graylight+d","cs-fourth":"c1","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"graydark+l","cs-p2":"graymedian","cs-p3":"graymedian","cs-h4":"graydark+l","cs-h5":"c1","cs-action":"graydark+l","cs-link":"c2","cs-morelink":"graylight+d"},"cs1":{"cs-main":"c2","cs-second":"c1","cs-third":"graylight+d","cs-fourth":"c2","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"graydark+l","cs-p2":"graymedian","cs-p3":"graymedian","cs-h4":"graydark+l","cs-h5":"c2","cs-action":"graydark+l","cs-link":"c1","cs-morelink":"graylight+d"},"cs2":{"cs-main":"bww","cs-second":"c1","cs-third":"gbw2","cs-fourth":"c1","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c1","cs-action":"bww","cs-link":"c2","cs-morelink":"gbw2"},"cs3":{"cs-main":"bww","cs-second":"c2","cs-third":"gbw2","cs-fourth":"c2","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c2","cs-action":"bww","cs-link":"c1","cs-morelink":"gbw2"},"cs4":{"cs-main":"c1","cs-second":"c2","cs-third":"gbw2","cs-fourth":"c1","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c1","cs-action":"bww","cs-link":"c2","cs-morelink":"gbw2"},"cs5":{"cs-main":"c2","cs-second":"c1","cs-third":"gbw2","cs-fourth":"c2","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c2","cs-action":"bww","cs-link":"c1","cs-morelink":"gbw2"},"cs6":{"cs-main":"c2","cs-second":"c1","cs-third":"gbw2","cs-fourth":"c1","cs-bg":"c1","cs-stroke":"c1+d","cs-fun":"c2","cs-btn":"c2","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c2","cs-action":"gbw","cs-link":"c2","use":"content","cs-morelink":"gbw2"},"cs7":{"cs-main":"c1","cs-second":"c2","cs-third":"gbw2","cs-fourth":"c2","cs-bg":"c2","cs-stroke":"c2+d","cs-fun":"c1","cs-btn":"c1","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"c1","cs-action":"gbw","cs-link":"c1","use":"content","cs-morelink":"gbw2"},"cs8":{"cs-main":"c1","cs-second":"c2","cs-third":"graylight+d","cs-fourth":"c1","cs-bg":"c1+p","cs-stroke":"c1","cs-fun":"c1","cs-btn":"c1","cs-p1":"graydark+l","cs-p2":"graymedian","cs-p3":"graymedian","cs-h4":"graydark+l","cs-h5":"c1","cs-action":"graydark+l","cs-link":"c2","cs-morelink":"graylight+d","use":"content"},"cs9":{"cs-main":"c2","cs-second":"c1","cs-third":"graylight+d","cs-fourth":"c2","cs-bg":"c2+p","cs-stroke":"c2","cs-fun":"c2","cs-btn":"c2","cs-p1":"graydark+l","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"graydark+l","cs-h5":"c2","cs-action":"graydark+l","cs-link":"c1","cs-morelink":"graylight+d","use":"content"},"cs10":{"cs-main":"c1","cs-second":"c2","cs-third":"graylight+d","cs-fourth":"c1","cs-bg":"white","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"graydark+l","cs-p2":"graymedian","cs-p3":"graymedian","cs-h4":"graydark+l","cs-h5":"c1","cs-action":"graydark+l","cs-link":"c2","cs-morelink":"graylight+d","use":"content"},"cs11":{"cs-main":"c2","cs-second":"c1","cs-third":"graylight+d","cs-fourth":"c2","cs-bg":"white","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"graydark+l","cs-p2":"graymedian","cs-p3":"graymedian","cs-h4":"graydark+l","cs-h5":"c2","cs-action":"graydark+l","cs-link":"c1","cs-morelink":"graylight+d","use":"content"},"cs12":{"cs-main":"c1","cs-second":"c2","cs-third":"gbw2","cs-fourth":"c1","cs-bg":"black","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bw","cs-h5":"c1","cs-action":"gbw","cs-link":"c2","use":"content","cs-morelink":"gbw2"},"cs13":{"cs-main":"c2","cs-second":"c1","cs-third":"gbw2","cs-fourth":"c2","cs-bg":"black","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bw","cs-h5":"c2","cs-action":"gbw","cs-link":"c1","use":"content","cs-morelink":"gbw2"},"cs14":{"cs-main":"c1","cs-second":"c2","cs-third":"graylight+d","cs-fourth":"c1","cs-bg":"lightgray","cs-stroke":"lightgray@d20","cs-fun":"c1","cs-btn":"c1","cs-p1":"graydark+l","cs-p2":"graymedian","cs-p3":"graymedian","cs-h4":"graydark+l","cs-h5":"c1","cs-action":"graydark+l","cs-link":"c2","cs-morelink":"graylight+d","use":"content"},"cs15":{"cs-main":"c2","cs-second":"c1","cs-third":"graylight+d","cs-fourth":"c2","cs-bg":"lightgray","cs-stroke":"lightgray@d20","cs-fun":"c2","cs-btn":"c2","cs-p1":"graydark+l","cs-p2":"graymedian","cs-p3":"graymedian","cs-h4":"graydark+l","cs-h5":"c2","cs-action":"graydark+l","cs-link":"c1","cs-morelink":"graylight+d","use":"content"},"cs16":{"cs-main":"c1","cs-second":"c2","cs-third":"gbw2","cs-fourth":"c1","cs-bg":"darkgray","cs-stroke":"darkgray@d25","cs-fun":"c1","cs-btn":"c1","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bw","cs-h5":"c1","cs-action":"gbw","cs-link":"c2","use":"content","cs-morelink":"gbw2"},"cs17":{"cs-main":"c2","cs-second":"c1","cs-third":"gbw2","cs-fourth":"c2","cs-bg":"darkgray","cs-stroke":"darkgray@d25","cs-fun":"c2","cs-btn":"c2","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bw","cs-h5":"c2","cs-action":"gbw","cs-link":"c1","use":"content","cs-morelink":"gbw2"}},"buttons":{"btn0":{"button":{"id":"flat","hideicon":true}},"btn1":{"button":{"id":"flatrelief","hideicon":true}},"btn2":{"button":{"id":"shadow","hideicon":true}},"btn18":{"button":{"id":"rounded","hidecon":true}},"btn3":{"button":{"id":"outline","hideicon":true}},"btn4":{"button":{"id":"outline2","hideicon":true}},"btn5":"btn2","btn6":"btn2","btn7":"btn2","btn8":"btn2","btn9":{"button":{"id":"flat","hideicon":false}},"btn10":{"button":{"id":"flatrelief","hideicon":false}},"btn11":{"button":{"id":"shadow","hideicon":false}},"btn12":{"button":{"id":"outline","hideicon":false}},"btn13":{"button":{"id":"outline2","hideicon":false}},"btn14":"btn11","btn15":"btn11","btn16":"btn11","btn17":"btn11","btn19":{"button":{"id":"capsule","hideicon":true}}},"biheaders":{"bh0":{},"bh1":{"bh-span2":{"text":"bww"}},"bh2":"bh1","bh3":"bh1","bh4":"bh1","bh5":{"bh-span1":{"bold":"700"},"bh-span2":{"bold":"normal"}},"bh6":{"bh-span1":{"bold":"700"},"bh-span2":{"bold":"normal","text":"bww"}},"bh7":"bh6","bh8":"bh9","bh9":{"alt":"bh17","bh-span1":{"isicon":true,"text":"bww"},"bh-span2":{"text":"cs-main"},"include":["ico1","ico4","ico5"],"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh10":{"alt":"bh18","bh-span1":{"isicon":true,"text":"gbw"},"bh-span2":{"text":"cs-main"},"include":["ico1","ico4","ico5"],"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh11":{"alt":"bh19","bh-span1":{"text":"cs-main"},"bh-span2":{"text":"gbw"},"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh12":"bh11","bh13":"bh11","bh14":"bh11","bh15":"bh11","bh16":"bh17","bh17":{"alt":"bh9","bh-span1":{"isicon":true,"text":"bww"},"bh-span2":{"text":"cs-fourth"},"exclude":["ico0","ico2","ico6","ico3","ico7","ico4","ico5"],"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"},"bh18":{"alt":"bh10","bh-span1":{"isicon":true,"text":"gbw"},"bh-span2":{"text":"cs-fourth"},"exclude":["ico0","ico2","ico6","ico3","ico7","ico4","ico5"],"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"},"bh19":{"alt":"bh11","bh-span1":{"text":"cs-fourth"},"bh-span2":{"text":"gbw"},"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"}},"aligns":{"al0":{"h1":{"align":"left"},"h2":{"align":"left"},"h3":{"align":"left"},"exclude":["ico5","ico8","ico9"]},"al1":{"h1":{"align":"center"},"h2":{"align":"center"},"h3":{"align":"center"},"exclude":["ico2","ico3","ico6","ico7"]},"al2":{"h1":{"align":"right"},"h2":{"align":"right"},"h3":{"align":"right"},"exclude":["ico2","ico3","ico5","ico6","ico7","ico8","ico9"]}},"outlines":{"out0":{"note":{"strokecolor":"transparent"}},"out1":{"note":{"strokecolor":"cs-stroke"},"withborder":true},"out2":{"note":{"shadow":"1px 3px 3px rgba(0,0,0,0.25)","strokecolor":"transparent"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out3":{"note":{"shadow":"0px 1px 4px rgba(0,0,0,0.3)","strokecolor":"transparent"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out4":"out2","out5":"out3","out6":{"note":{"shadow":"3px 3px 10px rgba( 0,0,0,0.15)","strokecolor":"transparent"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out7":"out3"},"images":{"img0":{"notebgimage":false}},"icons":{"ico0":{"icon":false},"ico1":{"icon":"in"},"ico2":{"icon":"inout"},"ico3":{"icon":"out"},"ico4":"ico1","ico5":{"icon":"intop","include":["m0","m1","m2","m3"]},"ico6":"ico2","ico7":"ico3","ico8":{"icon":"intopbig","include":["m0","m1","m2","m3"]},"ico9":"ico5"}};rpdpreset["z100"]={"models":{"m0":{"layout":"filet","params":{"hcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m1":{"layout":"filet","alt":"m1d","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m1d":{"layout":"filet","use":"content","alt":"m1","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"]},"m2":{"layout":"filet","alt":"m2d","params":{"hrstyle":"border-top: 4px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m2d":{"layout":"filet","use":"content","alt":"m2","params":{"hrstyle":"border-top: 4px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"]},"m3":{"layout":"filet","alt":"m3d","params":{"hrstyle":"border-top : 1px dashed","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["cs4","cs5"]},"m3d":{"layout":"filet","use":"content","alt":"m3","params":{"hrstyle":"border-top : 1px dashed","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"]},"m4":{"layout":"separateur","alt":"m4d","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["al0","al2","ico2","ico3","ico6","ico7","cs4","cs5"]},"m4d":{"layout":"separateur","use":"content","alt":"m4","params":{"hrstyle":"border-top:1px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs0","cs1","cs2","cs3","cs4","cs5"]},"m5":{"layout":"separateur","alt":"m5d","params":{"hrstyle":"border-top:4px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs4","cs5"]},"m5d":{"layout":"separateur","use":"content","alt":"m5","params":{"hrstyle":"border-top:4px solid","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs0","cs1","cs2","cs3","cs4","cs5"]},"m6":{"layout":"separateur","alt":"m6d","params":{"hrstyle":"border-top:1px dashed","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs4","cs5"]},"m6d":{"layout":"separateur","use":"content","alt":"m6","params":{"hrstyle":"border-top:1px dashed","hcolor":"cs-fourth","hrcolor":"cs-fourth","bgcolor":"cs-bg","detachment":"10px","hbgcolor":"transparent"},"exclude":["al0","al2","ico2","ico6","ico3","ico7","cs0","cs1","cs2","cs3","cs4","cs5"]},"m7":{"layout":"etiquette","params":{"hrstyle":"border-top:2px solid","hcolor":"cs-main","hrcolor":"cs-third","bgcolor":"cs-bg","hrmargin":"0px"},"exclude":["ico2","ico6","ico3","ico7","cs4","cs5"]},"m8":{"layout":"etiquette","params":{"hbgcolor":"cs-main","bgcolor":"cs-bg"},"exclude":["bh3","bh4","bh2","bh7","bh8","cs2","cs3"]},"m9":"m3","m10":"m0","m11":"m0","m12":"m1","m13":"m3","m14":"m0","m15":"m0","m16":"m0","m17":"m0","m18":"m1","m19":"m1","m20":"m1","m21":"m1d","m22":"m1d","m23":"m1d","m24":"m1d","m25":"m1d","m26":"m1d"},"typos":{"t0":{"notemargin":"20px","notehmargin":"13px","hrmargin":"15px","h1":{"textsize":"46px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"30px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h3":{"textsize":"22px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h4":{"textsize":"28px","line-height":"160%","bold":"700","case":"normal","font":"f2"},"h5":{"textsize":"18px","line-height":"160%","bold":"700","case":"normal","font":"f2"},"p1":{"textsize":"14px","line-height":"160%"},"p2":{"textsize":"100%","line-height":"160%","bold":"normal","case":"normal","italic":true},"p3":{"textsize":"85%","line-height":"160%","bold":"normal","case":"normal","italic":false},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"after":"content: '' ; padding-left: 12px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.4em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"normal"},"list":{"margin":"0.64em 0px","inset":false,"css":"border-top : solid 1px"}},"t1":{"notemargin":"20px","notehmargin":"13px","hrmargin":"15px","h1":{"textsize":"34px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"26px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h3":{"textsize":"20px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h4":{"textsize":"19px","line-height":"160%","bold":"700","case":"normal","font":"f2"},"h5":{"textsize":"16px","line-height":"160%","bold":"700","case":"normal","font":"f2"},"p1":{"textsize":"14px","line-height":"160%"},"p2":{"textsize":"100%","line-height":"160%","bold":"normal","case":"normal","italic":true},"p3":{"textsize":"85%","line-height":"160%","bold":"normal","case":"normal","italic":false},"link":{"after":"content: '' ; padding-left: 12px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.4em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"normal"},"list":{"margin":"0.64em 0px","inset":false,"css":"border-top : solid 1px"}},"t2":{"notemargin":"20px","notehmargin":"13px","hrmargin":"15px","h1":{"textsize":"46px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"30px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h3":{"textsize":"22px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h4":{"textsize":"28px","line-height":"160%","bold":"700","case":"normal","font":"f2"},"h5":{"textsize":"19px","line-height":"160%","bold":"700","case":"normal","font":"f2"},"p1":{"textsize":"16px","line-height":"160%"},"p2":{"textsize":"100%","line-height":"160%","bold":"normal","case":"normal","italic":true},"p3":{"textsize":"85%","line-height":"160%","bold":"normal","case":"normal","italic":false},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"after":"content: '' ; padding-left: 12px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.4em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"normal"},"list":{"margin":"0.64em 0px","inset":false,"css":"border-top : solid 1px"}},"t3":{"notemargin":"20px","notehmargin":"13px","hrmargin":"15px","h1":{"textsize":"22px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"30px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h3":{"textsize":"44px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h4":{"textsize":"26px","line-height":"150%","bold":"700","case":"normal","font":"f2"},"h5":{"textsize":"16px","line-height":"150%","bold":"700","case":"normal","font":"f2"},"p1":{"textsize":"15px","line-height":"150%"},"p2":{"textsize":"100%","line-height":"150%","bold":"normal","case":"normal","italic":true},"p3":{"textsize":"85%","line-height":"150%","bold":"normal","case":"normal","italic":false},"action":{"bold":"normal","italic":false,"case":"normal"},"link":{"before":"content: '' ; padding-right: 12px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.4em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"normal"},"list":{"margin":"0.64em 0px","inset":false,"css":"border-top : solid 1px"}},"t4":{"notemargin":"20px","notehmargin":"13px","hrmargin":"15px","h1":{"textsize":"34px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"26px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h3":{"textsize":"20px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h4":{"textsize":"16px","line-height":"160%","bold":"700","case":"normal","font":"f2"},"h5":{"textsize":"14px","line-height":"160%","bold":"700","case":"normal","font":"f2"},"p1":{"textsize":"12px","line-height":"160%"},"p2":{"textsize":"100%","line-height":"160%","bold":"normal","case":"normal","italic":true},"p3":{"textsize":"85%","line-height":"160%","bold":"normal","case":"normal","italic":false},"link":{"after":"content: '' ; padding-left: 12px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.4em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"normal"},"list":{"margin":"0.64em 0px","inset":false,"css":"border-top : solid 1px"}},"t5":{"notemargin":"20px","notehmargin":"13px","hrmargin":"15px","h1":{"textsize":"40px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h2":{"textsize":"18px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h3":{"textsize":"20px","line-height":"auto","bold":"700","case":"normal","font":"f2"},"h4":{"textsize":"15px","line-height":"160%","bold":"700","case":"normal","font":"f2"},"h5":{"textsize":"16px","line-height":"160%","bold":"700","case":"normal","font":"f2"},"p1":{"textsize":"12px","line-height":"160%"},"p2":{"textsize":"100%","line-height":"160%","bold":"normal","case":"normal","italic":true},"p3":{"textsize":"85%","line-height":"160%","bold":"normal","case":"normal","italic":false},"link":{"after":"content: '' ; padding-left: 8px ; display: inline-block ; font-size : 11px"},"button":{"padding":"0.4em 1.0em","margin":"0.35em 0","textsize":"16px","font":"f2","bold":"700","italic":false,"case":"up"},"list":{"margin":"0.64em 0px","inset":false,"css":"border-top : solid 1px"}}},"colorsets":{"cs0":{"cs-main":"graydark+l","cs-second":"c1","cs-third":"gbw2","cs-fourth":"graydark+l","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"graymedian+d","cs-p2":"graymedian","cs-p3":"graymedian","cs-h4":"graydark+l","cs-h5":"graydark+l","cs-action":"graymedian+d","cs-link":"c1","cs-morelink":"graylight+d"},"cs1":{"cs-main":"graydark+l","cs-second":"c2","cs-third":"gbw2","cs-fourth":"graydark+l","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"graymedian+d","cs-p2":"graymedian","cs-p3":"graymedian","cs-h4":"graydark+l","cs-h5":"graydark+l","cs-action":"graymedian+d","cs-link":"c2","cs-morelink":"graylight+d"},"cs2":{"cs-main":"bww","cs-second":"c1","cs-third":"gbw2","cs-fourth":"bww","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"bww","cs-action":"gbw","cs-link":"c1","cs-morelink":"gbw2"},"cs3":{"cs-main":"bww","cs-second":"c2","cs-third":"gbw2","cs-fourth":"bww","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"bww","cs-action":"gbw","cs-link":"c2","cs-morelink":"gbw2"},"cs4":{"cs-main":"bww","cs-second":"c1","cs-third":"gbw2","cs-fourth":"bww","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"bww","cs-action":"gbw","cs-link":"c1","cs-morelink":"gbw2"},"cs5":{"cs-main":"bww","cs-second":"c2","cs-third":"gbw2","cs-fourth":"bww","cs-bg":"transparent","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"bww","cs-action":"gbw","cs-link":"c2","cs-morelink":"gbw2"},"cs6":"cs8","cs7":"cs9","cs8":{"cs-main":"graydark+l","cs-second":"c1","cs-third":"gbw2","cs-fourth":"graydark+l","cs-bg":"c1+p","cs-stroke":"c1","cs-fun":"c1","cs-btn":"c1","cs-p1":"graymedian+d","cs-p2":"graymedian","cs-p3":"graymedian","cs-h4":"graydark+l","cs-h5":"graydark+l","cs-action":"graymedian+d","cs-link":"c1","cs-morelink":"graylight+d","use":"content"},"cs9":{"cs-main":"graydark+l","cs-second":"c2","cs-third":"gbw2","cs-fourth":"graydark+l","cs-bg":"c2+p","cs-stroke":"c2","cs-fun":"c2","cs-btn":"c2","cs-p1":"graymedian+d","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"graydark+l","cs-h5":"graydark+l","cs-action":"graymedian+d","cs-link":"c2","cs-morelink":"graylight+d","use":"content"},"cs10":{"cs-main":"graydark+l","cs-second":"c1","cs-third":"gbw2","cs-fourth":"graydark+l","cs-bg":"white","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"graymedian+d","cs-p2":"graymedian","cs-p3":"graymedian","cs-h4":"graydark+l","cs-h5":"graydark+l","cs-action":"graymedian+d","cs-link":"c1","cs-morelink":"graylight+d","use":"content"},"cs11":{"cs-main":"graydark+l","cs-second":"c2","cs-third":"gbw2","cs-fourth":"graydark+l","cs-bg":"white","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"graymedian+d","cs-p2":"graymedian","cs-p3":"graymedian","cs-h4":"graydark+l","cs-h5":"graydark+l","cs-action":"graymedian+d","cs-link":"c2","cs-morelink":"graylight+d","use":"content"},"cs12":{"cs-main":"bww","cs-second":"c1","cs-third":"gbw2","cs-fourth":"graydark+l","cs-bg":"black","cs-stroke":"gbw2","cs-fun":"c1","cs-btn":"c1","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"bww","cs-action":"gbw","cs-link":"c1","use":"content","cs-morelink":"gbw2"},"cs13":{"cs-main":"bww","cs-second":"c2","cs-third":"gbw2","cs-fourth":"graydark+l","cs-bg":"black","cs-stroke":"gbw2","cs-fun":"c2","cs-btn":"c2","cs-p1":"bww","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bww","cs-h5":"bww","cs-action":"gbw","cs-link":"c2","use":"content","cs-morelink":"gbw2"},"cs14":{"cs-main":"graydark+l","cs-second":"c1","cs-third":"gbw2","cs-fourth":"graydark+l","cs-bg":"lightgray","cs-stroke":"lightgray@d20","cs-fun":"c1","cs-btn":"c1","cs-p1":"graymedian+d","cs-p2":"graymedian","cs-p3":"graymedian","cs-h4":"graydark+l","cs-h5":"graydark+l","cs-action":"graymedian+d","cs-link":"c1","cs-morelink":"graylight+d","use":"content"},"cs15":{"cs-main":"graydark+l","cs-second":"c2","cs-third":"gbw2","cs-fourth":"graydark+l","cs-bg":"lightgray","cs-stroke":"lightgray@d20","cs-fun":"c2","cs-btn":"c2","cs-p1":"graymedian+d","cs-p2":"graymedian","cs-p3":"graymedian","cs-h4":"graydark+l","cs-h5":"graydark+l","cs-action":"graymedian+d","cs-link":"c2","cs-morelink":"graylight+d","use":"content"},"cs16":{"cs-main":"bw","cs-second":"c1","cs-third":"gbw2","cs-fourth":"graydark+l","cs-bg":"darkgray","cs-stroke":"darkgray@d25","cs-fun":"c1","cs-btn":"c1","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bw","cs-h5":"bw","cs-action":"gbw","cs-link":"c1","use":"content","cs-morelink":"gbw2"},"cs17":{"cs-main":"bw","cs-second":"c2","cs-third":"gbw2","cs-fourth":"graydark+l","cs-bg":"darkgray","cs-stroke":"darkgray@d25","cs-fun":"c2","cs-btn":"c2","cs-p1":"bw","cs-p2":"gbw","cs-p3":"gbw","cs-h4":"bw","cs-h5":"bw","cs-action":"gbw","cs-link":"c2","use":"content","cs-morelink":"gbw2"}},"buttons":{"btn0":{"button":{"id":"flat","hideicon":true}},"btn1":"btn2","btn2":{"button":{"id":"shadow","hideicon":true}},"btn18":{"button":{"id":"rounded","hidecon":true}},"btn3":{"button":{"id":"outline","hideicon":true}},"btn4":{"button":{"id":"outline2","hideicon":true}},"btn5":"btn2","btn6":"btn2","btn7":"btn2","btn8":"btn2","btn9":{"button":{"id":"flat","hideicon":false}},"btn10":"btn11","btn11":{"button":{"id":"shadow","hideicon":false}},"btn12":{"button":{"id":"outline","hideicon":false}},"btn13":{"button":{"id":"outline2","hideicon":false}},"btn14":"btn11","btn15":"btn11","btn16":"btn11","btn17":"btn11","btn19":{"button":{"id":"capsule","hideicon":true}}},"biheaders":{"bh0":{},"bh1":"bh5","bh2":"bh5","bh3":"bh5","bh4":"bh5","bh5":{"bh-span1":{"bold":"700"},"bh-span2":{"bold":"normal"}},"bh6":"bh5","bh7":"bh5","bh8":"bh10","bh9":"bh10","bh10":{"alt":"bh18","bh-span1":{"isicon":true,"text":"gbw"},"bh-span2":{"text":"cs-main"},"include":["ico1","ico4","ico5"],"exclude":["m1d","m2d","m3d","m4d","m5d","m6d"]},"bh11":"bh5","bh12":"bh5","bh13":"bh5","bh14":"bh5","bh15":"bh5","bh16":"bh18","bh17":"bh18","bh18":{"alt":"bh10","bh-span1":{"isicon":true,"text":"gbw"},"bh-span2":{"text":"cs-fourth"},"exclude":["ico0","ico2","ico6","ico3","ico7","ico4","ico5"],"include":["m1d","m2d","m3d","m4d","m5d","m6d"],"use":"content"},"bh19":"bh5"},"aligns":{"al0":{"h1":{"align":"left"},"h2":{"align":"left"},"h3":{"align":"left"},"exclude":["ico5","ico8","ico9"]},"al1":{"h1":{"align":"center"},"h2":{"align":"center"},"h3":{"align":"center"},"exclude":["ico2","ico3","ico6","ico7"]},"al2":{"h1":{"align":"right"},"h2":{"align":"right"},"h3":{"align":"right"},"exclude":["ico2","ico3","ico5","ico6","ico7","ico8","ico9"]}},"outlines":{"out0":{"note":{"strokecolor":"transparent"}},"out1":{"note":{"strokecolor":"cs-stroke"},"withborder":true},"out2":"out3","out3":{"note":{"shadow":"0px 1px 4px rgba(0,0,0,0.3)","strokecolor":"transparent"},"withborder":true,"exclude":["cs0","cs1","cs2","cs3","cs4","cs5"],"use":"content"},"out4":"out3","out5":"out3","out6":"out3","out7":"out3"},"images":{"img0":{"notebgimage":false}},"icons":{"ico0":{"icon":false},"ico1":{"icon":"in"},"ico2":{"icon":"inout"},"ico3":{"icon":"out"},"ico4":"ico1","ico5":{"icon":"intop","include":["m0","m1","m2","m3"]},"ico6":"ico2","ico7":"ico3","ico8":"ico5","ico9":"ico5"}};var fallback_conf={"cs0":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m1d":{"model":"m1d","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"cs1":{"model":"m0","colorset":"cs1","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"cs2":{"model":"m0","colorset":"cs2","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"cs3":{"model":"m0","colorset":"cs3","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"cs4":{"model":"m0","colorset":"cs4","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"cs5":{"model":"m0","colorset":"cs5","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m2d":{"model":"m2d","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m3d":{"model":"m3d","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"al0":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m4":{"model":"m4","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"al2":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al2","outline":"out0","image":"img0","icon":"ico0"},"ico2":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico2"},"ico3":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico3"},"m4d":{"model":"m4d","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m5":{"model":"m5","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m5d":{"model":"m5d","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m6":{"model":"m6","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m6d":{"model":"m6d","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m7":{"model":"m7","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"bh3":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh3","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m8":{"model":"m8","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"bh4":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh4","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"bh2":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh2","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"bh7":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh7","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"bh8":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh8","align":"al0","outline":"out0","image":"img0","icon":"ico1"},"m9":{"model":"m9","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m10":{"model":"m10","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"al1":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al1","outline":"out0","image":"img0","icon":"ico0"},"m11":{"model":"m11","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m12":{"model":"m12","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m13":{"model":"m13","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m14":{"model":"m14","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m15":{"model":"m15","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m16":{"model":"m16","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m17":{"model":"m17","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m18":{"model":"m18","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m19":{"model":"m19","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m20":{"model":"m20","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m21":{"model":"m21","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m22":{"model":"m22","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m23":{"model":"m23","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m24":{"model":"m24","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m25":{"model":"m25","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m26":{"model":"m26","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"ico0":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"ico4":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico4"},"ico5":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al1","outline":"out0","image":"img0","icon":"ico5"},"bh9":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh9","align":"al0","outline":"out0","image":"img0","icon":"ico1"},"ico6":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico6"},"ico7":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico7"},"ico8":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al1","outline":"out0","image":"img0","icon":"ico8"},"ico9":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al1","outline":"out0","image":"img0","icon":"ico9"},"bh10":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh10","align":"al0","outline":"out0","image":"img0","icon":"ico1"},"bh11":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh11","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m0":{"model":"m0","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"bh12":{"model":"m1d","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh12","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m1":{"model":"m1","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m2":{"model":"m2","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"m3":{"model":"m3","colorset":"cs0","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"bh13":{"model":"m1d","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh13","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"bh14":{"model":"m1d","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh14","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"bh15":{"model":"m1d","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh15","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"bh16":{"model":"m1d","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh16","align":"al0","outline":"out0","image":"img0","icon":"ico1"},"bh17":{"model":"m1d","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh17","align":"al0","outline":"out0","image":"img0","icon":"ico1"},"bh18":{"model":"m1d","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh18","align":"al0","outline":"out0","image":"img0","icon":"ico1"},"bh19":{"model":"m1d","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh19","align":"al0","outline":"out0","image":"img0","icon":"ico0"},"out2":{"model":"m0","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out2","image":"img0","icon":"ico0"},"out3":{"model":"m0","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out3","image":"img0","icon":"ico0"},"out4":{"model":"m0","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out4","image":"img0","icon":"ico0"},"out5":{"model":"m0","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out5","image":"img0","icon":"ico0"},"out6":{"model":"m0","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out6","image":"img0","icon":"ico0"},"out7":{"model":"m0","colorset":"cs6","typo":"t0","button":"btn0","biheader":"bh0","align":"al0","outline":"out7","image":"img0","icon":"ico0"}};var rpdpreset_maj={"csmaj":{"cs-main":"c1","cs-second":"c2","cs-third":"c1","cs-fourth":"c1","cs-bg":"c1","cs-stroke":"bw","cs-fun":"c1","cs-btn":"bw","cs-p1":"bw","cs-p2":"bw","cs-p3":"gbw","cs-h4":"bw","cs-h5":"bw","cs-action":"bw","cs-link":"bw"},"tmaj":{"name":"Mise à jour","notemargin":"10px","notehmargin":"10px","hrmargin":"2px","h1":{"textsize":"36px"},"h2":{"textsize":"30px"},"h3":{"textsize":"18px","bold":true},"h4":{"textsize":"24px","bold":true},"h5":{"textsize":"14px","bold":true},"p1":{"textsize":"12px"},"p2":{"textsize":"11px"},"p3":{"textsize":"11px","italic":true,"color":"gbw"},"list":{"inset":false,"color":"gbw2","css":"border-top : solid 1px"}}};var menupreset={};menupreset["z20"]={"models":{"m0":{"unicolor":true},"m1":{"hrstyle":"border-bottom: 4px solid","hrcolor":"cs-second","unicolor":true,"exclude":["cs0","cs1","cs2","cs3"]},"m2":{"hrstyle":"border-top: 1px solid; border-bottom:1px solid","hrcolor":"cs-second","unicolor":true,"exclude":["cs0","cs1","cs2","cs3"]},"m3":{"gradient":true,"exclude":["cs0","cs1","cs2","cs3"]},"m4":{"glossy":true,"hrstyle":"border: 1px solid","exclude":["cs0","cs1","cs2","cs3"]},"m5":{"pattern":true,"exclude":["cs0","cs1","cs2","cs3"]},"m6":{"gradient":true,"hrstyle":"border: 1px solid","exclude":["sh0","cs0","cs1","cs2","cs3"]},"m7":{"gradient":true,"hrstyle":"border: 1px solid","innershadow":true,"exclude":["sh0","cs0","cs1","cs2","cs3"]}},"colorsets":{"cs0":{"cs-main":"transparent","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs1":{"cs-main":"transparent","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs2":{"cs-main":"transparent","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs3":{"cs-main":"transparent","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs4":{"cs-main":"c1","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs5":{"cs-main":"c2","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs6":{"cs-main":"c1+d","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs7":{"cs-main":"white","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs8":{"cs-main":"graydark","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs9":{"cs-main":"graylight","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs10":{"cs-main":"black","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs11":{"cs-main":"white","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs12":{"cs-main":"graydark","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs13":{"cs-main":"graylight","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs14":{"cs-main":"black","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"}},"typos":{"t0":{"menu":{"textsize":"20px","line-height":"160%","bold":"700","case":"up","font":"f2"},"submenu":{"textsize":"13px","line-height":"180%"}},"t1":{"menu":{"textsize":"18px","line-height":"150%","bold":"700","case":"up","font":"f2"},"submenu":{"textsize":"13px","line-height":"170%"}},"t2":{"menu":{"textsize":"16px","line-height":"150%","bold":"normal","case":"up","font":"f2"},"submenu":{"textsize":"13px","line-height":"170%"}}},"states":{"sta0":{"state_id":"neutral"},"sta1":{"state_id":"tag"},"sta2":{"state_id":"tag_contrast"},"sta3":{"state_id":"tag_bw"},"sta4":{"state_id":"underline","exclude":["m1"]},"sta5":{"state_id":"tab","exclude":["m1","m4","m6","m7"]},"sta6":{"state_id":"triangle"}},"separators":{"sep0":{"sep_id":"none"},"sep1":{"sep_id":"separator"},"sep2":{"sep_id":"big_separator","exclude":["m2","m3","m6","m7"]},"sep3":{"sep_id":"incrust"},"sep4":{"sep_id":"big_incrust","exclude":["m2","m3","m6","m7"]}},"arrows":{"arr0":{"arrow_id":"none"},"arr1":{"arrow_id":"gray"},"arr2":{"arrow_id":"colored"}},"formats":{"for0":{"format_id":"wide","exclude":["sh1"]},"for1":{"format_id":"square"},"for2":{"format_id":"round"}},"shadows":{"sh0":{"sh-css":"none"},"sh1":{"sh-css":"0 1px 4px rgba(0,0,0,0.3)"},"sh2":{"sh-css":"0 0 10px rgba(0,0,0,0.2)"},"sh3":{"sh-css":"0 0 10px rgba(0,0,0,0.6)"}},"aligns":{"al0":{"align":"left"},"al1":{"align":"center"},"al2":{"align":"right"},"al3":{"align":"justify"}}};menupreset["z40"]={"models":{"m0":{"unicolor":true},"m1":{"hrstyle":"border-bottom: 4px solid","hrcolor":"cs-third","unicolor":true,"exclude":["cs0","cs1","cs2","cs3"]},"m2":{"hrstyle":"border-top: 1px solid; border-bottom:1px solid","hrcolor":"cs-third","unicolor":true,"exclude":["cs0","cs1","cs2","cs3"]},"m3":{"gradient":true,"exclude":["cs0","cs1","cs2","cs3"]},"m4":"m3","m5":{"pattern":true,"exclude":["cs0","cs1","cs2","cs3"]},"m6":{"gradient":true,"hrstyle":"border: 1px solid","exclude":["sh0","cs0","cs1","cs2","cs3"]},"m7":{"gradient":true,"hrstyle":"border: 1px solid","innershadow":true,"exclude":["sh0","cs0","cs1","cs2","cs3"]}},"colorsets":{"cs0":{"cs-main":"transparent","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs1":{"cs-main":"transparent","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs2":{"cs-main":"transparent","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs3":{"cs-main":"transparent","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs4":{"cs-main":"c1","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs5":{"cs-main":"c2","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs6":{"cs-main":"c1+d","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs7":{"cs-main":"white","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs8":{"cs-main":"graydark","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs9":{"cs-main":"graylight","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs10":{"cs-main":"black","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs11":{"cs-main":"white","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs12":{"cs-main":"graydark","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs13":{"cs-main":"graylight","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs14":{"cs-main":"black","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"}},"typos":{"t0":{"menu":{"textsize":"19px","line-height":"160%","bold":"700","case":"up","font":"f2"},"submenu":{"textsize":"13px","line-height":"180%"}},"t1":{"menu":{"textsize":"17px","line-height":"150%","bold":"700","case":"up","font":"f2"},"submenu":{"textsize":"13px","line-height":"170%"}},"t2":{"menu":{"textsize":"15px","line-height":"150%","bold":"normal","case":"up","font":"f2"},"submenu":{"textsize":"13px","line-height":"170%"}}},"states":{"sta0":{"state_id":"neutral"},"sta1":{"state_id":"tag"},"sta2":{"state_id":"tag_contrast"},"sta3":{"state_id":"tag_bw"},"sta4":{"state_id":"underline","exclude":["m1"]},"sta5":{"state_id":"tab","exclude":["m1","m4","m6","m7"]},"sta6":{"state_id":"triangle"}},"separators":{"sep0":{"sep_id":"none"},"sep1":{"sep_id":"separator"},"sep2":{"sep_id":"big_separator","exclude":["m2","m3","m6","m7"]},"sep3":{"sep_id":"incrust"},"sep4":{"sep_id":"big_incrust","exclude":["m2","m3","m6","m7"]}},"arrows":{"arr0":{"arrow_id":"none"},"arr1":{"arrow_id":"gray"},"arr2":{"arrow_id":"colored"}},"formats":{"for0":{"format_id":"wide","exclude":["sh1"]},"for1":{"format_id":"square"},"for2":{"format_id":"round"}},"shadows":{"sh0":{"sh-css":"none"},"sh1":{"sh-css":"0 1px 4px rgba(0,0,0,0.3)"},"sh2":{"sh-css":"0 0 10px rgba(0,0,0,0.2)"},"sh3":"sh2"},"aligns":{"al0":{"align":"left"},"al1":{"align":"center"},"al2":{"align":"right"},"al3":{"align":"justify"}}};menupreset["z60"]={"models":{"m0":{"unicolor":true},"m1":{"hrstyle":"border-bottom: 4px solid","unicolor":true,"exclude":["cs0","cs1","cs2","cs3"]},"m2":{"hrstyle":"border-top: 1px solid; border-bottom:1px solid","unicolor":true,"exclude":["cs0","cs1","cs2","cs3"]},"m3":{"gradient":true,"exclude":["cs0","cs1","cs2","cs3"]},"m4":"m3","m5":"m0","m6":"m3","m7":"m3"},"colorsets":{"cs0":{"cs-main":"transparent","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs1":{"cs-main":"transparent","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs2":{"cs-main":"transparent","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs3":{"cs-main":"transparent","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs4":{"cs-main":"c1","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs5":"cs4","cs6":{"cs-main":"c1+d","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs7":{"cs-main":"white","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs8":{"cs-main":"graydark","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs9":{"cs-main":"graylight","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs10":{"cs-main":"black","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs11":{"cs-main":"white","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs12":{"cs-main":"graydark","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs13":{"cs-main":"graylight","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs14":{"cs-main":"black","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"}},"typos":{"t0":{"menu":{"textsize":"19px","line-height":"160%","bold":"700","case":"up","font":"f2"},"submenu":{"textsize":"14px","line-height":"180%"}},"t1":{"menu":{"textsize":"17px","line-height":"150%","bold":"700","case":"up","font":"f2"},"submenu":{"textsize":"14px","line-height":"170%"}},"t2":{"menu":{"textsize":"15px","line-height":"150%","bold":"normal","case":"up","font":"f2"},"submenu":{"textsize":"14px","line-height":"170%"}}},"states":{"sta0":{"state_id":"neutral"},"sta1":{"state_id":"tag"},"sta2":{"state_id":"tag_contrast"},"sta3":{"state_id":"tag_bw"},"sta4":{"state_id":"underline","exclude":["m1"]},"sta5":{"state_id":"tab","exclude":["m1","m4","m6","m7"]},"sta6":{"state_id":"triangle"}},"separators":{"sep0":{"sep_id":"none"},"sep1":{"sep_id":"separator"},"sep2":{"sep_id":"big_separator","exclude":["m2","m3","m6","m7"]},"sep3":{"sep_id":"incrust"},"sep4":{"sep_id":"big_incrust","exclude":["m2","m3","m6","m7"]}},"arrows":{"arr0":{"arrow_id":"none"},"arr1":{"arrow_id":"gray"},"arr2":{"arrow_id":"colored"}},"formats":{"for0":{"format_id":"wide","exclude":["sh1"]},"for1":{"format_id":"square"},"for2":{"format_id":"round"}},"shadows":{"sh0":{"sh-css":"none"},"sh1":{"sh-css":"0 1px 4px rgba(0,0,0,0.3)"},"sh2":"sh1","sh3":"sh1"},"aligns":{"al0":{"align":"left"},"al1":{"align":"center"},"al2":{"align":"right"},"al3":{"align":"justify"}}};menupreset["z80"]={"models":{"m0":{"unicolor":true},"m1":{"hrstyle":"border-bottom: 4px solid","unicolor":true,"exclude":["cs0","cs1","cs2","cs3"]},"m2":{"hrstyle":"border-top: 1px solid; border-bottom:1px solid","unicolor":true,"exclude":["cs0","cs1","cs2","cs3"]},"m3":"m0","m4":"m0","m5":"m0","m6":"m0","m7":"m0"},"colorsets":{"cs0":{"cs-main":"transparent","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs1":{"cs-main":"transparent","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs2":{"cs-main":"transparent","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs3":{"cs-main":"transparent","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs4":{"cs-main":"c1","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs5":"cs4","cs6":{"cs-main":"c1+d","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs7":{"cs-main":"white","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs8":{"cs-main":"graydark","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs9":{"cs-main":"graylight","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs10":{"cs-main":"black","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs11":{"cs-main":"white","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs12":{"cs-main":"graydark","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs13":{"cs-main":"graylight","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs14":{"cs-main":"black","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"}},"typos":{"t0":{"menu":{"textsize":"18px","line-height":"160%","bold":"700","case":"up","font":"f2"},"submenu":{"textsize":"14px","font":"f2","line-height":"180%"}},"t1":{"menu":{"textsize":"16px","line-height":"160%","bold":"700","case":"up","font":"f2"},"submenu":{"textsize":"14px","line-height":"180%"}},"t2":{"menu":{"textsize":"14px","line-height":"160%","bold":"normal","case":"normal","font":"f2"},"submenu":{"textsize":"14px","line-height":"180%"}}},"states":{"sta0":{"state_id":"neutral"},"sta1":{"state_id":"tag"},"sta2":{"state_id":"tag_contrast"},"sta3":{"state_id":"tag_bw"},"sta4":{"state_id":"underline","exclude":["m1"]},"sta5":{"state_id":"tab","exclude":["m1","m4","m6","m7"]},"sta6":{"state_id":"triangle"}},"separators":{"sep0":{"sep_id":"none"},"sep1":{"sep_id":"separator"},"sep2":"sep1","sep3":{"sep_id":"incrust"},"sep4":{"sep_id":"big_incrust","exclude":["m2","m3","m6","m7"]}},"arrows":{"arr0":{"arrow_id":"none"},"arr1":{"arrow_id":"gray"},"arr2":{"arrow_id":"colored"}},"formats":{"for0":{"format_id":"wide","exclude":["sh1"]},"for1":{"format_id":"square"},"for2":{"format_id":"round"}},"shadows":{"sh0":{"sh-css":"none"},"sh1":{"sh-css":"0 1px 4px rgba(0,0,0,0.3)"},"sh2":"sh1","sh3":"sh1"},"aligns":{"al0":{"align":"left"},"al1":{"align":"center"},"al2":{"align":"right"},"al3":{"align":"justify"}}};menupreset["z100"]={"models":{"m0":{"unicolor":true},"m1":{"hrstyle":"border-bottom: 4px solid","unicolor":true,"exclude":["cs0","cs1","cs2","cs3"]},"m2":{"hrstyle":"border-top: 1px solid; border-bottom:1px solid","unicolor":true,"exclude":["cs0","cs1","cs2","cs3"]},"m3":"m0","m4":"m0","m5":"m0","m6":"m0","m7":"m0"},"colorsets":{"cs0":{"cs-main":"transparent","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs1":{"cs-main":"transparent","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs2":{"cs-main":"transparent","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs3":{"cs-main":"transparent","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs4":"cs9","cs5":"cs8","cs6":"cs8","cs7":{"cs-main":"white","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs8":{"cs-main":"graydark","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs9":{"cs-main":"graylight","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs10":{"cs-main":"black","cs-second":"bww","cs-third":"c1","cs-fourth":"c1+d"},"cs11":{"cs-main":"white","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs12":{"cs-main":"graydark","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs13":{"cs-main":"graylight","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"},"cs14":{"cs-main":"black","cs-second":"bww","cs-third":"c2","cs-fourth":"c2+d"}},"typos":{"t0":{"menu":{"textsize":"18px","line-height":"160%","bold":"700","case":"up","font":"f2"},"submenu":{"textsize":"14px","line-height":"180%"}},"t1":{"menu":{"textsize":"16px","line-height":"160%","bold":"normal","case":"up","font":"f2"},"submenu":{"textsize":"14px","line-height":"180%"}},"t2":{"menu":{"textsize":"14px","line-height":"160%","bold":"normal","case":"normal","font":"f2"},"submenu":{"textsize":"14px","line-height":"180%"}}},"states":{"sta0":{"state_id":"neutral"},"sta1":"sta3","sta2":{"state_id":"tag_contrast"},"sta3":{"state_id":"tag_bw"},"sta4":{"state_id":"underline","exclude":["m1"]},"sta5":"sta4","sta6":{"state_id":"triangle"}},"separators":{"sep0":{"sep_id":"none"},"sep1":{"sep_id":"separator"},"sep2":"sep1","sep3":{"sep_id":"incrust"},"sep4":"sep3"},"arrows":{"arr0":{"arrow_id":"none"},"arr1":{"arrow_id":"gray"},"arr2":{"arrow_id":"colored"}},"formats":{"for0":{"format_id":"wide","exclude":["sh1"]},"for1":{"format_id":"square"},"for2":"for1"},"shadows":{"sh0":{"sh-css":"none"},"sh1":"sh0","sh2":"sh0","sh3":"sh0"},"aligns":{"al0":{"align":"left"},"al1":{"align":"center"},"al2":{"align":"right"},"al3":{"align":"justify"}}};var sectionpreset={"colorsets":{"cs0":{"name":"Transparent","cs-bg":"transparent","cs-tobg":"c1","cs-mask":"c1","cs-border":"c1"},"cs1":{"name":"Fond blanc","cs-bg":"white","cs-tobg":"white+m","cs-mask":"white+m","cs-border":"white+m"},"cs2":{"name":"Couleur 1 sur fond blanc","cs-bg":"white","cs-tobg":"white+m","cs-mask":"c1","cs-border":"c1"},"cs3":{"name":"Couleur 2 sur fond blanc","cs-bg":"white","cs-tobg":"white+m","cs-mask":"c2","cs-border":"c2"},"cs4":{"name":"Fond noir","cs-bg":"black","cs-tobg":"black+m","cs-mask":"black","cs-border":"black+m"},"cs5":{"name":"Couleur 1 sur fond noir","cs-bg":"black","cs-tobg":"black+m","cs-mask":"c1","cs-border":"c1"},"cs6":{"name":"Couleur 2 sur fond noir","cs-bg":"black","cs-tobg":"black+m","cs-mask":"c2","cs-border":"c2"},"cs7":{"name":"Fond de couleur 1","cs-bg":"c1","cs-tobg":"c1+d","cs-mask":"c1","cs-border":"c2"},"cs8":{"name":"Fond de couleur 1, dégradé clair","cs-bg":"c1","cs-tobg":"c1+l","cs-mask":"c1","cs-border":"c2"},"cs9":{"name":"Fond de couleur 1 foncé","cs-bg":"c1+d","cs-tobg":"c1","cs-mask":"c1+d","cs-border":"c2"},"cs10":{"name":"Fond de couleur 1 clair","cs-bg":"c1+l","cs-tobg":"c1","cs-mask":"c1+l","cs-border":"c2"},"cs11":{"name":"Fond de couleur 1 pastel","cs-bg":"c1+p","cs-tobg":"white","cs-mask":"c1+p","cs-border":"white+m"},"cs12":{"name":"Couleur 2 sur fond de couleur 1 pastel","cs-bg":"c1+p","cs-tobg":"white","cs-mask":"c2","cs-border":"c2"},"cs13":{"name":"Fond de couleur 2","cs-bg":"c2","cs-tobg":"c2+d","cs-mask":"c2","cs-border":"c1"},"cs14":{"name":"Fond gris clair","cs-bg":"graylight","cs-tobg":"white","cs-mask":"graylight","cs-border":"gbw2-graylight"},"cs15":{"name":"Couleur 1 sur gris clair","cs-bg":"graylight","cs-tobg":"white","cs-mask":"c1","cs-border":"c1"},"cs16":{"name":"Couleur 2 sur gris clair","cs-bg":"graylight","cs-tobg":"white","cs-mask":"c2","cs-border":"c2"},"cs17":{"name":"Couleur 1 sur gris","cs-bg":"graymedian","cs-tobg":"graymedian+d","cs-mask":"c1","cs-border":"c1"},"cs18":{"name":"Couleur 2 sur gris","cs-bg":"graymedian","cs-tobg":"graymedian+d","cs-mask":"c2","cs-border":"c2"},"cs19":{"name":"Couleur 1 sur gris foncé","cs-bg":"graymedian+d","cs-tobg":"black+m","cs-mask":"c1","cs-border":"c1"},"cs20":{"name":"Couleur 2 sur gris foncé","cs-bg":"graymedian+d","cs-tobg":"black+m","cs-mask":"c2","cs-border":"c2"},"cs21":{"name":"Fond gris très clair","cs-bg":"white+p","cs-tobg":"white","cs-mask":"white+p","cs-border":"gbw2-white+p"},"cs22":{"name":"Couleur 1 sur gris très clair","cs-bg":"white+p","cs-tobg":"white","cs-mask":"c1","cs-border":"c1"},"cs23":{"name":"Couleur 2 sur gris très clair","cs-bg":"white+p","cs-tobg":"white","cs-mask":"c2","cs-border":"c2"},"cs24":{"name":"Fond de couleur 2, dégradé clair","cs-bg":"c2","cs-tobg":"c2+l","cs-mask":"c2","cs-border":"c1"},"cs25":{"name":"Fond de couleur 2 foncé","cs-bg":"c2+d","cs-tobg":"c2","cs-mask":"c2+d","cs-border":"c1"},"cs26":{"name":"Fond de couleur 2 clair","cs-bg":"c2+l","cs-tobg":"c2","cs-mask":"c2+l","cs-border":"c1"},"cs27":{"name":"Fond de couleur 2 pastel","cs-bg":"c2+p","cs-tobg":"white","cs-mask":"c2+p","cs-border":"white+m"},"cs28":{"name":"Couleur 1 sur fond de couleur 2 pastel","cs-bg":"c2+p","cs-tobg":"white","cs-mask":"c1","cs-border":"c1"}},"borders":{"bd0":{"name":"Sans bordure","bd-css":"border: none"},"bd1":{"name":"Petite bordure bas","bd-css":"border-bottom: solid 1px"},"bd2":{"name":"Moyenne bordure bas","bd-css":"border-bottom: solid 2px"},"bd3":{"name":"Grande bordure bas","bd-css":"border-bottom : 5px solid"},"bd4":{"name":"Petite bordure haut","bd-css":"border-top: solid 1px"},"bd5":{"name":"Moyenne bordure haut","bd-css":"border-top: solid 2px"},"bd6":{"name":"Grande bordure haut","bd-css":"border-top : 5px solid"},"bd7":{"name":"Encadré","bd-css":"border: solid 1px"},"bd8":{"name":"Colonne de droite","bd-css":"border-left: solid 1px"}},"shadows":{"sh0":{"name":"Sans ombre","sh-css":false},"sh1":{"name":"Petite ombre légère","sh-css":"0 0 10px rgba(0,0,0,0.2)"},"sh2":{"name":"Petite ombre foncée","sh-css":"0 0 10px rgba(0,0,0,0.6)"},"sh3":{"name":"Grande ombre légère","sh-css":"0 0 40px rgba(0,0,0,0.2)"},"sh4":{"name":"Grande ombre foncée","sh-css":"0 0 40px rgba(0,0,0,0.6)"},"sh5":{"name":"Fine ombre légère","sh-css":"0 0 3px rgba(0,0,0,0.15)"},"sh6":{"name":"Fine ombre légère, vers le bas","sh-css":"0 3px 6px rgba(0,0,0,0.25)"}},"backgrounds":{"bg0":{"name":"Uni","bg-type":"uni"},"bg1":{"name":"Dégradé vertical","bg-type":"gradient"},"bg2":{"name":"Dégradé horizontal","bg-type":"hgradient"},"bg3":{"name":"Dégradé horizontal inversé","bg-type":"hgradient_r"}},"images":{"img0":{"name":"Sans image","img-mode":false},"img1":{"name":"Fixe, recouvrement","img-mode":"img-only","img-params":{"img-repeat":"cover","img-fixed":true,"text-offset":{"vertical":"middle","arrowbottom":false}}},"img2":{"name":"Taille réelle","img-mode":"img-only","img-params":{"img-repeat":"no-repeat","img-position":"center top","text-offset":{"vertical":"middle","arrowbottom":false}}},"img3":{"name":"Fixe, taille réelle","img-mode":"img-only","img-params":{"img-repeat":"no-repeat","img-fixed":true,"text-offset":{"vertical":"middle","arrowbottom":false}}},"img4":{"name":"Recouvrement","img-mode":"img-only","img-params":{"img-repeat":"cover","img-fixed":false,"text-offset":{"vertical":"middle","arrowbottom":false}}},"img6":{"name":"Fixe, papier peint","img-mode":"img-only","img-params":{"img-repeat":"repeat","img-fixed":true,"text-offset":{"vertical":"middle","arrowbottom":false}}},"img7":{"name":"Papier peint","img-mode":"img-only","img-params":{"img-repeat":"repeat","text-offset":{"vertical":"middle","arrowbottom":false}}},"img8":{"name":"Horizontal gauche","img-mode":"content-mask","img-params":{"mask-url":"/services/skeletons/images/{cs-mask}/horizontal-left.png","brut-img":true,"img-repeat":"cover","mask-repeat":"repeat-y","alt-gradient-startopacity":"0.5","text-offset":{"right":"370px","eqmargin":true,"vertical":"middle","arrowbottom":true}},"img-params-xs":{"mask-url":"none","mask-bg":"cs-mask","mask-opacity":"0.5"}},"img9":{"name":"Horizontal droite","img-mode":"content-mask","img-params":{"mask-url":"/services/skeletons/images/{cs-mask}/horizontal-right.png","brut-img":true,"img-repeat":"cover","mask-repeat":"repeat-y","alt-gradient-startopacity":"0.5","text-offset":{"left":"620px","eqmargin":true,"vertical":"middle","arrowbottom":true}},"img-params-xs":{"mask-url":"none","mask-bg":"cs-mask","mask-opacity":"0.5"}},"img10":{"name":"Diagonal gauche","img-mode":"content-mask","img-params":{"mask-url":"/services/skeletons/images/{cs-mask}/diagonal-left.png","brut-img":true,"img-repeat":"cover","img-position":"center center","alt-gradient-startopacity":"0.5","text-offset":{"right":"300px","vertical":"bottom","arrowbottom":true}},"img-params-xs":{"mask-url":"none","mask-bg":"cs-mask","mask-opacity":"0.5"}},"img11":{"name":"Diagonal droite","img-mode":"content-mask","img-params":{"mask-url":"/services/skeletons/images/{cs-mask}/diagonal-right.png","brut-img":true,"img-repeat":"cover","img-position":"center center","alt-gradient-startopacity":"0.5","text-offset":{"left":"690px","vertical":"bottom","arrowbottom":true}},"img-params-xs":{"mask-url":"none","mask-bg":"cs-mask","mask-opacity":"0.5"}},"img12":{"name":"Horizontal dégradé gauche","img-mode":"content-mask","img-params":{"mask-url":"/services/skeletons/images/{cs-mask}/horizontal-blur-left.png","brut-img":true,"img-repeat":"cover","mask-repeat":"repeat-y","img-width":"750px","img-right":"0","text-offset":{"right":"330px","vertical":"middle","arrowbottom":true},"widealt":"img16"},"img-mode-xs":"wide-mask","img-params-xs":{"img-width":"990px","mask-position":"40% center"}},"img13":{"name":"Horizontal dégradé droite","img-mode":"content-mask","img-params":{"mask-url":"/services/skeletons/images/{cs-mask}/horizontal-blur-right.png","brut-img":true,"img-repeat":"cover","mask-repeat":"repeat-y","img-width":"750px","img-left":"0","text-offset":{"left":"660px","vertical":"middle","arrowbottom":true},"widealt":"img18"},"img-mode-xs":"wide-mask","img-params-xs":{"img-width":"990px","mask-position":"60% center"}},"img14":{"name":"Diagonal dégradé gauche","img-mode":"content-mask","img-params":{"mask-url":"/services/skeletons/images/{cs-mask}/diagonal-blur-left.png","brut-img":true,"img-repeat":"cover","img-width":"750px","img-right":"0","img-position":"center center","text-offset":{"right":"330px","vertical":"middle","arrowbottom":true},"widealt":"img20"},"img-mode-xs":"wide-mask","img-params-xs":{"img-width":"990px","mask-position":"40% center"}},"img15":{"name":"Diagonal dégradé droite","img-mode":"content-mask","img-params":{"mask-url":"/services/skeletons/images/{cs-mask}/diagonal-blur-right.png","brut-img":true,"img-repeat":"cover","img-width":"750px","img-left":"0","img-position":"center center","text-offset":{"left":"660px","vertical":"middle","arrowbottom":true},"widealt":"img22"},"img-mode-xs":"wide-mask","img-params-xs":{"img-width":"990px","mask-position":"60% center"}},"img16":{"name":"Horizontal gauche, plein écran","img-mode":"wide-mask","img-params":{"img-width":"990px","img-left":"220px","mask-url":"/services/skeletons/images/{cs-mask}/wide-horizontal-blur-left.png","brut-img":true,"img-repeat":"cover","mask-repeat":"repeat-y","text-offset":{"right":"400px","vertical":"middle","arrowbottom":false},"contentalt":"img12"}},"img17":{"name":"Horizontal blanc gauche, plein écran","img-mode":"wide-mask","img-params":{"img-width":"990px","img-left":"220px","mask-url":"/services/skeletons/images/{cs-mask}/wide-horizontal-blur-left-white.png","brut-img":true,"img-repeat":"cover","mask-repeat":"repeat-y","text-offset":{"right":"400px","vertical":"middle","arrowbottom":false}}},"img18":{"name":"Horizontal droite, plein écran","img-mode":"wide-mask","img-params":{"img-width":"990px","img-left":"-220px","mask-url":"/services/skeletons/images/{cs-mask}/wide-horizontal-blur-right.png","brut-img":true,"img-repeat":"cover","mask-repeat":"repeat-y","text-offset":{"left":"590px","vertical":"middle","arrowbottom":false},"contentalt":"img13"}},"img19":{"name":"Horizontal blanc droite, plein écran","img-mode":"wide-mask","img-params":{"img-width":"990px","img-left":"-220px","mask-url":"/services/skeletons/images/{cs-mask}/wide-horizontal-blur-right-white.png","brut-img":true,"img-repeat":"cover","mask-repeat":"repeat-y","text-offset":{"left":"590px","vertical":"middle","arrowbottom":false}}},"img20":{"name":"Diagonal gauche, plein écran","img-mode":"wide-mask","img-params":{"img-width":"990px","img-left":"220px","mask-url":"/services/skeletons/images/{cs-mask}/wide-diagonal-blur-left.png","brut-img":true,"img-repeat":"cover","text-offset":{"right":"360px","vertical":"middle","arrowbottom":false},"contentalt":"img14"}},"img21":{"name":"Diagonal blanche gauche, plein écran","img-mode":"wide-mask","img-params":{"img-width":"990px","img-left":"220px","mask-url":"/services/skeletons/images/{cs-mask}/wide-diagonal-blur-left-white.png","brut-img":true,"img-repeat":"cover","text-offset":{"right":"360px","vertical":"middle","arrowbottom":false}}},"img22":{"name":"Diagonal droite, plein écran","img-mode":"wide-mask","img-params":{"img-width":"990px","img-left":"-220px","mask-url":"/services/skeletons/images/{cs-mask}/wide-diagonal-blur-right.png","brut-img":true,"img-repeat":"cover","text-offset":{"left":"630px","vertical":"middle","arrowbottom":false},"contentalt":"img15"}},"img23":{"name":"Diagonal blanche droite, plein écran","img-mode":"wide-mask","img-params":{"img-width":"990px","img-left":"-220px","mask-url":"/services/skeletons/images/{cs-mask}/wide-diagonal-blur-right-white.png","brut-img":true,"img-repeat":"cover","text-offset":{"left":"630px","vertical":"middle","arrowbottom":false}}},"img24":{"name":"Fixe 1800x768 + fondu","img-mode":"wide-centered-mask","img-params":{"mask-url":"/services/skeletons/images/{cs-mask}/background.png","mask-repeat":"no-repeat","mask-width":"1800px","mask-height":"768px","img-width":"1800px","text-offset":{"vertical":"middle","arrowbottom":false}}},"img25":{"name":"Trame points content","img-mode":"content-mask","img-params":{"mask-url":"/services/skeletons/images/dot-pattern.png","img-repeat":"cover","mask-repeat":"repeat","text-offset":{"vertical":"middle","arrowbottom":false}}},"img26":{"name":"Trame diagonales content","img-mode":"content-mask","img-params":{"mask-url":"/services/skeletons/images/diagonal-pattern.png","img-repeat":"cover","mask-repeat":"repeat","text-offset":{"vertical":"middle","arrowbottom":false}}},"img27":{"name":"Trame points wide","img-mode":"wide-mask","img-params":{"mask-url":"/services/skeletons/images/dot-pattern.png","img-repeat":"cover","mask-repeat":"repeat","img-gradient-color":"graydark","img-repeat":"cover","img-width":"100%","text-offset":{"vertical":"middle","arrowbottom":false}}},"img28":{"name":"Trame diagonales wide","img-mode":"wide-mask","img-params":{"mask-url":"/services/skeletons/images/diagonal-pattern.png","img-repeat":"cover","mask-repeat":"repeat","img-repeat":"cover","img-gradient-color":"graydark","img-width":"100%","text-offset":{"vertical":"middle","arrowbottom":false}}},"img29":{"name":"Fondu vers le haut","img-mode":"wide-mask","img-params":{"img-repeat":"cover","img-fixed":false,"img-gradient":"to top","img-gradient-start":"50%","img-width":"100%","img-wrapper-height":"400px","img-wrapper-pos":"bottom","text-offset":{"vertical":"top","arrowbottom":false}}},"img30":{"name":"Fondu vers le bas","img-mode":"wide-mask","img-params":{"img-repeat":"cover","img-fixed":false,"img-gradient":"to bottom","img-gradient-start":"50%","img-width":"100%","img-wrapper-height":"400px","img-wrapper-pos":"top","text-offset":{"vertical":"bottom","arrowbottom":false}}},"img31":{"name":"Texture 1 wide","img-mode":"wide-mask","img-params":{"mask-url":"/services/skeletons/images/texture-1.png","img-repeat":"no-repeat","mask-repeat":"repeat","img-fixed":false,"img-width":"100%","text-offset":{"vertical":"middle","arrowbottom":false}}},"img32":{"name":"Video","img-mode":"video","img-params":{}},"img33":{"name":"Demi-recouvrement gauche","img-mode":"img-only","img-params":{"img-repeat":"cover","img-fixed":false,"left":"0px","img-width":"50%","xs-render":"up-100%"}},"img34":{"name":"Demi-recouvrement droite","img-mode":"img-only","img-params":{"img-repeat":"cover","img-fixed":false,"right":"0px","img-width":"50%","xs-render":"up-100%"}},"img35":{"name":"Diagonal dégradé gauche, image plein écran","img-mode":"wide-mask","img-params":{"mask-gradient":{"direction":"65deg","gradient":["cs-mask@alpha1 0%","cs-mask@alpha1 35%","easing:cs-mask@alpha1:0 35%:55%"]},"brut-img":true,"img-repeat":"cover","img-width":"80%","img-right":"0","img-position":"center center","text-offset":{"right":"330px","vertical":"middle","arrowbottom":true},"widealt":"img20"}},"img36":{"name":"Horizontal, fenêtre à droite avec dégradé, image plein écran","img-mode":"wide-mask","img-params":{"mask-gradient":{"direction":"90deg","gradient":["cs-mask@alpha1 0%","cs-mask@alpha1 50%","easing:cs-mask@alpha1:0 50%:60%","cs-mask@alpha0 90%","easing:cs-mask@alpha0:1 90%:100%"]},"brut-img":true,"img-repeat":"cover","img-width":"50%","img-right":"0","img-position":"center center","text-offset":{"right":"330px","vertical":"middle","arrowbottom":true},"widealt":"img20"}}},"positions":{"pos0":{"name":"Centré","img-position":"center center"},"pos1":{"name":"Gauche","img-position":"left center"},"pos2":{"name":"Droite","img-position":"right center"},"pos3":{"name":"Haut","img-position":"center top"},"pos4":{"name":"Bas","img-position":"center bottom"}},"filters":{"filt0":{"name":"aucun","filt-brutimg":true},"filt1":{"name":"image en niveaux de gris","filt-bg":"white","filt-img":"white"},"filt2":{"name":"image recolorisée suivant fond de site","filt-bg":"filt-color","filt-img":"whitegray","filt-img2":"black","filt-color":"c1"},"filt3":{"name":"contraste estompé clair","filt-bg":"white","filt-img":"white","filt-bg2":"white","filt-opacity":"0.75"},"filt4":{"name":"contraste estompé foncé","filt-bg":"white","filt-img":"white","filt-bg2":"black","filt-opacity":"0.75"},"filt5":{"name":"contraste estompé, couleur du fond de site","filt-bg":"white","filt-img":"white","filt-bg2":"filt-color","filt-opacity":"0.75","filt-color":"c1"},"filt6":{"name":"voile blanc","filt-bg2":"white","filt-opacity":"0.75"},"filt7":{"name":"voile noir","filt-bg2":"black","filt-opacity":"0.75"},"filt8":{"name":"voile coloré suivant couleur 1","filt-bg2":"filt-color","filt-color":"c1","filt-opacity":"0.75"},"filt9":{"name":"trame de points noirs","filt-pattern":"/services/skeletons/images/dot-pattern.png"},"filt10":{"name":"trame de rayures","filt-pattern":"/services/skeletons/images/diagonal-pattern.png"},"filt11":{"name":"image en niveaux de gris + texture sablée","filt-bg":"white","filt-img":"white","filt-pattern":"/services/skeletons/images/texture-1.png"},"filt12":{"name":"image recolorisée suivant fond de site + texture sablée","filt-bg":"filt-color","filt-img":"whitegray","filt-img2":"black","filt-color":"c1","filt-pattern":"/services/skeletons/images/texture-1.png"},"filt13":{"name":"contraste estompé foncé + texture sablée","filt-bg":"white","filt-img":"white","filt-bg2":"black","filt-opacity":"0.75","filt-pattern":"/services/skeletons/images/texture-1.png"},"filt14":{"name":"contraste estompé, couleur fond de site + texture sablée","filt-bg":"white","filt-img":"white","filt-bg2":"filt-color","filt-opacity":"0.75","filt-color":"c1","filt-pattern":"/services/skeletons/images/texture-1.png"},"filt15":{"name":"voile noir léger","filt-bg2":"black","filt-opacity":"0.35"},"filt16":{"name":"voile coloré suivant couleur 2","filt-bg2":"filt-color","filt-color":"c2","filt-opacity":"0.75"}}};var spacexml=spacexml||(function(){var _window={};var _parent={};try{_window=window;_parent=parent;}catch(err){}
return _window.spacexml||_parent.spacexml||{"theme":{}};})();var RPD=new(function(){var _this=this;function joincss(x){var s=x.join(" ; ");var comma=",";var re=new RegExp("( ; ){2"+comma+"}","g");return s.replace(/(^( ; )+|( ; )+$)/,"").replace(re," ; ");}
function strokecolor(json){if(!json.note.strokecolor)return "#AAA #AAA #777 #AAA";if(json.note.strokecolor=="-1")return "transparent";return json.note.strokecolor;}
function notecolor(json,sectioncolor){var pbgcolor=json.note.pbgcolor;if(pbgcolor=="-1")pbgcolor="transparent";if(pbgcolor=="transparent"&&sectioncolor)pbgcolor=sectioncolor;return pbgcolor;}
function headercolor(json,sectioncolor){var hbgcolor=json.note.hbgcolor;if(hbgcolor=="-1")hbgcolor="transparent";if(hbgcolor=="transparent"&&sectioncolor)hbgcolor=sectioncolor;return hbgcolor;}
function altpbgcolor(json,sectioncolor){if(notecolor(json)=="transparent"&&sectioncolor)return sectioncolor;if(notecolor(json)=="transparent"&&json.note.altbgcolor)return json.note.altbgcolor;return notecolor(json);}
function althbgcolor(json){if(headercolor(json)=="transparent"&&json.note.altbgcolor)return json.note.altbgcolor;return headercolor(json);}
function funcolor(json){if(json.note.funcolor&&typeof(json.note.funcolor)!="undefined")return json.note.funcolor;else return "flatblue";}
function noteHasBorder(json){if(json.note&&json.note.withBorder!=undefined)return json.note.withBorder;return json.note&&((json.note.shadow&&json.note.shadow!="none")||strokecolor(json)!="transparent"||notecolor(json)!="transparent");}
function headerHasBorder(json){if(json.note&&json.note.withHBorder!=undefined)return json.note.withHBorder;return(json.note.shadow&&json.note.shadow!="none")||(strokecolor(json)!="transparent"&&json.note.header.split("-")[0]!="detached")||headercolor(json)!="transparent";}
function normalizedTextcolor(color){color=String(color).split("/")[0];if(color=="-1")return "bw";return color;}
function normalizedTextcolor2(color){color=String(color).split("/")[1]||String(color).split("/")[0];if(color=="-1")return "bw";return color;}
function contentMargin(json){var mask=[1,1,1,1];if(json.note.marginmask)mask=json.note.marginmask.split(" ");else if(!noteHasBorder(json)){mask=[1,0,0,0];if(json.note.header=="none")mask[0]=0;}
var m=parseInt(json.note.margin,10);var t=parseInt(json.h3.textsize,10);var v=m*mask[3];return{"top":m*mask[0]+"px","right":m*mask[1]+"px","bottom":m*mask[2]+"px","left":v+"px","margin":m+"px"};}
function textStyle(json,inline,type,smallsize,scalesize){var hjson=json[type];if(!hjson)hjson={};var mode=(type=="h1"||type=="h2"||type=="h3")?"h":"p";var css=[];var notesize=json.p1.textsize;var size=hjson["textsize"]||notesize;if(size){if(/%/.test(size))size=Math.round(parseInt(notesize,10)*parseInt(size,10)/100)+"px";if(smallsize){size=0.8*parseInt(size,10);if((type=="h4"||type=="h5")&&size<12)size=12;if((type=="p1"||type=="p2"||type=="p3")&&size<11)size=11;size=size+"px";}
if(scalesize){size=RPD.responsive_fontsize(parseInt(size,10),scalesize)+"px";notesize=RPD.responsive_fontsize(parseInt(notesize,10),scalesize)+"px";}
css.push("font-size: "+size);if(!hjson["line-height"]||hjson["line-height"]=="auto"){var fs0=parseInt(notesize,10);var lh0=parseInt(json.p1["line-height"]||"120%",10)/100;var fs=parseInt(size,10);css.push("line-height : "+RPD.define_lh(fs,fs0,lh0));}else{css.push("line-height: "+(hjson["line-height"]||"120%"));}}
if(smallsize)return joincss(css);var bold=hjson["bold"];function fontWeight(style,font){var _skeleton=Skeleton.skeleton();if(_skeleton.fontWeight)return _skeleton.fontWeight(style,font);return style;}
var font=json.note[mode+"family"];if(font==undefined||font=="auto")font=mode=="p"?"f1":"f2";if(hjson["font"])font=hjson["font"];if(typeof bold=="string")css.push("font-weight: "+fontWeight(bold,font));else css.push(bold?("font-weight: "+fontWeight("bold",font)):("font-weight: "+fontWeight("normal",font)));var italic=hjson["italic"];if(inline||italic)css.push("font-style: "+(italic?"italic":"normal"));if(inline||(hjson["case"]&&hjson["case"]!="normal")){css.push("text-transform: "+((hjson["case"]=="up")?"uppercase":"none"));css.push("font-variant: "+((hjson["case"]=="cap")?"small-caps":"normal"));}
if(mode=="p"&&scalesize!="xs"){var bgcolor=(mode=="p")?altpbgcolor(json):althbgcolor(json);var color=(function(){return(hjson["color"]||json.note[mode+"color"]);})();css.push("color: "+normalizedTextcolor(color)+"-"+bgcolor);}
css.push("font-family: "+font);if(type=="h1"||type=="h2"||type=="h3")css.push("text-align: "+(hjson["align"]||"left"));return joincss(css);}
this["default"]={"note":{"textsize":"12px","pbgcolor":"c1","pcolor":"bw","strokecolor":"transparent","shadow":"none","margin":"10px","hbgcolor":"c1","pfamily":"f1","hfamily":"f2","hcolor":"bw","header":"standard","hmargin":"10px","icon":false,"iconmode":"in"},"h1":{"textsize":"36px"},"h2":{"textsize":"30px"},"h3":{"textsize":"18px","bold":true},"h4":{"textsize":"24px","bold":true},"h5":{"textsize":"14px","bold":true},"p1":{"textsize":"12px"},"p2":{"textsize":"11px"},"p3":{"textsize":"11px","italic":true,"color":"gbw"},"list":{"inset":false,"color":"gbw2","css":"border-top : solid 1px"}};function gradient(definition){var css="background : -webkit-linear-gradient( top, "+definition+" ); ";css+="background : -o-linear-gradient( top, "+definition+" ); ";css+="background : -moz-linear-gradient( top, "+definition+" ); ";css+="background : -ms-linear-gradient( top, "+definition+" ); ";css+="background : linear-gradient( to bottom, "+definition+" ); ";return css;}
function titlecolor(hcolor,hbgcolor,realbgcolor){if(hcolor==hbgcolor&&realbgcolor!="transparent")return normalizedTextcolor(realbgcolor);if(hbgcolor=="transparent")hbgcolor=false;return normalizedTextcolor((hcolor||"bww"))+"-"+(hbgcolor?(hbgcolor+"-"+realbgcolor):realbgcolor);}
function getButton(buttonID,json){var _buttons={"flat":{"name":"flat","button":function(json){var c=json.color;var cbg=json.bgcolor;return "background-color: "+c+"-"+cbg+" ; color: bww-"+c+"-"+cbg+" ;";},"hover":function(json){var c=json.color;var cbg=json.bgcolor;var modifier=quomodoColors.isdark(c+"-"+cbg,true)?"@d":"@l";return "background-color: "+c+"-"+cbg+modifier+"6 ;";}},"flatrelief":{"name":"flatrelief","button":function(json){var c=json.color;var cbg=json.bgcolor;var modifier=quomodoColors.isdark(c+"-"+cbg,true)?"@d":"@l";return "border-radius:4px; padding:9px 22px 8px 22px ;box-shadow:0 2px 2px rgba( 0, 0, 0, 0.4 ); border-bottom : 4px solid ;border-color : "+c+"-"+cbg+"@d9"+"; background-color: "+c+"-"+cbg+" ; color: bww-"+c+"-"+cbg+";";},"hover":function(json){var c=json.color;var cbg=json.bgcolor;var modifier=quomodoColors.isdark(c+"-"+cbg,true)?"@d":"@l";return "border-bottom : 4px solid  ; padding:9px 22px 8px 22px ; border-color :"+c+"-"+cbg+"@d10"+modifier+"6"+"; background-color: "+c+"-"+cbg+"@d1"+modifier+"6 ;";}},"shadow":{"name":"shadow","button":function(json){var c=json.color;var cbg=json.bgcolor;var modifier=quomodoColors.isdark(c+"-"+cbg,true)?"@d":"@l";return "border-radius:4px; box-shadow:0 2px 2px rgba(0,0,0,0.4); background-color: "+c+"-"+cbg+" ; color: bww-"+c+"-"+cbg+";";},"hover":function(json){var c=json.color;var cbg=json.bgcolor;var modifier=quomodoColors.isdark(c+"-"+cbg,true)?"@d":"@l";return "background-color: "+c+"-"+cbg+"@d1"+modifier+"6 ;";}},"rounded":{"name":"rounded","button":function(json){var c=json.color;var cbg=json.bgcolor;var modifier=quomodoColors.isdark(c+"-"+cbg,true)?"@d":"@l";return "border-radius:5px; background-color: "+c+"-"+cbg+" ; color: bww-"+c+"-"+cbg+";";},"hover":function(json){var c=json.color;var cbg=json.bgcolor;var modifier=quomodoColors.isdark(c+"-"+cbg,true)?"@d":"@l";return "background-color: "+c+"-"+cbg+"@d1"+modifier+"6 ;";}},"outline":{"name":"outline","button":function(json){var c=json.color;var cbg=json.bgcolor;return "color : "+c+"-"+cbg+"; border : 1px solid  ;border-color : "+c+"-"+cbg+";background-color: transparent;";},"hover":function(json){var c=json.color;var cbg=json.bgcolor;if(cbg=="transparent")cbg="white";return "background-color: "+c+"-"+cbg+" ; color : "+cbg+";";}},"outline2":{"name":"outline2","button":function(json){var c=json.color;var cbg=json.bgcolor;return "border-radius :50px; color : "+c+"-"+cbg+";border : 1px solid  ;border-color : "+c+"-"+cbg+";background-color: transparent;";},"hover":function(json){var c=json.color;var cbg=json.bgcolor;if(cbg=="transparent")cbg="white";return "background-color: "+c+"-"+cbg+" ; color : "+cbg+";";}},"bouton":{"name":"bouton","button":function(json){var c=json.color;var cbg=json.bgcolor;var modifier=quomodoColors.isdark(c+"-"+cbg,true)?"@d":"@l";return "border-radius: 4px; box-shadow: 0 2px 2px rgba(0,0,0,0.4); border : 1px solid  ;border-color : "+c+"-"+cbg+"@d8"+"; background-color: "+c+"-"+cbg+" ; color: bww-"+c+"-"+cbg+"; text-shadow : 0 -1px 1px "+c+"-"+cbg+"@d10"+";"+gradient(c+"-"+cbg+"@l4"+" 0%, "+c+"-"+cbg+"@d4"+" 100%");},"hover":function(json){var c=json.color;var cbg=json.bgcolor;return gradient(c+"-"+cbg+" 0%, "+c+"-"+cbg+"@d8"+" 100%")+" border-color : "+c+"-"+cbg+"@d14"+"; ";}},"relief":{"name":"relief","button":function(json){var c=json.color;var cbg=json.bgcolor;var modifier=quomodoColors.isdark(c+"-"+cbg,true)?"@d":"@l";return "box-shadow: inset 0 1px 0 0 "+c+"-"+cbg+"@l10@s45; border : 1px solid ; border-color : "+c+"-"+cbg+"@d8"+"; background-color: "+c+"-"+cbg+" ; color: bww-"+c+"-"+cbg+"; text-shadow : 0 -1px 1px "+c+"-"+cbg+"@d10"+";"+gradient(c+"-"+cbg+"@l4"+" 0%, "+c+"-"+cbg+"@d4"+" 100%");},"hover":function(json){var c=json.color;var cbg=json.bgcolor;return gradient(c+"-"+cbg+"@d1"+" 0%, "+c+"-"+cbg+"@d9"+" 100%")+" border-color : "+c+"-"+cbg+"@d14"+"; ";}},"relief2":{"name":"relief2","button":function(json){var c=json.color;var cbg=json.bgcolor;var modifier=quomodoColors.isdark(c+"-"+cbg,true)?"@d":"@l";return "border-radius:50px; box-shadow:inset 0 1px 0 0 "+c+"-"+cbg+"@l10@s45; border : 1px solid ; border-color : "+c+"-"+cbg+"@d8"+"; background-color: "+c+"-"+cbg+" ; color: bww-"+c+"-"+cbg+"; text-shadow : 0 -1px 1px "+c+"-"+cbg+"@d10"+";"+gradient(c+"-"+cbg+"@l4"+" 0%, "+c+"-"+cbg+"@d4"+" 100%");},"hover":function(json){var c=json.color;var cbg=json.bgcolor;return gradient(c+"-"+cbg+"@d1"+" 0%, "+c+"-"+cbg+"@d9"+" 100%")+" border-color : "+c+"-"+cbg+"@d14"+"; ";}},"glossy":{"name":"glossy","button":function(json){var c=json.color;var cbg=json.bgcolor;var modifier=quomodoColors.isdark(c+"-"+cbg,true)?"@d":"@l";return "border-radius:4px; box-shadow: inset 0 1px 0 0 "+c+"-"+cbg+"@l10@s30 ; border : 1px solid  ;border-color : "+c+"-"+cbg+"@d8"+"; background-color: "+c+"-"+cbg+" ; color: bww-"+c+"-"+cbg+"; text-shadow : 0 -1px 1px "+c+"-"+cbg+"@d5"+";"+gradient(c+"-"+cbg+"@s40 0%, "+c+"-"+cbg+"@s65 49%, "+c+"-"+cbg+" 51%, "+c+"-"+cbg+"@d3"+" 100%");},"hover":function(json){var c=json.color;var cbg=json.bgcolor;return gradient(c+"-"+cbg+"@s40 0%, "+c+"-"+cbg+"@d5@s65 49%, "+c+"-"+cbg+"@d5 51%, "+c+"-"+cbg+"@d8"+" 100%");}},"capsule":{"name":"capsule","button":function(json){var c=json.color;var cbg=json.bgcolor;return "border-radius :50px; background-color: "+c+"-"+cbg+" ; color: "+c+"-"+cbg+"@bw";},"hover":function(json){var c=json.color;var cbg=json.bgcolor;var modifier=quomodoColors.isdark(c+"-"+cbg)?"@d":"@l";return "border-radius :50px; background-color: "+c+"-"+cbg+"@d1"+modifier+"6";}}};var _skeleton=Skeleton.skeleton();if(_skeleton&&_skeleton.buttons&&_skeleton.buttons[buttonID])return _skeleton.buttons[buttonID];return _buttons[buttonID];}
var _notelayoutJCSS={"filet":{"jcss":function(params,json,inline){var selectors=[];var realbgcolor=(params.bgcolor&&params.bgcolor!="transparent")?params.bgcolor:(json.note.altbgcolor||"transparent");if(params.hbgcolor=="transparent")realbgcolor=(json.note.altbgcolor||"transparent");selectors=selectors.concat(_headerlayout["filet"].jcss({color:titlecolor(params.hcolor,false,realbgcolor),"hr-css":params.hrstyle||"border:none","hr-color":(params.hrcolor||"gbw2")+"-"+realbgcolor,"bmargin":params.hrmargin,"notebgimage":params.notebgimage,"detachment":params.detachment}));if(params["bh-span1"])selectors=selectors.concat(_bicolorlayout["span1"].jcss({"bhbg":(params["bh-span1"]["bg"]?(params["bh-span1"]["bg"]+"-"+realbgcolor):false),"bhtext":titlecolor((params["bh-span1"]["isicon"]&&params["bh-span2"]["text"]?params["bh-span2"]["text"]:(params["bh-span1"]["text"]||params.hcolor)),(params["bh-span1"]["bg"]||params.hbgcolor||false),realbgcolor),"bhbold":params["bh-span1"]["bold"]}));if(params["bh-span2"])selectors=selectors.concat(_bicolorlayout["span2"].jcss({"bhbg":(params["bh-span2"]["bg"]?(params["bh-span2"]["bg"]+"-"+realbgcolor):false),"bhtext":titlecolor((params["bh-span2"]["text"]||params.hcolor),(params["bh-span2"]["bg"]||params.hbgcolor||false),realbgcolor),"bhbold":params["bh-span2"]["bold"]}));return selectors;},"extend":function(json,params){json=cloneObject(json);json=updatejson(json,params);if(json.format=="title1")var htype="h1";else if(json.format=="title2")var htype="h2";else var htype="h3";return json;}},"separateur":{"jcss":function(params,json,inline){var selectors=[];var realbgcolor=(params.bgcolor&&params.bgcolor!="transparent")?params.bgcolor:(json.note.altbgcolor||"transparent");if(params.hbgcolor=="transparent")realbgcolor=(json.note.altbgcolor||"transparent");selectors=selectors.concat(_headerlayout["separateur"].jcss({color:titlecolor(params.hcolor,false,realbgcolor),"hr-css":params.hrstyle||"border:none","hr-color":(params.hrcolor||"gbw2")+"-"+realbgcolor,"notebgimage":params.notebgimage,"detachment":params.detachment}));if(params["bh-span1"])selectors=selectors.concat(_bicolorlayout["span1"].jcss({"bhbg":(params["bh-span1"]["bg"]?(params["bh-span1"]["bg"]+"-"+realbgcolor):false),"bhtext":titlecolor((params["bh-span1"]["isicon"]&&params["bh-span2"]["text"]?params["bh-span2"]["text"]:(params["bh-span1"]["text"]||params.hcolor)),(params["bh-span1"]["bg"]||false),realbgcolor),"bhbold":params["bh-span1"]["bold"]}));if(params["bh-span2"])selectors=selectors.concat(_bicolorlayout["span2"].jcss({"bhbg":(params["bh-span2"]["bg"]?(params["bh-span2"]["bg"]+"-"+realbgcolor):false),"bhtext":titlecolor((params["bh-span2"]["text"]||params.hcolor),(params["bh-span2"]["bg"]||false),realbgcolor),"bhbold":params["bh-span2"]["bold"]}));return selectors;},"extend":function(json,params){json=cloneObject(json);json=updatejson(json,params);if(json.h1)json.h1.align="center";if(json.h2)json.h2.align="center";if(json.h3)json.h3.align="center";return json;}},"etiquette":{"jcss":function(params,json,inline){var selectors=[];var realbgcolor=(params.bgcolor&&params.bgcolor!="transparent")?params.bgcolor:(json.note.altbgcolor||"transparent");selectors=selectors.concat(_headerlayout["etiquette"].jcss({color:titlecolor(params.hcolor,params.hbgcolor,realbgcolor),"hr-css":params.hrstyle||"border:none","hr-color":(params.hrcolor||"gbw2")+"-"+realbgcolor,"bmargin":params.hrmargin,"bg-color":(params.hbgcolor?(params.hbgcolor+"-"+realbgcolor):"transparent"),"ruban":params.ruban,"onglet":params.onglet,"notebgimage":params.notebgimage}));if(params["bh-span1"])selectors=selectors.concat(_bicolorlayout["span1"].jcss({"bhbg":(params["bh-span1"]["bg"]?(params["bh-span1"]["bg"]+"-"+realbgcolor):false),"bhtext":titlecolor((params["bh-span1"]["isicon"]&&params["bh-span2"]["text"]?params["bh-span2"]["text"]:(params["bh-span1"]["text"]||params.hcolor)),(params["bh-span1"]["bg"]||params.hbgcolor),realbgcolor),"bhbold":params["bh-span1"]["bold"]}));if(params["bh-span2"])selectors=selectors.concat(_bicolorlayout["span2"].jcss({"bhbg":(params["bh-span2"]["bg"]?(params["bh-span2"]["bg"]+"-"+realbgcolor):false),"bhtext":titlecolor((params["bh-span2"]["text"]||params.hcolor),(params["bh-span2"]["bg"]||params.hbgcolor),realbgcolor),"bhbold":params["bh-span2"]["bold"]}));return selectors;},"extend":function(json,params){json=cloneObject(json);json=updatejson(json,params);return json;}},"origine":{"jcss":function(params,json,inline){var selectors=[];var realbgcolor=(params.bgcolor&&params.bgcolor!="transparent")?params.bgcolor:(json.note.altbgcolor||"transparent");selectors=selectors.concat(_headerlayout["origine"].jcss({color:titlecolor(params.hcolor,params.hbgcolor,realbgcolor),"bg-color":(params.hbgcolor?(params.hbgcolor+"-"+realbgcolor):"transparent"),"gradient":params.gradient,"glossy":params.glossy,"relief":true,"interieur":params.interieur,"detachment":params.detachment,"bg-mask":params.bgmask,"bg-image":params.bgimage,"hr-css":params.hrstyle||"border:none","hr-color":(params.hrcolor||"gbw2")+"-"+realbgcolor,"notebgimage":params.notebgimage}));if(params["bh-span1"])selectors=selectors.concat(_bicolorlayout["span1"].jcss({"bhbg":(params["bh-span1"]["bg"]?(params["bh-span1"]["bg"]+"-"+realbgcolor):false),"bhtext":titlecolor((params["bh-span1"]["isicon"]&&params["bh-span2"]["text"]?params["bh-span2"]["text"]:(params["bh-span1"]["text"]||params.hcolor)),(params["bh-span1"]["bg"]||params.hbgcolor),realbgcolor),"bhbold":params["bh-span1"]["bold"]}));if(params["bh-span2"])selectors=selectors.concat(_bicolorlayout["span2"].jcss({"bhbg":(params["bh-span2"]["bg"]?(params["bh-span2"]["bg"]+"-"+realbgcolor):false),"bhtext":titlecolor((params["bh-span2"]["text"]||params.hcolor),(params["bh-span2"]["bg"]||params.hbgcolor),realbgcolor),"bhbold":params["bh-span2"]["bold"]}));return selectors;},"extend":function(json,params){json=cloneObject(json);json=updatejson(json,params);return json;}}}
function use(json){if(json.format=="content")return "content";if(json.format=="title1")return "title";if(json.format=="title2")return "title";return null;}
function updatejson(json,params){if(!json.note)json.note={};json._params=cloneObject(params);json.note.hbgcolor=params.hbgcolor||params.bgcolor||"transparent";json.note.pbgcolor=params.bgcolor||"transparent";json.note.strokecolor=params.note.strokecolor||"transparent";json.note.pcolor=params.pcolor||"bw";json.note.funcolor=params["cs-funcolor"]||"bw";json.note.withBorder=params.withborder||(params["bgcolor"]&&params["bgcolor"]!="transparent");json.note.withHBorder=params.withborderh||params.withborder||(params["bgcolor"]&&params["bgcolor"]!="transparent");json.note.use=params.use;json.note.shadow=params.note.shadow||"none";json.button=params.button||null;if(json.button)json.button.color=params["cs-btn"]||params["hcolor"];json.note.margin=params.notemargin||"10px";json.note.hmargin=params.notehmargin||"15px";if(params.bhmargin)json.note.bhmargin=params.bhmargin;json.note.altbgcolor=params.altbgcolor;if(params.icon){json.note.icon=true;json.note.iconmode=params.icon;json.note.iconmargin=params.iconmargin||json.note.hmargin;json.note.iconmargintop=params.iconmargintop||"0px";}
if(params.h1)json.h1=params.h1;if(params.h2)json.h2=params.h2;if(params.h3)json.h3=params.h3;if(params.h4){json.h4=params.h4;json.h4.color=params["cs-h4"];}
if(params.h5){json.h5=params.h5;json.h5.color=params["cs-h5"];}
if(params.p1){json.p1=params.p1;json.p1.color=params["cs-p1"];}
if(params.p2){json.p2=params.p2;json.p2.color=params["cs-p2"];}
if(params.p3){json.p3=params.p3;json.p3.color=params["cs-p3"];}
if(params["cs-fun"])json.note.funcolor=params["cs-fun"];if(params["cs-action"])json.action="color : "+params["cs-action"]+"-"+altpbgcolor(json)+";";if(!json.link)json.link={};if(params["action"])json.action=(json.action||"")+params["action"];if(params["action-hover"])json["action-hover"]=params["action-hover"];if(params["link"])json.link=params["link"];if(params["cs-forcelink"])json.link.color=params["cs-forcelink"];else if(params["cs-link"]){if(quomodoColors.richColor(params["cs-link"]+"-white").c==quomodoColors.richColor(params["cs-p1"]+"-white").c)json.link.color="link";else json.link.color=params["cs-link"];}
json.link.morecolor=params["cs-morelink"]||"gbw2";if(params.list)json.list=params.list;var realbgcolor=(params.bgcolor&&params.bgcolor!="transparent")?params.bgcolor:(json.note.altbgcolor||"transparent");json.note.hbgcolor=params.hbgcolor?(params.hbgcolor+"-"+realbgcolor):realbgcolor;if(params.hbgcolor=="transparent")realbgcolor=(json.note.altbgcolor||"transparent");if(params.icon=="in"||!params.icon||params.icon=="inbig"||params.icon=="intop"||params.icon=="intopbig"||params.icon=="intopvbig"){if(params["cs-icon"])json.note.iconcolor=titlecolor(params["cs-icon"],params.hbgcolor,realbgcolor);else if(params["bh-span1"]&&params["bh-span1"]["bg"])json.note.iconcolor=titlecolor(params["bh-span1"]["bg"],params.hbgcolor,realbgcolor);else if(params["bh-span1"]&&params["bh-span1"]["text"])json.note.iconcolor=titlecolor(params["bh-span1"]["text"],params.hbgcolor,realbgcolor);else json.note.iconcolor=titlecolor(params.hcolor,params.hbgcolor,realbgcolor);}else json.note.iconcolor=titlecolor((params["cs-icon"]||(params.hbgcolor!="transparent"&&params.hbgcolor)||params.hcolor),false,(json.note.altbgcolor||"transparent"));return json;}
function noteBorderSelector(selector){return{"selector":selector,"style":function(json,inline){var css=[];if(strokecolor(json)!="transparent")css.push("border-style: solid ; border-width: 1px ; border-color:"+strokecolor(json)+"-"+altpbgcolor(json));else css.push("border: none");if(json.note.shadow)css.push("box-shadow:"+json.note.shadow);return joincss(css);}};}
function set_bgcolorTo(selector){return{"selector":selector,"style":function(json,inline){return "background-color:"+notecolor(json);}};}
function set_bgimageTo(selector,bgimage){return{"selector":selector,"style":"background-image : url( "+bgimage+" ); background-repeat : no-repeat; background-size: cover; background-position: center center; filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+bgimage+"',sizingMethod='scale');"};}
function headericon_in_style(json,inline){if(json.format=="title1")var htype="h1";else if(json.format=="title2")var htype="h2";else var htype="h3";if(!json.note.icon||(json.note.iconmode!="in"&&json.note.iconmode!="inbig"&&json.note.iconmode!="intop"&&json.note.iconmode!="intopbig"&&json.note.iconmode!="intopvbig"))return "display:none;";if(json.note.iconmode=="intop"||json.note.iconmode=="intopbig"||json.note.iconmode=="intopvbig")var css="display:block;";else var css="display:table-cell;";var s=parseInt(iconSize(json));var default_iconmargin=Math.round(parseInt(json[htype].textsize,10)*0.6)+"px";css+="font-size: "+s+"px; line-height: "+s+"px;"+(json.note.iconmode!="intop"&&json.note.iconmode!="intopbig"&&json.note.iconmode!="intopvbig"?"padding-right : ":"padding-bottom : ")+(json.note.iconmargin||default_iconmargin)+";";css+="color : "+json.note.iconcolor+";";return css;}
function headericon_style(json,inline){if(json.format=="title1")var htype="h1";else if(json.format=="title2")var htype="h2";else var htype="h3";var s=parseInt(iconSize(json));var css="font-size: "+s+"px; line-height: "+s+"px;  right : 0; padding-right : "+(json.note.iconmargin||0)+"; padding-top : "+(json.note.iconmargintop||0)+";";if(json.note.icon&&(json.note.iconmode=="out"||json.note.iconmode=="outbig"))css+="position:absolute;";else if(json.note.icon&&(json.note.iconmode=="inout"||json.note.iconmode=="inoutbig"))css+="position:relative;";css+="color : "+json.note.iconcolor;return css;}
var _headerlayout={"filet":{"name":"filet","jcss":function(params){params=cloneObject({"hr-css":"border: none","color":"c1","hr-color":null},params||{});var selectors=[];selectors=selectors.concat(noteBorderSelector(params.detachment?".tablenotecontent":"td.tdcontainer"));selectors=selectors.concat(set_bgcolorTo(params.detachment?".tablenotecontent":"td.tdcontainer"));if(params["notebgimage"])selectors=selectors.concat(set_bgimageTo("td.tdcontainer",params["notebgimage"]));selectors.push({"selector":".header-container","style":function(json,inline){var css=[];if(json.note.withHBorder&&!params.detachment)css.push("padding : "+json.note.margin+" "+json.note.margin+" "+(/none/.test(params["hr-css"])?0:(params["bmargin"]||0)));else css.push("padding : 0 0 "+(/none/.test(params["hr-css"])?0:(params["bmargin"]||0))+" 0");return joincss(css);}});selectors.push({"selector":".rpdheader .hr.hr_bottom","style":function(json,inline){var css=[];css.push(params["hr-css"]);css.push("border-color:"+(params["hr-color"]||params["color"]));if(json.note.withHBorder&&!params.detachment)css.push("margin : 0 "+json.note.margin);else css.push("margin : 0");return joincss(css);}});selectors.push({"selector":".headertext-inner","style":function(json,inline){if(json.note.iconmode=="intop"||json.note.iconmode=="intopbig"||json.note.iconmode=="intopvbig")return "display:block;"
else return "display:table-cell";}});if(params.detachment){selectors.push({"selector":".tablenote","style":function(json,inline){return "margin-bottom : "+params.detachment;}});}else{selectors.push({"selector":".showTablePaddingBottom .qlubcontainer_noteheader","style":function(json,inline){return "padding-bottom : "+json.note.margin;}});if(!(/px/).test(params["hr-css"])){selectors.push({"selector":".showPaddingBottom .qlubcontainer_noteheader","style":function(json,inline){if(json.note.withHBorder)return "padding-bottom : "+json.note.margin;}});}}
selectors.push({"selector":".firstcolor, .secondcolor","style":"color : "+params["color"]});return selectors;}},"separateur":{"name":"separateur","jcss":function(params){params=cloneObject({"hr-css":"border: none","color":"c1","hr-color":null},params||{});var selectors=[];selectors=selectors.concat(noteBorderSelector(params.detachment?".tablenotecontent":"td.tdcontainer"));selectors=selectors.concat(set_bgcolorTo(params.detachment?".tablenotecontent":"td.tdcontainer"));if(params["notebgimage"])selectors=selectors.concat(set_bgimageTo("td.tdcontainer",params["notebgimage"]));selectors.push({"selector":".header-container","style":"display : table-cell ; white-space:nowrap; width:1%; padding : 0 0.5em"});selectors.push({"selector":".qlubcontainer_noteheader","style":function(json,inline){var css=[];if(json.note.withHBorder&&!params.detachment)css.push("padding : "+json.note.margin+" "+json.note.margin+" 0");else css.push("padding : 0");css.push("display:table; width: 100%; table-layout: auto; box-sizing : border-box ; -moz-box-sizing : border-box");return joincss(css);}});selectors.push({"selector":".rpdheader .hr","style":"display:table-cell; vertical-align:middle"});selectors.push({"selector":".rpdheader .hr .inhr","style":function(json,inline){var css=[];css.push(params["hr-css"]);css.push("border-color:"+(params["hr-color"]||params["color"]));if(json.note.withHBorder&&!params.detachment)css.push("padding : 0 "+json.note.margin);return joincss(css);}});selectors.push({"selector":".headertext-inner","style":function(json,inline){if(json.note.iconmode=="intop"||json.note.iconmode=="intopbig"||json.note.iconmode=="intopvbig")return "display:block;"
else return "display:table-cell";}});if(params.detachment){selectors.push({"selector":".tablenote","style":function(json,inline){return "margin-bottom : "+params.detachment;}});}
selectors.push({"selector":".firstcolor, .secondcolor","style":"color : "+params["color"]});return selectors;}},"etiquette":{"name":"etiquette","jcss":function(params){params=cloneObject({"hr-css":"border: none","color":"c1","bg-color":"transparent","hr-color":null,"bmargin":"0px","ruban":false,"onglet":false},params||{});var selectors=[];selectors=selectors.concat(noteBorderSelector(params.onglet?".tablenotecontent":"td.tdcontainer"));selectors=selectors.concat(set_bgcolorTo(!params.onglet?"td.tdcontainer":".tablenotecontent"));if(params["notebgimage"])selectors=selectors.concat(set_bgimageTo((!params.onglet?"td.tdcontainer":".tablenotecontent"),params["notebgimage"]));selectors.push({"selector":".qlubcontainer_noteheader","style":function(json,inline){var css=[];if(!params.onglet)css.push("display:inline-block; width: auto;");else css.push("box-sizing:border-box ; -moz-box-sizing : border-box");css.push(" background:none ");if(params.onglet&&json.note.withBorder)json.note.withHBorder=false;if(json.note.withHBorder)css.push("padding : "+json.note.margin+" "+json.note.margin+" 0 "+json.note.margin);else css.push("padding : 0");if(params.ruban)css.push("padding-left : 0 ");return joincss(css);}});selectors.push({"selector":".showPaddingBottom .qlubcontainer_noteheader, .showTablePaddingBottom .qlubcontainer_noteheader","style":function(json,inline){if(!params.onglet)return "padding-bottom : "+json.note.margin;return "";}});selectors.push({"selector":".header-container","style":function(json,inline){var css=[];if(params.onglet)css.push("display:inline-block; width: auto;");css.push("padding : "+json.note.hmargin+" "+json.note.hmargin);css.push("background-color : "+params["bg-color"]);css.push("margin : "+((/none/.test(params["hr-css"])||params.onglet)?0:params["bmargin"])+" 0");if(params.ruban)css.push("position:relative");return joincss(css);}});if(!params.onglet){selectors.push({"selector":".rpdheader .hr","style":function(json,inline){var css=[];css.push(params["hr-css"]);css.push("border-color:"+(params["hr-color"]||params["color"]));return joincss(css);}});}else{selectors.push({"selector":".rpdheader .hr.hr_bottom","style":"position:relative"});selectors.push({"selector":".rpdheader .hr.hr_bottom .inhr","style":function(json,inline){var css=[];css.push(params["hr-css"]);css.push("position : absolute; bottom : 0; width: 100%");css.push("border-color:"+(params["hr-color"]||params["color"]));return joincss(css);}});}
if(params.ruban){selectors.push({"selector":".header-ruban","style":function(json,inline){var css=[];css.push("position:absolute; width: 6px; display: block; height: 100%; top: 0; left: -6px;");css.push("background-color : "+params["bg-color"]+";");return joincss(css);}});selectors.push({"selector":".icon-ruban","style":"display:block;position:absolute; line-height:100%; height:6px; bottom : -6px; left: -6px; width: 6px; font-size:11px; overflow:hidden; -webkit-font-smoothing: none; font-weight:normal; color : "+params["bg-color"]+"@d17"});}
selectors.push({"selector":".headertext-inner","style":function(json,inline){if(json.note.iconmode=="intop"||json.note.iconmode=="intopbig"||json.note.iconmode=="intopvbig")return "display:block;"
else return "display:table-cell";}});selectors.push({"selector":".firstcolor, .secondcolor","style":"color : "+params["color"]});return selectors;}},"origine":{"name":"origine","jcss":function(params){params=cloneObject({"bg-color":"transparent","bg-color2":"transparent","bg-color3":"transparent","bg-color4":"transparent","interieur":false,"detachment":false,"hr-css":"border: none","hr-color":null,"bg-mask":false,"bg-image":false},params||{});var selectors=[];selectors=selectors.concat(noteBorderSelector(params.detachment?".tablenotecontent":"td.tdcontainer"));selectors=selectors.concat(set_bgcolorTo(params.interieur?"td.tdcontainer":".tablenotecontent"));if(params["notebgimage"])selectors=selectors.concat(set_bgimageTo((params.interieur?"td.tdcontainer":".tablenotecontent"),params["notebgimage"]));selectors.push({"selector":".header-container","style":function(json,inline){var css=[];css.push("padding : "+json.note.hmargin+" "+(params.interieur?json.note.hmargin:json.note.margin));return joincss(css);}});selectors.push({"selector":".qlubcontainer_noteheader","style":function(json,inline){var css=[];css.push("background-color : "+params["bg-color"]);if(params["gradient"]){css.push(gradient(params["bg-color"]+" 0%, "+params["bg-color"]+"@d10 100%"));}
else if(params["glossy"]){css.push(gradient(params["bg-color"]+" 0%, "+params["bg-color"]+"@d3 49%, "+params["bg-color"]+"@d6 51%, "+params["bg-color"]+"@d8 100%"));}
if(params["bg-mask"])css.push("background-image : url( /services/skeletons/"+spacexml.skeleton.id+"/images/"+params["bg-mask"]+" ); background-repeat : repeat;");if(params["bg-image"])css.push("background-image : url( "+params["bg-image"]+" ) ; background-repeat : repeat-y; background-size : cover; filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+params["bg-image"]+"',sizingMethod='scale');");return joincss(css);}});if(params.interieur){selectors.push({"selector":".rpdheader","style":function(json,inline){return "padding : "+json.note.margin+" "+json.note.margin+" 0 "+json.note.margin;}});selectors.push({"selector":".showPaddingBottom .rpdheader, .showTablePaddingBottom .rpdheader","style":function(json,inline){return "padding-bottom : "+json.note.margin;}});}
if(params.detachment){selectors.push({"selector":".tablenote","style":function(json,inline){return "margin-bottom : "+params.detachment;}});}
if(params["hr-color"]){selectors.push({"selector":".rpdheader .hr.hr_bottom","style":function(json,inline){var css=[];css.push("position:absolute; width:100%; bottom :0");css.push(params["hr-css"]);if(params["relief"])css.push("border-color:"+params["bg-color"]+"@d8");else css.push("border-color:"+params["hr-color"]);return joincss(css);}});}
selectors.push({"selector":".headertext-inner","style":function(json,inline){if(json.note.iconmode=="intop"||json.note.iconmode=="intopbig"||json.note.iconmode=="intopvbig")return "display:block;"
else return "display:table-cell";}});selectors.push({"selector":".firstcolor, .secondcolor","style":"color : "+params["color"]});return selectors;}}};var _bicolorlayout={"span1":{"jcss":function(params){var selectors=[];if(params["bhbg"]){selectors.push({"selector":"span.firstcolor","style":"display:inline-block; background-color : "+params["bhbg"]+"; padding : 0.2em;"});selectors.push({"selector":"span.secondcolor.noescape","style":"padding-left:0.1em"});}
if(params["bhtext"])selectors.push({"selector":"span.firstcolor","style":"color : "+params["bhtext"]});if(params["bhbold"])selectors.push({"selector":"span.firstcolor","style":"font-weight : "+params["bhbold"]});return selectors;}},"span2":{"jcss":function(params){var selectors=[];if(params["bhbg"]){selectors.push({"selector":"span.secondcolor","style":"display:inline-block; background-color : "+params["bhbg"]+"; padding : 0.2em;"});selectors.push({"selector":"span.firstcolor.noescape","style":"padding-right:0.1em"});}
if(params["bhtext"])selectors.push({"selector":"span.secondcolor","style":"color : "+params["bhtext"]});if(params["bhbold"])selectors.push({"selector":"span.secondcolor","style":"font-weight : "+params["bhbold"]});return selectors;}}};this.JCSS=[{"selector":function(json,inline){var tmp=["h1","h2","h3"];if(use(json)=="content")tmp=["h3"];var selectors=[];for(var i=0;i<tmp.length;i++){selectors.push({"selector":".rpd-"+tmp[i]+", .rpd-"+tmp[i]+" .qlubcontainer_headertext"+", .rpd-"+tmp[i]+" .qlubcontainer_headermeasure","style":textStyle(json,inline,tmp[i])});var hjson=json[tmp[i]];if(!inline&&hjson&&hjson["jcss"])selectors=JCSSManager.extend(selectors,JCSSManager.prefix(hjson["jcss"],".rpd-"+tmp[i]));}
return selectors;}},{"media":"xs","selector":function(json,inline){var tmp=["h1","h2","h3"];if(use(json)=="content")tmp=["h3"];var selectors=[];for(var i=0;i<tmp.length;i++){selectors.push({"selector":".rpd-"+tmp[i]+", .rpd-"+tmp[i]+" .qlubcontainer_headertext"+", .rpd-"+tmp[i]+" .qlubcontainer_headermeasure","style":textStyle(json,inline,tmp[i],false,"xs")});var hjson=json[tmp[i]];if(!inline&&hjson&&hjson["jcss"])selectors=JCSSManager.extend(selectors,JCSSManager.prefix(hjson["jcss"],".rpd-"+tmp[i]));}
return selectors;}},{"selector":function(json,inline){if(use(json)=="title")return[];var tmp=["h4","h5","p1","p2","p3"];var selectors=[];for(var i=0;i<tmp.length;i++){selectors.push({"selector":".rpd-"+tmp[i],"style":textStyle(json,inline,tmp[i])});selectors.push({"selector":".rpd-small .rpd-"+tmp[i],"style":textStyle(json,inline,tmp[i],true)});var hjson=json[tmp[i]];if(!inline&&hjson&&hjson["jcss"])selectors=JCSSManager.extend(selectors,JCSSManager.prefix(hjson["jcss"],".rpd-"+tmp[i]));}
return selectors;}},{"media":"xs","selector":function(json,inline){if(use(json)=="title")return[];var tmp=["h4","h5","p1","p2","p3"];var selectors=[];for(var i=0;i<tmp.length;i++){selectors.push({"selector":".rpd-"+tmp[i],"style":textStyle(json,inline,tmp[i],false,"xs")});selectors.push({"selector":".rpd-small .rpd-"+tmp[i],"style":textStyle(json,inline,tmp[i],true,"xs")});var hjson=json[tmp[i]];if(!inline&&hjson&&hjson["jcss"])selectors=JCSSManager.extend(selectors,JCSSManager.prefix(hjson["jcss"],".rpd-"+tmp[i]));}
return selectors;}},{"selector":function(json,inline){if(RPD.layoutJCSS)return RPD.layoutJCSS(json,inline);return[];}},{"selector":"self","style":"border: none"},{"selector":".qlubcontainer_content","style":function(json,inline){var css=[];var o=contentMargin(json);css.push("padding: "+o.top+" "+o.right+" "+o.bottom+" "+o.left);return joincss(css);}},{"selector":".rpd-noheader .qlubcontainer_content","style":function(json,inline){var css=[];var o=contentMargin(json);css.push("padding: "+o.bottom+" "+o.right+" "+o.bottom+" "+o.left);return joincss(css);}},{"selector":".rpd-bg","style":function(json,inline){var css=[];css.push("background-color:"+notecolor(json));return joincss(css);}},{"selector":".rpd-bg-alt","style":function(json,inline){var bgcolor=notecolor(json);if(bgcolor=="transparent")bgcolor=json.note.altbgcolor||"transparent";return "background-color : "+bgcolor;}},{"selector":".rpd-bg-contrast5","style":function(json,inline){var color=altpbgcolor(json);if(color=="transparent")return "";var modifier="@"+(quomodoColors.isdark(color)?"l5":"d5");return "background-color: "+color+modifier;}},{"selector":".rpd-bg-contrast10","style":function(json,inline){var color=altpbgcolor(json);if(color=="transparent")return "";var modifier="@"+(quomodoColors.isdark(color)?"l10":"d10");return "background-color: "+color+modifier;}},{"selector":".rpd-hbg","style":function(json,inline){var css=[];css.push("background-color:"+headercolor(json));return joincss(css);}},{"selector":".rpd-border","style":function(json,inline){var css=[];css.push("border-style: "+"solid");css.push("border-width: "+"1px");return joincss(css);}},{"selector":".rpd-list div.hr, hr","style":function(json,inline){var css=[];if(!json.list)json.list=_this["default"].list;css.push("border:0");css.push(json.list["css"]);css.push("border-color : "+(json.list["color"]||"gbw2")+"-"+altpbgcolor(json)+(json.list["inset"]?"@inset":""));return joincss(css);}},{"selector":".rpd-list div.althr","style":function(json,inline){var css=[];if(!json.list)json.list=_this["default"].list;css.push(json.list["css"]);css.push("border-color : "+"gbw2-"+altpbgcolor(json)+(json.list["inset"]?"@inset":""));return joincss(css);}},{"selector":".rpd-list .rpd-list-item","style":function(json,inline){var css=[];if(!json.list)json.list=_this["default"].list;css.push("padding : "+(json.list["margin"]?json.list["margin"]:Math.round(parseInt(json.note.margin.split(" ")[0],10)*2/3)+"px 0px"));return joincss(css);}},{"selector":'input[type="text"], textarea, input[type="password"], .custom-form-select, .rpd-input',"style":function(json,inline){var css=[];css.push("background-color : #ffffff !important; padding: 0.5em; border-radius: 4px")
css.push("border: 1px solid "+quomodoColors.richColor("gbw2-"+altpbgcolor(json)).c);css.push("color:"+quomodoColors.richColor(json.p1.color+"-white").c+" !important");return joincss(css);}},{"selector":'input.rpd-input2',"style":function(json,inline){var css=[];css.push("background-color : #ffffff !important; color : #999999 !important; height : 30px")
css.push("padding: 4px 10px");css.push("border: 1px solid "+quomodoColors.richColor("gbw2-"+altpbgcolor(json)).c);return joincss(css);}},{"selector":function(json,inline){var selectors=[];var p=Math.round(parseInt(json.note.margin.split(" ")[0],10)*2/3)+"px";if(!json.list)json.list=_this["default"].list;if(json.list["margin"])p=json.list["margin"].split(" ")[0];selectors.push({"selector":".rpd-list-pl, .rpd-list .rpd-list-item.rpd-list-pl","style":"padding-left: "+p});selectors.push({"selector":".rpd-list-pr, .rpd-list .rpd-list-item.rpd-list-pr","style":"padding-right: "+p});selectors.push({"selector":".rpd-list-pt, .rpd-list .rpd-list-item.rpd-list-pt","style":"padding-top: "+p});selectors.push({"selector":".rpd-list-pb, .rpd-list .rpd-list-item.rpd-list-pb","style":"padding-bottom: "+p});return selectors;}},{"selector":function(json,inline){if(json.list.hover)return json.list.hover;return[];}},{"selector":".qlubcontainer_noteheader","style":function(json,inline){var css=[];if(json.note.bhmargin)css.push("padding-bottom: "+json.note.bhmargin);if(json.note.header){var b=json.note.header.split("-")[0]=="padding";if(inline||b)css.push("border: "+(b?"solid 1px rgb(170, 170, 170)":"none"));}
return joincss(css);}},{"selector":function(json,inline){var tmp=["top","right","bottom","left"];var o=contentMargin(json);var selectors=[];for(var i=0;i<tmp.length;i++){var c=tmp[i].substring(0,1);selectors.push({"selector":".rpd-op"+c,"style":"padding-"+tmp[i]+": "+o[tmp[i]]});selectors.push({"selector":".rpd-om"+c,"style":"margin-"+tmp[i]+": "+o[tmp[i]]});selectors.push({"selector":".rpd-ip"+c,"style":"padding-"+tmp[i]+": "+o["margin"]});selectors.push({"selector":".rpd-im"+c,"style":"margin-"+tmp[i]+": "+o["margin"]});selectors.push({"selector":".rpd-halfp"+c,"style":"padding-"+tmp[i]+": "+Math.round(parseInt(o["margin"],10)/2)+"px"});}
selectors.push({"selector":".rpd-noheader .rpd-opt","style":"padding-top: "+o["bottom"]});return selectors;}},{"selector":function(json,inline){var selectors=[];var linkjson=json["link"];var css=[];if(linkjson&&linkjson.bold!=undefined)css.push("font-weight: "+(linkjson.bold?"bold":"normal"));if(linkjson&&linkjson.italic!=undefined)css.push("font-style: "+(linkjson.italic?"italic":"normal"));if(linkjson&&linkjson.color!=undefined&&linkjson.color!="auto"){var bgcolor=altpbgcolor(json);css.push("color: "+normalizedTextcolor(linkjson.color)+"-"+bgcolor);}
if(linkjson["css"])css.push(linkjson["css"]);css.push("cursor:pointer");css=joincss(css);if(css)selectors.push({"selector":".rpd-link a, a.rpd-link, .rpd-link.anchor","style":css});if(!inline&&linkjson){if(linkjson["jcss"])selectors=JCSSManager.extend(selectors,JCSSManager.prefix(linkjson["jcss"],".rpd-link"));if(linkjson["more-css"])selectors.push({"selector":".rpd-link a.rpd-more, a.rpd-link.rpd-more, .rpd-link.rpd-more.anchor","style":linkjson["more-css"]});if(linkjson["before"])selectors.push({"selector":".rpd-link a.rpd-more:before, a.rpd-link.rpd-more:before, .rpd-link.anchor.rpd-more:before","style":joincss([linkjson["before"],"color: "+normalizedTextcolor(linkjson.morecolor)+"-"+bgcolor])});if(linkjson["after"])selectors.push({"selector":".rpd-link a.rpd-more:after, a.rpd-link.rpd-more:after, .rpd-link.anchor.rpd-more:after","style":joincss([linkjson["after"],"color: "+normalizedTextcolor(linkjson.morecolor)+"-"+bgcolor])});}
if(json["action"])selectors.push({"selector":"a.rpd-action, .rpd-action","style":"cursor:pointer;"+json["action"].replace("-altpbgcolor","-"+altpbgcolor(json))});else selectors.push({"selector":"a.rpd-action, .rpd-action","style":"cursor:pointer; color : bw-"+altpbgcolor(json)});if(json["action-hover"])selectors.push({"selector":"a.rpd-action:hover, .rpd-action:hover, a.rpd-action:active, .rpd-action:active","style":json["action-hover"]});else selectors.push({"selector":"a.rpd-action:hover, .rpd-action:hover, a.rpd-action:active, .rpd-action:active","style":"text-decoration: none;"});if(json["button"]){var jsonButton=cloneObject({bgcolor:altpbgcolor(json)},json.button);jsonButton.padding=json.button.padding||"0.7em 1.6em";jsonButton.margin=json.button.margin||"0.5em 0";}else{var jsonButton={"id":"outline","color":normalizedTextcolor(json.note.pcolor),"bgcolor":altpbgcolor(json),"padding":"0.7em 1.6em","margin":"0.5em 0"};}
var common_css_btn=getButtonCommonCss(json,jsonButton);selectors.push({"selector":"a.rpd-button, .rpd-button","style":common_css_btn+getButton(jsonButton.id).button(jsonButton),"inline":function(elem){$(elem).attr("onmouseover","RPD.overButton( this ) ;");$(elem).attr("onmouseout","RPD.outButton( this ) ;");}});selectors.push({"selector":".rpd-button a","style":"text-decoration :none"});selectors.push({"selector":"a.rpd-button:hover, .rpd-button:hover, a.rpd-button:active, .rpd-button:active","style":common_css_btn+getButton(jsonButton.id).hover(jsonButton)});jsonButton.bgcolor=(json.note.altbgcolor?json.note.altbgcolor:"transparent");selectors.push({"selector":"a.rpd-altbutton, .rpd-altbutton","style":common_css_btn+getButton(jsonButton.id).button(jsonButton),"inline":function(elem){$(elem).attr("onmouseover","RPD.overButton( this ) ;");$(elem).attr("onmouseout","RPD.outButton( this ) ;");}});selectors.push({"selector":"a.rpd-altbutton:hover, .rpd-altbutton:hover, a.rpd-altbutton:active, .rpd-altbutton:active","style":common_css_btn+getButton(jsonButton.id).hover(jsonButton)});selectors.push({"selector":".rpd-button-icon-left","style":jsonButton.hideicon?"display:none":"font-family:q-sn; font-size:1em; line-height:1em; margin-right: "+jsonButton.padding.split(" ")[0]});selectors.push({"selector":".rpd-button-icon-right","style":jsonButton.hideicon?"display:none":"font-family:q-sn; font-size:1em; line-height:1em; margin-left: "+jsonButton.padding.split(" ")[0]});return selectors;}},{"selector":".headericon-in","style":function(json,inline){return headericon_in_style(json,inline);}},{"selector":".headericon-in.fold","style":function(json,inline){if(json.note.iconmode)return "";var css="display:table-cell;";var s=parseInt(iconSize(json,true));css+="font-size: "+s+"px; line-height: "+s+"px; padding-right : "+(json.note.iconmargin||"0.6em")+";";css+="color : "+json.note.iconcolor+";";return css;}},{"selector":".td-headericon","style":function(json,inline){if(json.note.icon&&(json.note.iconmode=="inout"||json.note.iconmode=="out"||json.note.iconmode=="inoutbig"||json.note.iconmode=="outbig"))return "display:table-cell; vertical-align:top; position:relative;width:1px";else return "display:none";}},{"selector":".headericon","style":function(json,inline){return headericon_style(json,inline);}},{"media":"xs","selector":".headericon-in","style":function(json,inline){if(json.note.iconmode=="out"){var savedIconmode="out";json.note.iconmode="inout";}else if(json.note.iconmode=="outbig"){var savedIconmode="outbig";json.note.iconmode="inoutbig";}
var css=headericon_in_style(json,inline);if(savedIconmode)json.note.iconmode=savedIconmode;return css;}},{"media":"xs","selector":".headericon","style":function(json,inline){if(json.note.iconmode=="out"){var savedIconmode="out";json.note.iconmode="inout";}else if(json.note.iconmode=="outbig"){var savedIconmode="outbig";json.note.iconmode="inoutbig";}
var css=headericon_style(json,inline);if(savedIconmode)json.note.iconmode=savedIconmode;return css;}},{"media":"xs","selector":".headericon-in.fold","style":function(json,inline){if(json.note.iconmode)return "";var css="display:table-cell;";var s=parseInt(iconSize(json,true));css+="font-size: "+s+"px; line-height: "+s+"px; padding-right : "+(json.note.iconmargin||"0.6em")+";";css+="color : "+json.note.iconcolor+";";return css;}},{"selector":".rpd-toggleborder","style":function(json,inline){if(strokecolor(json)=="transparent")return "border: solid 1px ; border-color : #D1D1D1";return "";}},{"selector":".rpd-borderhide","style":function(json,inline){if(strokecolor(json)!="transparent")return "display: none";return "";}},{"selector":".rpd-gbw","style":function(json,inline){return "color: gbw-"+altpbgcolor(json);}},{"selector":".rpd-gbw2","style":function(json,inline){return "color: gbw2-"+altpbgcolor(json);}},{"selector":".rpd-bw","style":function(json,inline){return "color : bw-"+altpbgcolor(json);}},{"selector":".rpd-pbg-gbw","style":function(json,inline){var color=altpbgcolor(json)=="transparent"?"white":altpbgcolor(json);return "background-color : gbw-"+color+" ; color : "+color;}},{"selector":".rpd-pbg-gbw2","style":function(json,inline){var color=altpbgcolor(json)=="transparent"?"white":altpbgcolor(json);return "background-color : gbw2-"+color+" ; color : "+color;}},{"selector":".rpd-pbg-funcolor","style":function(json,inline){var color=altpbgcolor(json)=="transparent"?"white":altpbgcolor(json);return "background-color : "+funcolor(json)+"-"+color+"; color : "+color;}},{"selector":".rpd-onwhite","style":function(json,inline){return "color : "+funcolor(json)+"-white";}},{"selector":".rpd-yellow","style":function(json,inline){return "color : yellow-"+altpbgcolor(json);}},{"selector":".rpd-gbw2-background","style":function(json,inline){return "background-color : gbw2-"+altpbgcolor(json);}},{"selector":".rpd-gbw2-border","style":function(json,inline){return "border-color : gbw2-"+altpbgcolor(json);}},{"selector":".rpd-gbw2-border-over","style":function(json,inline){var modifier=quomodoColors.isdark(altpbgcolor(json),true)?"@l5":"@d5";return "border-color : gbw2-"+altpbgcolor(json)+modifier;}},{"selector":".rpd-gbw-border","style":function(json,inline){return "border-color : gbw-"+altpbgcolor(json);}},{"selector":".rpd-bw-border","style":function(json,inline){return "border-color : bw-"+altpbgcolor(json);}},{"selector":".rpd-funcolor","style":function(json,inline){return "color : "+funcolor(json)+"-"+altpbgcolor(json);}},{"selector":function(json,inline){if(!json.note["jcss"])return "";return json.note["jcss"];}}];this.shopJCSS=[{"selector":function(json,inline){var selectors=[];if(json["button"]){var jsonButton=cloneObject({bgcolor:altpbgcolor(json)},json.button);jsonButton.padding=json.button.padding||"0.7em 1.6em";jsonButton.margin=json.button.margin||"0.5em 0";jsonButton.id="flat";}else{var jsonButton={"id":"flat","color":normalizedTextcolor(json.note.pcolor),"bgcolor":altpbgcolor(json),"padding":"0.7em 1.6em","margin":"0.5em 0"};}
var common_css_btn="border-radius: 0px; border: none; box-shadow: none;"+getButtonCommonCss(json,jsonButton);selectors.push({"selector":".ec-size .ec-store .form-control--secondary .form-control__button","style":common_css_btn+getButton(jsonButton.id).button(jsonButton),"inline":function(elem){$(elem).attr("onmouseover","RPD.overButton( this ) ;");$(elem).attr("onmouseout","RPD.outButton( this ) ;");}});selectors.push({"selector":".ec-size .ec-store .form-control--secondary .form-control__button","style":"text-decoration :none"});selectors.push({"selector":".ec-size .ec-store .form-control--secondary .form-control__button:hover","style":common_css_btn+getButton(jsonButton.id).hover(jsonButton)});jsonButton.id="outline";common_css_btn="border-radius: 0px; border: none; box-shadow: none;"+getButtonCommonCss(json,jsonButton);selectors.push({"selector":".ec-size .ec-store .form-control--primary .form-control__button","style":common_css_btn+getButton(jsonButton.id).button(jsonButton),"inline":function(elem){$(elem).attr("onmouseover","RPD.overButton( this ) ;");$(elem).attr("onmouseout","RPD.outButton( this ) ;");}});selectors.push({"selector":".ec-size .ec-store .form-control--primary .form-control__button","style":"text-decoration :none"});selectors.push({"selector":".ec-size .ec-store .form-control--primary .form-control__button:hover","style":common_css_btn+getButton(jsonButton.id).hover(jsonButton)});selectors.push({"selector":"input.form-control__text","style":"background-color: transparent !important"});selectors.push({"selector":"div.ecwid-ProductBrowser-auth-anonim, div.ecwid-ProductBrowser-auth-logged","style":"margin-right: 0px !important"});selectors.push({"selector":"div.ecwid-Checkout-DeliveryMethod div.ecwid-form","style":"width: 449px ; box-sizing: border-box"});selectors.push({"selector":"div.ecwid-productBrowser","style":"background-color: transparent ; padding-right: 0px; padding-left: 0px"});if(true||RPD.shopNode){selectors.push({"selector":".ec-breadcrumbs","style":"display: none"});}else{selectors.push({"selector":".page-title__name, .product-details__product-title, .ec-breadcrumbs","style":"display: none"});}
if(RPD.shopNode){selectors.push({"selector":".ec-footer","style":"display: none"});}
selectors.push({"selector":".ec-size .ec-store .ec-notices--fixed","style":"position: absolute"});return selectors;}}];function getButtonCommonCss(json,jsonButton){var button_textsize=jsonButton.textsize?jsonButton.textsize:(json.p1.textsize||json.note.textsize);var button_lineheight=jsonButton["line-height"]?jsonButton["line-height"]:(json.p1["line-height"]||"100%");var button_font=jsonButton.font?jsonButton.font:(json.p1.font||json.note["pfamily"]);var button_bold=(jsonButton.bold!=undefined)?jsonButton.bold:(json.p1.bold);var button_italic=(jsonButton.italic!=undefined)?jsonButton.italic:(json.p1.italic);var button_case=jsonButton["case"]?jsonButton["case"]:(json.p1["case"]||json.note["case"]);var button_case_css;if(button_case=="up")button_case_css="text-transform: uppercase ";else if(button_case=="cap")button_case_css="font-variant : small-caps";else button_case_css="text-transform : none";return "display:inline-block; text-decoration:none; padding:"+jsonButton.padding+" ; cursor:pointer; transition : all 0.3s; margin :"+jsonButton.margin+"; font-size :"+button_textsize+"; font-family :"+button_font+"; font-weight :"+(typeof(button_bold)=="string"?button_bold:(button_bold?"bold":"normal"))+"; font-style:"+(button_italic?"italic":"normal")+";"+button_case_css+"; line-height : "+button_lineheight+";";}
function getRPD(json,colorsection){if(typeof json=="string"){var rpd=_this.getRPDById(json);if(!rpd){var _skeleton=Skeleton.skeleton();if(_skeleton&&_skeleton.rpds&&_skeleton.rpds.length>0)rpd=_skeleton.rpds[0];else if(spacexml.rpds&&spacexml.rpds.length>0)rpd=spacexml.rpds[0];else rpd={"rpd":cloneObject(_this["default"])};}
if(colorsection){rpd=cloneObject(rpd);if(!rpd.rpd.params)rpd.rpd.params={};rpd.rpd.params.altbgcolor=colorsection;}
return RPD.prepareRPD(rpd.rpd);}
if(colorsection){json=cloneObject(json);if(!json.params)json.params={};json.params.altbgcolor=colorsection;}
return RPD.prepareRPD(json);};function spacexmlRPD(id){var tmp=(spacexml.skeleton&&spacexml.skeleton.rpds)||[];for(var i=0;i<tmp.length;i++){if(tmp[i].id==id)return tmp[i];}};function skeletonRPD(id){var _skeleton=Skeleton.skeleton();if(!_skeleton)return null;if(_skeleton.rpd&&_skeleton.rpd._rpdByIDPrepared){if(!_skeleton.rpd[id]){var richID=_this.richRPDID(id);if(_skeleton.rpd[richID.rpdid]){var rpd=skeletonRPD(richID.rpdid);_skeleton.rpd[richID.id]=cloneObject(rpd);_skeleton.rpd[richID.id].richid=id;if(richID.format)_skeleton.rpd[richID.id].rpd.format=richID.format;return _skeleton.rpd[richID.id];}
if(spacexml.skeleton.altrpd&&spacexml.skeleton.altrpd[id]&&typeof spacexml.skeleton.altrpd[id])return skeletonRPD(spacexml.skeleton.altrpd[id]);return null;}
if(typeof _skeleton.rpd[id].rpd=="string")return skeletonRPD(_skeleton.rpd[id].rpd);else return _skeleton.rpd[id];}
_skeleton.rpd=_skeleton.rpd||{};var tmp=_skeleton.rpds||[];for(var i=0;i<tmp.length;i++){if(tmp[i].id=="rpdp-h0"||tmp[i].id=="rpdp-nav0"){if(!tmp[i].rpd.format)tmp[i].rpd.format="banner";}
_skeleton.rpd[tmp[i].id]=tmp[i];}
_skeleton.rpd._rpdByIDPrepared=true;return skeletonRPD(id);};this.defaultSections=function(){var sections={"h-0":["rpdp-h0"],"h-1":["rpdp-nav0"],"h-2":["rpdp-h0"],"ph-0":["rpdp-phtitle0","rpdp-phtext0"],"ph-1":["rpdp-pagetitle1","rpdp-phtext1"],"p-0":[["rpdp-pagetitle0","rpdp-sectitle0","rpdp-main0","rpdp-sum0","rpdp-art0","rpdp-info0","rpdp-card0"],["rpdp-sectitle1","rpdp-main1","rpdp-sum1"]],"p-1":[["rpdp-sectitle1","rpdp-main1","rpdp-sum1"],["rpdp-sectitle0","rpdp-main0","rpdp-sum0","rpdp-art0","rpdp-info0","rpdp-card0"]],"p-2":[["rpdp-sectitle0","rpdp-main0","rpdp-sum0"],["rpdp-sectitle1","rpdp-main1","rpdp-sum1","rpdp-art0","rpdp-info0","rpdp-card0"]],"p-3":[["rpdp-sectitle1","rpdp-main1","rpdp-sum1"],["rpdp-sectitle0","rpdp-main0","rpdp-sum0","rpdp-art0","rpdp-info0","rpdp-card0"]],"p-4":[["rpdp-sectitle0","rpdp-main0","rpdp-sum0"],["rpdp-sectitle1","rpdp-main1","rpdp-sum1","rpdp-art0","rpdp-info0","rpdp-card0"]],"p-5":[["rpdp-sectitle1","rpdp-main1","rpdp-sum1"],["rpdp-sectitle0","rpdp-main0","rpdp-sum0","rpdp-art0","rpdp-info0","rpdp-card0"]],"f-0":["rpdp-ftitle0","rpdp-f0"],"f-1":["rpdp-ftitle1","rpdp-f1"]};sections["p-2"][0].push("rpdp-side0");sections["p-2"][1].push("rpdp-side1");sections["p-4"][0].push("rpdp-side0");sections["p-4"][1].push("rpdp-side1");sections["p-1"][0].push("rpdp-side1");sections["p-1"][1].push("rpdp-side0");sections["p-3"][0].push("rpdp-side1");sections["p-3"][1].push("rpdp-side0");sections["p-5"][0].push("rpdp-side0");sections["p-5"][1].push("rpdp-side1");if($("#c-0").length==0){sections["p-0"][0].push("rpdp-side0");sections["p-0"][1].push("rpdp-side1");}else{sections["c-0"]=[["rpdp-side0","rpdp-sectitle0"],["rpdp-side1","rpdp-sectitle1"]];}
return sections;};this.defaultFilteredSections=function(sectionid,excluded,included){excluded=excluded||[];if(typeof excluded=="string")excluded=[excluded];var x=RPD.defaultSections()[sectionid];for(var i=0;i<excluded.length;i++){if(x[0]&&typeof(x[0])=="string"){var pos=$.inArray(excluded[i],x);if(pos!=-1)x.splice(pos,1);}else{if(x[0]){var pos=$.inArray(excluded[i],x[0]);if(pos!=-1)x[0].splice(pos,1);}
if(x[1]){var pos=$.inArray(excluded[i],x[1]);if(pos!=-1)x[1].splice(pos,1);}}}
included=included||[];if(typeof included=="string")included=[included];for(var i=0;i<included.length;i++){if(x[0]&&typeof(x[0])=="string"){if($.inArray(included[i],x)==-1)x.push(included[i]);}else{if($.inArray(included[i],x[0])==-1&&(!x[1]||$.inArray(included[i],x[1])==-1))x[0].push(included[i]);}}
return x;};this.qsnDefaults=function(json){json=getRPD(json);return json.qsnDefaults||{};};this.getFormat=function(id){if(!id||typeof id!="string"||id=="rpdmenu-main")return null;var rpd=RPD.getRPDById(id);return rpd.rpd.format;};this.getTheme=function(id){if(!id||typeof id!="string"||id=="rpdmenu-main")return null;var theme;var rpd=RPD.getRPDById(id);if(!rpd)console.log("no rpd in getTheme",id);var tmp=rpd.inherit||rpd.id;if(tmp)theme=tmp.replace("rpdp-","").replace(/[0-9]+/,"");return theme;};this.richRPDID=function(id){var o={};o.id=id;o.rpdid=id.replace(/\?.*/,"");var x=id.replace(/^[^?]*\??/,"");var t=x.split("&");var tt;for(var i=0;i<t.length;i++){tt=t[i].split("=");o[tt[0]]=decodeURIComponent(tt[1]);}
return o;};this.getRPDById=function(id){var rpd=spacexmlRPD(id);if(rpd)return rpd;return skeletonRPD(id);};this.pbgcolor=function(json,rawdata,sectioncolor){json=getRPD(json,sectioncolor);if(rawdata)return notecolor(json,sectioncolor);var cc=quomodoColors.richColor(notecolor(json,sectioncolor));return cc.c;};this.altbgcolor=function(json,rawdata,sectioncolor){json=getRPD(json,sectioncolor);var c=sectioncolor||json.note.altbgcolor||"white";if(rawdata)return c;var cc=quomodoColors.richColor(c);return cc.c;};this.altpbgcolor=function(json,rawdata,sectioncolor){json=getRPD(json,sectioncolor);if(rawdata)return altpbgcolor(json,sectioncolor);var cc=quomodoColors.richColor(altpbgcolor(json,sectioncolor));return cc.c;};this.hbgcolor=function(json,sectioncolor){json=getRPD(json,sectioncolor);var cc=quomodoColors.richColor(headercolor(json,sectioncolor));return cc.c;};this.contentMargin=function(json){json=getRPD(json);return contentMargin(json);};this.pcolor=function(json,rawdata,sectioncolor){json=getRPD(json,sectioncolor);if(rawdata)return json.p1.color||json.note.pcolor;var cc=quomodoColors.richColor(normalizedTextcolor(json.p1.color||json.note["pcolor"])+"-"+altpbgcolor(json,sectioncolor));return cc.c;};this.linkcolor=function(json,rawdata,sectioncolor){json=getRPD(json,sectioncolor);if(rawdata)return json.link.color||json.note.pcolor;var cc=quomodoColors.richColor(normalizedTextcolor(json.link.color||json.note["pcolor"])+"-"+altpbgcolor(json,sectioncolor));return cc.c;};this.gbwborder=function(json,sectioncolor){json=getRPD(json,sectioncolor);var cc=quomodoColors.richColor("gbw-"+altpbgcolor(json,sectioncolor));return cc.c;};this.onwhitecolor=function(json){json=getRPD(json);return funcolor(json);};this.funcolor=function(json){json=getRPD(json);return funcolor(json);};this.textsize=function(json,key){json=getRPD(json);return json[key||"p1"].textsize;};this.hasborder=function(json){json=getRPD(json);return strokecolor(json)!="transparent";};this.hideiconbutton=function(json){json=getRPD(json);return json.button.hideicon;};function iconSize(json,fold){var iconsize;if(json.format=="title1")var htype="h1";else if(json.format=="title2")var htype="h2";else var htype="h3";if(fold)iconsize=parseInt(json[htype].textsize,10)+"px";else if(json.note.iconsize){if(/%/.test(json.note.iconsize))iconsize=parseInt(json.note.iconsize,10)/100*parseInt(json[htype].textsize,10)+"px";else iconsize=json.note.iconsize;}else if(json.note.iconmode=="in"||json.note.iconmode=="intop")iconsize=(1.3*parseInt(json[htype].textsize,10))+"px";else if(/[^v]big$/.test(json.note.iconmode))iconsize=(2*parseInt(json[htype].textsize,10))+"px";else if(json.note.iconmode=="intopvbig")iconsize=(2.5*parseInt(json[htype].textsize,10))+"px";else iconsize=(1.5*parseInt(json[htype].textsize,10))+"px";return iconsize;}
function iconWidth(json){var iconsize=iconSize(json);iconsize=parseInt(iconsize,10);if(json.note.iconmode=="in")var margin=json.note.hmargin?json.note.hmargin:"0px";else var margin=json.note.margin?json.note.margin:"0px";return iconsize+parseInt(margin,10);}
this.getIconWidth=function(json){json=getRPD(json);return iconWidth(json);};this.iconmode=function(json){json=getRPD(json);return json.note.iconmode;};this.getCSS=function(json,sectioncolor){json=getRPD(json,sectioncolor);if(sectioncolor)return JCSSManager.css(RPD.JCSS,json,null,true);return JCSSManager.css(RPD.JCSS,json);};this.applyJCSS=function(div,rpd){rpd=this.prepareRPD(rpd);return JCSSManager.applyJCSS(div,this.JCSS,rpd);};this.prepareRPD=function(rpd,theme){function finalizeColor(color,params){if(typeof color!="string")return color;if(/^cs-/.test(color))return finalizeColor(params[color],params);return color;}
function getKey(id){if(/^out/.test(id))return "outlines";if(/^m/.test(id))return "models";if(/^t/.test(id))return "typos";if(/^btn/.test(id))return "buttons";if(/^cs/.test(id))return "colorsets";if(/^bh/.test(id))return "biheaders";if(/^al/.test(id))return "aligns";if(/^ico/.test(id))return "icons";if(/^img/.test(id))return "images";}
function safePresetID(id,preset){var p=preset[getKey(id)][id];if(typeof p=="string")return safePresetID(p,preset);return id;}
function inArray(item,array){if(!array)return-1;if(array.indexOf)return array.indexOf(item);else{for(var i=0;i<array.length;i++){if(array[i]==item)return i;}
return-1;}}
function safePreset(key,preset,id){id=id||rpd[key]||"m0";function typoPreset(typopresets){for(var key in typopresets){var defaultfont=(key=="h1"||key=="h2"||key=="h3")?"f2":"f1";var kfont=typopresets[key].font||defaultfont;var f=quomodoFonts.get(kfont);if((spacexml.skeleton[kfont+"-bold-nl"]||inArray("gras",f["t-kw"])!=-1)&&typopresets[key].bold&&inArray(typopresets[key].bold.toString(),["bold","700","true"])!=-1)typopresets[key].bold="normal";if((spacexml.skeleton[kfont+"-up-nl"]||f["up-nl"])&&typopresets[key]["case"])typopresets[key]["case"]="normal";if(key=="button"&&(spacexml.skeleton[kfont+"-btn-nl"]||f["btn-nl"]))typopresets["button"]["font"]="f1";}
return typopresets;}
if(typeof id=="string"){var p=preset[getKey(id)][id];if(typeof p=="string")return safePreset(key,preset,p);if(id=="tmaj")return typoPreset(rpdpreset_maj["tmaj"]);if(id=="csmaj")return rpdpreset_maj["csmaj"];var tmp=id.split("-");if(tmp[1])p=cloneObject(safePreset(key,preset,tmp[0]),p);}else var p=id;if(key=="typo")return typoPreset(p);return p;}
this.layoutJCSS=null;var _skeleton=Skeleton.skeleton();var z=(_skeleton&&_skeleton.zen)||(theme&&theme.zen)||"z100";if(typeof rpd=="string")rpd=eval("("+rpd+")");var preset=rpdpreset[z];if(_skeleton&&_skeleton.rpdpreset)preset=cloneObject({},preset,_skeleton.rpdpreset);var modelPreset=safePreset("model",preset);var layout=modelPreset.layout;if(_notelayoutJCSS[layout]){var csid=rpd.colorset;if(csid=="cs0"||csid=="cs2"||csid=="cs4"){if(!quomodoColors.isdark(rpd.params.altbgcolor))csid="cs0";else if(layout=="filet"||layout=="separateur")csid="cs2";else csid="cs4";}else if(csid=="cs1"||csid=="cs3"||csid=="cs5"){if(!quomodoColors.isdark(rpd.params.altbgcolor))csid="cs1";else if(layout=="filet"||layout=="separateur")csid="cs3";else csid="cs5";}
rpd.colorset=csid;var params=cloneObject(safePreset("typo",preset),safePreset("button",preset),safePreset("colorset",preset),safePreset("biheader",preset),safePreset("align",preset),safePreset("outline",preset),safePreset("icon",preset),safePreset("image",preset),modelPreset.params,rpd.params);for(var key in params){params[key]=finalizeColor(params[key],params);}
for(var key in params["bh-span1"]){params["bh-span1"][key]=finalizeColor(params["bh-span1"][key],params);}
for(var key in params["bh-span2"]){params["bh-span2"][key]=finalizeColor(params["bh-span2"][key],params);}
for(var key in params["note"]){params["note"][key]=finalizeColor(params["note"][key],params);}
if(_notelayoutJCSS[layout].extend){rpd=_notelayoutJCSS[layout].extend(rpd,params);}
this.layoutJCSS=function(json,inline){return _notelayoutJCSS[layout].jcss(params,json,inline);};}
return rpd;};this.qlub0CSS=function(rpds,theme,color_id,color_prefix){var isbody=false;if(color_id&&/:body$/.test(color_id)){isbody=true;color_id=color_id.replace(":body","");}
function prefixcss_rpd(id){return["."+id];}
rpds=rpds||[];var css=[];var rpdalias={};for(var i=0;i<rpds.length;i++){var rpditem=rpds[i];if(typeof rpditem=="string")rpditem=eval("("+rpditem+")");if(typeof rpditem.rpd=="string"){if(!rpdalias[rpditem.rpd])rpdalias[rpditem.rpd]=[];rpdalias[rpditem.rpd].push(rpditem.id);}}
if(theme&&theme.altrpd){for(var k in theme.altrpd){var rpd=theme.altrpd[k];if(typeof rpd!="string")continue;if(!rpdalias[rpd])rpdalias[rpd]=[];rpdalias[rpd].push(k);}}
var debug=JCSSManager.debug;for(var i=0;i<rpds.length;i++){var rpditem=rpds[i];if(typeof rpditem=="string")rpditem=eval("("+rpditem+")");if(typeof rpditem.rpd=="string")continue;if(rpditem.removed)continue;if(rpditem.debug&&!debug)JCSSManager.debug=true;var rpd=rpditem.rpd;if(color_id){var saved_altbgcolor=rpd.params.altbgcolor;rpd.params.altbgcolor=color_id;}
var tmprpd=this.prepareRPD(rpd,theme);if(color_id)rpd.params.altbgcolor=saved_altbgcolor;var prefixes=prefixcss_rpd(rpditem.id);if(rpdalias[rpditem.id]){for(var j=0;j<rpdalias[rpditem.id].length;j++){prefixes=prefixes.concat(prefixcss_rpd(rpdalias[rpditem.id][j]));}}
if(!color_id)css.push(JCSSManager.css(RPD.JCSS,tmprpd,prefixes));else{tmprpd.note.altbgcolor=color_id;var colorprefixes=[];for(var k=0;k<prefixes.length;k++){if(color_prefix){colorprefixes.push(color_prefix+" "+prefixes[k]);}else if(isbody){colorprefixes.push("body "+prefixes[k]);}else{colorprefixes.push(".color_"+color_id.replace(/[+@]/g,"_")+" "+prefixes[k]);colorprefixes.push(".sk-wra.color_"+color_id.replace(/[+@]/g,"_")+" "+prefixes[k]);colorprefixes.push(".sk-sec.color_"+color_id.replace(/[+@]/g,"_")+" "+prefixes[k]);colorprefixes.push(".sk-wra .sk-sec.color_"+color_id.replace(/[+@]/g,"_")+" "+prefixes[k]);}}
css.push(JCSSManager.css(RPD.JCSS,tmprpd,colorprefixes,true));}
if(rpditem.id=="rpdp-main0"&&theme.shop&&theme.shop.doit){tmprpd.shopId=theme.shop.id;if(theme.shop.node)RPD.shopNode=true;if(!color_id){css.push(JCSSManager.css(RPD.shopJCSS,tmprpd,"html#ecwid_html body#ecwid_body #my-store-"+tmprpd.shopId));css.push("html#ecwid_html body#ecwid_body[mystore-type='category'][mystore-home] .shop-product-title-wrapper { display: none }");css.push("html#ecwid_html body#ecwid_body[mystore-type='category'][mystore-home] .shop-home-hidden { display: none }");css.push("html#ecwid_html body#ecwid_body #my-store-"+tmprpd.shopId+" .ec-size .ec-store .grid-category .grid-category__bg-color { background-image: none ; background-color : "+quomodoColors.richColor("c1").c+" }");}else{tmprpd.note.altbgcolor=color_id;var colorprefixes=[];for(var k=0;k<prefixes.length;k++){if(isbody)colorprefixes.push("body "+prefixes[k]);else{colorprefixes.push("html#ecwid_html body#ecwid_body.color_"+color_id.replace(/[+@]/g,"_")+" #my-store-"+tmprpd.shopId);colorprefixes.push("html#ecwid_html body#ecwid_body .color_"+color_id.replace(/[+@]/g,"_")+" #my-store-"+tmprpd.shopId);colorprefixes.push("html#ecwid_html body#ecwid_body .sk-wra.color_"+color_id.replace(/[+@]/g,"_")+" #my-store-"+tmprpd.shopId);colorprefixes.push("html#ecwid_html body#ecwid_body .sk-sec.color_"+color_id.replace(/[+@]/g,"_")+" #my-store-"+tmprpd.shopId);colorprefixes.push("html#ecwid_html body#ecwid_body .sk-wra .sk-sec.color_"+color_id.replace(/[+@]/g,"_")+" #my-store-"+tmprpd.shopId);}}
css.push(JCSSManager.css(RPD.shopJCSS,tmprpd,colorprefixes,true));}}
if(rpditem.debug&&!debug)JCSSManager.debug=false;}
return css.join("\n");};this.getLayout=function(rpd){function getKey(id){if(/^out/.test(id))return "outlines";if(/^m/.test(id))return "models";if(/^t/.test(id))return "typos";if(/^btn/.test(id))return "buttons";if(/^cs/.test(id))return "colorsets";if(/^bh/.test(id))return "biheaders";if(/^al/.test(id))return "aligns";if(/^ico/.test(id))return "icons";if(/^img/.test(id))return "images";}
function safePreset(key,preset,id){id=id||rpd[key]||"m0";if(typeof id=="string"){var p=preset[getKey(id)][id];if(typeof p=="string")return safePreset(key,preset,p);if(id=="tmaj")return typoPreset(rpdpreset_maj["tmaj"]);if(id=="csmaj")return rpdpreset_maj["csmaj"];var tmp=id.split("-");if(tmp[1])p=cloneObject(safePreset(key,preset,tmp[0]),p);}else var p=id;return p;}
var _skeleton=Skeleton.skeleton();var z=(_skeleton&&_skeleton.zen)||(theme&&theme.zen)||"z100";if(typeof rpd=="string")rpd=eval("("+rpd+")");var preset=rpdpreset[z];if(_skeleton&&_skeleton.rpdpreset)preset=cloneObject({},preset,_skeleton.rpdpreset);var modelPreset=safePreset("model",preset);return modelPreset.layout;};this.overButton=function(elem){var json=RPD.prepareRPD(qsn_thenotes[getContainer(elem).id].rpd);if(json["button"]){var jsonButton=cloneObject({bgcolor:altpbgcolor(json)},json.button);jsonButton.padding=json.button.padding||"0.7em 1.6em";jsonButton.margin=json.button.margin||"0.5em 0";}else{var jsonButton={"id":"outline","color":normalizedTextcolor(json.note.pcolor),"bgcolor":altpbgcolor(json),"padding":"0.7em 1.6em","margin":"0.5em 0"};}
if($(elem).hasClass("nomargin"))jsonButton.margin="0";if($(elem).hasClass("rpd-altbutton"))jsonButton.bgcolor=(json.note.altbgcolor?json.note.altbgcolor:"transparent");if($(elem).attr("textsize"))jsonButton.textsize=$(elem).attr("textsize")+"px";var common_css_btn=getButtonCommonCss(json,jsonButton);var classDisabled=JCSSManager.classDisabled;JCSSManager.classDisabled=true;JCSSManager.apply(elem,common_css_btn+getButton(jsonButton.id).button(jsonButton)+getButton(jsonButton.id).hover(jsonButton));JCSSManager.classDisabled=classDisabled;};this.outButton=function(elem){var json=RPD.prepareRPD(qsn_thenotes[getContainer(elem).id].rpd);if(json["button"]){var jsonButton=cloneObject({bgcolor:altpbgcolor(json)},json.button);jsonButton.padding=json.button.padding||"0.7em 1.6em";jsonButton.margin=json.button.margin||"0.5em 0";}else{var jsonButton={"id":"outline","color":normalizedTextcolor(json.note.pcolor),"bgcolor":altpbgcolor(json),"padding":"0.7em 1.6em","margin":"0.5em 0"};}
if($(elem).hasClass("nomargin"))jsonButton.margin="0";if($(elem).hasClass("rpd-altbutton"))jsonButton.bgcolor=(json.note.altbgcolor?json.note.altbgcolor:"transparent");if($(elem).attr("textsize"))jsonButton.textsize=$(elem).attr("textsize")+"px";var common_css_btn=getButtonCommonCss(json,jsonButton);var classDisabled=JCSSManager.classDisabled;JCSSManager.classDisabled=true;JCSSManager.apply(elem,common_css_btn+getButton(jsonButton.id).button(jsonButton));JCSSManager.classDisabled=classDisabled;};this.responsive_fontsize=function(size,scalesize){var orisize=[10,16,62];var targetsize=[12,16,38];if(size<=orisize[0])return targetsize[0];for(var i=1;i<orisize.length;i++){if(size<=orisize[i]){var tmp=(Math.max(orisize[i-1],Math.min(size,orisize[i]))-orisize[i-1])/(orisize[i]-orisize[i-1]);return(targetsize[i]-targetsize[i-1])*tmp+targetsize[i-1];}}
return targetsize[targetsize.length-1];};this.define_lh=function(fs,fs0,lh0){if(fs<=fs0)var lh=lh0+"em";else if(fs>25)var lh="1.2em";else{var lh=lh0+(1.2-lh0)*(fs-fs0)/(25-fs0);lh=Math.round(lh*100)/100;lh=lh+"em";}
return lh;};this.qsnUpgrade={"common":function(r){var params={"note":{},"p1":{},"h3":{}};if(!r.header)r.header={display:"false",icon:"false"};if(typeof r.margin=="undefined")r.margin=10;r.color=String(r.color);params.note={"pbgcolor":(r.color=="-1"?"transparent":r.color),"pcolor":RPD.qsnUpgrade.textColor(r.textcolor),"strokecolor":r.strokecolor,"shadow":RPD.qsnUpgrade.boxShadow(r.shadow),"margin":r.margin+"px"};if(r.textsize)params.note.textsize=r.textsize+"px";params.bgcolor=(r.color=="-1")?"transparent":r.color;if(params.bgcolor=="undefined")params.bgcolor="transparent";params.altbgcolor=spacexml.theme.pagecolor;params.notemargin=r.margin+"px";params.hbgcolor=RPD.qsnUpgrade.headerProperty("color",r)=="-1"?"transparent":RPD.qsnUpgrade.headerProperty("color",r);params.note.pfamily=(r.textstyles&&r.textstyles.font)||r.textfont||"f1";params.note.hfamily=RPD.qsnUpgrade.headerProperty("font",r);if(!params.note.hfamily)params.note.hfamily="f2";params.hcolor=RPD.qsnUpgrade.headerProperty("textcolor",r);var tmp=RPD.qsnUpgrade.headerProperty("margin",r);params.notehmargin=""+parseInt(tmp,10)+"px";var has_icon=false;if(r.header.icon==undefined)has_icon=true;else if(r.header.icon!="false"&&r.header.icon!=false)has_icon=true;params.icon=has_icon?"in":false;var upgrade_icon={"bookmarks48":"","calendar48":"","carousel48":"","contact48":"","dropbox48":"","favorite48":"","ffbb48":"","files48":"","flickr48":"","gm48":"","gmlist48":"","live48":"","matchnext48":"","meteo48":"","music48":"","nws48":"","photoboxes48":"","photoflow48":"","photoslider48":"","poll48":"","pronos48":"","rss48":"","table48":"","team48":"","pushpin":"","attachment":"","basketball":"","trophy":"","newspaper":"","movieproduction":"","football":"","camera":"","agreement":"","favorites":"","thumbsup":"","error":"","calendarevents":"","information2":"","calendarred":"","pingpong":"","boy":"","pencil":"","meteo":"","information":"","whistle":"","schedule_boy":"","phone":"","reservations":"","footsteps":"","globe":"","clockalarm":"","boxing":"","diploma":"","briefcase":"","sunny":"","statusflaggreen":"","pdf":"","girl":"","award_grade_school_boy_1":"","butterfly":"","tennisball":"","gift":"","sos":"","statusflagred":"","symbolwarning":"","heart":"","target":"","schedule_girl":"","mouse":"","stopwatch":"","light":"","bus":"","rugby":"","statusflagblue":"","alerts":"","shirt":"","calculator":"","thumbsdown":"","effects":"","statusflagyellow":"","savings":"","help":"","award_grade_school_girl_1":"","compass":"","anniv":"","folder":"","download":"","legal":"","entertainmentmask":"","bomb":"","birthday_boy":"","iceskate":"","traffic_green":"","popcorn":"","guitar":"","traffic_red":"","hockey":"","traffic":"","motorcyclehelmet":"","dice":"","cleanup":"","billiard8":"","birthday_girl":"","umbrella":"","bowling":"","baseball":"","billiard":""};var tmpoldicon=/.*\/(.*)\..*/.exec(qsn_getheadericon(r.common.noteid));var oldicon=tmpoldicon?tmpoldicon[1]:"";if(oldicon){r.header.icon=true;r.header.iconvalue="substitution:"+upgrade_icon[oldicon];}else{r.header.icon=false;r.header.iconvalue="";}
if(r.textstyles&&r.textstyles.bold)params.p1.bold=r.textstyles.bold=="true";if(r.textstyles&&r.textstyles.italic)params.p1.italic=r.textstyles.italic=="true";params.h3.bold=RPD.qsnUpgrade.headerProperty("bold",r)=="true";params.h3.align=RPD.qsnUpgrade.headerProperty("align",r);var tmp=RPD.qsnUpgrade.headerProperty("italic",r);params.h3.italic=tmp=="true";var tmp=RPD.qsnUpgrade.headerProperty("case",r);params.h3["case"]=(tmp=="false")?"normal":tmp;params.h3.textsize=RPD.qsnUpgrade.headerProperty("fontsize",r);var tmp=RPD.qsnUpgrade.headerProperty("hr",r);params.h3["hr"]=(tmp!="false");if(tmp!="false"){params.hrstyle="border-bottom:1px solid";params.hrcolor="white";}
var rpd={};switch(RPD.qsnUpgrade.headerProperty("headerstyle",r)){case "padding":rpd.model="m18";break;case "detached":rpd.model="m21";params.detachment="2px";break;case "standard":rpd.model="m12";break;}
rpd.colorset="csmaj";rpd.typo="tmaj";rpd.button="btn0";rpd.oultine="out0";rpd.image="img0";rpd.biheader="bh0";rpd.icon="ico0";rpd.align="al0";rpd.params=params;return "rpdp-main0";return rpd;},"commonClean":function(r){if(q_pagemode()=="web")return;delete r.textsize;delete r.color;delete r.textcolor;delete r.strokecolor;delete r.shadow;delete r.margin;delete r.textstyles;delete r.textfont;if(r.header){delete r.header.color;delete r.header.font;delete r.header.textcolor;delete r.header.headerstyle;delete r.header.margin;delete r.header.align;delete r.header.bold;delete r.header.italic;delete r.header["case"];delete r.header.fontsize;delete r.header.hr;}},"headerProperty":function(key,r){var v;if(r.header)v=r.header[key];if(v)return v;var snstyle=r.common.snstyle;if(snstyle=="default")snstyle="s0";var v=snstyle&&spacexml.theme&&spacexml.theme.smartnotes&&spacexml.theme.smartnotes[snstyle]&&spacexml.theme.smartnotes[snstyle].header&&spacexml.theme.smartnotes[snstyle].header[key];if(v)return v;return qsn_containerDefaults().header[key];},"boxShadow":function(shadow){if(shadow&&shadow.d)return shadow.h+" "+shadow.v+" "+shadow.b+" "+shadow.c;return "none";},"textColor":function(textcolor){if(!textcolor)textcolor="bw";textcolor=String(textcolor);if(textcolor=="-1")return "bw";return textcolor;}};})();var devicesDef={"sm":{"contentWidth":750,"triggerWidth":768},"md":{"contentWidth":990,"triggerWidth":1008},"lg":{"contentWidth":1180,"triggerWidth":1200}};var spacexml=spacexml||(function(){var _window={};var _parent={};try{_window=window;_parent=parent;}catch(err){}
return _window.spacexml||_parent.spacexml||{"theme":{}};})();var RPDSection=new(function(){var _this=this;function gradient(definition,direction){if(direction=="h")direction="to right";if(direction==undefined)direction="to bottom";var deg_values={"to right":"90deg","to left":"-90deg","to top":"0deg","to bottom":"180deg"};var deg=deg_values[direction]||deg_values["to bottom"];if(/deg/.test(direction))deg=direction;var tmp=definition.split(",");var res=[];function ease(gradient){var m=gradient.match(/^(.*@alpha)([^:]+):([^ ]+) +([^:]+):([^ ]+)/);var res=[];var base=m[1];var alpha0=parseFloat(m[2]);var alpha1=parseFloat(m[3]);var da=alpha1-alpha0;var pos0=parseFloat(m[4]);var pos1=parseFloat(m[5]);var dp=pos1-pos0;var easeFunction=[[0,1],[19,0.738],[34,0.541],[47,0.382],[56.5,0.278],[65,0.194],[73,0.126],[80.2,0.075],[86.1,0.042],[91,0.021],[95.2,0.008],[98.2,0.002],[100,0]];var asc=true;if(alpha0<alpha1)asc=false;for(var i=0;i<easeFunction.length;i++){if(asc){var j=easeFunction.length-i-1;res.push(base+(alpha0+da*easeFunction[j][1]).toFixed(3)+" "+(pos0+dp*(100-easeFunction[j][0])/100).toFixed(1)+"%");}else{res.push(base+(alpha1-da*easeFunction[i][1]).toFixed(3)+" "+(pos0+dp*easeFunction[i][0]/100).toFixed(1)+"%");}}
return res.join(", ");}
for(var i=0;i<tmp.length;i++){if(!/^\s*easing:/.test(tmp[i])){res.push(tmp[i]);continue;}
res.push(ease(tmp[i].replace(/^\s*easing:/,"")));}
definition=res.join(", ");var css="background : -webkit-linear-gradient( "+deg+", "+definition+" ); ";css+="background : -o-linear-gradient( "+deg+", "+definition+" ); ";css+="background : -moz-linear-gradient( "+deg+", "+definition+" ); ";css+="background : -ms-linear-gradient( "+deg+", "+definition+" ); ";css+="background : linear-gradient( "+deg+", "+definition+" ); ";return css;}
this.qlub0CSS=function(secrpds){secrpds=secrpds||[];var css=[];for(var i=0;i<secrpds.length;i++){var secrpd_item=secrpds[i];secrpd_item=this.prepareRPDSection(secrpd_item);css.push(JCSSManager.css(RPDSection.JCSS,secrpd_item,"."+secrpd_item.id));}
return css.join("\n");};this.getSECRPDById=function(id){var secrpd=spacexmlSECRPD(id);if(secrpd)return secrpd;return skeletonSECRPD(id);};function spacexmlSECRPD(id){if(spacexml.secrpd)return spacexml.secrpd[id];spacexml.secrpd={};var tmp=spacexml.secrpds||[];for(var i=0;i<tmp.length;i++){var secrpd=tmp[i];if(typeof secrpd=="string")sec=eval("("+sec+")");spacexml.secrpd[tmp[i].id]=tmp[i];}
return spacexml.secrpd[id];};function skeletonSECRPD(id){var _skeleton=Skeleton.skeleton();if(!_skeleton)return null;if(_skeleton.secrpd){if(typeof _skeleton.secrpd[id]=="string")return skeletonSECRPD(_skeleton.secrpd[id]);else return _skeleton.secrpd[id];}
_skeleton.secrpd={};var tmp=_skeleton.secrpds||[];for(var i=0;i<tmp.length;i++)_skeleton.secrpd[tmp[i].id]=tmp[i];if(typeof _skeleton.secrpd[id]=="string")return skeletonSECRPD(_skeleton.secrpd[id]);else return _skeleton.secrpd[id];};this.prepareRPDSection=function(secrpd){var colorsetID=secrpd.colorset||"cs0";var borderID=secrpd.border||"bd0";var shadowID=secrpd.shadow||"sh0";var backgroundID=secrpd.background||"bg0";var imageID=secrpd.image||"img0";var positionID=secrpd.position||"pos0";var filterID=secrpd.filter||"filt0";var secdefaut={"cs-bg":"transparent","cs-tobg":"c1","cs-mask":"c1","cs-border":"c1"};function removeNull(json){for(var k in json){if(json[k]&&typeof json[k]=="object"&&!json[k].splice){removeNull(json[k]);}else if(json[k]===null||json[k]===undefined){delete json[k];}}
return json;}
var json=cloneObject({"id":secrpd.id,"debug":secrpd.debug},secdefaut,Skeleton.getPreset("colorsets",colorsetID),Skeleton.getPreset("borders",borderID),Skeleton.getPreset("shadows",shadowID),Skeleton.getPreset("backgrounds",backgroundID),Skeleton.getPreset("images",imageID),Skeleton.getPreset("positions",positionID),Skeleton.getPreset("filters",filterID),removeNull(cloneObject(secrpd.params)));return json;};this.HTML=function(secrpd){var html="";html+='<div class="background-wrapper sk-bw-bg"></div>';if(secrpd["img-mode"]=="video")html+='<div class="background-image-offset sk-bw-mask"><div class="sk-centered"><video autoplay="on" muted="muted" loop="on" src="/images/blank.gif" poster="/images/blank.gif" style="width: 100% ; display: block"></video><div class="mask"></div><div class="alt-mask"></div></div></div>';else html+='<div class="background-image-offset sk-bw-mask"><div class="sk-centered"><div class="offset"><div class="image"></div><div class="image2"></div><div class="image3"></div></div><div class="mask"></div><div class="alt-mask"></div></div></div>';return html;};this.JCSS=[{selector:"self",style:function(json,inline){var css=[];if(json["height"])css.push("height: "+((json["height"]!="auto")?json["height"]:"auto"));if(json["max-height"]){var mode=(json["img-mode"]==undefined)?(json["__default"]&&json["__default"]["img-mode"]):json["img-mode"];if(mode)css.push("max-height: "+json["max-height"]);else css.push("max-height: none");}
if(json["margin-top"])css.push("margin-top: "+((json["margin-top"])?json["margin-top"]:"0px"));if(json["margin-bottom"])css.push("margin-bottom: "+((json["margin-bottom"])?json["margin-bottom"]:"0px"));if(json["padding-top"])css.push("padding-top: "+((json["padding-top"])?json["padding-top"]:"0px"));if(json["padding-bottom"])css.push("padding-bottom: "+((json["padding-bottom"])?json["padding-bottom"]:"0px"));if(json["padding"])css.push("padding: "+((json["padding"])?json["padding"]:"0px"));if(json["sh-css"])css.push("box-shadow: "+(json["sh-css"]||"none"));if(json["bd-css"])css.push(json["bd-css"]);if(json["cs-border"]&&json["cs-border"]!="transparent")css.push("border-color:"+json["cs-border"]);if(json["cs-bordertop"])css.push("border-top-color :"+json["cs-bordertop"]);if(json["cs-borderbottom"])css.push("border-bottom-color : "+json["cs-borderbottom"]);if(json["position"])css.push("position:"+json["position"]);return css.join(" ; ");}},{selector:"self",media:"!xs",style:function(json,inline){if(json["display-device"]!="xs-only")return "";return "display: none";}},{selector:"self",media:"xs",style:function(json,inline){var css=[];if(json["xs-margin"])css.push("padding-left:"+json["xs-margin"]+"; padding-right:"+json["xs-margin"]+";");if(json["max-height"])css.push("max-height: none");if(json["display-device"]=="xs-hidden")css.push("display: none");return css.join(" ; ");}},{selector:"self",media:"!md",style:function(json,inline){if(json["display-device"]!="md-only")return "";return "display: none";}},{selector:"self",media:"md+",style:function(json,inline){var css=[];if(json["display-device"]=="md-hidden")css.push("display: none");return css.join(" ; ");}},{selector:function(json,inline){var selectors=[];if(json["height"]&&json["height"]!="auto")selectors.push({"selector":" .empty-stuff","style":"height: 100%"});if(json["bg-type"])selectors=selectors.concat(makeSelectors_bg(json));var mode=(json["img-mode"]==undefined)?(json["__default"]&&json["__default"]["img-mode"]):json["img-mode"];if(json&&json["img-params"]&&json["img-params"]["brut-img"]){var savedBrutImg=true;delete json["img-params"]["brut-img"];}
if(json&&json["filt-brutimg"]){var savedFiltBrutImg=true;delete json["filt-brutimg"];}
var saved_imgurl;if(json&&json["img-url"])saved_imgurl=json["img-url"];if(json&&json["formats"]){if(is_fullheight(json)&&json["formats"]["original"])json["img-url"]=json["formats"]["original"];else if(is_wide(json)&&json["formats"]["fullscreen"])json["img-url"]=json["formats"]["fullscreen"];else if((!json["img-realw"]||json["img-realw"]!=(json.width||990))&&json["formats"]["screen"])json["img-url"]=json["formats"]["screen"];else if(json["formats"]["original"])json["img-url"]=json["formats"]["original"];if(json&&json["img-params"]&&json["img-params"]["img-repeat"]=="repeat")json["img-url"]=json["formats"]["original"];else if(json&&!json["img-params"]&&json["__default"]&&json["__default"]["img-params"]&&json["__default"]["img-params"]["img-repeat"]=="repeat")json["img-url"]=json["formats"]["original"];}
if(mode){if(json["img-mode"]){selectors.push({"selector":"> .sk-bw-mask","style":"display:block ; max-height: none"},{"selector":"> .sk-bw-mask .offset .image, > .sk-bw-mask .offset .image2, > .sk-bw-mask .offset .image3","style":"height : 100%; width: 100%; left : auto; right : auto ; background-color : transparent"},{"selector":"> .sk-bw-mask .offset","style":"width: auto"});selectors.push({"prefix":"self.no_mask","selector":"> .sk-bw-mask .mask","style":"background-image : inherit; background-repeat : inherit; background-position : inherit"});}
switch(mode){case "img-only":selectors=selectors.concat(makeSelectors_img_only(json,null,inline));if(is_wide(json)&&!json["mask-url"]&&!(json["__default"]&&json["__default"]["mask-url"]))selectors=selectors.concat([{selector:"> .sk-bw-mask",style:"min-width: "+(json["width"]||"990px")},{selector:"> .sk-bw-mask .mask",style:"background-image : inherit; background-repeat : inherit; background-position : inherit"}]);break;case "wide-mask":selectors=selectors.concat(makeSelectors_img_widemask(json,null,null,inline));break;case "content-mask":selectors=selectors.concat(makeSelectors_img_contentmask(json,null,inline));break;case "wide-centered-mask":selectors=selectors.concat(makeSelectors_img_widecenteredmask(json,null,inline));break;}}else{selectors.push({"selector":"> .sk-bw-mask","style":"display:none"});}
if(savedBrutImg)json["img-params"]["brut-img"]=savedBrutImg;if(savedFiltBrutImg)json["filt-brutimg"]=savedFiltBrutImg;if(saved_imgurl)json["img-url"]=saved_imgurl;return selectors;}},function(){return deviceJCSS("lg");},deviceJCSS("sm"),deviceJCSS("xs")];function deviceJCSS(device){if(device=="lg"&&!((spacexml.skeleton&&spacexml.skeleton.lgresponsive)||spacexml.lgresponsive))return{"style":""};return{media:device,selector:function(xjson,inline){var json=cloneObject(xjson);json.__media=device;for(var k in json){if(json[k+"-"+device]){if(typeof json[k+"-"+device]=="object")json[k]=cloneObject(json[k],json[k+"-"+device]);else json[k]=json[k+"-"+device];}}
var selectors=[];if(json&&json["width"]){if(device=="xs")json["width"]="100%";else json["width"]=Math.round(parseInt(json["width"],10)*devicesDef[device].contentWidth/devicesDef.md.contentWidth)+"px";}else{if(!json)json={};if(device=="xs")json["width"]="100%";else json["width"]=""+devicesDef[device].contentWidth+"px";}
if(json&&json["img-params"]&&json["img-params"]["img-width"]){if(json["img-params"]["img-width"]=="990px")json["img-params"]["img-width"]="100%";else if(json["img-params"]["img-width"]=="750px")json["img-params"]["img-width"]="75.76%";}
if(json["bg-type"])selectors=selectors.concat(makeSelectors_bg(json));function is_repeat(json){if(json&&json["img-params"]&&json["img-params"]["img-repeat"]=="repeat")return true;if(json&&!json["img-params"]&&json["__default"]&&json["__default"]["img-params"]&&json["__default"]["img-params"]["img-repeat"]=="repeat")return true;}
if(json&&is_fullheight(json)&&json["formats"]&&json["formats"]["original"]&&device!="xs"){json["img-url"]=json["formats"]["original"];}else if(device=="lg"&&json&&is_wide(json)&&json["formats"]&&json["formats"]["fullscreen"]){json["img-url"]=json["formats"]["fullscreen"];}else if(json&&json["formats"]&&json["formats"]["screen"]&&!is_repeat(json)){json["img-url"]=json["formats"]["screen"];}
var mode=(json["img-mode"]==undefined)?(json["__default"]&&json["__default"]["img-mode"]):json["img-mode"];if((!spacexml.skeleton||!spacexml.skeleton.banner||!spacexml.skeleton.banner.forcebannerimage)&&json.__secid&&Skeleton.spaceSectionKey(json.__secid)=="banner-section")mode=null;if(mode){if(json["img-mode"]){selectors.push({"selector":"> .sk-bw-mask","style":"display:block"},{"selector":"> .sk-bw-mask .offset .image, > .sk-bw-mask .offset .image2, > .sk-bw-mask .offset .image3","style":"height : 100%; width: 100%; left : auto; right : auto ; background-color : transparent"},{"selector":"> .sk-bw-mask .offset","style":"width: auto"});selectors.push({"prefix":"self.no_mask","selector":"> .sk-bw-mask .mask","style":"background-image : inherit; background-repeat : inherit; background-position : inherit"});selectors.push({"prexfix":"self.no_mask.alt_mask","selector":"> .sk-bw-mask","style":"min-width:inherit !important"});}
var altParams={"alt-mask":true};if(json["img-params"]&&json["img-params"]["img-gradient-color"])altParams["cs-bg"]=json["img-params"]["img-gradient-color"];var jsonImgParams={"img-repeat":"cover","img-fixed":false,"img-gradient":"to bottom","img-gradient-start":"25%","img-width":"100%","img-wrapper-height":"400px","img-wrapper-pos":"top"};if(json["img-params"]){if(json["img-params"]["alt-gradient-start"])jsonImgParams["img-gradient-start"]=json["img-params"]["alt-gradient-start"];if(json["img-params"]["alt-gradient-startopacity"])jsonImgParams["img-gradient-startopacity"]=json["img-params"]["alt-gradient-startopacity"];}
altParams["img-params"]=jsonImgParams;if(!json["filt-pattern"]&&json["img-params"]&&json["img-params"]["mask-url"]&&/(diagonal|dot)-pattern.png$/.test(json["img-params"]["mask-url"]))altParams["keep-mask"]=true;switch(mode){case "img-only":selectors=selectors.concat(makeSelectors_img_only(json,device=="xs"?"xs":null));if(is_wide(json)&&!json["mask-url"]&&!(json["__default"]&&json["__default"]["mask-url"]))selectors=selectors.concat([{selector:"> .sk-bw-mask",style:"min-width: "+(json["width"]||(device=="xs"?"100%":(""+devicesDef[device].contentWidth+"px")))},{selector:"> .sk-bw-mask .mask",style:"background-image : inherit; background-repeat : inherit; background-position : inherit"}]);for(var k in altParams)json[k]=altParams[k];var altselectors=makeSelectors_img_widemask(json);altselectors.push({selector:"> .sk-bw-mask .mask",style:"opacity : 1 ; filter: alpha(opacity=100)"});altselectors=altselectors.concat(makeSelectors_bg(json));for(var i=0;i<altselectors.length;i++){altselectors[i]["prefix"]="self.alt_mask";}
selectors=selectors.concat(altselectors);break;case "wide-mask":if(device!="lg"&&json&&json["img-params"]&&json["img-params"]["mask-url"]){json["img-params"]["mask-url"]=json["img-params"]["mask-url"].replace("wide-","");if(json["img-params"]["img-left"]){if(/^-/.test(json["img-params"]["img-left"])){json["img-params"]["img-left"]="0";}else{delete json["img-params"]["img-left"];json["img-params"]["img-right"]="0";}}}
selectors=selectors.concat(makeSelectors_img_widemask(json,device=="lg"?null:true));for(var k in altParams)json[k]=altParams[k];var altselectors=makeSelectors_img_widemask(json);altselectors.push({selector:"> .sk-bw-mask .mask",style:"opacity : 1 ; filter: alpha(opacity=100)"});altselectors=altselectors.concat(makeSelectors_bg(json));for(var i=0;i<altselectors.length;i++){altselectors[i]["prefix"]="self.alt_mask";}
selectors=selectors.concat(altselectors);break;case "content-mask":selectors=selectors.concat(makeSelectors_img_contentmask(json));for(var k in altParams)json[k]=altParams[k];var altselectors=makeSelectors_img_widemask(json);altselectors.push({selector:"> .sk-bw-mask .mask",style:"opacity : 1 ; filter: alpha(opacity=100)"});altselectors=altselectors.concat(makeSelectors_bg(json));for(var i=0;i<altselectors.length;i++){altselectors[i]["prefix"]="self.alt_mask";}
selectors=selectors.concat(altselectors);break;case "wide-centered-mask":selectors=selectors.concat(makeSelectors_img_widecenteredmask(json));break;}}else{selectors.push({"selector":"> .sk-bw-mask","style":"display:none"});}
return selectors;}};}
function is_fullheight(json){var h=json["height"]||(json["__default"]&&json["__default"]["height"]);if(!h)return false;if(h=="auto")return false;if(/%/.test(h))return false;if(!json["img-realh"])return false;return parseInt(json["img-realh"],10)==parseInt(h,10);}
function is_wide(json){if(json.wide==undefined&&json["__default"])return json["__default"].wide!=false;return json.wide!=false;}
function make_maskurl(json){return make_imgurl(json["img-params"]&&json["img-params"]["mask-url"],json);}
function make_imgurl(url,json){if(json.__secid&&(json.__media=="sm"||json.__media=="xs")){if((!spacexml.skeleton||!spacexml.skeleton.banner||!spacexml.skeleton.banner.forcebannerimage)&&Skeleton.spaceSectionKey(json.__secid)=="banner-section")return "";}
var re=new RegExp("\{([^}]+)\}","i");if(!url||url=="none")return "";var imagecolor=re.exec(url);if(imagecolor&&imagecolor[1]){imagecolor=imagecolor[1];if(imagecolor=="cs-mask")imagecolor=json["cs-mask"]||"white";imagecolor=Skeleton.projectedColorID(imagecolor);url=url.replace(re,imagecolor);}
url=encodeURI(url).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27").replace(/"/g,"%22");if(/^uploads/.test(url)){if(_this.__getUploadURL)return _this.__getUploadURL(url);if(json.__customFolder)return "../images/"+url.replace("uploads/images/","uploads/");if(_this.__qlub0CSS){console.log("UNEXPECTED call to q_spaceabsoluteurl while making qlub0CSS for "+url);return url;}else{try{return q_spaceabsoluteurl("",url,true);}catch(err){console.log("UNEXPECTED ERROR : call to q_spaceabsoluteurl while making qlub0CSS for "+url);throw err;}}}
return url;}
function finalizeColor(color,json){if(/^cs-/.test(color))return json[color];return color;}
function makeSelectors_bg(json){var css=[];css.push("background: none");if(json["cs-bg"]&&json["bg-type"]=="uni")css.push("background-color: "+json["cs-bg"]);else if(json["cs-bg"]&&json["cs-tobg"]&&json["bg-type"]=="gradient")css.push(gradient(json["cs-bg"]+" "+(json["bg-start"]||"0%")+", "+json["cs-tobg"]+" "+(json["bg-end"]||"100%")));else if(json["cs-bg"]&&json["cs-tobg"]&&json["bg-type"]=="hgradient")css.push(gradient(json["cs-bg"]+" "+(json["bg-start"]||"0%")+", "+json["cs-tobg"]+" "+(json["bg-end"]||"100%"),"h"));else if(json["cs-bg"]&&json["cs-tobg"]&&json["bg-type"]=="hgradient_r")css.push(gradient(json["cs-tobg"]+" "+(json["bg-start"]||"0%")+", "+json["cs-bg"]+" "+(json["bg-end"]||"100%"),"h"));if(json["cs-bgopacity"]&&json["bg-type"]=="uni")css.push("opacity : "+json["cs-bgopacity"]+" ; filter: alpha(opacity="+Math.round(100*parseFloat(json["cs-bgopacity"]))+")");return[{selector:"> .sk-bw-bg",style:css.join(";")}];}
function makeSelectors_img_only(json,device,inline){var css=[];var css2=[];var css3=[];function jsonValue(k){return json[k]||(json["__default"]&&json["__default"][k]);}
var baseurl=make_imgurl(json["img-url"],json);var url=baseurl;var xsurl;var xsbaseurl;if(inline&&json&&json.formats&&json.formats.screen&&json.formats.screen!=json["img-url"]){function is_xs_fullheight(){if(!json["__default"]||json["__default"]["display-device"]!="xs-only")return false;if(!json["__default"].height)return false;return parseInt(json["__default"].height,10)==json["img-realh"];}
function is_repeat(json){if(json&&json["img-params"]&&json["img-params"]["img-repeat"]=="repeat")return true;if(json&&!json["img-params"]&&json["__default"]&&json["__default"]["img-params"]&&json["__default"]["img-params"]["img-repeat"]=="repeat")return true;}
if(!is_xs_fullheight()&&!is_repeat(json)){xsbaseurl=make_imgurl(json.formats.screen,json);xsurl=xsbaseurl;}}
var filter=jsonValue("filt-img");if(filter=="none")filter=null;if(filter&&baseurl){url=url.replace(/\.[^.]+$/,"")+"-"+filter+".png";}
if(filter&&xsbaseurl){xsurl=xsurl.replace(/\.[^.]+$/,"")+"-"+filter+".png";}
if(url)css.push("background-image: url("+url+")");else if(!jsonValue("img-url"))css.push("background-image: none");var filter2=json["filt-img2"]||(json["__default"]&&json["__default"]["filt-img2"]);if(filter2=="none")filter2=null;var xsurl2;if(filter2&&baseurl){var url2=baseurl.replace(/\.[^.]+$/,"")+"-"+filter2+".png";css2.push("background-image: url("+url2+")");if(xsbaseurl){xsurl2=xsbaseurl.replace(/\.[^.]+$/,"")+"-"+filter2+".png";}}else css2.push("background-image: none");if(json["filt-pattern"])css3.push("background-image: url( "+json["filt-pattern"]+");background-repeat:repeat;");else css3.push("background-image: none");if(json["img-params"]&&json["img-params"]["img-fixed"]){css.push("position: fixed");css2.push("position:fixed");css3.push("position:fixed");}
if(json["img-params"]&&json["img-params"]["img-repeat"]){css.push(json["img-params"]["img-repeat"]=="cover"?"background-size: cover":"background-repeat:"+json["img-params"]["img-repeat"]);css2.push(json["img-params"]["img-repeat"]=="cover"?"background-size: cover":"background-repeat:"+json["img-params"]["img-repeat"]);}else if(!json["__default"]){css.push("background-repeat: no-repeat");css2.push("background-repeat: no-repeat");}
if((json["img-params"]&&!json["img-params"]["img-repeat"])||(json["img-params"]&&json["img-params"]["img-repeat"]=="no-repeat")){if(json["img-realw"]&&baseurl)css.push("background-size : "+json["img-realw"]+"px "+json["img-realh"]+"px");if(json["img-realw"]&&baseurl)css2.push("background-size : "+json["img-realw"]+"px "+json["img-realh"]+"px");}
if(json["img-params"]&&json["img-params"]["img-position"]){css.push("background-position : "+json["img-params"]["img-position"]);css2.push("background-position : "+json["img-params"]["img-position"]);}else if(json["img-position"]){css.push("background-position : "+json["img-position"]);css2.push("background-position : "+json["img-position"]);}else if(!json["__default"]){css.push("background-position: center top");css2.push("background-position: center top");}
function filtbg(color){if(color=="filt-color")return jsonValue("filt-color")||"c1";return color;}
if(jsonValue("filt-bg"))css.push("background-color : "+filtbg(jsonValue("filt-bg")));if(json["filt-opacity1"])css.push("opacity : "+json["filt-opacity1"]+" ; filter: alpha(opacity="+Math.round(100*parseFloat(json["filt-opacity1"]))+") ;");if(jsonValue("filt-bg2")){css2.push("background-color : "+filtbg(jsonValue("filt-bg2")));if(json["filt-opacity"])css2.push("opacity : "+json["filt-opacity"]+" ; filter: alpha(opacity="+Math.round(100*parseFloat(json["filt-opacity"]))+") ;");}
if(json["filt-opacity2"])css.push("opacity : "+json["filt-opacity2"]+" ; filter: alpha(opacity="+Math.round(100*parseFloat(json["filt-opacity2"]))+") ;");if(json["filt-brutimg"]&&json["img-params"]&&json["img-params"]["brut-img"])css3.push("background-color : "+json["cs-mask"]+"; opacity : 0.3; filter:alpha(opacity=30)");var selectors=[];if(css.length>0){var o1={selector:"> .sk-bw-mask .offset .image",style:css.join(";")};if(xsurl){o1.inline=function(target){var $target=$(target);var id=$target.parents(".sk-bw-mask").parent().attr("id");qsn_css_note("inline:"+id,"@media screen and ( max-width: 767px ) { .viewmode.responsive #"+id+" > .sk-bw-mask .offset .image { background-image: url("+xsurl.replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27").replace(/"/g,"%22")+") !important }}","inline-image-"+id);};}
selectors.push(o1);}
if(css2.length>0){var o2={selector:"> .sk-bw-mask .offset .image2",style:css2.join(";")};if(xsurl2){o2.inline=function(target){var $target=$(target);var id=$target.parents(".sk-bw-mask").parent().attr("id");qsn_css_note("inline:"+id,"@media screen and ( max-width: 767px ) { .viewmode.responsive #"+id+" > .sk-bw-mask .offset .image { background-image: url("+xsurl2.replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27").replace(/"/g,"%22")+") !important }}","inline-image2-"+id);};}
selectors.push(o2);}
if(css3.length>0)selectors.push({selector:"> .sk-bw-mask .offset .image3",style:css3.join(";")});if(json["img-params"]){var imagesCss=[];if(json["img-params"]["img-height"])imagesCss.push("height :"+(json["img-params"]["img-height"]||"100%"));if(json["img-params"]["img-width"]){if(device=="xs"&&json["img-params"]["xs-render"]){imagesCss.push("width : 100%");}else{imagesCss.push("width : "+(json["img-params"]["img-width"]));}}
if(json["img-params"]["left"])imagesCss.push("left : "+(json["img-params"]["left"]));if(json["img-params"]["right"])imagesCss.push("right : "+(json["img-params"]["right"]));if(imagesCss.length>0)selectors=selectors.concat({selector:"> .sk-bw-mask .offset .image, > .sk-bw-mask .offset .image2, > .sk-bw-mask .offset .image3",style:imagesCss.join(" ; ")});if(device=="xs"&&json["img-params"]["xs-render"]){selectors=selectors.concat({selector:"self",style:"height: auto !important"});selectors=selectors.concat({selector:"> .sk-bw-mask",style:"position: relative ; height: auto"});selectors=selectors.concat({selector:"> .sk-bw-mask .offset",style:"padding-bottom: 67% ; height: 0px"});if(json["img-params"]["img-width"]=="50%")selectors=selectors.concat({selector:"> .sk-bw-mask .sk-centered.slider",style:"padding-bottom: 67% ; height: 0px"});}}
if(json["mask-url"]){var cssmask=[];cssmask.push("background-image : url( "+make_imgurl(json["mask-url"],json)+")");cssmask.push("background-repeat : "+(json["mask-repeat"]||"no-repeat"));cssmask.push("background-position: "+(json["mask-position"]||"center bottom"));cssmask.push("background-size: cover");var maskClass=(json["alt-mask"])?"alt-mask":"mask";selectors=selectors.concat({selector:"> .sk-bw-mask ."+maskClass,style:"min-width: 0; width: 100%;"+cssmask.join(";")});}
return selectors;}
function makeSelectors_img_widemask(json,no_minwidth,device,inline){var selectors=[];var maskClass=(json["alt-mask"])?"alt-mask":"mask";if(json["img-params"]&&json["img-params"]["mask-url"]){var cssmask=[];cssmask.push("background-image : url( "+make_maskurl(json)+")");cssmask.push("background-repeat : "+(json["img-params"]["mask-repeat"]||"no-repeat"));cssmask.push("background-position: "+(json["img-params"]["mask-position"]||"center top"));cssmask.push("background-size: auto");if(no_minwidth)selectors=selectors.concat({selector:"> .sk-bw-mask ."+maskClass,style:"min-width: 0; width: 100%;"+cssmask.join(";")});else selectors=selectors.concat({selector:"> .sk-bw-mask ."+maskClass,style:"min-width: "+(json["width"]||"990px")+" ;"+cssmask.join(";")});}
if(json["img-params"]&&json["img-params"]["mask-gradient"]){selectors=selectors.concat({selector:"> .sk-bw-mask ."+maskClass,style:gradient(json["img-params"]["mask-gradient"]["gradient"].join(", "),json["img-params"]["mask-gradient"]["direction"]).replace(/cs-mask/g,json["cs-mask"])});}
if((json["img-params"]&&json["img-params"]["img-width"])||!json["__default"]){var imgw=json["img-params"]["img-width"]||"990px";if(/%/.test(imgw))imgw="100%";selectors=selectors.concat({selector:"> .sk-bw-mask .offset",style:"width : "+imgw+" ;"});}
if(json["img-params"]&&json["img-params"]["img-gradient"]&&json["cs-bg"]!="transparent"){selectors=selectors.concat({selector:"> .sk-bw-mask ."+maskClass,style:gradient(json["cs-bg"]+"@alpha"+(json["img-params"]["img-gradient-startopacity"]||"0")+" "+(json["img-params"]["img-gradient-start"]||"0%")+", "+json["cs-bg"]+" 100%",json["img-params"]["img-gradient"])});}
if(json["alt-mask"]&&json["keep-mask"])selectors=selectors.concat({selector:"> .sk-bw-mask .mask",style:"display: block"});if(json["img-params"]&&json["img-params"]["img-wrapper-height"]){var wrapperpos="top:0; bottom: auto;";if(json["img-params"]["img-wrapper-pos"]&&json["img-params"]["img-wrapper-pos"]=="bottom")wrapperpos="top:auto; bottom:0;";selectors=selectors.concat({selector:"> .sk-bw-mask",style:"position:absolute; height:100%; max-height : "+json["img-params"]["img-wrapper-height"]+"; "+wrapperpos});}else{selectors=selectors.concat({selector:"> .sk-bw-mask",style:"max-height : none"});}
var imagepos="left : 0px";if(json["img-params"]&&json["img-params"]["img-left"])imagepos="left : "+json["img-params"]["img-left"];else if(json["img-params"]&&json["img-params"]["img-right"])imagepos="right : "+json["img-params"]["img-right"];if(json["img-params"]&&!json["img-params"]["img-repeat"]&&!json["__default"])json["img-params"]["img-repeat"]="cover";selectors=selectors.concat(makeSelectors_img_only(json,device,inline));if((json["img-params"]&&json["img-params"]["img-width"])||!json["__default"])selectors=selectors.concat({selector:"> .sk-bw-mask .offset .image, > .sk-bw-mask .offset .image2, > .sk-bw-mask .offset .image3",style:"width : "+(json["img-params"]["img-width"]||"990px")+" ;"+imagepos});if(json["img-params"]&&json["img-params"]["img-height"])selectors=selectors.concat({selector:"> .sk-bw-mask .offset .image, > .sk-bw-mask .offset .image2, > .sk-bw-mask .offset .image3",style:"height :"+(json["img-params"]["img-height"]||"100%")});return selectors;}
function makeSelectors_img_contentmask(json,device,inline){var selectors=[];if(json["img-params"]&&json["img-params"]["mask-url"]){var cssmask=[];cssmask.push("background-image : "+(json["img-params"]["mask-url"]=="none"?"none":("url( "+make_maskurl(json)+")")));cssmask.push("background-repeat : "+(json["img-params"]["mask-repeat"]||"no-repeat"));cssmask.push("background-position: "+(json["img-params"]["mask-position"]||"center top"));selectors=selectors.concat({selector:"> .sk-bw-mask .mask",style:cssmask.join(";")});if(!json["img-params"]["mask-repeat"]||json["img-params"]["mask-repeat"]!="repeat")selectors=selectors.concat({selector:"> .sk-bw-mask .mask",style:"background-size: 100% 100%"});}
selectors=selectors.concat({selector:"> .sk-bw-mask .sk-centered",style:"width : 100%"});var imagepos="left : 0px";if(json["img-params"]&&json["img-params"]["img-left"])imagepos="left : "+json["img-params"]["img-left"];else if(json["img-params"]&&json["img-params"]["img-right"])imagepos="right : "+json["img-params"]["img-right"];if(json["img-params"]&&!json["img-params"]["img-repeat"]&&!json["__default"])json["img-params"]["img-repeat"]="cover";selectors=selectors.concat(makeSelectors_img_only(json,device,inline));if((json["img-params"]&&json["img-params"]["img-width"])||!json["__default"])selectors=selectors.concat({selector:"> .sk-bw-mask .offset .image, > .sk-bw-mask .offset .image2, > .sk-bw-mask .offset .image3",style:"width : "+(json["img-params"]["img-width"]||"100%")+" ;"+imagepos});if(json["img-params"]&&json["img-params"]["img-height"])selectors=selectors.concat({selector:"> .sk-bw-mask .offset .image, > .sk-bw-mask .offset .image2, > .sk-bw-mask .offset .image3",style:"height :"+(json["img-params"]["img-height"]||"100%")});if(json["img-params"]&&json["img-params"]["mask-bg"])selectors=selectors.concat({selector:"> .sk-bw-mask .mask",style:"background-color :"+finalizeColor(json["img-params"]["mask-bg"],json)+" ; "+(json["img-params"]["mask-opacity"]?("opacity : "+json["img-params"]["mask-opacity"]+" ; filter: alpha(opacity="+Math.round(100*parseFloat(json["img-params"]["mask-opacity"]))+") ;"):"")});return selectors;}
function makeSelectors_img_widecenteredmask(json,device,inline){var selectors=[];if(json["img-params"]&&json["img-params"]["mask-url"]){var cssmask=[];cssmask.push("background-image : url( "+make_maskurl(json)+")");cssmask.push("background-repeat : "+(json["img-params"]["mask-repeat"]||"no-repeat"));cssmask.push("background-position: "+(json["img-params"]["mask-position"]||"center top"));cssmask.push("background-size: auto");selectors=selectors.concat({selector:"> .sk-bw-mask .mask",style:cssmask.join(";")});}
if(json["img-params"]&&json["img-params"]["mask-width"]&&json["img-params"]["mask-height"])selectors=selectors.concat({selector:"> .sk-bw-mask .sk-centered",style:"max-width:"+(json["img-params"]["mask-width"]||"1650px")+"; max-height : "+(json["img-params"]["mask-height"]||"768px")});if(json["cs-mask"])selectors=selectors.concat({selector:"> .background-image-offset",style:"background-image : url( "+make_maskurl({"img-params":{"mask-url":"/services/skeletons/images/{cs-mask}/pixel.png"},"cs-mask":json["cs-mask"]})+" ); background-repeat : repeat"});if(json["img-mode"])selectors=selectors.concat({selector:"> .sk-bw-mask .offset",style:"width : 0"});if(json["img-params"]&&!json["img-params"]["img-repeat"]&&!json["__default"])json["img-params"]["img-repeat"]="cover";selectors=selectors.concat(makeSelectors_img_only(json,device,inline));if((json["img-params"]&&json["img-params"]["img-width"])||!json["__default"]){var leftimg=-(parseInt((json["img-params"]["img-width"]||"1650px"),10)/2);selectors=selectors.concat({selector:"> .sk-bw-mask .offset .image, > .sk-bw-mask .offset .image2, > .sk-bw-mask .offset .image3",style:"width : "+(json["img-params"]["img-width"]||"1650px")+";left :"+leftimg+"px;"});}
if(json["img-params"]&&json["img-params"]["img-height"])selectors=selectors.concat({selector:"> .sk-bw-mask .offset .image, > .sk-bw-mask .offset .image2, > .sk-bw-mask .offset .image3",style:"height :"+(json["img-params"]["img-height"]||"100%")});return selectors;}})();var Skeleton=new(function(){var _this=this;this.JCSS=[{selector:"self",style:function(json,inline){var css=[];if(json.__device&&/(lg|sm|xs)/.test(json.__device)){if((json["height"]&&json["height"]!="auto"))css.push("height: "+((json["height"]!="auto")?json["height"]:"auto"));}else{if((json["height"]&&json["height"]!="auto"))css.push("height: "+((json["height"]!="auto")?json["height"]:"auto"));if(json["wide"]==false){css.push("width: 990px");if(json["auto-height"]&&json["img-realw"]&&json["img-realh"]){var autwidth=parseInt((json["img-params"]&&json["img-params"]["img-width"])||json["width"]||"990px",10);var autoheight=Math.round(json["img-realh"]*autwidth/json["img-realw"]);css.push("height: "+autoheight+"px");}}}
if(json["wide"]!=false&&json["position"]&&json["position"]=="fixed")css.push("width:100%");if((json["top"]||json["left"]))css.push("position:absolute");if(json["top"])css.push("top:"+json["top"]);if(json["left"])css.push("left:"+json["left"]);if((json["width"]&&!json["wide"]))css.push("width : "+json["width"]);if(json["zindex"])css.push("z-index:"+json["zindex"]);return css.join(" ; ");}},{selector:"self",media:"sm",style:function(json,inline){var css=[];if(json["wide"]==false)css.push("width: "+devicesDef.sm.contentWidth+"px");if(!json.__device||!/(lg|sm|xs)/.test(json.__device)){if(json["wide"]==false){if(json["auto-height"]&&json["img-realw"]&&json["img-realh"]){var autwidth=parseInt((json["img-params"]&&json["img-params"]["img-width"])||json["width"]||(""+devicesDef.sm.contentWidth+"px"),10);var autoheight=Math.round(json["img-realh"]*autwidth/json["img-realw"]);css.push("height: "+autoheight+"px");}}}
if((json["width"]&&!json["wide"]))css.push("width : "+Math.round(parseInt(json["width"],10)*devicesDef.sm.contentWidth/devicesDef.md.contentWidth)+"px");return css.join(" ; ");}},{selector:"self",media:"lg",style:function(json,inline){if(!((spacexml.skeleton&&spacexml.skeleton.lgresponsive)||spacexml.lgresponsive))return "";var css=[];if(json["wide"]==false)css.push("width: "+devicesDef.lg.contentWidth+"px");if(!json.__device||!/(lg|sm|xs)/.test(json.__device)){if(json["wide"]==false){if(json["auto-height"]&&json["img-realw"]&&json["img-realh"]){var autwidth=parseInt((json["img-params"]&&json["img-params"]["img-width"])||json["width"]||(""+devicesDef.lg.contentWidth+"px"),10);var autoheight=Math.round(json["img-realh"]*autwidth/json["img-realw"]);css.push("height: "+autoheight+"px");}}}
if((json["width"]&&!json["wide"]))css.push("width : "+Math.round(parseInt(json["width"],10)*devicesDef.lg.contentWidth/devicesDef.md.contentWidth)+"px");return css.join(" ; ");}},{selector:".stuff-content",style:function(json,inline){if(json["width"])return "width :"+json["width"];}},{selector:".stuff-content",media:"sm",style:function(json,inline){if(json["width"])return "width :"+parseInt(json["width"],10)*devicesDef.sm.contentWidth/devicesDef.md.contentWidth+"px";}},{selector:".stuff-content",media:"lg",style:function(json,inline){if(!((spacexml.skeleton&&spacexml.skeleton.lgresponsive)||spacexml.lgresponsive))return "";if(json["width"])return "width :"+parseInt(json["width"],10)*devicesDef.lg.contentWidth/devicesDef.md.contentWidth+"px";}},{selector:".b-vseparator",style:function(json,inline){if(json.separator)return json.separator;}}];this.extendBannerRule=function(customBannerRule){if(!customBannerRule)return;skeleton.bannerRule=cloneObject(skeleton.bannerRule,customBannerRule);try{if(!window.quomodoclient)window.quomodoclient={};quomodoclient.useBannerRule=true;}catch(err){}};this.extendClient=function(){var skeletonclient,customColors,customFonts,customTemplate,menurpd,forceBgToBody;try{if(spacexml.skeleton&&spacexml.skeleton.colors)customColors=spacexml.skeleton.colors;}catch(err){}
try{if(spacexml.skeleton&&spacexml.skeleton.fonts)customFonts=spacexml.skeleton.fonts;}catch(err){}
try{if(spacexml.skeleton&&spacexml.skeleton.template&&spacexml.skeleton.template[skeleton.id])customTemplate=spacexml.skeleton.template[skeleton.id];}catch(err){}
try{if(spacexml.skeleton&&spacexml.skeleton.menurpd)menurpd=spacexml.skeleton.menurpd;}catch(err){}
try{if(spacexml.skeleton&&spacexml.skeleton.forceBgToBody)forceBgToBody=true;}catch(err){}
try{if((spacexml.skeleton&&spacexml.skeleton.pros)||(spacexml.infos&&spacexml.infos.subscribe_use=="pros"&&spacexml.memberparams&&spacexml.memberparams.skexpert)){skeleton.rpds.push({"id":"rpdp-design","rpd":{"format":"content","model":"m0","typo":"t4","colorset":"cs16","button":"btn3","align":"al0","biheader":"bh0","icon":"ico0","outline":"out0","image":"img0","params":{"altbgcolor":"graydark","cs-main":"bw","cs-second":"bw","cs-fourth":"bw"}}});}}catch(err){}
try{skeletonclient=skeleton&&quomodoclient&&quomodoclient.skeleton;if(skeletonclient&&skeletonclient.zen){if(typeof skeletonclient.zen=="function")skeleton.zen=skeletonclient.zen()||skeleton.zen;else skeleton.zen=skeletonclient.zen;}
if(skeletonclient&&skeletonclient.rpds){for(var k in skeletonclient.rpds){for(var i=0;i<skeleton.rpds.length;i++){if(skeleton.rpds[i].id!=k)continue;skeleton.rpds[i].rpd=cloneObject(skeleton.rpds[i].rpd,skeletonclient.rpds[k]);}}}
if(skeletonclient&&skeletonclient.secrpds){for(var k in skeletonclient.secrpds){for(var i=0;i<skeleton.secrpds.length;i++){if(skeleton.secrpds[i].id!=k)continue;skeleton.secrpds[i]=cloneObject(skeleton.secrpds[i],skeletonclient.secrpds[k]);}}}
if(skeletonclient&&skeletonclient.menurpds){for(var k in skeletonclient.menurpds){for(var i=0;i<skeleton.menurpds.length;i++){if(skeleton.menurpds[i].id!=k)continue;skeleton.menurpds[i].rpd=cloneObject(skeleton.menurpds[i].rpd,skeletonclient.menurpds[k]);}}}
for(var k in skeletonclient){if(k=="zen")continue;if(k=="rpds")continue;if(k=="secrpds")continue;if(k=="menurpds")continue;if(skeleton[k]&&typeof skeleton[k]=="object"&&skeleton[k].splice)continue;if(typeof skeletonclient[k]=="object")skeleton[k]=cloneObject(skeleton[k],skeletonclient[k]);else skeleton[k]=skeletonclient[k];}
if(skeleton&&skeleton.colors){if(customColors){for(var k in skeleton.colors){customColors[k]=skeleton.colors[k];}}else{for(var k in skeleton.colors){quomodoColors.setColor(k,skeleton.colors[k]);}}}
if(skeleton&&skeleton.fonts){for(var i=0;i<skeleton.fonts.length;i++){quomodoFonts.addFont(skeleton.fonts[i]);}}}catch(err){}
try{if(customColors){quomodoColors.customizeColors(customColors);}}catch(err){}
try{if(customFonts){quomodoFonts.customizeFonts(customFonts);}}catch(err){}
try{if(forceBgToBody&&skeleton&&skeleton.imgSection){var bgSiteSection;for(var k in skeleton.imgSection){if(skeleton.imgSection[k].title=="bg-site"){bgSiteSection=k;break;}}
if(bgSiteSection){skeleton.imgSection["site"]=cloneObject(skeleton.imgSection[bgSiteSection]);delete skeleton.imgSection[bgSiteSection];skeleton.defaultRender["site"]=cloneObject(skeleton.defaultRender[bgSiteSection]);delete skeleton.defaultRender["site"].params;delete skeleton.defaultRender[bgSiteSection].sec;}}}catch(err){}
try{if(customTemplate){if(customTemplate.bannerRule){this.extendBannerRule(customTemplate.bannerRule);}
for(var k in customTemplate.rpdps){for(var i=0;i<skeleton.rpds.length;i++){if(skeleton.rpds[i].id!=k)continue;skeleton.rpds[i].rpd=cloneObject(customTemplate.rpdps[k]);}}
var ks=["default"];var inherited={};for(var k in customTemplate){if(k=="rpdps")continue;if(k=="settings")continue;if(k!="default")ks.push(k);if(customTemplate[k].inherit){if(skeleton.render&&skeleton.render[customTemplate[k].inherit])skeleton.render[k]=cloneObject(skeleton.render[customTemplate[k].inherit]);else skeleton.render[k]={};inherited[customTemplate[k].inherit]=true;}}
for(var j=0;j<ks.length;j++){var k=ks[j];if(customTemplate[k]&&customTemplate[k].shared){for(var id in customTemplate[k].shared){if(customTemplate[k].shared[id].disabled)continue;var use=customTemplate[k].shared[id].use||("sk-"+k+"-"+id);if(!skeleton.sharedSections)skeleton.sharedSections={};if(!skeleton.sharedSections[k])skeleton.sharedSections[k]={"to":{},"from":{}};skeleton.sharedSections[k].to[id]=use;skeleton.sharedSections[k].from[use]=id;}}
if(!customTemplate[k]||!customTemplate[k].add)continue;for(var i=0;i<customTemplate[k].add.length;i++){var id=customTemplate[k].add[i]["id"];var copy_id=customTemplate[k].add[i]["copy-of"];if(k=="shared"){if(/^h-/.test(id)){if(/-(sm|xs)$/.test(id)){var hid=copy_id.replace(/-(sm|xs)$/,"");var src=(skeleton.bannerSections[hid]&&skeleton.bannerSections[hid][copy_id])||skeleton.bannerSections[copy_id];if(src){skeleton.bannerSections[id]=cloneObject(src);skeleton.bannerSections[id].custom=true;}}else{if(/-\d+-\d+$/.test(copy_id)){var hid=copy_id.replace(/-\d+$/,"");var src=skeleton.bannerSections[hid]&&skeleton.bannerSections[hid][copy_id];if(src){skeleton.bannerSections[id]=cloneObject(src);skeleton.bannerSections[id].custom=true;}}else{var src=skeleton.bannerSections[copy_id];if(src){skeleton.bannerSections[id]=cloneObject(src);skeleton.bannerSections[id].custom=true;}}}}else{var src=skeleton.defaultRender&&skeleton.defaultRender[copy_id];if(src)skeleton.defaultRender[id]=cloneObject(src);}}else{var src=(skeleton.render[k]&&skeleton.render[k][copy_id])||(skeleton.defaultRender&&skeleton.defaultRender[copy_id]);if(src){if(!skeleton.render[k])skeleton.render[k]={};if(typeof src=="string"){skeleton.render[k][id]=src;if(k!="default"&&!skeleton.defaultRender[id])skeleton.defaultRender[id]=src;skeleton.contentSections[id]=cloneObject(skeleton.contentSections[copy_id]);}else{if(k=="default")skeleton.defaultRender[id]=cloneObject(src);else{src=cloneObject(skeleton.defaultRender&&skeleton.defaultRender[copy_id],skeleton.render[k]&&skeleton.render[k][copy_id]);skeleton.render[k][id]=cloneObject(src);if(!skeleton.defaultRender[id])skeleton.defaultRender[id]=cloneObject(src);}}}}}}
if(customTemplate.settings){for(var k in customTemplate.settings){for(var id in customTemplate.settings[k]){if(customTemplate.settings[k][id].height=="auto")customTemplate.settings[k][id]["max-height"]="auto";var _custom=cloneObject({"img-url":null,"mask-url":null,"formats":null,"filt-color":null,"filt-bg2":null,"filt-opacity":null},customTemplate.settings[k][id]);if(k=="shared"){if(/^h-/.test(id)){if(/-(lg|sm|xs)$/.test(id)){if(skeleton.bannerSections[id]&&skeleton.bannerSections[id].custom){skeleton.bannerSections[id]=cloneObject(skeleton.bannerSections[id],{"_custom":_custom});}else{var hid=id.replace(/-(lg|sm|xs)$/,"");skeleton.bannerSections[hid][id]=cloneObject(skeleton.bannerSections[hid][id],{"_custom":_custom});}}else{if(skeleton.bannerSections[id].custom){skeleton.bannerSections[id]=cloneObject(skeleton.bannerSections[id],{"_custom":_custom});}else{for(var kk in skeleton.bannerSections[id]){if(/-(sm|xs)$/.test(kk))continue;skeleton.bannerSections[id][kk]=cloneObject(skeleton.bannerSections[id][kk],{"_custom":_custom});}}}}else{skeleton.defaultRender[id]=cloneObject(skeleton.defaultRender[id],{"_custom":_custom});}}else if(k=="default"){if(typeof skeleton.defaultRender[id]=="string"){skeleton.defaultRender[id]=cloneObject(skeleton.contentSections[id][skeleton.defaultRender[id]],{"_custom":_custom});}else{skeleton.defaultRender[id]=cloneObject(skeleton.defaultRender[id],{"_custom":_custom});}}else if(k=="prehome"&&id=="p-0"){skeleton.render[k]["site"]=cloneObject(skeleton.render[k]["site"],{"_custom":_custom});}else{if(skeleton.render[k]&&skeleton.render[k][id]){if(typeof skeleton.render[k][id]=="string"){if(skeleton.contentSections[id]&&skeleton.contentSections[id][skeleton.render[k][id]]){skeleton.render[k][id]=cloneObject(skeleton.contentSections[id][skeleton.render[k][id]],{"_custom":_custom});}else{for(var kk in skeleton.contentSections[id]){skeleton.render[k][id]=cloneObject(skeleton.contentSections[id][kk],{"_custom":_custom});break;}}}else{skeleton.render[k][id]=cloneObject(skeleton.render[k][id],{"_custom":_custom});}}else{if(typeof skeleton.defaultRender[id]=="string"){if(skeleton.contentSections[id]&&skeleton.contentSections[id][skeleton.defaultRender[id]]){if(customTemplate[k].inherit){if(!skeleton.render[k])skeleton.render[k]={};skeleton.render[k][id]=cloneObject(skeleton.contentSections[id][skeleton.defaultRender[id]],{"_custom":_custom});}else{if(inherited[k]){if(!skeleton.render[k])skeleton.render[k]={};skeleton.render[k][id]=cloneObject(skeleton.contentSections[id][skeleton.defaultRender[id]],{"_custom":_custom});}else{skeleton.defaultRender[id]=cloneObject(skeleton.contentSections[id][skeleton.defaultRender[id]],{"_custom":_custom});}}}else{for(var kk in skeleton.contentSections[id]){skeleton.defaultRender[id]=cloneObject(skeleton.contentSections[id][kk],{"_custom":_custom});break;}}}else{if(customTemplate[k].inherit)skeleton.render[k][id]=cloneObject(skeleton.defaultRender[id],{"_custom":_custom});else{if(!skeleton.render[k])skeleton.render[k]={};skeleton.render[k][id]=cloneObject(skeleton.defaultRender[id],{"_custom":_custom});}}}}}}}}}catch(err){}
try{if(menurpd){skeleton.menurpds[0].rpd=cloneObject(skeleton.menurpds[0].rpd,menurpd);}}catch(err){}
try{if(spacexml.lgresponsive&&skeleton.bannerRule){if(!skeleton.bannerRule.lg&&skeleton.bannerRule.md)skeleton.bannerRule.lg=cloneObject(skeleton.bannerRule.md);}}catch(err){}
this._skeleton_extended=true;}
this.extendPage=function(){if(this._page_extended)return;try{for(var k in qsn_thenotes){if(!qsn_thenotes[k])continue;if(!qsn_thenotes[k].common)continue;if(qsn_thenotes[k].common.notekind!="settings")continue;if(qsn_thenotes[k].common.sectionid!="page")continue;quomodo.page.settings=qsn_thenotes[k];quomodo.page.noteid=k;break;}}catch(err){}
this._page_extended=true;if(!quomodo.page)return;if(!quomodo.page.settings)return;if(!quomodo.page.settings.skeleton)return;skeleton.bannerRule=cloneObject(skeleton.bannerRule,quomodo.page.settings.skeleton.bannerRule)};this.getPreset=function(presetKind,k){var json=sectionpreset[presetKind][k];if(presetKind=="filters")json=cloneObject({"filt-img":"none","filt-img2":"none","filt-bg":"transparent","filt-bg2":"transparent","filt-opacity":"1","filt-pattern":false},json);return json;};function _skeleton(){var tmp;try{if(!_this._skeleton_extended){_this.extendClient();_this._skeleton_extended=true;}
return skeleton;}catch(err){}
return tmp;}
function getsecrpd(id,xskeleton){var skeleton=xskeleton||_skeleton();if(!id||!skeleton)return{"colorset":"cs0","border":"bd0","shadow":"sh0","background":"bg0","image":"img0","position":"pos0"};if(skeleton.secrpds){for(var index in skeleton.secrpds){if(skeleton.secrpds[index].id==id)return skeleton.secrpds[index];}}
return{"colorset":"cs0","border":"bd0","shadow":"sh0","background":"bg0","image":"img0","position":"pos0"};}
function getBannerSections(xskeleton,device){xskeleton=xskeleton||skeleton;var jsonb=xskeleton.bannerSections;if(!jsonb)return{};var dSections=xskeleton.defaultBanner&&xskeleton.defaultBanner.sections;var bSections;var bannerid=spacexml.skeleton&&spacexml.skeleton.banner&&spacexml.skeleton.banner.id;if(device)bannerid=spacexml.skeleton&&spacexml.skeleton.banner&&spacexml.skeleton.banner.rwdid;if(bannerid){bSections={};var tbanners="banners";if(device)tbanners+="_"+device;var xsections=xskeleton[tbanners][Skeleton.getbannerid(bannerid,device)].sections;for(var k in xsections){bSections[k]=xsections[k][0];}}
function setCustom(json){var customShared;try{if(spacexml.skeleton&&spacexml.skeleton.template&&spacexml.skeleton.template[skeleton.id]&&spacexml.skeleton.template[skeleton.id].settings&&spacexml.skeleton.template[skeleton.id].settings.shared)customShared=spacexml.skeleton.template[skeleton.id].settings.shared;}catch(err){}
if(!customShared)return json;for(var k in json){var kDevice=k;if(device!="md")kDevice+="-"+device;if(customShared&&customShared[kDevice])json[k]=kDevice;}
return json;}
function getDefault(){var o={};for(var k in jsonb){if(jsonb[k].custom)continue;for(var kk in jsonb[k]){if(device=="xs"){if(/-xs$/.test(kk)){o[k]=kk;break;}else if(!o[k]){o[k]=kk;}}else if(device=="sm"){if(/-sm$/.test(kk)){o[k]=kk;break;}else if(!o[k]){o[k]=kk;}}else{o[k]=kk;break;}}}
return o;}
if(!bSections)return setCustom(getDefault());var b=true;for(var k in bSections){if(!bSections[k])continue;if(!jsonb[k][bSections[k]]){b=false;break;}}
if(b)return setCustom(bSections);else if(dSections)return setCustom(dSections);return setCustom(getDefault());}
function imgSectionAliasKey(key,jsonSection){if(jsonSection&&jsonSection["alias"])return jsonSection["alias"];if(/^h/.test(key))return "banner-section";if(/^f/.test(key))return "footer-section";return "site";}
this.getSecClass=function(id,xskeleton,version){return this.getSecVersion(id,xskeleton,version,true);};this.getSecVersion=function(id,xskeleton,version,wantClass){xskeleton=xskeleton||this.skeleton();var skid="default";if(Skeleton.forceSKid)skid=Skeleton.forceSKid;else{try{skid=$("body").attr("sk-id")||"default";}catch(err){}}
if(xskeleton.sharedSections&&xskeleton.sharedSections[skid]&&xskeleton.sharedSections[skid].from&&xskeleton.sharedSections[skid].from[id])id=xskeleton.sharedSections[skid].from[id];if(!xskeleton.defaultRender[id])return false;if(typeof(xskeleton.defaultRender[id])=="object"){xskeleton.defaultRender[id]["default"]=true;return wantClass?id:xskeleton.defaultRender[id];}else if(version){switch(version){case "wantimg":for(var key in xskeleton.contentSections[id]){if(xskeleton.contentSections[id][key]["withimg"])return wantClass?key:xskeleton.contentSections[id][key];}
break;case "wantdefault":for(var key in xskeleton.contentSections[id]){if(xskeleton.contentSections[id][key]["default"])return wantClass?key:xskeleton.contentSections[id][key];}
break;default:return wantClass?xskeleton.defaultRender[id]:xskeleton.contentSections[id][xskeleton.defaultRender[id]];break;}}else return wantClass?xskeleton.defaultRender[id]:xskeleton.contentSections[id][xskeleton.defaultRender[id]];};this.setSecVersion=function(id,mod){var skeleton=this.skeleton();if(mod=="slideshow"&&!this.canDisplaySlideshow(id))mod="none";function getKey(){var res=null;for(var key in skeleton.contentSections[id]){if(mod=="none"&&skeleton.contentSections[id][key]["noimg"]){return key;}
if((mod=="image"||mod=="slideshow")&&skeleton.contentSections[id][key]["withimg"]){return key;}
if((!mod||mod=="default")&&skeleton.contentSections[id][key]["default"]){res=key;}}
return res;}
var key=getKey();if(!key)return;if(skeleton&&skeleton.defaultRender&&skeleton.defaultRender[id]&&typeof(skeleton.defaultRender[id])!="object"){skeleton.defaultRender[id]=key;}
if(skeleton&&skeleton.render){for(var k in skeleton.render){if(skeleton.render[k][id]&&typeof(skeleton.render[k][id])!="object"){skeleton.render[k][id]=key;}}}};this.isMultiVersion=function(id){var skeleton=this.skeleton();var skid="default";try{skid=$("body").attr("sk-id")||"default";}catch(err){}
if(skid!="default"&&skeleton.render&&skeleton.render[skid]&&skeleton.render[skid][id]&&typeof(skeleton.render[skid][id])=="object")return false;if(!skeleton.defaultRender[id]||typeof(skeleton.defaultRender[id])=="object")return false;return true;};this.spaceSectionKey=function(k,xskeleton){xskeleton=xskeleton||this.skeleton();var aliaskey;if(xskeleton.imgSection&&xskeleton.imgSection[k])aliaskey=imgSectionAliasKey(k,xskeleton.imgSection[k]);return aliaskey||k;}
this.spaceSection=function(k,xskeleton){if(!spacexml.skeleton)return null;xskeleton=xskeleton||this.skeleton();var spacekey=this.spaceSectionKey(k,xskeleton);var spacesec=spacexml.skeleton[spacekey]||spacexml.skeleton[k];if(spacesec&&spacesec["filter-value"]=="default"&&spacesec["filter"])delete spacesec["filter"];if(spacesec&&spacesec["image-value"]=="default"&&spacesec["image"])delete spacesec["image"];return spacesec;};this.secrpd_complete=function(secrpd,k,skeleton,bCustomFolder,device){if(skeleton.imgSection&&skeleton.imgSection[k]){secrpd=cloneObject(secrpd,{"params":skeleton.imgSection[k]});var spacesec=_this.spaceSection(k);if(spacesec){secrpd=cloneObject(secrpd,spacesec);var templatesec=getsecrpd(secrpd.sec);if(spacesec.img){if(bCustomFolder)secrpd.__customFolder=true;if(spacesec.img!="none"&&(!templatesec.image||templatesec.image=="img0")&&(!secrpd.image||secrpd.image=="img0")){secrpd.image="img4";}
if(secrpd.params&&secrpd.params.wide&&secrpd.image&&sectionpreset["images"][secrpd.image]["img-params"]&&sectionpreset["images"][secrpd.image]["img-params"]["widealt"]){secrpd.image=sectionpreset["images"][secrpd.image]["img-params"]["widealt"];}else if((!secrpd.params||!secrpd.params.wide)&&secrpd.image&&sectionpreset["images"][secrpd.image]["img-params"]&&sectionpreset["images"][secrpd.image]["img-params"]["contentalt"]){secrpd.image=sectionpreset["images"][secrpd.image]["img-params"]["contentalt"];}}}}
if(secrpd._custom){var _custom=cloneObject({"img-url":null,"mask-url":null,"filt-color":null,"filt-bg2":null,"filt-opacity":null},secrpd._custom);var presetKeys={"colorset":true,"border":true,"shadow":true,"background":true,"image":true,"position":true,"filter":true};for(var k in _custom){if(presetKeys[k])secrpd[k]=_custom[k];else if(k=="defaultFormat"){secrpd.formats=[_custom[k]];}else{if(!secrpd.params)secrpd.params={};if(k=="filt-color"||k=="filt-bg2"){if(_custom[k])secrpd.params[k]=_custom[k];}else{secrpd.params[k]=_custom[k];}}}
if(bCustomFolder&&secrpd.params&&(secrpd.params["img-url"]||secrpd.params["mask-url"]))secrpd.__customFolder=true;}
return secrpd;};this.qlub0CSS=function(skeleton){if(!skeleton){skeleton=this.skeleton();if(!skeleton)return "";}
var _this=this;function makecss(secrpd,k,prefix,device){secrpd=_this.secrpd_complete(secrpd,k,skeleton,true,device);var templatesec=getsecrpd(secrpd.sec);if(secrpd._custom){templatesec=cloneObject(templatesec);delete templatesec.params;}
secrpd=cloneObject(templatesec,secrpd);var bCustomFolder=secrpd.__customFolder;secrpd=RPDSection.prepareRPDSection(secrpd);secrpd.__customFolder=bCustomFolder;secrpd.__secid=k;secrpd.__device=device;var debug=JCSSManager.debug;if(secrpd.debug&&!debug)JCSSManager.debug=true;if(_this.demoMode&&secrpd["position"]&&secrpd["position"]=="fixed")delete secrpd["position"];css.push(JCSSManager.css(RPDSection.JCSS,secrpd,prefix));css.push(JCSSManager.css(Skeleton.JCSS,secrpd,prefix));if(secrpd.debug&&!debug)JCSSManager.debug=false;}
var json=skeleton.defaultRender;var jsonpage=skeleton.render;var jsons=skeleton.contentSections;var css=[];function inArray(item,array){if(!array)return-1;if(array.indexOf)return array.indexOf(item);else{for(var i=0;i<array.length;i++){if(array[i]==item)return i;}
return-1;}}
var allsk=["default","home","prehome"];if(skeleton.templates&&skeleton.templates.templates)allsk=skeleton.templates.templates;if(jsonpage){for(var kp in jsonpage){if(inArray(kp,allsk)==-1)allsk.push(kp);}}
function allSectionsFor(kp){var allk=[];if(json){for(var k in json){allk.push(k);}}
if(jsonpage&&jsonpage[kp]){for(var k in jsonpage[kp]){if(inArray(k,allk)==-1)allk.push(k);}}
return allk;}
for(var i=0;i<allsk.length;i++){var kp=allsk[i];var allk=allSectionsFor(kp);for(var j=0;j<allk.length;j++){var k=allk[j];var kPrefix=k;if(skeleton.sharedSections&&skeleton.sharedSections[kp]&&skeleton.sharedSections[kp].to&&skeleton.sharedSections[kp].to[k])kPrefix=skeleton.sharedSections[kp].to[k];var prefix=(k=="site")?"body[sk-id='"+kp+"']":"body[sk-id='"+kp+"'] #"+kPrefix;var secrpd=(jsonpage&&jsonpage[kp]&&jsonpage[kp][k])||(json&&json[k]);if(typeof secrpd=="string"){if(jsons){for(var kk in jsons[k]){secrpd=jsons[k][kk];makecss(secrpd,k,prefix+"."+kk);}}}else{makecss(secrpd,k,prefix);}}}
var jsonb=skeleton.bannerSections;if(jsonb){function process_bsections(device){var bSections=getBannerSections(null,device);for(var k in jsonb){if(!bSections[k]&&jsonb[k].custom)bSections[k]=jsonb[k];}
if(bSections){var jcssbgColors={};for(var k in bSections){if(!bSections[k])continue;var prefix=(k=="site")?"body":("#"+k+(device?"-"+device:""));if(/-(lg|sm|xs)$/.test(k)){if(!device)continue;if(device=="xs"&&!/-xs$/.test(k))continue;if(device=="sm"&&!/-sm$/.test(k))continue;if(device=="lg"&&!/-lg$/.test(k))continue;prefix="#"+k;}else{if(device&&bSections[k].custom)continue;}
var secrpd;if(bSections[k].custom){secrpd=bSections[k];}else{secrpd=jsonb[k][bSections[k]];}
makecss(secrpd,k,prefix,device);if(skeleton.jcss){var jcssbg=Skeleton.getSectionColor(k);var jcssbgimg=Skeleton.getSectionColor(k,true);if(jcssbg&&!jcssbgColors[jcssbg+"-"+jcssbgimg])jcssbgColors[jcssbg+"-"+jcssbgimg]=[jcssbg,jcssbgimg];}}
for(var key in jcssbgColors){JCSSManager.jcssbg=jcssbgColors[key][0];JCSSManager.jcssbgimg=jcssbgColors[key][1];var colorsectionclass=jcssbgColors[key][0].replace(/[+@]/g,"_");css.push(JCSSManager.css(skeleton.jcss,{},["#sk-content .color_"+colorsectionclass,"#sk-content.color_"+colorsectionclass,"#sk-content .sk-wra.color_"+colorsectionclass,"#sk-content .sk-sec.color_"+colorsectionclass,"#sk-content .sk-wra .sk-sec.color_"+colorsectionclass,"#tinymce .color_"+colorsectionclass,"#sk-content .sk-sec.color_"+colorsectionclass]));}
if(skeleton.jcss){css.push(JCSSManager.css(skeleton.jcss,{},["#sk-content","#tinymce"]));}}}
process_bsections();if(spacexml.responsive&&skeleton.banners_xs)process_bsections("xs");if(spacexml.responsive&&skeleton.banners_sm)process_bsections("sm");}
if(skeleton.bannerRule){for(var device in skeleton.bannerRule){if(skeleton.bannerRule[device].scroll&&!skeleton.bannerRule[device].scrollDisabled){for(var i=0;i<skeleton.bannerRule[device].scroll[1].length;i++){var bid=skeleton.bannerRule[device].scroll[1][i];if(inArray(bid,skeleton.bannerRule[device].scroll[0])==-1){css.push("body.viewmode #"+bid+" { display: none }");}}}
if(!skeleton.bannerRule[device].jcss)continue;css.push(JCSSManager.css(skeleton.bannerRule[device].jcss,{},"body.use-banner-rule"));}}
css.push(RPD.qlub0CSS(skeleton.rpds,spacexml.skeleton));css.push(RPDMenu.qlub0CSS(skeleton.menurpds));if(spacexml.skeleton&&spacexml.skeleton.pros){css.push("#sk-ad-top, #sk-ad-bottom, #sk-ad-right { display: none }");}
var footer_selectors=[{"selector":"#sk-ad-quomodo, #sk-ad-quomodo a, #sk-ad-quomodo a:hover","style":"color : bw-"+(skeleton.footercolor||"c1")}];css.push(JCSSManager.css(footer_selectors));return css.join("\n");};this.getSectionColor=function(sectionid,wantfiltcolor){var json=Skeleton.getSectionJSON(sectionid,"prepare");if(json["transparent-color"])return json["transparent-color"].replace(":transparent","");if(wantfiltcolor&&json["img-url"]&&json["filt-color"])return json["filt-color"];if(json["cs-bg"]=="transparent"){if(json.targetcolor)return this.getSectionColor(json.targetcolor,wantfiltcolor);else return null;}
return json["cs-bg"];};this.getSectionJSON=function(sectionid,withsecrpds,xskeleton,wantimg){sectionid=sectionid.replace(/-stuff/,"");var device=null;if(/-xs/.test(sectionid))device="xs";else if(/-sm/.test(sectionid))device="sm";else if(/-lg/.test(sectionid))device="lg";id=sectionid.replace("-xs","").replace("-sm","").replace("-lg","");xskeleton=xskeleton||this.skeleton();if(!xskeleton)return false;var finalize=(withsecrpds=="prepare")?RPDSection.prepareRPDSection:function(x){return x;};if(xskeleton.render&&xskeleton.render.page&&xskeleton.render.page[sectionid]){if(withsecrpds){return finalize(xskeleton.render.page[sectionid]);}else{return xskeleton.render.page[sectionid];}}
var type=(/^h-/.test(id))?"banner":"default";if(type=="banner"&&xskeleton.bannerSections&&xskeleton.secrpds){var sections=getBannerSections(xskeleton,device);if(sections){var bannerJson;if(!sections[id]){if(xskeleton.bannerSections[sectionid]&&xskeleton.bannerSections[sectionid].custom){bannerJson=xskeleton.bannerSections[sectionid];}else{return null;}}else{if(xskeleton.bannerSections[sectionid]&&xskeleton.bannerSections[sectionid].custom){bannerJson=xskeleton.bannerSections[sectionid];}else{bannerJson=xskeleton.bannerSections[id][sections[id]];}}
var json=this.secrpd_complete(bannerJson,id,xskeleton);if(json.sec&&withsecrpds){var templatesec=getsecrpd(json.sec,xskeleton);if(json._custom){templatesec=cloneObject(templatesec);delete templatesec.params;}
return finalize(cloneObject(templatesec,json));}
else return bannerJson;}}else if(type=="default"&&xskeleton.defaultRender&&xskeleton.secrpds){var skid="default";if(Skeleton.forceSKid)skid=Skeleton.forceSKid;else{try{skid=$("body").attr("sk-id")||"default";}catch(err){}}
if(xskeleton.sharedSections&&xskeleton.sharedSections[skid]&&xskeleton.sharedSections[skid].from&&xskeleton.sharedSections[skid].from[id])id=xskeleton.sharedSections[skid].from[id];var version;if(wantimg)version="wantimg";var secjson=this.getSecVersion(id,xskeleton,version);var secdefaultjson=xskeleton.render&&xskeleton.render[skid]&&xskeleton.render[skid][id];if(secdefaultjson&&typeof secdefaultjson=="string")secdefaultjson=xskeleton.contentSections[id][secdefaultjson];var json=cloneObject(secjson,secdefaultjson);json=this.secrpd_complete(json,id,xskeleton);if(json&&json.sec&&withsecrpds){var templatesec=getsecrpd(json.sec,xskeleton);if(json._custom){templatesec=cloneObject(templatesec);delete templatesec.params;}
json=finalize(cloneObject(templatesec,json));}
return json;}
return false;};this.width=function(id,json){try{if(q_pagemode()=="edit"){if(/-lg/.test(id))return devicesDef.lg.contentWidth;if(/-sm/.test(id))return devicesDef.sm.contentWidth;if(/-xs/.test(id))return 320-30;}}catch(err){}
if(!json||!json.params||json.params.width==undefined)json=this.getSectionJSON(id,true);if(!json||!json.params)return 990;if(json.params.width&&json.params.width!="auto")return parseInt(json.params.width,10);return 990;};this.manageAltMask=function(id){if(this.canHaveAltMask(id)){if(Skeleton.fixedHeight(id)){var ref=parseInt(Skeleton.fixedHeight(id),10);if($("body").attr("firstcontentid")==(id+"-stuff")){ref+=parseInt($("body").attr("top-transparent-banner-"+qsn_responsive_mod())||"0",10);}
if(ref<$("#"+id+" .stuff-content").outerHeight()){$("#"+id).addClass("alt_mask");return;}}}
$("#"+id).removeClass("alt_mask");};this.canHaveAltMask=function(id){var json=this.getSectionJSON(id,true);if(json.image=="img33")return false;if(json.image=="img34")return false;return true;};this.fixedHeight=function(id,json){if(!json||!json.params||json.params.height==undefined)json=this.getSectionJSON(id,true);if(!json||!json.params)return false;if(json.params.height&&json.params.height!="auto")return json.params.height;else return false;};this.formatSection=function(id,json){if(!json||json.formats==undefined)json=this.getSectionJSON(id,true);if(json._custom&&json._custom.defaultFormat)return[json._custom.defaultFormat];return json.formats;};this.withimgSection=function(id,json){if(id=="p-0"&&$("body").attr("sk-id")=="prehome")return true;if(!json)json=this.getSectionJSON(id,true);if(json&&json.params&&json.params.imgtosec)return true;if(json.readonly)return false;if(json.image=="img0")return false;return true;};this.prepareSkeleton=function(){if(!window.skeleton)return;var banner_id=(spacexml.skeleton.banner&&spacexml.skeleton.banner.id)||"b0";banner_id=Skeleton.getbannerid(banner_id);if(skeleton.banners[banner_id].sections&&skeleton.bannerSections){for(var key in skeleton.bannerSections){if(!skeleton.banners[banner_id].sections[key]){if(!skeleton.bannerSections[key].custom)$("#"+key).hide();}}}
if(skeleton.fonts){for(var i=0;i<skeleton.fonts.length;i++)quomodoFonts.load(skeleton.fonts[i]);}};this.prepareTemplate=function(){if(!window.skeleton)return;(function(){var customTemplate=spacexml.skeleton.template&&spacexml.skeleton.template[skeleton.id];if(!customTemplate)return;if(customTemplate["shared"]&&customTemplate["shared"].add){for(var i=0;i<customTemplate["shared"].add.length;i++){var id=customTemplate["shared"].add[i]["id"];var copy_id=customTemplate["shared"].add[i]["copy-of"];var hid;if(/^h-/.test(id)){if(/-(lg|sm|xs)$/.test(id)){hid=copy_id;}else if(/-\d+-\d+$/.test(copy_id)){hid=copy_id.replace(/-\d+$/,"");}else{hid=copy_id;}}else{hid=copy_id;}
var target=customTemplate["shared"].add[i]["target"];var $target=$("#"+target.id);var $src=$("#"+hid);if($src.length>0&&$target.length>0){$target[target.mode||"after"]($src.clone().attr("id",id));}}}
if(customTemplate["shared"]&&customTemplate["shared"].move){for(var i=0;i<customTemplate["shared"].move.length;i++){var id=customTemplate["shared"].move[i]["id"];var target=customTemplate["shared"].move[i]["target"];var $target=$("#"+target.id);var $src=$("#"+id);if($src.length>0&&$target.length>0){$target[target.mode||"after"]($src);}}}
var k=$("body").attr("sk-id")||"default";if(customTemplate[k]&&customTemplate[k].add){for(var i=0;i<customTemplate[k].add.length;i++){var id=customTemplate[k].add[i]["id"];var target=customTemplate[k].add[i]["target"];var $target=$("#"+target.id);var $src=$("#"+customTemplate[k].add[i]["copy-of"]);if($src.length>0&&$target.length>0){$target[target.mode||"after"]($src.clone().attr("id",id));}}}
if(customTemplate[k]&&customTemplate[k].move){for(var i=0;i<customTemplate[k].move.length;i++){var id=customTemplate[k].move[i]["id"];var target=customTemplate[k].move[i]["target"];var $target=$("#"+target.id);var $src=$("#"+id);if($src.length>0&&$target.length>0){$target[target.mode||"after"]($src);}}}
if(skeleton.sharedSections&&skeleton.sharedSections[k]&&skeleton.sharedSections[k].to){for(var id in skeleton.sharedSections[k].to){var use=skeleton.sharedSections[k].to[id];$("#"+id).attr("id",use).attr("shared-key",use.replace(/-[a-z]+-\d+$/,""));}}})();if(window.quomodoclient&&quomodoclient.useBannerRule&&skeleton.bannerRule){$("body").addClass("use-banner-rule");var devices=["md","lg","sm","xs"];for(var i=0;i<devices.length;i++){var device=devices[i];if(skeleton.bannerRule[device]&&(skeleton.bannerRule[device].fixed||(skeleton.bannerRule[device].scroll&&!skeleton.bannerRule[device].scrollDisabled))&&!skeleton.bannerRule[device].transparent){if($("#hk-banner-ghost-"+device).length==0){$("#hk-0").after('<div id="hk-banner-ghost-'+device+'" class="sk-sec-'+device+'"> </div>');}}}}};this.getbannerid=function(id,device){if(/^h-/.test(id)){id=(spacexml.skeleton.banner&&spacexml.skeleton.banner.id)||"b0";}
var banners="banners";if(device){banners+="_"+device;if(spacexml.skeleton.banner&&spacexml.skeleton.banner.expert_mode&&spacexml.skeleton.banner.rwdid)id=spacexml.skeleton.banner.rwdid;}
if(typeof(skeleton[banners][id])=="string")return skeleton[banners][id];else return id;};this.getjsonbanner_menu=function(){var banner_id=(spacexml.skeleton.banner&&spacexml.skeleton.banner.id)||"b0";banner_id=Skeleton.getbannerid(banner_id);for(var i=0;i<skeleton.banners[banner_id].content.length;i++){if(skeleton.banners[banner_id].content[i].kind=="menuh")return skeleton.banners[banner_id].content[i];}};this.getSectionsColor=function(){var skeleton=this.skeleton();var _this=this;var colors=[];function inArray(elem,tab){for(var i=0;i<tab.length;i++){if(elem==tab[i])return true;}
return false;}
function pushcolor(section,key){var secrpd=_this.secrpd_complete(section,key,skeleton);var templatesec=getsecrpd(section.sec);if(secrpd._custom){templatesec=cloneObject(templatesec);delete templatesec.params;}
secrpd=cloneObject(templatesec,secrpd);var secprepared=RPDSection.prepareRPDSection(secrpd);var color=secprepared["cs-bg"];if(color=="transparent"&&secprepared["transparent-color"])color=secprepared["transparent-color"].replace(":transparent","");if(color!="transparent"&&!inArray(color,colors)){colors.push(color);if(key=="site")colors.push(color+":body");}}
for(var key in skeleton.defaultRender){var secjson=this.getSecVersion(key,skeleton);pushcolor(skeleton.defaultRender[key],key);}
for(var key in skeleton.bannerSections){for(var key2 in skeleton.bannerSections[key]){pushcolor(skeleton.bannerSections[key][key2],key);}}
for(var key in skeleton.render){for(var key2 in skeleton.render[key]){pushcolor(skeleton.render[key][key2],key2);}}
return colors;};this.toResize={};this.addResized=function(id,callback,key){if(!key)key="default";if(!this.toResize[id])this.toResize[id]={};if(!callback)delete this.toResize[id][key];else{this.toResize[id][key]=callback;if(key=="vcenter"){if(this.toResize[id]["default"])this.toResize[id]["default"]();for(var key in this.toResize[id]){if(key=="default")continue;if(key=="vcenter")continue;this.toResize[id][key]();}}}
if(!this.resizeAttached){quomodo.events.addListener("windowresize",function(){Skeleton.resized();},window);this.resizeAttached=true;}};this.resized=function(){for(var id in this.toResize){if(this.toResize[id]["default"])this.toResize[id]["default"]();if(this.toResize[id]["vcenter"])this.toResize[id]["vcenter"]();for(var key in this.toResize[id]){if(key=="default")continue;if(key=="vcenter")continue;this.toResize[id][key]();}}}
this.onVcenter={};this.addVcenterDone=function(id,callback,key){if(!key)key="default";if(!this.onVcenter[id])this.onVcenter[id]={};if(!callback)delete this.onVcenter[id][key];else this.onVcenter[id][key]=callback;if(spacexml.responsive)this.addResized(id,function(){Skeleton.vcenterDone(id);},"vcenter-"+key);};this.vcenterDone=function(id){if(!this.onVcenter||!this.onVcenter[id])return;for(var key in this.onVcenter[id]){this.onVcenter[id][key]();}}
this.sectionimgmod=function(id,json){if(id=="p-0"&&$("body").attr("sk-id")=="prehome")id="site";var sectionjson=Skeleton.getSectionJSON(id,true);if(sectionjson.image=="img0"&&(!sectionjson.params||!sectionjson.params.imgtosec))return "none";if(sectionjson.image=="img32")return "video";if(json&&json["imgsection-mod"]=="default"&&(!sectionjson.params||!sectionjson.params.allowdefault))return "none";if(json&&json["imgsection-mod"])return json["imgsection-mod"];if(sectionjson&&sectionjson.params&&sectionjson.params["img-url"])return "template-image";return "image";};this.firstContentId=function(){var hkfound=false;var firstId="unknown";$(".sk-sec, .sk-wra").each(function(){if(hkfound){var $this=$(this);if(!$this.hasClass("sk-sec"))return;if($this.parents("#hk-0").length)return;if(!$this.is(":visible"))return;firstId=this.id+"-stuff";return false;}
if(this.id=="hk-0")hkfound=true;});return firstId;};this.updateTop=function(){if(Skeleton.demoMode){$("#hk-0, #k-0").css("top","");return;}
var device=qsn_responsive_mod();if(!(window.quomodoclient&&quomodoclient.useBannerRule&&skeleton.bannerRule))return;if(!skeleton.bannerRule[device])return;if(skeleton.bannerRule[device].transparent){var paddingTop;var $target=$("#"+$("body").attr("firstContentId"));if(!$target.is(":visible")||q_pagemode()=="edit"){if(q_pagemode()=="edit"){if($target.attr("format-padding-top")){paddingTop=parseInt($target.attr("format-padding-top"),10);paddingTop=""+paddingTop+"px";if(device=="xs")paddingTop+=" !important";}else{paddingTop="";}
$target.css("padding-top",paddingTop);}
var targetId=this.firstContentId();$("body").attr("firstContentId",targetId);$target=$("#"+targetId);var fixedHeight=this.fixedHeight(targetId);if(fixedHeight&&/px$/.test(fixedHeight)){$target.attr("fixed-height",fixedHeight);}}
var paddingTop=parseInt($("body").attr("top-transparent-banner-"+device)||0,10)+parseInt($target.attr("format-padding-top")||0,10);if($target.hasClass("empty-stuff"))paddingTop+=145;paddingTop=""+paddingTop+"px";if(device=="xs")paddingTop+=" !important";$target.css("padding-top",paddingTop);if($target.attr("fixed-height")){$target.css("height",""+(parseInt($("body").attr("top-transparent-banner-"+device)||0,10)+parseInt($target.attr("fixed-height")||0,10))+"px");$target.parents(".sk-sec").css("height",""+(parseInt($("body").attr("top-transparent-banner-"+device)||0,10)+parseInt($target.attr("fixed-height")||0,10))+"px");}}
if(skeleton.bannerRule[device].fixed){if((q_pagemode()=="edit"||q_pagemode()=="view")&&device!="xs"&&!window.previewmod)$("#hk-0").css("top",$("#qlub_adminbar").height()+"px");else $("#hk-0").css("top","");$("#hk-0").css("width","100%").css("position","fixed");}else if(skeleton.bannerRule[device]){if(skeleton.bannerRule[device].scroll&&!skeleton.bannerRule[device].scrollDisabled){var scrollTrigger=skeleton.bannerRule[device].scrollTrigger||skeleton.bannerRule[device].scrollAutoTrigger;if(scrollTrigger){if($(window).scrollTop()>scrollTrigger){$("#hk-0").css("position","fixed");}else{$("#hk-0").css("position","absolute").css("width","100%");}}}else{if(skeleton.bannerRule[device].transparent){$("#hk-0").css("position","absolute").css("width","100%");}else{$("#hk-0").css("top","").css("width","").css("position","relative");}}}};this.updateScroll=function(){var device=qsn_responsive_mod();if(!(window.quomodoclient&&quomodoclient.useBannerRule&&skeleton.bannerRule))return;if(!skeleton.bannerRule[device])return;if(!skeleton.bannerRule[device].scroll||skeleton.bannerRule[device].scrollDisabled)return;var scrollTrigger=skeleton.bannerRule[device].scrollTrigger||skeleton.bannerRule[device].scrollAutoTrigger;function getSelectorForState(state){if(skeleton.bannerRule[device].__scrollSelector)return skeleton.bannerRule[device].__scrollSelector[state];skeleton.bannerRule[device].__scrollSelector=[[],[]];var state0=skeleton.bannerRule[device].scroll[0];var state1=skeleton.bannerRule[device].scroll[1];var tmp={};for(var i=0;i<state0.length;i++){var id=state0[i];if($.inArray(id,state1)==-1)skeleton.bannerRule[device].__scrollSelector[0].push(id);else tmp[id]=true;}
for(var i=0;i<state1.length;i++){var id=state1[i];if(!tmp[id])skeleton.bannerRule[device].__scrollSelector[1].push(id);}
skeleton.bannerRule[device].__scrollSelector[0]="#"+skeleton.bannerRule[device].__scrollSelector[0].join(", #");skeleton.bannerRule[device].__scrollSelector[1]="#"+skeleton.bannerRule[device].__scrollSelector[1].join(", #");return skeleton.bannerRule[device].__scrollSelector[state];}
if($(window).scrollTop()>scrollTrigger){if(!skeleton.bannerRule[device].initDone||!$("body").hasClass("banner-state-1")){$("body").removeClass("banner-state-0").addClass("banner-state-1");if(skeleton.bannerRule[device].fixed){$(getSelectorForState(0)).stop().hide();$(getSelectorForState(1)).stop().fadeIn();}else{$(getSelectorForState(0)).stop().hide();$(getSelectorForState(1)).stop().show();$("#hk-0").css("position","fixed");if((q_pagemode()=="edit"||q_pagemode()=="view")&&device!="xs"&&!window.previewmod)$("#hk-0").css("top",$("#qlub_adminbar").height()+"px");else $("#hk-0").css("top","");}}}else{if(!skeleton.bannerRule[device].initDone||!$("body").hasClass("banner-state-0")){$("body").removeClass("banner-state-1").addClass("banner-state-0");if(skeleton.bannerRule[device].fixed){$(getSelectorForState(1)).stop().hide();$(getSelectorForState(0)).stop().fadeIn();}else{$(getSelectorForState(1)).stop().hide();$(getSelectorForState(0)).stop().show();$("#hk-0").css("position","absolute").css("width","100%");$("#hk-0").css("top","");}}}
skeleton.bannerRule[device].initDone=true;};this.prepareBanner=function(){if(!(window.quomodoclient&&quomodoclient.useBannerRule&&skeleton.bannerRule))return;function getBannerHeight(device,scrollIndex){var h=0;var selectors={"md":".sk-sec-h.sk-sec-md","sm":".sk-sec-h.sk-sec-sm, .sk-sec-h.sk-sec-sme","xs":".sk-sec-h.sk-sec-xs, .sk-sec-h.sk-sec-xse"};if(skeleton.bannerRule[device]&&skeleton.bannerRule[device].scroll&&!skeleton.bannerRule[device].scrollDisabled){selectors[device]="#"+skeleton.bannerRule[device].scroll[scrollIndex||0].join(", #");}else if(skeleton.bannerRule[device]&&skeleton.bannerRule[device].display){selectors[device]="#"+skeleton.bannerRule[device].display.join(", #");}
if(device=="lg"&&selectors[device]==undefined)selectors["lg"]=selectors["md"];$(selectors[device]).each(function(){if($(this).find(".stuff-content.empty-stuff").length>0&&$(this).find(".stuff-content .note").length==0)return;var savedDisplay=this.style.display;this.style.display="block !important";h+=$(this).outerHeight();this.style.display=savedDisplay||"";});if($("#sk-ad-top").css("display")!="none")h+=$("#sk-ad-top").outerHeight();return h;}
function setBannerHeights(){var needUpdateTop=false;var needUpdateScroll=false;var devices=["md","lg","sm","xs"];var currdevice=qsn_responsive_mod();for(var i=0;i<devices.length;i++){var device=devices[i];if(skeleton.bannerRule[device]){h0=null;if((skeleton.bannerRule[device].fixed||(skeleton.bannerRule[device].scroll&&!skeleton.bannerRule[device].scrollDisabled))&&!skeleton.bannerRule[device].transparent){needUpdateTop=true;var $ghost=$("#hk-banner-ghost-"+device);var h0=getBannerHeight(device);skeleton.bannerRule[device].__height=h0;$ghost.height(getBannerHeight(device));}else if(skeleton.bannerRule[device].transparent){needUpdateTop=true;var h0=getBannerHeight(device);h0-=parseInt($("body").attr("cookie-margin-top")||"0",10);skeleton.bannerRule[device].__height=h0;$("body").attr("top-transparent-banner-"+device,h0);if(currdevice==device){var targetId=$("body").attr("firstContentId");if(!targetId){targetId=_this.firstContentId();$("body").attr("firstContentId",targetId);var fixedHeight=_this.fixedHeight(targetId);if(fixedHeight&&/px$/.test(fixedHeight)){$("#"+targetId).attr("fixed-height",fixedHeight);}}
var $target=$("#"+targetId);$target.css("padding-top",""+(h0+parseInt($target.attr("format-padding-top")||0,10))+"px");if($target.attr("fixed-height")){$target.css("height",""+(h0+parseInt($target.attr("fixed-height")||0,10))+"px");$target.parents(".sk-sec").css("height",""+(h0+parseInt($target.attr("fixed-height")||0,10))+"px");}}}
if(skeleton.bannerRule[device].scrollTrigger){needUpdateScroll=true;}else if(skeleton.bannerRule[device].scroll&&!skeleton.bannerRule[device].scrollDisabled){if(!h0)h0=getBannerHeight(device);var h1=getBannerHeight(device,1);skeleton.bannerRule[device].__heightScroll=h1;skeleton.bannerRule[device].scrollAutoTrigger=h0-h1;needUpdateScroll=true;}}}
return{"top":needUpdateTop,"scroll":needUpdateScroll};}
var needUpdate=setBannerHeights();function windowscrollUpdate(){Skeleton.updateScroll();if(window.spacexml&&spacexml.responsive&&$("#sk-content_closemenu").length>0)return;if(window.menuh_manageScroll)menuh_manageScroll();}
if(needUpdate.top){Skeleton.updateTop();if($("body").attr("skeleton-windowresize")!="1"){quomodo.events.addListener("topads.loaded",function(){setBannerHeights();Skeleton.resized();},window);if(spacexml.responsive){quomodo.events.addListener("windowresize",needUpdate.scroll?function(){Skeleton.updateTop();setTimeout(function(){windowscrollUpdate();},1);}:function(){Skeleton.updateTop();},window);}
if(q_pagemode()!="makeweb")$("body").attr("skeleton-windowresize","1");}}
if(needUpdate.scroll){Skeleton.updateScroll();if($("body").attr("skeleton-windowscroll")!="1"){quomodo.events.addListener("windowscroll",function(){windowscrollUpdate();},window);if(q_pagemode()!="makeweb")$("body").attr("skeleton-windowscroll","1");}}};this.renderSectionV1=function(id,json){var skeleton=this.skeleton();var skid=$("body").attr("sk-id");var secSelector=(id=="site")?"body":("#"+id);var $divSec=$(secSelector);$divSec.addClass("cssv1");$divSec.find("> .sk-bw-bg").removeClass("sk-bw-bg").addClass("sk-bw-bg-v1");$divSec.find("> .sk-bw-mask").removeClass("sk-bw-mask").addClass("sk-bw-mask-v1");if(!skeleton.render.page){skeleton.render.page={};}
if(!skeleton.render.page[id]){skeleton.render.page[id]=cloneObject(this.getSectionJSON(id,true),json.v1);delete skeleton.render.page[id]._custom;if(id=="site"&&skid=="prehome")skeleton.render.page[id].params.wide=true;}
var secrpd=RPDSection.prepareRPDSection(skeleton.render.page[id]);if(q_pagemode()=="edit"&&secrpd["img-mode"]&&json.v1&&json.v1.params&&(json.v1.params["img-url"]||json.v1.params["formats"])&&secrpd.id=="secp-prehome"){$("body > .sk-bw-mask-v1 .image").css("background-image","").css("background-color","");}
var css=[];var prefix=(id=="site")?"body[sk-id='"+skid+"'].cssv1":"body[sk-id='"+skid+"'] #"+id+".cssv1";if(/^(h|f)-/.test(id))prefix="body #"+id+".cssv1";css.push(JCSSManager.css(RPDSection.JCSS,secrpd,prefix));css.push(JCSSManager.css(Skeleton.JCSS,secrpd,prefix));var secJSON=this.getSectionJSON(id,"prepare");var colorsection=secJSON&&secJSON["cs-bg"];if(colorsection){var rpds=skeleton.rpds.concat(spacexml.skeleton.rpds||[]);var menurpds=skeleton.menurpds.concat(spacexml.skeleton.menurpds||[]);css.push(RPD.qlub0CSS(rpds,spacexml.theme,colorsection,prefix));css.push(RPDMenu.qlub0CSS(menurpds,spacexml.theme,colorsection,prefix));css.push(RPDMenu.qlub0CSS(menurpds,spacexml.theme,colorsection,".sk-content-dup.cssv1-"+id));}
css="\n<!--\n"+css.join("\n").replace(/\.sk-bw-(mask|bg)\b/g,".sk-bw-$1-v1")+"\n-->\n";$("#cssv1_"+id).remove();$((!/^(h|f|sk)-/.test(id))?"head":("#"+id)).append('<style id="cssv1_'+id+'">'+css+'</style>');if(json.v1.parallax&&json.v1.parallax!="disabled"&&json.v1.parallax!="0"){$divSec.attr("parallax",json.v1.parallax);}else{$divSec.removeAttr("parallax");}
if(this.getSectionJSON(id,true).image=="img32"){var $video=$divSec.find("> .sk-bw-mask-v1 video");if($video.length==0){$divSec.find("> .sk-bw-mask-v1 .sk-centered").remove();$divSec.find("> .sk-bw-mask-v1").append('<div class="sk-centered"><video autoplay="on" muted="muted" loop="on" src="/images/blank.gif" poster="/images/blank.gif" style="width: 100% ; display: block"></video><div class="mask"></div><div class="alt-mask"></div></div>');$video=$divSec.find("> .sk-bw-mask-v1 video");}
$video.attr("src",q_spaceabsoluteurl("",json.v1.video)).attr("poster",q_spaceabsoluteurl("",json.v1.poster)).attr("video-width",json.v1["video-width"]).attr("video-height",json.v1["video-height"]);if(id=="site"&&$("body").get(0).resizeSecPrehome)$("body").get(0).resizeSecPrehome();return;}};this.renderSection=function(id,json,wantdefault){var skeleton=this.skeleton();if(!wantdefault&&skeleton&&skeleton.renderSection){return skeleton.renderSection.apply(this,[id,json]);}
var secSelector=(id=="site")?"body":("#"+id);var $divSec=$(secSelector);if($divSec.length==0&&skeleton.sharedSections&&skeleton.sharedSections[quomodo.page.skid]){if(/^sk-/.test(id)){if(skeleton.sharedSections[quomodo.page.skid].from&&skeleton.sharedSections[quomodo.page.skid].from[id]){secSelector="#"+skeleton.sharedSections[quomodo.page.skid].from[id];}}else{if(skeleton.sharedSections[quomodo.page.skid].to&&skeleton.sharedSections[quomodo.page.skid].to[id]){secSelector="#"+skeleton.sharedSections[quomodo.page.skid].to[id];}}
$divSec=$(secSelector);}
var _this=this;(function(){if(q_pagemode()=="web")return;var o=cloneObject(_this.getSectionJSON(id),json);if(!o)return;if(window.skeleton&&skeleton.secrpds){if((o.sec||o._custom)&&!$divSec.get(0).prepared){var secrpd=getsecrpd(o.sec);if(o._custom){var templatesec=cloneObject(templatesec);delete templatesec.params;secrpd=cloneObject(templatesec,_this.secrpd_complete(o,id,skeleton));}
var secprepared=RPDSection.prepareRPDSection(secrpd);$divSec.find("> .sk-bw-bg, > .sk-bw-img, > .sk-bw-mask").remove();$divSec.addClass(o.sec).prepend(RPDSection.HTML(secprepared));$divSec.get(0).prepared=true;}}})();if(q_pagemode()!="web")$divSec.css("height","");if(this.fixedHeight(id,json)){if(this.fixedHeight(id,json)=="screen"){function resizeSec(){var json=_this.getSectionJSON(id,true);var $target=$(window);if(json&&json.params&&json.params.targetheight)$target=$("#"+json.params.targetheight);function getScreenOffset(){var screenOffsetHeight=json.params.screenOffset||0;if(json&&json.params&&json.params.targetScreenOffset){$(json.params.targetScreenOffset).each(function(){screenOffsetHeight+=$(this).height();});}else if(/^ph-/.test(id)&&window.quomodoclient&&quomodoclient.useBannerRule&&skeleton.bannerRule){var device=qsn_responsive_mod();if((skeleton.bannerRule[device].fixed||(skeleton.bannerRule[device].scroll&&!skeleton.bannerRule[device].scrollDisabled))&&!skeleton.bannerRule[device].transparent){screenOffsetHeight+=(skeleton.bannerRule[device].__height||0);}}
return screenOffsetHeight;}
var adminbarheight=parseInt($("#qlub_adminbar").css("top"),10)>=0?($("#qlub_adminbar").outerHeight()-1||0):0;var $divStuff=$divSec.find("> .stuff-content");if($target.get(0)!=window||$target.height()>650){$divSec.css("height",Math.min(1200,$target.height()-adminbarheight-getScreenOffset())+"px");$divStuff.css("height",Math.min(1200,$target.height()-adminbarheight-getScreenOffset()-parseInt($divSec.find(".stuff-content").css("top")||0,10))+"px");}else{$divStuff.css("height","auto");var marginStuff=20;var hStuff=$divStuff.height();var hSec=Math.max(650,hStuff+marginStuff+parseInt($divStuff.css("top")||0,10));$divSec.css("height",hSec+"px");$divStuff.css("height",(hSec-parseInt($divStuff.css("top")||0,10))+"px");}
if($divSec.attr("vcenter")=="1"){var firstcontentid=$("body").attr("firstcontentid");var bannerPadding=0;if(firstcontentid&&firstcontentid==$divStuff.attr("id")){bannerPadding=parseInt($("body").attr("top-transparent-banner-"+qsn_responsive_mod())||"0",10);}
var newpadding=($divSec.height()-bannerPadding-$divSec.find("> .stuff-content .stuff-table").height()-parseInt($divSec.find(".stuff-content").css("top")||0,10))/2;$divStuff.css({"padding-top":(bannerPadding+newpadding)+"px","padding-bottom":newpadding+"px"});}else if(q_pagemode()=="edit"){$divStuff.css({"padding-top":$divStuff.attr("format-padding-top")||"","padding-bottom":$divStuff.attr("format-padding-bottom")||""});Skeleton.updateTop();}
var $video=$divSec.find("> .sk-bw-mask video");if($video.length>0){var ww=$divSec.width();var wh=$divSec.height();var vw=parseInt($video.attr("video-width"),10);var vh=parseInt($video.attr("video-height"),10);if(!isNaN(vw)&&!isNaN(vh)){$video.hide();if(vw*wh>ww*vh)$video.css({"width":"","height":"100%"});else $video.css({"width":"100%","height":""});$video.css("display","block");Skeleton.playVideo($video,"onscreenResize");}}
var $video=$divSec.find(".wide-video");if($video.length>0){var h;try{h=eval($video.attr("fn-resizeSec"));}catch(err){}
if(h)h($video.get(0));}}
if(Skeleton.demoMode)$divSec.css("height","800px");else{resizeSec();this.addResized(id,resizeSec);}}else{$divSec.find("> .empty-stuff, > .stuff-content").css("height",$divSec.css("height")||"100%");if(Skeleton.toResize[id])delete Skeleton.toResize[id];}}else{$divSec.css("height","auto");if(Skeleton.toResize[id])delete Skeleton.toResize[id];}
var resizeSecPrehome;if(id=="site"&&$("body").attr("sk-id")=="prehome"&&$divSec.find("> .sk-bw-mask video").length>0){resizeSecPrehome=function(){var $video=$divSec.find("> .sk-bw-mask video");if($video.length>0){var ww=$(window).width();var wh=$(window).height();var vw=parseInt($video.attr("video-width"),10);var vh=parseInt($video.attr("video-height"),10);if(!isNaN(vw)&&!isNaN(vh)){$video.hide();if(vw*wh>ww*vh)$video.css({"width":"","height":"100%"});else $video.css({"width":"100%","height":""});$video.css("display","block");Skeleton.playVideo($video,"onscreenResize");}}
var $video=$divSec.find(".wide-video");if($video.length>0){var h;try{h=eval($video.attr("fn-resizeSec"));}catch(err){}
if(h)h($video.get(0));}};resizeSecPrehome();this.addResized(id,resizeSecPrehome);}
if(q_pagemode()=="web")return;if(json&&json.v1){if(id=="site"&&resizeSecPrehome)$("body").get(0).resizeSecPrehome=resizeSecPrehome;return this.renderSectionV1(id,json);}
if(json&&this.getSectionJSON(id,true).image=="img32"){$divSec.find("> .sk-bw-mask video").attr("src",q_spaceabsoluteurl("",json.video)).attr("poster",q_spaceabsoluteurl("",json.poster)).attr("video-width",json["video-width"]).attr("video-height",json["video-height"]);if(resizeSecPrehome)resizeSecPrehome();return;}
$divSec.removeClass("no_mask");if($divSec.attr("sec-class"))$divSec.removeClass($divSec.attr("sec-class")).removeAttr("sec-class");var sectionClass=this.getSecClass(id);if(sectionClass!=id){$divSec.addClass(sectionClass);$divSec.attr("sec-class",sectionClass);}
$divSec.find("> .sk-bw-mask .offset .image_lightblack").remove();var oldcolorid=$divSec.attr("color_id");if(oldcolorid){var oldcolorid_class=oldcolorid.replace(/[+@]/g,"_");$(secSelector+".color_"+oldcolorid_class+" > .sk-bw-bg").css("background","").removeClass("clubbackgroundcolorc1 clubbackgroundcolorc2");$divSec.removeAttr("color_id").removeClass("color_"+oldcolorid_class);}
$divSec.find("> .sk-bw-mask .image, > .sk-bw-mask .image2, > .sk-bw-mask .image3").removeClass("clubbackgroundcolorc1 clubbackgroundcolorc2");var colorsection=(json&&json.colorsection)||(this.getSectionJSON(id,true).colorset=="cs0"&&this.getSectionJSON(id,"prepare")["transparent-color"])||this.getSectionJSON(id,"prepare")["cs-bg"];var bcolorperso=false;var secrpd=this.getSectionJSON(id,true);if(secrpd.params&&secrpd.params.parallax){if(!json||json.parallax!="disabled"){$divSec.attr("parallax",secrpd.params.parallax);}else{$divSec.removeAttr("parallax");}}else if(json&&json.parallax&&json.parallax!="disabled"&&json.parallax!="0"){$divSec.attr("parallax",json.parallax);}
if(q_pagemode()=="edit"&&secrpd.image&&secrpd.image!="img0"&&(!json||!json["img-url"])&&(!secrpd.params||!secrpd.params["img-url"])&&!$divSec.data("imgfromsec")&&!/^([hf]-)/.test(id)){if(!json)json={};json["img-url"]="/services/nws/images/defaultslideshow_"+q_lang+".jpg";}
if(q_pagemode()=="edit"&&secrpd.image&&secrpd.image!="img0"&&(!json||!json["img-url"])&&(!secrpd.params||!secrpd.params["img-url"]||/\/services\/skeletons\/dev\//.test(secrpd.params["img-url"]))&&!$divSec.data("imgfromsec")&&secrpd.id=="secp-prehome"){if(!json)json={};json["img-url"]="/services/nws/images/defaultslideshow_"+q_lang+".jpg";}
if((secrpd.image!="img0"&&(!json||(!json.colorsection_fromimg&&this.sectionimgmod(id,json)!="none")))||(secrpd.params&&secrpd.params.imgtosec))colorsection=this.getSectionJSON(id,"prepare")["cs-bg"];var nocolorbg=false;if(colorsection&&/\:transparent$/.test(colorsection)){nocolorbg=true;colorsection=colorsection.replace(":transparent","");}
if(colorsection=="default")colorsection=oldcolorid;if(colorsection&&colorsection!="transparent"){var colorsectionclass=colorsection.replace(/[+@]/g,"_");if(!$divSec.hasClass("color_"+colorsectionclass)&&(id!="site"||$("body").attr("sk-id")=="prehome"))$divSec.attr("color_id",colorsection).addClass("color_"+colorsectionclass);if(json&&json.colorsection&&(!json.colorsection_fromimg||(this.sectionimgmod(id,json)=="none"))&&!nocolorbg){bcolorperso=true;$(secSelector+".color_"+colorsectionclass+" > .sk-bw-bg").css("background",quomodoColors.richColor(colorsection).c);}
if($("#section_"+colorsectionclass).length==0&&$.inArray(colorsection,this.getSectionsColor())==-1){var rpds=skeleton.rpds.concat(spacexml.skeleton.rpds||[]);var menurpds=skeleton.menurpds.concat(spacexml.skeleton.menurpds||[]);var csscolorsection=RPD.qlub0CSS(rpds,spacexml.theme,colorsection);csscolorsection+="\n"+RPDMenu.qlub0CSS(menurpds,spacexml.theme,colorsection);if(skeleton.jcss){csscolorsection+="\n"+JCSSManager.css(skeleton.jcss,{},["#sk-content .color_"+colorsectionclass,"#sk-content .sk-wra.color_"+colorsectionclass,"#sk-content .sk-sec.color_"+colorsectionclass,"#sk-content .sk-wra .sk-sec.color_"+colorsectionclass,"#tinymce .color_"+colorsectionclass,"#sk-content .sk-sec.color_"+colorsectionclass],colorsection);}
csscolorsection+="\n";$((!/^(h|f|sk)-/.test(id))?"head":("#"+id)).append('<style id="section_'+colorsectionclass+'" css-colorsection="1"></style>');var style=$("#section_"+colorsectionclass).get(0);if(style.styleSheet){style.styleSheet.cssText=csscolorsection;}else{style.appendChild(document.createTextNode(csscolorsection));}}}
json=cloneObject(json);delete json.colorsection;function isDefaultContentSection(id){if(_this.getSectionJSON(id)&&_this.getSectionJSON(id)._custom)return true;if(!_this.getSecVersion(id,skeleton)||_this.getSecVersion(id,skeleton)["default"])return true;return false;}
if((!json||q_emptyjson(json))&&isDefaultContentSection(id))return;var tmp=this.getSectionJSON(id,true);if(tmp.readonly&&json.readonly!=false)return;$divSec.find("> .sk-bw-mask").removeAttr("style").find("*").removeAttr("style");var secrpd=this.getSectionJSON(id,"prepare");if(json["imgsection-mod"]=="default"&&!secrpd.allowdefault){json["imgsection-mod"]="none";json["image"]="img0";}else if(json["imgsection-mod"]=="default")return;if(secrpd["auto-height"]&&json["img-realw"]&&json["img-realh"]){if(!/-(xs|sm)/.test(this.id)){var autoheight=Math.round(json["img-realh"]*$divSec.width()/json["img-realw"]);$divSec.css("height",autoheight+"px").find(".empty-stuff, .stuff-content").css("height",autoheight+"px");}}
if(json&&json["filter"])json=cloneObject(this.getPreset("filters",json["filter"]),json);if(json&&json["image"]&&tmp["image"]!="img0")json=cloneObject(this.getPreset("images",json["image"]),json);var maskmod=this.getPreset("images",json["image"]||tmp["image"])["img-mode"];if(secrpd["mask-url"])maskmod="custom-mask";if(json["filter"]&&(json["filter"]=="filt1"||json["filter"]=="filt2"||json["filter"]=="filt11"||json["filter"]=="filt12")&&maskmod=="img-only")$divSec.find("> .sk-bw-mask .offset").append('<div class="image_lightblack" style="background:rgba(0,0,0,0.25);width:100%;height:100%;position:absolute;"></div>');json.__default=secrpd;if(id=="site"&&$("body").attr("sk-id")=="prehome"){if(!secrpd["img-mode"]&&json["imgsection-mod"]!="none"){json["img-mode"]="img-only";if(!json["img-params"])json["img-params"]={};json["img-params"]["img-repeat"]="cover";json["img-params"]["img-fixed"]=true;}}
if(maskmod=="img-only")$divSec.addClass("no_mask");var tmpJson=cloneObject(json);if(tmpJson["imgsection-mod"]=="slideshow"){delete tmpJson["img-url"];delete tmpJson["formats"];}
JCSSManager.applyJCSS($divSec,Skeleton.JCSS,tmpJson);JCSSManager.applyJCSS($divSec,RPDSection.JCSS,tmpJson);if(id=="site"&&$("body").attr("sk-id")=="prehome")$divSec.get(0).prepared=true;delete json.__default;};this.defaultContent=function(sectionType,callback){var device;if(sectionType&&/-sm$/.test(sectionType)){device="sm";sectionType=sectionType.replace(/-sm$/,"");}
if(sectionType&&/-xs$/.test(sectionType)){device="xs";sectionType=sectionType.replace(/-xs$/,"");}
if(sectionType!="h")return null;if($("#template_sn_banner").length==0){$("body").append('<div id="template_sn_banner"></div>');var banner_lang=q_lang;var banner_id=quomodo.page&&quomodo.page.shareds&&quomodo.page.shareds["h"];if(banner_id){var banner_svc=q_svcfromid(banner_id);if(banner_svc&&banner_svc.lang&&banner_svc.lang!="default")banner_lang=banner_svc.lang;}
var url=(spacexml.customskeleton)?(q_spacebaseurl("")+"custom/skeletons/"+spacexml.skeleton.id+"/banner_"+banner_lang+".html"):("/services/skeletons/"+spacexml.skeleton.id+"/banner_"+banner_lang+".html");return q_include({"target":"template_sn_banner",urls:[url]},function(){Skeleton.defaultContent(sectionType+(device?("-"+device):""),callback);});}
var bannerContent;if(device=="xs"){bannerContent=skeleton&&skeleton.defaultRender&&skeleton.banners_xs;}else if(device=="sm"){bannerContent=skeleton&&skeleton.defaultRender&&skeleton.banners_sm;}else{bannerContent=skeleton&&skeleton.defaultRender&&skeleton.banners;}
if(bannerContent){var json_notes={};var banner_id=Skeleton.getbannerid((spacexml.skeleton.banner&&spacexml.skeleton.banner.id)||"b0",device);var items=bannerContent[banner_id].content;function makejsonnotes(i){if(i==items.length){return callback(json_notes);}
qdyn_snload(function(){if(items[i].mode=="affiliation"&&!(spacexml.infos.affiliation&&spacexml.infos.affiliation!="none"&&spacexml.skeleton.banner.affiliation!=false))return makejsonnotes(i+1);var jsonnewnote=qsn_fulljson_template(items[i].kind);var id=qsn_makenewfulljson(items[i].kind,jsonnewnote,true);jsonnewnote=qsn_thenotes[id];switch(items[i].kind){case "pimg":var mode=items[i].mode||"logo";if(mode=="logo"&&spacexml.skeleton.banner&&spacexml.skeleton.banner.logo){pimg_setimagejson(jsonnewnote,spacexml.skeleton.banner.logo,parseInt(items[i].width,10));}else if(mode=="affiliation"){jsonnewnote.img.kind="affiliation";}else{jsonnewnote.img.src=items[i].url;jsonnewnote.img.kind="web";}
if(items[i].size){jsonnewnote.squaresize=items[i].size;if(!items[i].height)jsonnewnote.imgratio=1;else jsonnewnote.imgratio=parseInt(items[i].width,10)/parseInt(items[i].height,10);}
if(mode=="logo")jsonnewnote.linkdata={"kind":8,"address":"","pagelink":"","special":"home"};if(!items[i].top&&!items[i].bottom)jsonnewnote.vcenter=items[i].vcenter||true;jsonnewnote.freeimg=true;break;case "wsg":jsonnewnote.html=$("#"+items[i].html).html();jsonnewnote.sharelinks="false";jsonnewnote.showrss="false";jsonnewnote.sociallinks="false";jsonnewnote.datas={};if(spacexml.theme.banner&&spacexml.theme.banner.expert_mode){jsonnewnote.datas=$.extend({},spacexml.theme.banner);delete jsonnewnote.datas.id;delete jsonnewnote.datas.sections;}
if(items[i].width&&items[i].height)jsonnewnote.limits={"w":parseInt(items[i].width,10),"h":parseInt(items[i].height,10)};if(items[i]["flex-maxwidth"]&&$("#"+items[i].html+"_mini").length>0){jsonnewnote["flex-maxwidth"]=items[i]["flex-maxwidth"];jsonnewnote.althtml=$("#"+items[i].html+"_mini").html();}
if(!items[i].top&&!items[i].bottom)jsonnewnote.vcenter=items[i].vcenter||true;break;case "menuh":if(items[i].height)jsonnewnote.textheight=parseInt(items[i].height,10);items[i].rpd=skeleton.menurpds[0].id;if(device){jsonnewnote.forceHamburger=true;if(!items[i].top&&!items[i].bottom)jsonnewnote.vcenter=items[i].vcenter||true;}else{if(!items[i].top&&!items[i].bottom)items[i].top="0px";}
break;}
jsonnewnote.common.locked=true;if(!jsonnewnote.header)jsonnewnote.header={};jsonnewnote.header.display="false";jsonnewnote.spacedefaults.common.left=items[i].left;jsonnewnote.spacedefaults.common.right=items[i].right;if(device=="xs"){if(items[i].right)jsonnewnote.common.xspos=items[i].right?"right":"left";}
if(items[i].top)jsonnewnote.spacedefaults.common.top=items[i].top;if(items[i].bottom)jsonnewnote.spacedefaults.common.bottom=items[i].bottom;if(!items[i].top&&!items[i].bottom)jsonnewnote.spacedefaults.common.top=0;jsonnewnote.spacedefaults.common.width=items[i].width||"auto";jsonnewnote.user.common.left=items[i].left;jsonnewnote.user.common.right=items[i].right;if(items[i].top)jsonnewnote.user.common.top=items[i].top;if(items[i].bottom)jsonnewnote.user.common.bottom=items[i].bottom;if(!items[i].top&&!items[i].bottom)jsonnewnote.user.common.top=0;jsonnewnote.user.common.width=items[i].width||"auto";jsonnewnote.rpd=items[i].rpd;var target=items[i].target+(device?("-"+device):"");if(!json_notes[target])json_notes[target]=[];json_notes[target].push(id);makejsonnotes(i+1);},null,items[i].kind);}
makejsonnotes(0);}else return callback(null);};this.resetResponsiveBanner=function(){var modifiednoteids=[];if(skeleton&&skeleton.defaultRender&&skeleton.banners_xs){var banner_id=Skeleton.getbannerid((spacexml.theme.banner&&spacexml.theme.banner.id)||"b0","xs");for(var k in skeleton.banners_xs[banner_id].sections){var sec=quomodo.page.sections.get(k);sec.setSetting({"xsbanner_html":null},null,true);var tmpid=sec.noteid||sec.tmpnoteid;if($.inArray(tmpid,modifiednoteids)==-1)modifiednoteids.push(tmpid);}}
if(skeleton&&skeleton.defaultRender&&skeleton.banners_sm){var banner_id=Skeleton.getbannerid((spacexml.theme.banner&&spacexml.theme.banner.id)||"b0","sm");for(var k in skeleton.banners_sm[banner_id].sections){var sec=quomodo.page.sections.get(k);sec.setSetting({"smbanner_html":null},null,true);var tmpid=sec.noteid||sec.tmpnoteid;if($.inArray(tmpid,modifiednoteids)==-1)modifiednoteids.push(tmpid);}}
return modifiednoteids;};this.hasBanner_xs=function(secid){if(!skeleton||!skeleton.defaultRender||!skeleton.banners_xs)return false;var banner_id=Skeleton.getbannerid((spacexml.theme.banner&&spacexml.theme.banner.id)||"b0","xs");if(!skeleton.banners_xs[banner_id].sections)return false;for(var k in skeleton.banners_xs[banner_id].sections){if(k==secid)return true;}
if(skeleton.bannerSections&&skeleton.bannerSections[secid+"-xs"])return true;return false;};this.make_xsbanner=function(){if(skeleton&&skeleton.defaultRender&&skeleton.banners_xs){var banner_id=Skeleton.getbannerid((spacexml.theme.banner&&spacexml.theme.banner.id)||"b0","xs");var items=skeleton.banners_xs[banner_id].content;var sections=[];for(var i=0;i<items.length;i++){if($.inArray(items[i].target,sections)==-1)sections.push(items[i].target);var target="#"+items[i].target+"-xs-stuff";switch(items[i].kind){case "pimg":$(target).append('<div class="banner_pimg_'+i+' '+items[i].rpd+' bpimg note " style="width:'+(items[i].width+" !important"||"auto")+'"><div class="theimg"></div></div>');$(target+" .banner_pimg_"+i).css({"position":"absolute","height":(items[i].size&&(items[i].height||items[i].width))||items[i].height||"auto","z-index":items[i].zindex});var mode=items[i].mode||"logo";if(mode=="logo"&&spacexml.skeleton.banner&&spacexml.skeleton.banner.logo){var q_src=spacexml.skeleton.banner.logo.formats.quarterscreen;if(spacexml.skeleton.banner.logo.imagewidth&&parseInt(spacexml.skeleton.banner.logo.imagewidth,10)<250)q_src=spacexml.skeleton.banner.logo.formats.original;var imgurl=q_spaceabsoluteurl(memberid,q_src);$(target+" .banner_pimg_"+i+" > .theimg").attr("q_data","q-src").attr("q-src",q_src).append('<a onclick=" speciallink_home( ) ; return false ;" style="width:100%;height:100%;display:block;cursor:pointer"></a>');}else if(mode=="affiliation"){var imgurl="";}else{var imgurl=items[i].url;}
$(target+" .banner_pimg_"+i+" .theimg").css({"background-image":"url("+imgurl+")","background-size":"cover","background-repeat":"no-repeat","background-position":"center center","width":"100%","height":"100%"});if(items[i].right)$(target+" .banner_pimg_"+i).css("right",items[i].right).css("left","auto");else $(target+" .banner_pimg_"+i).css("left",items[i].left);if(items[i].bottom)$(target+" .banner_pimg_"+i).css("bottom",items[i].bottom).css("top","auto");else $(target+" .banner_pimg_"+i).css("top",items[i].top);if(items[i].size){$(target+" .banner_pimg_"+i+" .theimg").css({"background-size":"contain","background-position":(items[i].size!=true?items[i].size:"center center")});}
if(!items[i].top&&!items[i].bottom)$('.banner_pimg_'+i,target).attr("vcenter",items[i].vcenter||true);break;case "wsg":var html=$("#"+items[i].html).html();$(target).append('<div class="banner_wsg_'+i+' '+items[i].rpd+' bwsg note" style="width:'+(items[i].width+" !important"||"auto")+'">'+(html||"")+'</div>');$(target+" .banner_wsg_"+i).css({"position":"absolute","z-index":items[i].zindex||100});if(items[i].left)$(target+" .banner_wsg_"+i).css("left",items[i].left);if(items[i].right)$(target+" .banner_wsg_"+i).css("right",items[i].right);if(items[i].top)$(target+" .banner_wsg_"+i).css("top",items[i].top);if(items[i].bottom)$(target+" .banner_wsg_"+i).css("bottom",items[i].bottom);if(items[i].width&&items[i].height){$('.banner_wsg_'+i,target).attr("limitw",parseInt(items[i].width,10));$('.banner_wsg_'+i,target).attr("limith",parseInt(items[i].height,10));}
if(!items[i].top&&!items[i].bottom)$('.banner_wsg_'+i,target).attr("vcenter",items[i].vcenter||true);break;case "menuh":var html=$('#bxs_menu').html();$(target).append('<div class="banner_menuh_'+i+' '+items[i].rpd+' bmenu note" style="width:'+(items[i].width+" !important"||"auto")+'">'+html+'</div>');$(target+" .banner_menuh_"+i).css({"position":"absolute","z-index":items[i].zindex||100});if(items[i].left)$(target+" .banner_menuh_"+i).css("left",items[i].left);if(items[i].right)$(target+" .banner_menuh_"+i).css("right",items[i].right);if(items[i].top)$(target+" .banner_menuh_"+i).css("top",items[i].top);if(items[i].bottom)$(target+" .banner_menuh_"+i).css("bottom",items[i].bottom);if(items[i].height)$(target+" .banner_menuh_"+i+" .qlub_tab_title").css("height",items[i].height);if(!items[i].top&&!items[i].bottom)$('.banner_menuh_'+i,target).attr("vcenter",items[i].vcenter||true);break;case "html":$(target).append(items[i].html);break;}}
var modifiednoteids=[];for(var i=0;i<sections.length;i++){var sec=quomodo.page.sections.get(sections[i]);sec.setSetting({"xsbanner_html":$("#"+sections[i]+"-xs-stuff").html()},null,true);modifiednoteids.push(sec.noteid||sec.tmpnoteid);}
return modifiednoteids;}};this.hasBanner_sm=function(secid){if(!skeleton||!skeleton.defaultRender||!skeleton.banners_sm)return false;var banner_id=Skeleton.getbannerid((spacexml.theme.banner&&spacexml.theme.banner.id)||"b0","sm");if(!skeleton.banners_sm[banner_id].sections)return false;for(var k in skeleton.banners_sm[banner_id].sections){if(k==secid)return true;}
if(skeleton.bannerSections&&skeleton.bannerSections[secid+"-sm"])return true;return false;};this.make_smbanner=function(){if(skeleton&&skeleton.defaultRender&&skeleton.banners_sm){var banner_id=Skeleton.getbannerid((spacexml.theme.banner&&spacexml.theme.banner.id)||"b0","sm");var items=skeleton.banners_sm[banner_id].content;var sections=[];for(var i=0;i<items.length;i++){if($.inArray(items[i].target,sections)==-1)sections.push(items[i].target);var target="#"+items[i].target+"-sm-stuff";switch(items[i].kind){case "pimg":var mode=items[i].mode||"logo";var imgw=items[i].width;var originalLogo=false;if(mode=="logo"&&spacexml.skeleton.banner&&spacexml.skeleton.banner.logo){if(spacexml.skeleton.banner.logo.imagewidth){if(parseInt(spacexml.skeleton.banner.logo.imagewidth,10)<parseInt(imgw,10)){imgw=spacexml.skeleton.banner.logo.imagewidth+"px";originalLogo=true;}}}
$(target).append('<div class="banner_pimg_'+i+' '+items[i].rpd+' bpimg note " style="width:'+(imgw+" !important"||"auto")+'"><div class="theimg"></div></div>');$(target+" .banner_pimg_"+i).css({"position":"absolute","height":(items[i].size&&(items[i].height||items[i].width))||items[i].height||"auto","z-index":items[i].zindex});if(mode=="logo"&&spacexml.skeleton.banner&&spacexml.skeleton.banner.logo){var imgsrc=spacexml.skeleton.banner.logo.formats.quarterscreen;if(originalLogo&&spacexml.skeleton.banner.logo.formats.original)imgsrc=spacexml.skeleton.banner.logo.formats.original;var imgurl=q_spaceabsoluteurl(memberid,imgsrc);$(target+" .banner_pimg_"+i+" > .theimg").attr("q_data","q-src").attr("q-src",imgsrc).append('<a onclick=" speciallink_home( ) ; return false ;" style="width:100%;height:100%;display:block;cursor:pointer"></a>');}else if(mode=="affiliation"){var imgurl="";}else{var imgurl=items[i].url;}
$(target+" .banner_pimg_"+i+" .theimg").css({"background-image":"url("+imgurl+")","background-size":"cover","background-repeat":"no-repeat","background-position":"center center","width":"100%","height":"100%"});if(items[i].right)$(target+" .banner_pimg_"+i).css("right",items[i].right).css("left","auto");else $(target+" .banner_pimg_"+i).css("left",items[i].left);if(items[i].bottom)$(target+" .banner_pimg_"+i).css("bottom",items[i].bottom).css("top","auto");else $(target+" .banner_pimg_"+i).css("top",items[i].top);if(items[i].size){$(target+" .banner_pimg_"+i+" .theimg").css({"background-size":"contain","background-position":(items[i].size!=true?items[i].size:"center center")});}
if(!items[i].top&&!items[i].bottom)$('.banner_pimg_'+i,target).attr("vcenter",items[i].vcenter||true);break;case "wsg":var html=$("#"+items[i].html).html();if(items[i]["flex-maxwidth"]&&$("#"+items[i].html+"_mini").length>0)html='<div class="flex1">'+html+'</div><div class="flex2" style="display:none">'+$("#"+items[i].html+"_mini").html()+'</div>';$(target).append('<div class="banner_wsg_'+i+' '+items[i].rpd+' bwsg note" style="width:'+(items[i].width+" !important"||"auto")+'">'+(html||"")+'</div>');$(target+" .banner_wsg_"+i).css({"position":"absolute","z-index":items[i].zindex||100});if(items[i].left)$(target+" .banner_wsg_"+i).css("left",items[i].left);if(items[i].right)$(target+" .banner_wsg_"+i).css("right",items[i].right);if(items[i].top)$(target+" .banner_wsg_"+i).css("top",items[i].top);if(items[i].bottom)$(target+" .banner_wsg_"+i).css("bottom",items[i].bottom);if(items[i].width&&items[i].height){$('.banner_wsg_'+i,target).attr("limitw",parseInt(items[i].width,10));$('.banner_wsg_'+i,target).attr("limith",parseInt(items[i].height,10));}
if(items[i]["flex-maxwidth"]&&$("#"+items[i].html+"_mini").length>0)$('.banner_wsg_'+i,target).attr("flex-maxwidth",items[i]["flex-maxwidth"]);if(!items[i].top&&!items[i].bottom)$('.banner_wsg_'+i,target).attr("vcenter",items[i].vcenter||true);break;case "menuh":var html=$('#bsm_menu').html()||$('#bxs_menu').html();$(target).append('<div class="banner_menuh_'+i+' '+items[i].rpd+' bmenu note" style="width:'+(items[i].width+" !important"||"auto")+'">'+html+'</div>');$(target+" .banner_menuh_"+i).css({"position":"absolute","z-index":items[i].zindex||100});if(items[i].left)$(target+" .banner_menuh_"+i).css("left",items[i].left);if(items[i].right)$(target+" .banner_menuh_"+i).css("right",items[i].right);if(items[i].top)$(target+" .banner_menuh_"+i).css("top",items[i].top);if(items[i].bottom)$(target+" .banner_menuh_"+i).css("bottom",items[i].bottom);if(items[i].height)$(target+" .banner_menuh_"+i+" .qlub_tab_title").css("height",items[i].height);if(!items[i].top&&!items[i].bottom)$('.banner_menuh_'+i,target).attr("vcenter",items[i].vcenter||true);break;case "html":$(target).append(items[i].html);break;}}
var modifiednoteids=[];for(var i=0;i<sections.length;i++){var sec=quomodo.page.sections.get(sections[i]);sec.setSetting({"smbanner_html":$("#"+sections[i]+"-sm-stuff").html()},null,true);modifiednoteids.push(sec.noteid||sec.tmpnoteid);}
return modifiednoteids;}};this.skeleton=function(){return _skeleton();};this.render=function(jsonSK){if($("body").attr("sk-id")!="prehome")this.renderSection("site",jsonSK&&jsonSK["site"]);$(".sk-wra").each(function(){var $this=$(this);var id=$this.attr("id");_this.renderSection(id,jsonSK&&jsonSK[id]);});$("#sk-ad-quomodo .logo").css("background-image",function(){if(quomodoColors.isdark(skeleton.footercolor||"c1"))return "url(/bundles/qlub/images/logo-blanc-"+q_lang+".png)";else return "url(/bundles/qlub/images/logo-noir-"+q_lang+".png)";});};this.startingTop=function(mode,scrolled){var skeleton=this.skeleton();if(skeleton.startingTop){var h=skeleton.startingTop(mode,scrolled);if(h!=null)return h}
if(window.quomodoclient&&quomodoclient.useBannerRule&&skeleton.bannerRule){var device=qsn_responsive_mod();if(skeleton.bannerRule[device]&&(skeleton.bannerRule[device].fixed||(skeleton.bannerRule[device].scroll&&!skeleton.bannerRule[device].scrollDisabled))){if(skeleton.bannerRule[device]&&skeleton.bannerRule[device].__heightScroll)return skeleton.bannerRule[device].__heightScroll;if(skeleton.bannerRule[device]&&skeleton.bannerRule[device].__height)return skeleton.bannerRule[device].__height;}}
return 0;};this.random=function(k){function dereference(o,v){var tmp=v.split(".");o=o||{};for(var i=0;i<tmp.length;i++){o=o[tmp[i]];if(!o)break;}
return o;}
var res=dereference(spacexml.skeleton&&spacexml.skeleton.randoms,k);if(res)return res;var tmp=this.skeleton();res=dereference(tmp&&tmp.randoms,k);if(!res)return null;if(typeof res=="function")return res();if(typeof res!="object")return res;var randomnumber=Math.floor(Math.random()*1000000);return res[randomnumber%(res.length)];};this.projectedColorID=function(color){var c=quomodoColors.projectedColor(color,true,true);return c&&c.selectedid;};this.playVideo=function(elem,key){if(q_pagemode()=="makeweb")return;var _skeleton=this.skeleton();if(_skeleton&&_skeleton.playVideo)return _skeleton.playVideo(elem,key);var $video=$(elem);key=key||"onplay";if(!$video.data(key)){$video.parent().hide();setTimeout(function(){$video.parent().show();},10);$video.data(key,true);}};this.canUseSK=function(){if(spacexml.skeleton&&spacexml.skeleton.disablesk)return false;if(spacexml.infos.subscribe_use=="pros")return true;if(spacexml.skeleton&&spacexml.skeleton.usesk)return true;if(window.members&&window.memberid&&members[memberid]&&members[memberid].email&&$.inArray(btoa(members[memberid].email),["ZXNjYTcxd2VibWFzdGVyQHdhbmFkb28uZnI=","bWFyeWxpbmI5NEBnbWFpbC5jb20="])!=-1)return true;return false;};this.canDisplaySlideshow=function(secid){if(secid=="p-0"&&$("body").attr("sk-id")=="prehome")secid="site";var sectionjson=this.getSectionJSON(secid,true,null,true);if(sectionjson["image"]=="img0"||sectionjson["image"]=="img32")return false;if(sectionjson["params"]&&sectionjson["params"]["noslideshow"]==true)return false;return true;};this.__fullrpds={};this.fullrpds=function(notekind,secid){var bSKExpert=parent.spacexml&&parent.spacexml.memberparams&&parent.spacexml.memberparams.skexpert;secid=secid.replace("-stuff","").replace(/-(xs|sm|lg)$/,"");var id=secid+"-"+((notekind!="pmtxt"&&notekind!="wsg")?"default":notekind);if(this.__fullrpds[id])return this.__fullrpds[id];var btitle=notekind=="pmtxt";var _skeleton=this.skeleton();var secJSON=this.getSectionJSON(secid);var rpds_accept=(secJSON&&secJSON["rpds-accept"])||RPD.defaultSections()[secid];if(rpds_accept==undefined&&/^p-\d+$/.test(secid)){var tmp=parseInt(secid.replace(/^p-/,""),10);var tmpid="p-"+((tmp%2==0)?"4":"5");rpds_accept=this.getSectionJSON(tmpid)["rpds-accept"]||RPD.defaultSections()[tmpid];}
if(quomodo.node){if(/^h-/.test(secid)){rpds_accept=["rpdp-h0","rpdp-nav0"];}else if(/^f-/.test(secid)){if(secid=="f-0")rpds_accept=["rpdp-ftitle0","rpdp-f0"];else rpds_accept=["rpdp-ftitle1","rpdp-f1"];}else if(/^ph-/.test(secid)){if(secid=="ph-0")rpds_accept=["rpdp-phtitle0","rpdp-phtext0"];else rpds_accept=["rpdp-pagetitle1","rpdp-phtext1"];}else{rpds_accept=["rpdp-pagetitle0","rpdp-sectitle0","rpdp-sectitle1","rpdp-main0","rpdp-main1","rpdp-sum0","rpdp-sum1","rpdp-side0","rpdp-side1","rpdp-art0","rpdp-info0","rpdp-card0"];}}
var b=false;var all={};all["accept"]=[];all["other"]=[];all["custom"]=[];if(rpds_accept){var rpds=[];if(typeof rpds_accept=="function")rpds_accept=rpds_accept();if(typeof rpds_accept=="string")rpds_accept=[rpds_accept];else if(typeof rpds_accept=="object"){if(typeof rpds_accept[0]!="string")rpds_accept=rpds_accept[0].concat(rpds_accept[1]);}}else rpds_accept=[];if(_skeleton){for(var i=0;i<_skeleton.rpds.length;i++){var rpd=_skeleton.rpds[i].rpd;var rpdid=_skeleton.rpds[i].id;var format;if(typeof rpd=="string"){if(($.inArray(rpdid,rpds_accept)!=-1)&&$.inArray(rpd,rpds_accept)==-1){format=RPD.getFormat(rpd)||"content";}else continue;}else format=RPD.getFormat(rpdid)||"content";if(format=="banner"){if(btitle){if($.inArray(rpdid,rpds_accept)!=-1){all["accept"].push(rpdid+"?format=title1");all["accept"].push(rpdid+"?format=title2");}else{all["other"].push(rpdid+"?format=title1");all["other"].push(rpdid+"?format=title2");}}else{if($.inArray(rpdid,rpds_accept)!=-1)all["accept"].push(rpdid);else all["other"].push(rpdid);}}else{if(btitle&&(format!="title1"&&format!="title2"))continue;if(!btitle&&(format=="title1"||format=="title2"))continue;if($.inArray(rpdid,rpds_accept)!=-1)all["accept"].push(rpdid);else all["other"].push(rpdid);}}}
if(secJSON&&secJSON.params&&secJSON.params.defaultRPD){all["accept"]=[secJSON.params.defaultRPD].concat(all["accept"]);}
try{if(!window.quomodo)return all;}catch(err){return all;}
if(bSKExpert){all["accept"]=all["accept"].concat(all["other"]);all["other"]=[];}
var variant_groups=["rpdp-main","rpdp-sum","rpdp-side","rpdp-sectitle","rpdp-pagetitle"];var dico={};var menu=[];for(var i=0;i<variant_groups.length;i++){var group=variant_groups[i];if($.inArray(group+"0",all["accept"])!=-1&&$.inArray(group+"1",all["accept"])!=-1){var rpdid=group+"0";dico[rpdid]={"title":quomodo.message.titlevariants(rpdid,notekind),"fullname":quomodo.message.menutheme(rpdid,notekind)+", "+common_message["variant"].replace("%s",quomodo.message.variants(rpdid,notekind,true)),"name":quomodo.message.variants(rpdid,notekind)};var rpdid=group+"1";dico[rpdid]={"title":quomodo.message.titlevariants(rpdid,notekind),"fullname":quomodo.message.menutheme(rpdid,notekind)+", "+common_message["variant"].replace("%s",quomodo.message.variants(rpdid,notekind,true)),"name":quomodo.message.variants(rpdid,notekind)};menu.push({"id":group,"name":quomodo.message.menutheme(group+"0",notekind),"items":[group+"0",group+"1"]});}}
for(var i=0;i<all["accept"].length;i++){var rpdid=all["accept"][i];if(dico[rpdid])continue;dico[rpdid]={"title":quomodo.message.styles(rpdid,notekind),"name":quomodo.message.menutheme(rpdid,notekind),"fullname":quomodo.message.menutheme(rpdid,notekind)};menu.push(rpdid);}
for(var i=0;i<all["other"].length;i++){var rpdid=all["other"][i];if(dico[rpdid])continue;dico[rpdid]={"name":quomodo.message.menutheme(rpdid,notekind),"fullname":quomodo.message.menutheme(rpdid,notekind)+", "+common_message.menutheme["not_recommended"]};}
var tmp=(spacexml.skeleton&&spacexml.skeleton.rpds)||[];for(var i=0;i<tmp.length;i++){if(tmp[i].removed)continue;if(!tmp[i].inherit)continue;var rpd=RPD.getRPDById(tmp[i].inherit);if(!rpd)continue;rpd=rpd.rpd;var format=rpd.format||"content";if(format=="banner"&&btitle)format="title1";if(btitle&&(format!="title1"&&format!="title2"))continue;if(!btitle&&(format=="title1"||format=="title2"))continue;all["custom"].push(tmp[i].id);dico[tmp[i].id]={"name":tmp[i].name,"fullname":tmp[i].name};}
all["menu"]=menu;all["dico"]=dico;this.__fullrpds[id]=cloneObject({},all);return all;};this.backgroundImage=function($target,theurl,jsonImg){function make_imgurl(url,json){var re=new RegExp("\{([^}]+)\}","i");if(!url||url=="none")return "";var imagecolor=re.exec(url);if(imagecolor&&imagecolor[1]){imagecolor=imagecolor[1];if(imagecolor=="cs-mask")imagecolor=json["cs-mask"]||"white";imagecolor=Skeleton.projectedColorID(imagecolor);url=url.replace(re,imagecolor);}
url=encodeURI(url).replace("(","%28").replace(")","%29").replace("'","%27").replace('"',"%22");if(/^uploads/.test(url)){if(_this.__getUploadURL)return _this.__getUploadURL(url);if(json.__customFolder)return "../images/"+url.replace("uploads/images/","uploads/");if(_this.__qlub0CSS){console.log("UNEXPECTED call to q_spaceabsoluteurl while making qlub0CSS for "+url);return url;}else{try{return q_spaceabsoluteurl("",url,true);}catch(err){console.log("UNEXPECTED ERROR : call to q_spaceabsoluteurl while making qlub0CSS for "+url);throw err;}}}
return url;}
function is_wide(){var $sec=$target.parents(".sk-sec:eq(0)");if($sec.length>0&&$sec.width()>990){return true;}
if($target.parents(".background-image-offset").parent().is("body")){return true;};return false;}
function is_fullheight(){var secId=$target.parents(".sk-sec:eq(0)").attr("id");if(!secId){if($target.parents(".background-image-offset").parent().is("body")){secId="site";}else{return false;}}
var fh=Skeleton.fixedHeight(secId);if(typeof fh!="string")return false;if(!/px$/.test(fh))return false;return parseInt(jsonImg["height"],10)==parseInt(fh,10);}
var formats=jsonImg.formats?jsonImg.formats:jsonImg;if(!theurl)return;var tmpid=$target.parents(".sk-sec:eq(0)").attr("id");var section,bPrehome;if(tmpid){section=quomodo.page.sections.get(tmpid);bPrehome=false;}else{if($target.parents(".background-image-offset:eq(0)").parent("body").length>0&&$("body").attr("sk-id")=="prehome"){section=quomodo.page.sections.get("p-0");bPrehome=true;}}
if(!section)return;var skjson=qsn_thenotes[section.noteid]&&qsn_thenotes[section.noteid].skeleton;if(skjson&&skjson["filter"])skjson=cloneObject(this.getPreset("filters",skjson["filter"]),skjson);if(skjson&&skjson["image"])skjson=cloneObject(this.getPreset("images",skjson["image"]),skjson);var json=cloneObject(this.getSectionJSON(bPrehome?"site":section.id,"prepare"),skjson);var xsurl;if(formats){if(is_fullheight()&&formats["original"]){theurl=formats["original"];if(!(json&&json["display-device"]&&json["display-device"]=="xs-only")&&formats["screen"])xsurl=formats["screen"];}else if(is_wide()&&formats["fullscreen"]){theurl=formats["fullscreen"];if(formats["screen"])xsurl=formats["screen"];}else if((!jsonImg["width"]||parseInt(jsonImg["width"],10)!=(json.width||990))&&formats["screen"]){theurl=formats["screen"];}else if(formats["original"]){theurl=formats["original"];if(formats["screen"])xsurl=formats["screen"];}
if(json&&json["img-params"]&&json["img-params"]["img-repeat"]=="repeat"){theurl=formats["original"];xsurl=null;}}
var baseurl=make_imgurl(theurl,json);var url=baseurl;var xsbaseurl;if(xsurl){xsbaseurl=make_imgurl(xsurl,json);xsurl=xsbaseurl;}
var filter=json["filt-img"]||(json["__default"]&&json["__default"]["filt-img"]);if(filter=="none")filter=null;if(filter&&baseurl)url=url.replace(/\.[^.]+$/,"")+"-"+filter+".png";if(filter&&xsbaseurl)xsurl=xsurl.replace(/\.[^.]+$/,"")+"-"+filter+".png";var nwsIndex=$target.parent().attr("nwsindex");if(url){$target.find(".image").css("background-image","url("+url.replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27").replace(/"/g,"%22")+")");q_waitimgloaded(url);if(xsurl){qsn_css_note("inline:"+section.id,"@media screen and ( max-width: 767px ) { .viewmode.responsive #"+section.id+" > .sk-bw-mask .offset-slider[nwsindex='"+nwsIndex+"'] .offset .image { background-image: url("+xsurl.replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27").replace(/"/g,"%22")+") !important }}","inline-bg-image-"+nwsIndex+"-"+section.id);}}else $target.find(".image").css("background-image","none");var filter2=json["filt-img2"]||(json["__default"]&&json["__default"]["filt-img2"]);if(filter2=="none")filter2=null;if(filter2&&baseurl){var url2=baseurl.replace(/\.[^.]+$/,"")+"-"+filter2+".png";$target.find(".image2").css("background-image","url("+url2.replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27").replace(/"/g,"%22")+")");q_waitimgloaded(url2);if(xsbaseurl){var xsurl2=xsbaseurl.replace(/\.[^.]+$/,"")+"-"+filter2+".png";qsn_css_note("inline:"+section.id,"@media screen and ( max-width: 767px ) { .viewmode.responsive #"+section.id+" > .sk-bw-mask .offset-slider[nwsindex='"+nwsIndex+"'] .offset .image2 { background-image: url("+xsurl2.replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27").replace(/"/g,"%22")+") !important }}","inline-bg-image2-"+nwsIndex+"-"+section.id);}}else $target.find(".image2").css("background-image","none");if(json["filt-pattern"])$target.find(".image3").css("background-image","url( "+json["filt-pattern"].replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27").replace(/"/g,"%22")+")");else $target.find(".image3").css("background-image","none");};this.formatProperties=function(sectionid){function jsonMargin(margin){if(typeof margin=="number")margin=margin+"px";var tmp=margin.split(" ");if(tmp.length==1){tmp.push(tmp[0]);tmp.push(tmp[0]);tmp.push(tmp[0]);}else if(tmp.length==2){tmp=tmp.concat(tmp);}
return{"top":tmp[0],"right":tmp[1],"bottom":tmp[2],"left":tmp[3],"css":tmp.join(" ")};}
var formats=Skeleton.formatSection(sectionid)||[];var json={"hmargin":0,"vmargin":0,"inmargin":0,"ncols":1};for(var i=0;i<formats.length;i++){if(typeof(formats[i])=="object"){var x=formats[i];var outerMargin=jsonMargin(x.outerMargin!=undefined?x.outerMargin:10);json.hmargin=parseInt(outerMargin.left,10);json.vmargin=parseInt(outerMargin.top,10);var innerMargin=jsonMargin(x.innerMargin!=undefined?x.innerMargin:10);json.inmargin=parseInt(innerMargin.left,10);json.ncols=parseInt(x.ncols||1,10);break;}}
return json;};this.xs_margin=function(sectionid){var xsmargin=0;function getMargin(json){if(!json)return 0;if(!json.params)return 0;if(!json.params["xs-margin"])return 0;return 2*parseInt(json.params["xs-margin"],10);}
xsmargin+=getMargin(this.getSectionJSON(sectionid));var that=this;$("#"+sectionid).parents(".sk-wra").each(function(){xsmargin+=getMargin(that.getSectionJSON(this.id));});return xsmargin;};})();var RPDMenu=new(function(){var _this=this;this.JCSS=[{"selector":".tablenotecontent","style":function(json){var css=[];var bgcolor=menuh_bgcolor(json);if(json.hrstyle){css.push(json.hrstyle);if(!json.hrcolor)css.push("border-color:"+bgcolor+"+d");}
if(json.hrcolor)css.push("border-color : "+json[json["hrcolor"]]+"-"+bgcolor);else css.push("border-color : gbw2-"+bgcolor);css.push("background-color : "+json["cs-main"]);if(json.gradient)css.push(gradient(bgcolor+" 0%, "+bgcolor+"+d 100%"));else if(json.glossy)css.push(gradient(bgcolor+" 0%, "+bgcolor+"@d3 49%, "+bgcolor+"@d6 51%, "+bgcolor+"@d8 100%"));if(json.innershadow)css.push("box-shadow: inset 0 1px 0 0 "+bgcolor+"@l10@s45"+(json["sh-css"]!="none"?", "+json["sh-css"]:""));else if(json["sh-css"]!="none")css.push("box-shadow : "+json["sh-css"]);if(json.format_id=="round")css.push("border-radius : 3px ");return joincss(css);}},{"selector":".menuh_hamburger","style":function(json){var css=[];var bgcolor=menuh_bgcolor(json);css.push("color: "+json["cs-second"]+"-"+bgcolor);return joincss(css);}},{"selector":"div.qlub_tab_title","style":function(json){var css=[];var size=json.menu.textsize;css.push("cursor:pointer; font-size: "+json.menu.textsize);css.push("line-height: "+Math.round(parseInt(json.menu.textsize,10)*parseInt(json.menu["line-height"]||"120%",10)/100)+"px");if(json.menu.italic)css.push("font-style: "+(json.menu.italic?"italic":"normal"));if(json.menu["case"]&&json.menu["case"]!="normal"){css.push("text-transform: "+((json.menu["case"]=="up")?"uppercase":"none"));css.push("font-variant: "+((json.menu["case"]=="cap")?"small-caps":"normal"));}
var bgcolor=menuh_bgcolor(json);css.push("color: "+json["cs-second"]+"-"+bgcolor);css.push("font-family: "+json.menu.font);if(typeof json.menu.bold=="string")css.push("font-weight: "+json.menu.bold);else css.push(json.menu.bold?"font-weight: bold":"font-weight: normal");if(json.sep_space)css.push("padding : "+json.sep_space);return joincss(css);}},{"selector":".td-headericon","style":function(json){return "display:none";}},{"selector":".qlub_tab_separatortab","style":function(json){var css=[];css.push(json.sep_id=="none"?"display: none":"display:table-cell");if(json.sep_id=="incrust"||json.sep_id=="big_incrust")css.push("width:2px");else css.push("width:1px");return joincss(css);}},{"selector":".qlub_tab_separatortab > div","style":function(json){var css=[];var bgcolor=menuh_bgcolor(json);css.push("position:absolute; left:"+(json.align=="justify"?"50%":"0")+"; width:1px;");switch(json.sep_id){case "separator":css.push("height : 60%; top : 20%; background-color : gbw2-"+bgcolor+" ;");break;case "big_separator":css.push("height:100%; top: 0; background-color : gbw2-"+bgcolor+" ;");break;case "incrust":css.push("height : 60%; top : 20%; border-left:1px solid; background-color : "+bgcolor+"@l5;");break;case "big_incrust":css.push("height:100%; top: 0; border-left:1px solid; background-color : "+bgcolor+"@l5;");break;}
css.push("border-color: "+bgcolor+"@d5");return joincss(css);}},{"selector":".qlub_tab_arrow","style":function(json){var bgcolor=menuh_bgcolor(json);switch(json.arrow_id){case "none":return "display : none";break;case "gray":return "color : gbw2-"+bgcolor;break;case "color":return "color : "+json["cs-third"]+"-"+bgcolor;break;}}},{"selector":".qlub_tab_spacer_left","style":function(json){if(json.align=="right"||json.align=="center")return "display:table-cell";else if(json.align=="justify"&&json.sep_id!="none")return "display:table-cell;width:1px";else return "display:none";}},{"selector":".qlub_tab_spacer_right","style":function(json){if(json.align=="left"||json.align=="center")return "display:table-cell";else if(json.align=="justify"&&json.sep_id!="none")return "display:table-cell;width:1px";else return "display:none";}},{"selector":function(json){var selectors=[];var bgcolor=menuh_bgcolor(json);selectors.push({"selector":"ul.qlub_menu_content","style":"margin : 0"});function submenustyle(json){var css=[];css.push("font-size:"+json.submenu.textsize);if(json.submenu["line-height"])css.push("line-height: "+Math.round(parseInt(json.submenu.textsize,10)*parseInt(json.submenu["line-height"]||"120%",10)/100)+"px");if(json.submenu.italic)css.push("font-style: "+(json.submenu.italic?"italic":"normal"));if(json.submenu["case"]&&json.submenu["case"]!="normal"){css.push("text-transform: "+((json.submenu["case"]=="up")?"uppercase":"none"));css.push("font-variant: "+((json.submenu["case"]=="cap")?"small-caps":"normal"));}
css.push("font-family: "+(json.submenu.font||"f1"));if(typeof json.submenu.bold=="string")css.push("font-weight: "+json.submenu.bold);else css.push(json.submenu.bold?"font-weight: bold":"font-weight: normal");return joincss(css);}
switch(json.state_id){case "neutral":selectors.push({"selector":".qlub_tab_td.active .qlub_tab_title, .qlub_tab_td.over .qlub_tab_title","style":function(json){return "background-color: transparent; color : "+json["cs-third"]+"-"+bgcolor;}});selectors.push({"selector":".qlub_menu_content li:not(.new)","style":function(json){return "background-color :"+bgcolor+"; color : "+json["cs-second"]+"-"+bgcolor+";"+submenustyle(json);}});selectors.push({"selector":".qlub_menupane.colbreak-wrapper","style":"background-color: "+bgcolor+";"});selectors.push({"selector":".qlub_menupane","style":"left:0; box-shadow : "+(json["sh-sub"]||"0 0px 3px rgba( 0, 0, 0, 0.4 )")+";"});selectors.push({"selector":".qlub_menu_content li.over:not(.new), .qlub_menu_content li.active:not(.new), .qlub_menu_content li[rel='menu'] > a.over","style":function(json){return "color : "+json["cs-third"]+"-"+bgcolor;}});break;case "neutral_bold":selectors.push({"selector":".qlub_tab_td.active .qlub_tab_title","style":function(json){return "background-color: transparent; font-weight: bold";}});selectors.push({"selector":".qlub_tab_td.over .qlub_tab_title","style":function(json){return "background-color: transparent; color : "+json["cs-third"]+"-"+bgcolor;}});selectors.push({"selector":".qlub_menupane.colbreak-wrapper","style":"background-color: "+bgcolor+";"});selectors.push({"selector":".qlub_menu_content li:not(.new)","style":function(json){return "background-color :"+bgcolor+"; color : "+json["cs-second"]+"-"+bgcolor+";"+submenustyle(json);}});selectors.push({"selector":".qlub_menupane","style":"left:0; box-shadow : "+(json["sh-sub"]||"0 0px 3px rgba( 0, 0, 0, 0.4 )")+";"});selectors.push({"selector":".qlub_menu_content li.over:not(.new), .qlub_menu_content li.active:not(.new), .qlub_menu_content li[rel='menu'] > a.over","style":function(json){return "color : "+json["cs-third"]+"-"+bgcolor;}});break;case "tag":selectors.push({"selector":".qlub_tab_td.active .qlub_tab_title","style":function(json){return "background-color: transparent; color : "+json["cs-third"]+"-"+bgcolor;}});selectors.push({"selector":".qlub_tab_td.over .qlub_tab_title","style":function(json){return "background-color: "+json["cs-third"]+"-"+bgcolor+"; color :"+json["cs-second"]+"-"+json["cs-third"]+"-"+bgcolor;}});selectors.push({"selector":".qlub_menupane","style":"left:0; box-shadow : "+(json["sh-sub"]||"0 2px 3px rgba( 0, 0, 0, 0.2 )")+";"});selectors.push({"selector":".qlub_menupane.colbreak-wrapper","style":"background-color: "+json["cs-third"]+"-"+bgcolor+";"});selectors.push({"selector":".qlub_menu_content li:not(.new)","style":function(json){return "background-color: "+json["cs-third"]+"-"+bgcolor+"; color :"+json["cs-second"]+"-"+json["cs-third"]+"-"+bgcolor+";"+submenustyle(json);}});selectors.push({"selector":".qlub_menu_content li.over:not(.new), .qlub_menu_content li.active:not(.new), .qlub_menu_content li[rel='menu'] > a.over","style":function(json){return "background-color : "+json["cs-fourth"]+"-"+bgcolor;}});break;case "tag_contrast":var modifier="@"+(quomodoColors.isdark(bgcolor)?"l5":"d5");selectors.push({"selector":".qlub_tab_td.active .qlub_tab_title","style":function(json){return "background-color: transparent; color : "+json["cs-third"]+"-"+bgcolor;}});selectors.push({"selector":".qlub_tab_td.over .qlub_tab_title","style":function(json){return "background-color: "+bgcolor+modifier+"; color :"+json["cs-second"]+"-"+bgcolor;}});selectors.push({"selector":".qlub_tab_td.over a.qlub_tab_title.qlub_overbackground .qlub_menu_background","style":function(json){return "background-color: "+bgcolor+modifier;}});selectors.push({"selector":".qlub_menupane","style":"left:0; box-shadow : "+(json["sh-sub"]||"0 0px 3px rgba( 0, 0, 0, 0.4 )")+";"});selectors.push({"selector":".qlub_menupane.colbreak-wrapper","style":"background-color: "+bgcolor+";"});selectors.push({"selector":".qlub_menu_content li:not(.new)","style":function(json){return "background-color: "+bgcolor+"; color :"+json["cs-second"]+"-"+bgcolor+";"+submenustyle(json);}});selectors.push({"selector":".qlub_menu_content li.over:not(.new), .qlub_menu_content li.active:not(.new), .qlub_menu_content li[rel='menu'] > a.over","style":function(json){return "background-color : "+bgcolor+modifier;}});break;case "tag_bw":selectors.push({"selector":".qlub_tab_td.active .qlub_tab_title","style":function(json){return "background-color: transparent; color : "+json["cs-third"]+"-"+bgcolor;}});selectors.push({"selector":".qlub_tab_td.over .qlub_tab_title","style":function(json){return "background-color: #ffffff; color : "+json["cs-third"]+"-white";}});selectors.push({"selector":".qlub_menupane","style":"left:0; box-shadow : "+(json["sh-sub"]||"0 2px 3px rgba( 0, 0, 0, 0.2 )")+";"});selectors.push({"selector":".qlub_menu_content li:not(.new)","style":function(json){return "background-color:white; color :"+json["cs-second"]+"-white;"+submenustyle(json);}});selectors.push({"selector":".qlub_menupane.colbreak-wrapper","style":"background-color: white"});selectors.push({"selector":".qlub_menu_content li.over:not(.new), .qlub_menu_content li.active:not(.new), .qlub_menu_content li[rel='menu'] > a.over","style":function(json){return "color : "+json["cs-third"]+"-white";}});break;case "underline":selectors.push({"selector":".qlub_tab_td.active .qlub_tab_title > .qlub_menu_border, .qlub_tab_td.over .qlub_tab_title > .qlub_menu_border","style":function(json){return "display:block; background-color:"+json["cs-third"]+"-"+bgcolor;}});selectors.push({"selector":".qlub_menu_content li:not(.new)","style":function(json){return "background-color :"+bgcolor+"; color : "+json["cs-second"]+"-"+bgcolor+";"+submenustyle(json);}});selectors.push({"selector":".qlub_menupane.colbreak-wrapper","style":"background-color: "+bgcolor+";"});selectors.push({"selector":".qlub_menupane","style":function(json){return "margin-top:-1px; left:0; box-shadow : "+(json["sh-sub"]||"0 2px 3px rgba( 0, 0, 0, 0.2 )")+";border-top : 1px solid; border-color :"+json["cs-third"]+"-"+bgcolor;}});selectors.push({"selector":".qlub_menu_content li.over:not(.new), .qlub_menu_content li.active:not(.new), .qlub_menu_content li[rel='menu'] > a.over","style":function(json){return "color : "+json["cs-third"]+"-"+bgcolor;}});break;case "tab":selectors.push({"selector":".qlub_tab_td.active .qlub_tab_title","style":function(json){return "background-color: "+json["cs-third"]+"-"+bgcolor+"; color :"+json["cs-second"]+"-"+json["cs-third"]+"-"+bgcolor;}});selectors.push({"selector":".qlub_tab_td.over .qlub_tab_title","style":function(json){return "background-color: transparent; color : "+(json["cs-tabover"]||json["cs-third"])+"-"+bgcolor;}});selectors.push({"selector":".qlub_menu_content li:not(.new)","style":function(json){return "background-color :"+bgcolor+"; color : "+json["cs-second"]+"-"+bgcolor+";"+submenustyle(json);}});selectors.push({"selector":".qlub_menupane.colbreak-wrapper","style":"background-color: "+bgcolor+";"});selectors.push({"selector":".qlub_menupane","style":"left:0; box-shadow : "+(json["sh-sub"]||"0 2px 3px rgba( 0, 0, 0, 0.2 )")+";"});selectors.push({"selector":".qlub_menupane_margin","style":"display:block ; height:"+(json["hrmargin"]||"4px")});selectors.push({"selector":".qlub_menu_content li.over:not(.new), .qlub_menu_content li.active:not(.new), .qlub_menu_content li[rel='menu'] > a.over","style":function(json){return "color : "+(json["cs-liover"]||json["cs-third"])+"-"+bgcolor;}});break;case "triangle":selectors.push({"selector":".qlub_tab_td.active .qlub_tab_title > .qlub_menu_triangle, .qlub_tab_td.over .qlub_tab_title > .qlub_menu_triangle","style":function(json){return "display : block; color : "+json["cs-third"]+"-"+bgcolor;}});selectors.push({"selector":".qlub_tab_td.over .qlub_tab_title","style":function(json){return "background-color: transparent; color : "+json["cs-third"]+"-"+bgcolor;}});selectors.push({"selector":".qlub_menupane","style":"left:0; box-shadow : "+(json["sh-sub"]||"0 2px 3px rgba( 0, 0, 0, 0.2 )")+";"});selectors.push({"selector":".qlub_menupane.colbreak-wrapper","style":"background-color: "+json["cs-third"]+"-"+bgcolor+";"});selectors.push({"selector":".qlub_menu_content li:not(.new)","style":function(json){return "background-color: "+json["cs-third"]+"-"+bgcolor+"; color :"+json["cs-second"]+"-"+json["cs-third"]+"-"+bgcolor+";"+submenustyle(json);}});selectors.push({"selector":".qlub_menu_content li.over:not(.new), .qlub_menu_content li.active:not(.new), .qlub_menu_content li[rel='menu'] > a.over","style":function(json){return "background-color : "+json["cs-fourth"]+"-"+bgcolor;}});break;}
return selectors;}}];this.prepareRPD=function(rpd,theme){function getKey(id){if(/^m/.test(id))return "models";if(/^cs/.test(id))return "colorsets";if(/^t/.test(id))return "typos";if(/^sta/.test(id))return "states";if(/^sep/.test(id))return "separators";if(/^arr/.test(id))return "arrows";if(/^for/.test(id))return "formats";if(/^sh/.test(id))return "shadows";if(/^al/.test(id))return "aligns";}
function safePresetID(id,preset){var p=preset[getKey(id)][id];if(typeof p=="string")return safePresetID(p,preset);return id;}
function inArray(item,array){if(!array)return-1;if(array.indexOf)return array.indexOf(item);else{for(var i=0;i<array.length;i++){if(array[i]==item)return i;}
return-1;}}
var _skeleton=Skeleton.skeleton();var z=(_skeleton&&_skeleton.zen)||(theme&&theme.zen)||"z100";if(typeof rpd=="string")rpd=eval("("+rpd+")");var preset=menupreset[z];if(_skeleton&&_skeleton.menupreset)preset=cloneObject({},preset,_skeleton.menupreset);var modelID=safePresetID(rpd.model||"m0",preset);var colorsetID=safePresetID(rpd.colorset||"cs0",preset);var typoID=safePresetID(rpd.typo||"t0",preset);var stateID=safePresetID(rpd.state||"sta0",preset);var separatorID=safePresetID(rpd.separator||"sep0",preset);var arrowID=safePresetID(rpd.arrow||"arr0",preset);var formatID=safePresetID(rpd.format||"for0",preset);var shadowID=safePresetID(rpd.shadow||"sh0",preset);var alignID=safePresetID(rpd.align||"al0",preset);var typopresets=cloneObject(preset.typos[typoID]);var f=quomodoFonts.get(typopresets.menu.font||"f2");if(inArray("gras",f["t-kw"])!=-1&&typopresets.menu.bold&&inArray(typopresets.menu.bold.toString(),["bold","700","true"])!=-1)typopresets.menu.bold="normal";if(f["up-nl"]&&typopresets.menu["case"])typopresets.menu["case"]="normal";if(f["btn-nl"])typopresets.menu.font="f1";if(typopresets.submenu&&typopresets.submenu.font){f=quomodoFonts.get(typopresets.submenu.font);if(inArray("gras",f["t-kw"])!=-1&&typopresets.submenu.bold&&inArray(typopresets.submenu.bold.toString(),["bold","700","true"])!=-1)typopresets.submenu.bold="normal";if(f["up-nl"]&&typopresets.submenu["case"])typopresets.submenu["case"]="normal";if(f["btn-nl"])typopresets.submenu.font="f1";}
rpd=cloneObject(preset.models[modelID],preset.colorsets[colorsetID],typopresets,preset.states[stateID],preset.separators[separatorID],preset.arrows[arrowID],preset.formats[formatID],preset.aligns[alignID],preset.shadows[shadowID],{"altbgcolor":rpd.altbgcolor},rpd.params);return rpd;};this.qlub0CSS=function(rpds,theme,color_id,color_prefix){var isbody=false;if(color_id&&/:body$/.test(color_id)){isbody=true;color_id=color_id.replace(":body","");}
function prefixcss_rpd(id){return["."+id];}
rpds=rpds||[];var css=[];var rpdalias={};for(var i=0;i<rpds.length;i++){var rpditem=rpds[i];if(typeof rpditem=="string")rpditem=eval("("+rpditem+")");if(typeof rpditem.rpd=="string"){if(!rpdalias[rpditem.rpd])rpdalias[rpditem.rpd]=[];rpdalias[rpditem.rpd].push(rpditem.id);}}
for(var i=0;i<rpds.length;i++){var rpditem=rpds[i];if(typeof rpditem=="string")rpditem=eval("("+rpditem+")");if(typeof rpditem.rpd=="string"){continue;}else var rpd=rpditem.rpd;rpd=this.prepareRPD(rpd,theme);var selectors=prefixcss_rpd(rpditem.id);if(rpdalias[rpditem.id]){for(var j=0;j<rpdalias[rpditem.id].length;j++)selectors=selectors.concat(prefixcss_rpd(rpdalias[rpditem.id][j]));}
if(!color_id)css.push(JCSSManager.css(RPDMenu.JCSS,rpd,selectors));else{rpd.altbgcolor=color_id;var colorprefixes=[];for(var k=0;k<selectors.length;k++){if(color_prefix){colorprefixes.push(color_prefix+" "+selectors[k]);}else if(isbody){colorprefixes.push("body "+selectors[k]);}else{colorprefixes.push(".color_"+color_id.replace(/[+@]/g,"_")+" "+selectors[k]);colorprefixes.push(".sk-wra.color_"+color_id.replace(/[+@]/g,"_")+" "+selectors[k]);colorprefixes.push(".sk-wra .sk-wra.color_"+color_id.replace(/[+@]/g,"_")+" "+selectors[k]);colorprefixes.push(".sk-sec.color_"+color_id.replace(/[+@]/g,"_")+" "+selectors[k]);colorprefixes.push(".sk-menu.color_"+color_id.replace(/[+@]/g,"_")+" "+selectors[k]);colorprefixes.push(".sk-wra .sk-sec.color_"+color_id.replace(/[+@]/g,"_")+" "+selectors[k]);colorprefixes.push(".sk-wra .sk-wra .sk-sec.color_"+color_id.replace(/[+@]/g,"_")+" "+selectors[k]);colorprefixes.push(".sk-wra .sk-menu.color_"+color_id.replace(/[+@]/g,"_")+" "+selectors[k]);}}
css.push(JCSSManager.css(RPDMenu.JCSS,rpd,colorprefixes,true));}}
return css.join("\n");};this.getFormat=function(json){json=getRPD(json);return json.format_id;};this.isTransparent=function(json){json=getRPD(json);return json["cs-main"]=="transparent";};this.getAlign=function(json){json=getRPD(json);return json.align;};this.getTextsize=function(json){json=getRPD(json);return json.menu.textsize;};this.getRPD=function(json){json=getRPD(json);return json;};this.altbgcolor=function(json,rawdata,sectioncolor){json=getRPD(json);var c=sectioncolor||json.altbgcolor||"white";if(rawdata)return c;var cc=quomodoColors.richColor(c);return cc.c;};this.getRPDById=function(id){var rpd=spacexmlRPD(id);if(rpd)return rpd;return skeletonRPD(id);};function skeletonRPD(id){var _skeleton=Skeleton.skeleton();if(!_skeleton)return null;if(_skeleton.rpd&&_skeleton.rpd._rpdmenuByIDPrepared){if(!_skeleton.rpd[id])return null;if(typeof _skeleton.rpd[id].rpd=="string")return skeletonRPD(_skeleton.rpd[id].rpd);else return _skeleton.rpd[id];}
_skeleton.rpd=_skeleton.rpd||{};var tmp=_skeleton.menurpds||[];for(var i=0;i<tmp.length;i++)_skeleton.rpd[tmp[i].id]=tmp[i];_skeleton.rpd._rpdmenuByIDPrepared=true;if(!_skeleton.rpd[id])return null;if(typeof _skeleton.rpd[id].rpd=="string")return skeletonRPD(_skeleton.rpd[id].rpd);else return _skeleton.rpd[id];};function spacexmlRPD(id){if(spacexml.rpd&&spacexml.rpd[id]){var rpd=spacexml.rpd[id];if(typeof rpd.rpd=="string")rpd.rpd=eval("("+rpd.rpd+")");return rpd;}
spacexml.rpd={};var tmp=spacexml.theme.menurpds||[];for(var i=0;i<tmp.length;i++){var rpd=tmp[i];if(typeof rpd.rpd=="string")rpd.rpd=eval("("+rpd.rpd+")");spacexml.rpd[tmp[i].id]=tmp[i];}
return spacexml.rpd[id];};function joincss(x){var s=x.join(" ; ");var comma=",";var re=new RegExp("( ; ){2"+comma+"}","g");return s.replace(/(^( ; )+|( ; )+$)/,"").replace(re," ; ");}
function gradient(definition){var css="background : -webkit-linear-gradient( top, "+definition+" ); ";css+="background : -o-linear-gradient( top, "+definition+" ); ";css+="background : -moz-linear-gradient( top, "+definition+" ); ";css+="background : -ms-linear-gradient( top, "+definition+" ); ";css+="background : linear-gradient( to bottom, "+definition+" ); ";return css;}
function menuh_bgcolor(json){if(json["cs-main"]=="transparent")return json.altbgcolor;else return json["cs-main"];}
function getRPD(json){if(typeof json=="string"){var rpd=_this.getRPDById(json);if(!rpd){var _skeleton=Skeleton.skeleton();if(_skeleton&&_skeleton.menurpds&&_skeleton.menurpds.length>0)rpd=_skeleton.menurpds[0];else if(spacexml.menurpds&&spacexml.menurpds.length>0)rpd=spacexml.menurpds[0];else rpd={"rpd":cloneObject(_this["default"])};}
return RPDMenu.prepareRPD(rpd.rpd);}
return RPDMenu.prepareRPD(json);}});;(function($){var old_ie=/MSIE [1-7]\./.test(navigator.userAgent);var hard_left=0;$.watermarker=function(){};$.extend($.watermarker,{defaults:{color:'#999',left:0,top:0,fallback:false,animDuration:0,minOpacity:1},setDefaults:function(settings){$.extend($.watermarker.defaults,settings);},checkVal:function(val,label){if(val.length===0){$(label).show();}else{$(label).hide();}
return val.length>0;},html5_support:function(){var i=document.createElement('input');return 'placeholder'in i;}});$.fn.watermark=function(text,options){var elems;var _options;if(options)_options=$.extend({},options);options=$.extend({},$.watermarker.defaults,options);elems=this.filter('textarea, input:not(:checkbox,:radio,:file,:submit,:reset)');if(options.fallback&&$.watermarker.html5_support()){return this;}
elems.each(function(){var $elem,attr_name,label_text,watermark_container,watermark_label,control_id;var e_margin_left,e_top=0,e_height;$elem=$(this);if(text!=true)$elem.attr("data-jq-watermark-text",text);if(_options)$elem.data("watermark-options",_options);else{var __options=$elem.data("watermark-options");if(__options)options=$.extend(options,__options);}
control_id=$elem.attr('id');if($elem.attr('data-jq-watermark')==='processed'&&text!=true){$.watermarker.checkVal($elem.val(),$elem.parent().find(">.watermark").get(0));return;}else if(text==true){var w_c=$elem.parents(".watermark_container:eq(0)");w_c.before($elem);w_c.remove();}
if(text===true&&$elem.attr('data-jq-watermark-text')!==undefined)
attr_name='data-jq-watermark-text';else
attr_name=$elem.attr('placeholder')!==undefined&&$elem.attr('placeholder')!==''?'placeholder':'title';label_text=text===undefined||text===true||text===''?$(this).attr(attr_name):text;if(window.escapeHTLM)label_text=escapeHTML(label_text);watermark_container=$('<span class="watermark_container"></span>');if($elem.get(0).tagName=="INPUT")
watermark_label=$('<label class="watermark" for="'+control_id+'">'+label_text+'</label>');else
watermark_label=$('<div class="watermark" >'+label_text+'</div>');if(attr_name==='placeholder'){$elem.removeAttr('placeholder');}
watermark_container.css({display:'inline-block',position:'relative'});if($elem.attr('data-percent-width')==='true'){watermark_container.css('width','100%');}
if($elem.attr('data-percent-height')==='true'){watermark_container.css('height','100%');}
if(old_ie){watermark_container.css({zoom:1,display:'inline'});}
$elem.wrap(watermark_container).attr('data-jq-watermark','processed');if(this.nodeName.toLowerCase()==='textarea'){e_height=parseInt($elem.css('line-height'),10);e_height=e_height==='normal'?parseInt($elem.css('font-size'),10):e_height;e_top=($elem.css('padding-top')!=='auto'?parseInt($elem.css('padding-top'),10):0);}else{e_height=$elem.outerHeight();if(e_height<=0){e_height=($elem.css('padding-top')!=='auto'?parseInt($elem.css('padding-top'),10):0);e_height+=($elem.css('padding-bottom')!=='auto'?parseInt($elem.css('padding-bottom'),10):0);e_height+=($elem.css('height')!=='auto'?parseInt($elem.css('height'),10):0);}}
e_top+=($elem.css('margin-top')!=='auto'?parseInt($elem.css('margin-top'),10):0);e_margin_left=$elem.css('margin-left')!=='auto'?parseInt($elem.css('margin-left'),10):0;e_margin_left+=$elem.css('padding-left')!=='auto'?parseInt($elem.css('padding-left'),10):0;e_margin_left+=$elem.css('border-left-width')!=='auto'?parseInt($elem.css('border-left-width'),10):0;var quomodo_input_css={"text-overflow":"ellipsis","white-space":"nowrap","overflow":"hidden"};var quomodo_textarea_css={"overflow":"hidden"};if(!options.customcss){var plugin_label_css={position:'absolute',display:'block',fontFamily:$elem.css('font-family'),fontSize:$elem.css('font-size'),left:hard_left+options.left+e_margin_left,top:options.top+e_top,height:e_height,lineHeight:e_height+'px',textAlign:'left',pointerEvents:'none'};}else{var plugin_label_css={position:'absolute',display:'block',pointerEvents:'none'};}
if(options.color)plugin_label_css["color"]=options.color;watermark_label.css($.extend({},plugin_label_css,($elem.get(0).tagName=="TEXTAREA")?quomodo_textarea_css:quomodo_input_css));if(options.rpd)watermark_label.addClass(options.rpd);watermark_label.css("width",$elem.css("width"));$.watermarker.checkVal($elem.val(),watermark_label);if(!control_id){watermark_label.data('jq_watermark_element',$elem).click(function(){$($(this).data('jq_watermark_element')).trigger('click').trigger('focus');});}
$elem.before(watermark_label).bind('keydown.jq_watermark, paste.jq_watermark',function(e){if(e.keyCode!=9)$(watermark_label).hide();}).bind('keyup.jq_watermark',function(e){$.watermarker.checkVal($(this).val(),watermark_label);});if($elem.get(0).tagName=="TEXTAREA"&&watermark_label.ellipsis)watermark_label.ellipsis({row:parseInt($elem.attr("rows")||3,10)||3});});return this;};$(function(){$('.jq_watermark').watermark();});})(jQuery);var quomodoKeywords={};quomodoKeywords["fda"]={};quomodoKeywords["fda"]["sport"]=["inform-members","new-partners","new-members","friendly","young","serious","lively","supporter","nature","self-control","street","fair-play","feminine","recreative","exploit"];quomodoKeywords["fda"]["enterprise"]=["b-you","b-offer","b-community","b-showroom","b-friendly","b-punchy","b-leader","b-tradition","b-nature","b-serious","b-art","b-luxurious","b-esthetic","b-modern","b-craft"];quomodoKeywords["fonts"]={};quomodoKeywords["fonts"]["sport"]=["bd","cartoon","chic","classique","fantaisie","graffiti","groovy","grunge","science-fiction","script","calligraphie","typewriter","university","western"];function fdaKey(key){key=key||"fda";var subscribe_use=spacexml.infos.subscribe_use;if(subscribe_use=="sport"){if(spacexml&&spacexml.infos&&quomodoKeywords[key][spacexml.infos.type.toLowerCase()])return spacexml.infos.type.toLowerCase();return "sport";}
if(quomodoKeywords[key][subscribe_use])return subscribe_use;return "enterprise";}
function fdaDialog(){var k=fdaKey();var dialogs={"sport":"fda","enterprise":"fda_enterprise"};return dialogs[k];}
function keywords_list(key){var k=fdaKey(key);return quomodoKeywords[key][k];}
function keyword_name(id){return common_message["keywords"][id];};(function(){this.ResizeSensor=function(element,callback){function EventQueue(){this.q=[];this.add=function(ev){this.q.push(ev);};var i,j;this.call=function(){for(i=0,j=this.q.length;i<j;i++){this.q[i].call();}};}
function getComputedStyle(element,prop){if(element.currentStyle){return element.currentStyle[prop];}else if(window.getComputedStyle){return window.getComputedStyle(element,null).getPropertyValue(prop);}else{return element.style[prop];}}
function attachResizeEvent(element,resized){if(!element.resizedAttached){element.resizedAttached=new EventQueue();element.resizedAttached.add(resized);}else if(element.resizedAttached){element.resizedAttached.add(resized);return;}
element.resizeSensor=document.createElement('div');element.resizeSensor.className='resize-sensor';var style='position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;';var styleChild='position: absolute; left: 0; top: 0;';element.resizeSensor.style.cssText=style;element.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+style+'">'+
'<div style="'+styleChild+'"></div>'+
'</div>'+
'<div class="resize-sensor-shrink" style="'+style+'">'+
'<div style="'+styleChild+' width: 200%; height: 200%"></div>'+
'</div>';element.appendChild(element.resizeSensor);if(!{fixed:1,absolute:1}[getComputedStyle(element,'position')]){element.style.position='relative';}
var expand=element.resizeSensor.childNodes[0];var expandChild=expand.childNodes[0];var shrink=element.resizeSensor.childNodes[1];var shrinkChild=shrink.childNodes[0];var lastWidth,lastHeight,firstEvent=true;var reset=function(){expandChild.style.width=expand.offsetWidth+10+'px';expandChild.style.height=expand.offsetHeight+10+'px';expand.scrollLeft=expand.scrollWidth;expand.scrollTop=expand.scrollHeight;shrink.scrollLeft=shrink.scrollWidth;shrink.scrollTop=shrink.scrollHeight;lastWidth=element.offsetWidth;lastHeight=element.offsetHeight;};reset();var changed=function(){if(element.resizedAttached){element.resizedAttached.call();}};var overflowWrapper=element.overflowWrapper;var $overflowWrapper=$(overflowWrapper);var overflowRef=element.overflowRef;var overflowHeaderRef=element.overflowHeaderRef;var responsive_width=function(){var device=qsn_responsive_mod();if(device!="xs")return element.offsetWidth;return qsn_width_xs(element.id.replace(/overflow_/,""));};var changed_responsive=function(){if(!window.spacexml||!spacexml.responsive)return;if(overflowRef||overflowHeaderRef)var refw=responsive_width();if(overflowHeaderRef&&element.__headerOverflowWidth&&refw>element.__headerOverflowWidth){$(".hyphenate > span",overflowHeaderRef).text(function(){return $(this).text().replace(/­/g,"");});$(".responsive-separateur",overflowHeaderRef).css("white-space","nowrap");}
if(overflowRef){var device=qsn_responsive_mod();if(refw<overflowRef.offsetWidth){$overflowWrapper.addClass("overflow").width(refw);if(overflowRef.swapDevice!=device){overflowRef.swap=0;overflowRef.swapDevice=device;overflowRef.swapWarned=false;}else{overflowRef.swap=(overflowRef.swap||0)+1;}}else{if(!overflowRef.swap||overflowRef.swap<100){$overflowWrapper.removeClass("overflow").css("width","");if(overflowRef.swapDevice!=device){overflowRef.swap=0;overflowRef.swapDevice=device;overflowRef.swapWarned=false;}else{overflowRef.swap=(overflowRef.swap||0)+1;}}else{if(!overflowRef.swapWarned){console.log(refw,overflowRef.offsetWidth,$(overflowRef).parents(".note").attr("id"));overflowRef.swapWarned=true;}}}}
if(overflowHeaderRef&&refw<overflowHeaderRef.offsetWidth&&window.Hyphenator){if(overflowRef&&refw>=overflowRef.offsetWidth)$overflowWrapper.removeClass("overflow").css("width","");$(".headertext-inner",overflowHeaderRef).addClass("hyphenate").find("span").text(function(){return Hyphenator.hyphenate($(this).text(),q_lang);});if(element.__headerOverflowWidth==undefined)element.__headerOverflowWidth=refw;else if(refw>element.__headerOverflowWidth)element.__headerOverflowWidth=refw;}
var overflowElem=element.targetOverflow;if(overflowElem&&overflowElem.changed_responsive)overflowElem.changed_responsive();};if(window.spacexml&&spacexml.responsive&&(overflowRef||overflowHeaderRef))element.changed_responsive=changed_responsive;var addEvent=function(el,name,cb){if(el.attachEvent){el.attachEvent('on'+name,cb);}else{el.addEventListener(name,cb);}};addEvent(expand,'scroll',function(){if(element.offsetWidth>lastWidth||element.offsetHeight>lastHeight||(firstEvent&&(element.offsetWidth!=lastWidth||element.offsetHeight!=lastHeight))){firstEvent=false;changed();}
changed_responsive();reset();});addEvent(shrink,'scroll',function(){if(element.offsetWidth<lastWidth||element.offsetHeight<lastHeight||(firstEvent&&(element.offsetWidth!=lastWidth||element.offsetHeight!=lastHeight))){firstEvent=false;changed();}
changed_responsive();reset();});}
if("[object Array]"===Object.prototype.toString.call(element)||('undefined'!==typeof jQuery&&element instanceof jQuery)||('undefined'!==typeof Elements&&element instanceof Elements)){var i=0,j=element.length;for(;i<j;i++){attachResizeEvent(element[i],callback);}}else{attachResizeEvent(element,callback);}
this.detach=function(){ResizeSensor.detach(element);};};this.ResizeSensor.detach=function(element){if(element.resizeSensor){element.removeChild(element.resizeSensor);delete element.resizeSensor;delete element.resizedAttached;}};})();var qsn_currstate="view";var qsn_edittarget=null;var q_stuffsvc;function qsn_handler(notekind,handler,wantdefault){if((wantdefault)&&(wantdefault==true))return false;if(notekind=="bdcfamilyreduced")notekind="bdcfamily";if(notekind=="bnq_intl_reply")notekind="bnq_intl";if(notekind=="bnv_intl_reply")notekind="bnv_intl";if(notekind=="dn_reply")notekind="dn";var h;try{h=eval(handler.replace(/\bqsn/,notekind));}catch(err){}
if(h)return h;var jsonnewnote;try{jsonnewnote=eval(notekind+"_json_template");}catch(err){}
if(jsonnewnote&&jsonnewnote.common&&jsonnewnote.common.inherited){var inherited=jsonnewnote.common.inherited;for(var i=0;i<inherited.length;i++){h=qsn_handler(inherited[i].notekind,handler,wantdefault);if(h)return h;}}
return false;}
function qsn_notemessage(notekind,key,wantdefault){if((wantdefault)&&(wantdefault==true))return qsn_message[key];var notemessage;try{notemessage=eval(notekind+"_message");}catch(err){}
if(notemessage&&notemessage[key])return notemessage[key];return qsn_message[key];}
function qsn_jcssmanagerapply(div,r,wantdefault){if(!r){r=qsn_thenotes[div];div=qsn_edittarget;}
var notekind=r.common.notekind;r.rpd=qsn_defaultRPD(notekind,qsn_stuffID(r.common.noteid),r.rpd);var h=qsn_handler(notekind,"qsn_jcssmanagerapply",wantdefault);if(h)return h(div,r);if(!r.rpd)r.rpd=RPD["default"];if(typeof r.rpd=="object")RPD.applyJCSS(div,r.rpd);else{var rpdid=r.rpd.replace(/\?.*/,"");if(qsn_currstate=="edit"){if(div)$(div).removeClass(div.rpdid);div.rpdid=rpdid;}
$(div).addClass(rpdid);}
if(div&&div.id)qsn_renderheadericon(div.id);if(r.header&&r.header.display=="fold"&&qsn_currstate=="edit")$(".header-container",div).css("text-align","left");else $(".header-container",div).css("text-align","inherit");if(qsn_currstate=="edit"){var iconw=$(".headericon-in",div).width();if(iconw>0&&$(".headericon-in:visible",div).length>0&&!/top/.test(RPD.iconmode(r.rpd))){$(".headericon-in",div).css("position","absolute");$(".textarea",div).css("padding-left",(iconw+4)+"px");}else{$(".textarea",div).css("padding-left","0px");}
$(".textarea textarea",div).css("border-color",$(".textarea textarea",div).css("color"));var $headermesure=$(".qlubcontainer_headermeasure",div).eq(0);$headermesure.html($(".textarea textarea",div).val());$(".textarea textarea",div).height($headermesure.height()+4+"px");if($(".header-container",div).css("display")=="table-cell"){$(".header-container",div).width("80%");}else{$(".header-container",div).width("");}}}
function qsn_setcenterdesc(id,wantdefault){var notekind=qsn_thenotes[id].common.notekind;var h=qsn_handler(notekind,"qsn_setcenterdesc",wantdefault);if(h)return h(id);var div=ge(id);$("."+notekind+"_desc",div).css("text-align",qsn_thenotes[id].center=="true"?"center":"left");}
function qsn_getheadericon(noteid,wantdefault){var r=qsn_thenotes[noteid];var h=qsn_handler(r.common.notekind,"qsn_getheadericon",wantdefault);if(h)return h(noteid);return "";}
function qsn_foldclick(noteid,wantdefault,visible,noanim){var div=ge(noteid);var r=qsn_thenotes[noteid];var h=qsn_handler(r.common.notekind,"qsn_foldclick",wantdefault);if(h)return h(noteid,visible,noanim);qsn_toggle_smartnote_content(div,visible,noanim);if(quomodo.page&&quomodo.page.isPopup&&window.triggerResized)triggerResized();}
function qsn_container_rendermargin(div,r,wantdefault){var h=qsn_handler(r.common.notekind,"qsn_container_rendermargin",wantdefault);if(h)return h(div,r);var $div=$(div);var $tablenote=$div.find(".tablenote:eq(0)");var version=qsn_version(r.common.notekind);var noteMargin=qsn_container_contentMargin(r);function headerHasBorder(r){return((r.shadow&&r.shadow.d)||(r.strokecolor!="-1"&&(qsn_resolveValue("header.headerstyle",r)!="detached"))||(qsn_resolveValue("header.color",r)!="-1"));}
var textmargin=noteMargin.textmargin;if(r.header&&r.header.display=="true"){if(qsn_resolveValue("header.headerstyle",r)=="padding"&&noteMargin.version)textmargin=parseInt(noteMargin.right,10);if(r.header.margin!=undefined){var headermargin=parseInt(r.header.margin||0,10);$tablenote.find("h3").css("padding-top",headermargin+"px").css("padding-bottom",headermargin+"px");$tablenote.find(".header-padding").width(headermargin);}
if(!headerHasBorder(r)&&qsn_resolveValue("header.headerstyle",r)!="padding")$tablenote.find("h3").css("padding-top","0px");if(qsn_currstate!="edit"&&$tablenote.find(".header-margin").length==0){var paddingLeft=!headerHasBorder(r)?"0px":((r.header.icon&&r.header.align=="left")?"10px":(textmargin+"px"));var paddingRight=!headerHasBorder(r)?"0px":(textmargin+"px");$(".qlubcontainer_headertext:eq(0), .qlubcontainer_headermeasure:eq(0)",div).eq(0).css("padding-left",paddingLeft).css("padding-right",paddingRight);}else{$tablenote.find(".header-margin, .header-tablemargin").width(!headerHasBorder(r)?0:textmargin);$tablenote.find(".header-row-padding td").height(!headerHasBorder(r)?0:textmargin);}}
if(noteMargin.version){$div.find(".qlubcontainer_content:eq(0)").css({"padding-top":noteMargin.top,"padding-right":noteMargin.right,"padding-bottom":noteMargin.bottom,"padding-left":noteMargin.left});}}
function qsn_version(notekind,wantdefault){var h=qsn_handler(notekind,"qsn_version",wantdefault);if(h)return h(notekind);return{};}
function qsn_defaultRPD(notekind,sectionid,rpdfav){return xqsn_defaultRPD(notekind,sectionid,rpdfav);}
function xqsn_defaultRPD(notekind,sectionid,rpdfav,altsectionid){if(notekind=="menuh"){return(window.skeleton&&skeleton.menurpds&&skeleton.menurpds[0]&&skeleton.menurpds[0].id)||"rpdmenu-main";}
var section=window.quomodo&&quomodo.page&&quomodo.page.sections&&quomodo.page.sections.get(sectionid);if(!section&&altsectionid){sectionid=altsectionid;section=window.quomodo&&quomodo.page&&quomodo.page.sections&&quomodo.page.sections.get(sectionid);}
var svcid=(section&&section.svcid)||window.currsvcid;if(svcid&&/homepage@/.test(svcid)&&notekind!="pmtxt")return "rpdp-shareboard";if(svcid&&/artemadisq@/.test(svcid)&&notekind!="pmtxt")return "rpdp-forum";var fullrpds=Skeleton.fullrpds(notekind,sectionid);if(rpdfav&&($.inArray(rpdfav,fullrpds["accept"])!=-1||$.inArray(rpdfav,fullrpds["other"])!=-1||$.inArray(rpdfav,fullrpds["custom"])!=-1))return rpdfav;if(rpdfav&&notekind=="pmtxt"){if($.inArray(rpdfav+"?format=title1",fullrpds["accept"])!=-1)return rpdfav+"?format=title1";if($.inArray(rpdfav+"?format=title2",fullrpds["accept"])!=-1)return rpdfav+"?format=title2";}
if(rpdfav){var tmp=[];for(var i=0;i<fullrpds["accept"].length;i++)tmp.push(fullrpds["accept"][i].replace(/[0-9]*/g,""));var indexof_rpdfav=$.inArray(rpdfav.replace(/[0-9]*/g,""),tmp);if(indexof_rpdfav!=-1)return fullrpds["accept"][indexof_rpdfav];}
var secjson=Skeleton.getSectionJSON(sectionid);var defaultRPD=secjson.params&&secjson.params.defaultRPD;if(defaultRPD){var index=$.inArray(defaultRPD,fullrpds["accept"]);if(index!=-1){return defaultRPD;}
index=$.inArray(defaultRPD,fullrpds["other"]);if(index!=-1){return defaultRPD;}
index=$.inArray(defaultRPD,fullrpds["custom"]);if(index!=-1){return defaultRPD;}}
var res=fullrpds["accept"][0];if(res)return res;if(rpdfav){if($.inArray(rpdfav,fullrpds["other"])!=-1)return rpdfav;if(notekind=="pmtxt"){if($.inArray(rpdfav+"?format=title1",fullrpds["other"])!=-1)return rpdfav+"?format=title1";if($.inArray(rpdfav+"?format=title2",fullrpds["other"])!=-1)return rpdfav+"?format=title2";}}
return fullrpds["other"][0]||fullrpds["custom"][0];return fullrpds["accept"][Math.floor(Math.random()*1000000)%(fullrpds["accept"].length)];}
function qsn_get_customxsmenu(noteid,wantdefault){var r=qsn_thenotes[noteid];if(!r)return[];var h=qsn_handler(r.common.notekind,"qsn_get_customxsmenu",wantdefault);if(h)return h(noteid);var div=ge(noteid);if(!div)return;if(div.waitSpacesLoaded){div.customxsmenuSuspended=true;return "wait";}
var xslinks=[];$(".tablenotecontent a",div).each(function(){var $item=$("<div></div>").append($(this).clone().removeAttr("class style").css({"width":"100%","box-sizing":"border-box"}));xslinks.push($item.html());});return xslinks;}
function qsn_ResizeSensor_resized(id,wantdefault){var r=qsn_thenotes[id];if(!r||!r.common)return;var notekind=r.common.notekind;if(!notekind)return;var h=qsn_handler(notekind,"qsn_ResizeSensor_resized",wantdefault);if(h)h(id);}
function qsn_responsive_finalizeresize(noteid,device,wantdefault){var r=qsn_thenotes[noteid];if(!r)return;var notekind=r.common.notekind;var h=qsn_handler(notekind,"qsn_responsive_finalizeresize",wantdefault);if(pages_isrichnote(noteid)){var $ghost=$("#ghost_"+noteid);if($ghost.length>0){var offsets=pages_richnoteoffsets(noteid);$ghost.height(offsets.offsetHeight);}}
if(h)return h(noteid,device);}
function qsn_note_device_resize(responsivemode,div,forceDup){if(!div.id||!qsn_thenotes[div.id])return;var device_resize=qsn_thenotes[div.id].device_resize;if(device_resize){var hh;try{hh=eval(device_resize);}catch(err){}
if(hh)hh(responsivemode,div,forceDup);}}
function qsn_device_resize(device,div,wantdefault,forceDup){if(!div.id||!qsn_thenotes[div.id])return;var notekind=qsn_thenotes[div.id].common.notekind;var h=qsn_handler(notekind,"qsn_"+device+"_resize",wantdefault);if(h)h(div,forceDup);var h=qsn_handler(notekind,"qsn_device_resize",wantdefault);if(h)h(device,div,forceDup);qsn_note_device_resize(device,div,forceDup);}
function qsn_md_resize(div,wantdefault,forceDup){if(!div.id||!qsn_thenotes[div.id])return;var notekind=qsn_thenotes[div.id].common.notekind;var h=qsn_handler(notekind,"qsn_md_resize",wantdefault);if(h)h(div,forceDup);qsn_note_device_resize("md",div,forceDup);}
function qsn_lg_resize(div,wantdefault,forceDup){if(!div.id||!qsn_thenotes[div.id])return;var notekind=qsn_thenotes[div.id].common.notekind;var h=qsn_handler(notekind,"qsn_lg_resize",wantdefault);if(h)h(div,forceDup);qsn_note_device_resize("lg",div,forceDup);}
function qsn_sm_resize(div,wantdefault,forceDup){if(!div.id||!qsn_thenotes[div.id])return;var notekind=qsn_thenotes[div.id].common.notekind;var h=qsn_handler(notekind,"qsn_sm_resize",wantdefault);if(h)h(div,forceDup);qsn_note_device_resize("sm",div,forceDup);}
function qsn_xs_resize(div,wantdefault,forceDup){if(!div.id||!qsn_thenotes[div.id])return;var notekind=qsn_thenotes[div.id].common.notekind;var h=qsn_handler(notekind,"qsn_xs_resize",wantdefault);if(h)h(div,forceDup);qsn_note_device_resize("xs",div,forceDup);}
var zindexmax=0;if(!window.qsn_notestyles)var qsn_notestyles={};var qsn_globalversion=1;var qsn_stuffIDs=["q_author_stuff"];var qsn_dynloadstatus={};var quomodocolors={"standard-bg":["#000000","#FFFFFF","#F2F2F2","#D1D1D1","#545454"]};function qsn_noteidssortedlist(idslist){if(!idslist){idslist=[];for(var id in qsn_thenotes)if(qsn_thenotes[id])idslist.push(id);}
var re=new RegExp("^note_[0-9]*([0-9]{9})$","i");return idslist.sort(function(a,b){if(re.test(a)&&re.test(b))return(a.replace(re,"$1")<b.replace(re,"$1"))?-1:1;if(!re.test(a)&&!re.test(b))return parseInt(a.replace(/.*_([0-9]+)_[0-9]+$/,"$1"),10)-parseInt(b.replace(/.*_([0-9]+)_[0-9]+$/,"$1"),10);if(re.test(a))return-1;return 1;});}
function qsn_globalupgradejson(id){var r=qsn_thenotes[id];if(!r)return;if(!r.qsnversion)r.qsnversion=0;if(r.qsnversion<1)r=qsn_globalupgradejsontov1(r);r.qsnversion=qsn_globalversion;return r;}
function qsn_globalupgradejsontov1(r){if(!r.spacedefaults||!r.spacedefaults.common)return r;if(r.spacedefaults.common.ghost!=undefined)r.common.ghost=r.spacedefaults.common.ghost;if(r.spacedefaults.common.row!=undefined)r.common.row=r.spacedefaults.common.row;if(r.spacedefaults.common.col!=undefined)r.common.col=r.spacedefaults.common.col;return r;}
function qsn_doupgradejson(id){var r=qsn_thenotes[id];var notekind=r.common.notekind;if(!r)return;qsn_globalupgradejson(id);var inheriteds=[{notekind:notekind,version:r.version}];if(r.common.inherited)inheriteds=inheriteds.concat(r.common.inherited);inheriteds.reverse();var inheritednotekind,inheritedversion,json,appendtarget;var n=inheriteds.length;for(var i=0;i<n;i++){inheritednotekind=inheriteds[i].notekind;inheritedversion=inheriteds[i].version;json=eval("window."+inheritednotekind+"_json_template");if(!json)return false;r.version=inheritedversion;if((inheritedversion==undefined)||(json.version>inheritedversion))r=qsn_thenotes[id]=(eval(inheritednotekind+"_upgradejson"))(r);if(inheritednotekind!=notekind)r.common.inherited[n-i-2].version=r.version;}
if($.inArray(notekind,["btn","charmessage","hello_intl","mcn","navig","silhouette"])!=-1)delete r.shadow;}
function qsn_settingsID(noteid){if(qsn_thenotes[noteid]&&qsn_thenotes[noteid].common&&qsn_thenotes[noteid].common.settings)return qsn_thenotes[noteid].common.settings;return "#";}
function qsn_stuffTarget(noteid){var stuffTarget=ge(qsn_stuffID(noteid));if(!stuffTarget&&qsn_thenotes[noteid]&&qsn_thenotes[noteid].parentid)stuffTarget=ge(qsn_stuffID(qsn_thenotes[noteid].parentid));return stuffTarget;if(qsn_thenotes[noteid]&&qsn_thenotes[noteid].common&&qsn_thenotes[noteid].common.settings&&ge(qsn_thenotes[noteid].common.settings))return ge(qsn_thenotes[noteid].common.settings);if(qsn_thenotes[noteid]&&qsn_thenotes[noteid].common&&qsn_thenotes[noteid].common.stuffID)return ge(qsn_thenotes[noteid].common.stuffID);return ge(quomodo.page.sections.fallbackStuffID(noteid));}
function qsn_stuffID(noteid){function getStuffID(){if(qsn_thenotes[noteid]&&qsn_thenotes[noteid].common&&qsn_thenotes[noteid].common.stuffID)return qsn_thenotes[noteid].common.stuffID.replace(/-stuff$/,"");return quomodo.page.sections.fallbackStuffID(noteid).replace(/-stuff$/,"");}
var stuffID=getStuffID();if(stuffID=="q_author_stuff")return stuffID;return stuffID+"-stuff";}
function qsn_saveWaitImgLoaded_inc(noteid){ASresumepause_inc();if(qsn_currstate=="edit")return;if(q_pagemode()!="edit")return;var section=quomodo.page.sections.get(qsn_stuffID(noteid));section.saveWaitImgLoaded_inc();}
function qsn_saveWaitImgLoaded_dec(noteid){ASresumepause_dec();if(qsn_currstate=="edit")return;if(q_pagemode()!="edit")return;var section=quomodo.page.sections.get(qsn_stuffID(noteid));section.saveWaitImgLoaded_dec();}
function qsn_imgSize(imgSize,rimg){if(q_pagemode()=="edit"&&imgSize&&imgSize.width&&imgSize.height)rimg.imgSize=imgSize;if(rimg.imgSize&&rimg.imgSize.width&&rimg.imgSize.height)return rimg.imgSize;return imgSize;}
function qsn_svcid(noteid,withlang){if(withlang)return qsn_svcid(noteid).replace("@intl","@"+q_lang);var re=new RegExp("^note_([0-9]*)[0-9]{9}$","i");var svcindex=re.exec(noteid);if(!svcindex)return currsvcid;svcindex=svcindex[1];if(svcindex=="")return currsvcid;return "#"+svcindex+"#artemapage@intl";}
function qsn_trueXY(id){var y=ge(id);if(!qsn_thenotes[id]||isremoved(y)){if(!qsn_thenotes[id])debugmail("qsn_trueXY called for "+id+", qsn_thenotes missing");if(isremoved(y))debugmail("qsn_trueXY called for "+id+", element missing");return[0,0];}
var ypos=q_trueXY(y);var refpos=q_trueXY(qsn_stuffTarget(id));return[ypos[0]-refpos[0],ypos[1]-refpos[1]];}
function qsn_trueleft(id){var pos=qsn_trueXY(id);return pos[0];}
function qsn_truetop(id){var pos=qsn_trueXY(id);return pos[1];}
function qsn_position(id,position,spacedefault){var r=qsn_thenotes[id];if(!r&&/-dup/.test(id)){id=id.replace(/-dup.*/,"");r=qsn_thenotes[id];}
var sc=r.spacedefaults.common;if(!sc[position])return null;if(spacedefault)return sc[position];var uc=r.user.common;return(uc[position])?uc[position]:sc[position];}
function qsn_left(id,spacedefault){return qsn_position(id,"left",spacedefault);}
function qsn_top(id,spacedefault){return qsn_position(id,"top",spacedefault);}
function qsn_width(id,spacedefault,ghostwidth){if(q_pagemode()=="web"){var r=qsn_thenotes[id];if(!r&&/-dup/.test(id)){id=id.replace(/-dup.*/,"");r=qsn_thenotes[id];}
var section=quomodo.page.sections.get(qsn_stuffID(id));if(section.isaligned()&&((!pages_isrichnote(id)&&!r.parentid)||ghostwidth))return section.width_def[r.common.col];}
return qsn_position(id,"width",spacedefault);}
function qsn_width_lg(id,ghostwidth){var r=qsn_thenotes[id];if(!r&&/-dup/.test(id)){id=id.replace(/-dup.*/,"");r=qsn_thenotes[id];}
var section=quomodo.page.sections.get(qsn_stuffID(id));if(section.isaligned()&&((!pages_isrichnote(id)&&!r.parentid)||ghostwidth))return section.lg_width_def[r.common.col];else return Math.round(parseInt(qsn_width(id),10)*devicesDef.lg.contentWidth/devicesDef.md.contentWidth);}
function qsn_width_sm(id,ghostwidth){var r=qsn_thenotes[id];if(!r&&/-dup/.test(id)){id=id.replace(/-dup.*/,"");r=qsn_thenotes[id];}
var section=quomodo.page.sections.get(qsn_stuffID(id));if(section.isaligned()&&((!pages_isrichnote(id)&&!r.parentid)||ghostwidth))return section.sm_width_def[r.common.col];else return Math.round(parseInt(qsn_width(id),10)*devicesDef.sm.contentWidth/devicesDef.md.contentWidth);}
function qsn_width_xs(id){var r=qsn_thenotes[id];var bDup=/-dup/.test(id);var bDup_xs=/-dup-xs/.test(id);if(!r&&bDup){id=id.replace(/-dup.*/,"");r=qsn_thenotes[id];}
if(bDup)id=id.replace(/-dup.*/,"");var div=ge(id);if(bDup_xs)return $(window).width()-42-12;var stuffID=qsn_stuffID(id);if(/^h-/.test(stuffID)&&/-xs-/.test(stuffID)){return $(div).parents(".stuff-content:eq(0)").width();}
return $(div).parents(".stuff-content:eq(0)").width()-30;}
function qsn_responsive_width(id,device){device=device||qsn_responsive_mod();if(device=="xs")return qsn_width_xs(id);else if(device=="sm")return qsn_width_sm(id);else if(device=="lg")return qsn_width_lg(id);else return parseInt(qsn_width(id),10);}
function getTargetsByClassName(elem,cont){if(!elem||elem.nodeType!=1){if(getElementsByClassName.caller)return debug_msg("getElementsByClassName called by "+q_fname(getElementsByClassName.caller));}
var fl=(cont===undefined)?true:cont;var t={};function find(x,b){if(x.nodeType==1){if(x.className&&(b||!(/\bstickynote\b/).test(x.className))){var ws=x.className.replace(/ +/g," ").split(" ");for(var i=0;i<ws.length;i++){var w=ws[i];if(t[w])t[w].push(x);else t[w]=[x];}}
if(fl&&(b||!x.className||!(/\bstickynote\b/).test(x.className)))for(var i=0;i<x.childNodes.length;i++)find(x.childNodes[i]);}}
find(elem,true);return t;}
function qsn_getdesctargets(elem,notekind,kind,cont){var fl=cont===undefined?true:cont;var t=getTargetsByClassName(elem,fl);if(kind){var res={};res[kind]={};}
else var res={color:{},text:{}};var desckinds=q_getkeys(res);for(var k=0;k<desckinds.length;k++){var desckind=desckinds[k];var r=res[desckind];var thedesc=$.extend({},((desckind=="color")?qsn_colordesc:qsn_textdesc));thedesc=$.extend(thedesc,eval("window."+notekind+"_"+desckind+"desc"));if(thedesc){var keys=q_getkeys(thedesc);for(var i=0;i<keys.length;i++)r[keys[i]]=t[keys[i]];}}
return kind?res[kind]:res;}
function qsn_gettargetsbykeys(elems,kind,noteid){if(typeof elems=="string"){var local_debug="step 0";try{var div=ge(elems);var b=isremoved(div);local_debug="step 1 - isremoved="+b;var id=div.id;local_debug="step 2 - isremoved="+b;var r=qsn_thenotes[id];local_debug="step 3 - isremoved="+b;var notekind=r.common.notekind;local_debug="step 4 - isremoved="+b;var alltargets=qsn_getdesctargets(div,notekind,kind,true);}catch(err){if((typeof err)=="object")throw $.extend({},err,{message:"in qsn_gettargetsbykeys "+local_debug+" :\r"+err.message});throw{message:"in qsn_gettargetsbykeys "+local_debug+" :\r"};}}else{var targets=elems;if(!targets.length)return{};var div=targets[0];if(!div.notekind&&!noteid)div=getContainer(targets[0]);var notekind=div.notekind;var r=qsn_thenotes[noteid||div.noteid||div.id];if(!notekind)notekind=r.common.notekind;var alltargets={};for(var i=0;i<targets.length;i++){var oldid=div.id;if(div.noteid)div.id=div.noteid;var res=qsn_getdesctargets(targets[i],notekind,kind,(noteid)?true:false);div.id=oldid;for(var k in res){if(alltargets[k])alltargets[k].concat(res[k]);else alltargets[k]=res[k];}}}
return[notekind,alltargets,r];}
function qsn_settextproperties(elems,noteid){var res=qsn_gettargetsbykeys(elems,"text",noteid);var notekind=res[0];var alltargets=res[1];var r=res[2];var textdesc=$.extend({},qsn_textdesc);textdesc=$.extend(textdesc,eval("window."+notekind+"_textdesc"));if(!textdesc)return;var colorvalue,colorrules,elem;var watermark_elems=[];for(var key in textdesc){var targets=alltargets[key];if(targets){var b=typeof textdesc[key]=="object";var textvalues;if(b){textvalues={};for(var keyt in textdesc[key])textvalues[keyt]=qsn_desc2rvalue(r,textdesc[key],keyt);}else textvalues=qsn_desc2rvalue(r,textdesc,key);for(var i=0;i<targets.length;i++){elem=targets[i];if(elem.getAttribute("data-jq-watermark")=="processed"){if($.inArray(elem,watermark_elems)==-1)watermark_elems.push(elem);}
var re=new RegExp("^.*\\b"+key+" +([^ ]+).*$");var stextrules=elem.className.replace(re,"$1");var textrules=stextrules.split("_");if(textrules[0]=="all"){if(textrules.length==1)textrules=q_getkeys(textvalues);else{var sall=q_getkeys(textvalues).join(" ");for(var j=1;j<textrules.length;j++){var re=new RegExp("\\b"+textrules[j]+"\\b");sall=sall.replace(re,"");}
textrules=sall.replace(/ +/g," ").split(" ");}}
for(var j=0;j<textrules.length;j++)qsn_applytextrule(notekind,elem,b?textvalues[textrules[j]]:textvalues,textrules[j]);}}}
for(var i=0;i<watermark_elems.length;i++){var item=$(watermark_elems[i]);item.watermark(true);}
var h=qsn_handler(notekind,"qsn_posttreatment",false);if(h)h(elems);}
function qsn_applytextrule(notekind,elem,textvalue,textrule){switch(textrule.toLowerCase()){case "align":elem.style["textAlign"]=qsn_definetextaligns(notekind)[textvalue];break;case "bold":elem.style["fontWeight"]=(textvalue=="true")?"bold":"normal";break;case "center":elem.style["textAlign"]=(textvalue=="true")?"center":"left";break;case "font":elem.className=elem.className.replace(/clubfontfamily[^ ]* */,"");elem.className=elem.className.replace(/\bf[0-9]+\b */g,"");elem.style["fontFamily"]="";if((/^__auto/).test(textvalue)){var splitted=textvalue.split("-");var jsonPath=splitted[splitted.length-1].replace(/\./g,"-");elem.className=elem.className+" clubfontfamily-"+jsonPath;}else if((/f[0-9]+/).test(textvalue))elem.className+=" "+textvalue;else elem.style["fontFamily"]=getFontFamilyByCode(textvalue,notekind);break;case "italic":elem.style["fontStyle"]=(textvalue=="true")?"italic":"normal";break;case "margin":elem.style.margin=qsn_definemargins(notekind)[textvalue];break;case "marginslider":elem.style.margin=textvalue+(((/px/).test(textvalue))?"":"px");break;case "marginslidertop":elem.style.marginTop=textvalue+(((/px/).test(textvalue))?"":"px");break;case "marginsliderbottom":elem.style.marginBottom=textvalue+(((/px/).test(textvalue))?"":"px");break;case "opacity":if(qsn_currstate=="edit"&&qsn_edittarget)qsn_setcolors(qsn_edittarget.id);var op=qsn_defineopacities(notekind)[textvalue];elem.style.opacity=op;var intop=5*Math.round(20*op);elem.style.filter="alpha(opacity="+intop+")";elem.className=elem.className.replace(/ ?qsn_trans[0-9]+/g,"")+" qsn_trans"+intop;break;case "padding":elem.style.padding=qsn_definepaddings(notekind)[textvalue];break;case "paddingslider":elem.style.padding=textvalue+(((/px/).test(textvalue))?"":"px");break;case "paddingslidertop":elem.style.paddingTop=textvalue+(((/px/).test(textvalue))?"":"px");break;case "paddingsliderbottom":elem.style.paddingBottom=textvalue+(((/px/).test(textvalue))?"":"px");break;case "slider":elem.style["fontSize"]=textvalue+"px";elem.style["lineHeight"]="1.2em";break;case "size":elem.style["fontSize"]=qsn_definefontsizes(notekind)[textvalue];elem.style["lineHeight"]="1.2em";break;case "uppercase":elem.style.textTransform=(textvalue=="true")?"uppercase":"none";break;case "spacing":elem.style["letterSpacing"]=qsn_definetextspacings(notekind)[textvalue];break;}}
function qsn_noteoffsets(id){var div=ge(id);var l=qsn_trueleft(id);var t=qsn_truetop(id);var r=l+div.offsetWidth;var b=t+div.offsetHeight;var headerTop=qsn_headerTopOffset(id);return{"offsetLeft":l,"offsetTop":t,"offsetTopHeader":t-headerTop,"offsetWidth":r-l,"offsetHeight":b-t};}
function qsn_updatenoteheight(div){if(window.pages_isaligned&&pages_isaligned()){var r=qsn_thenotes[div.id];if(r.parentid){var d=(window.pages_richnoteoffsets)?pages_richnoteoffsets(r.parentid):qsn_noteoffsets(r.parentid);ge(r.parentid).parentNode.style.height=(d.offsetHeight)+"px";}else{var d=(window.pages_richnoteoffsets)?pages_richnoteoffsets(div.id):qsn_noteoffsets(div.id);div.parentNode.style.height=(d.offsetHeight)+"px";}}else{if(window.pages_updatepageoffset)pages_updatepageoffset();}}
function qsn_calcpageheight(stuffID){var pageOffset=qsn_calcpageoffset(stuffID);if(isNaN(pageOffset.bottom))return null;var m=12;var section=(stuffID)?quomodo.page.sections.get(stuffID):quomodo.page.sections.current();if(section.bottomsecuremargin!=undefined)m=section.bottomsecuremargin;else if(window.pages_bottomsecuremargin)m=pages_bottomsecuremargin;return pageOffset.bottom+m;}
function qsn_calcpageoffset(stuffID){stuffID=stuffID||quomodo.page.sections.current().stuffid||"q_author_stuff";var d,noteh;var leftValueIsOk=false;var max={top:999999,topHeader:999999,left:qsn_responsive_mod()=="lg"?1180:990,right:0,bottom:0};qsn_noteidslist=qsn_noteidssortedlist();for(var i=0;i<qsn_noteidslist.length;i++){var id=qsn_noteidslist[i];if(!qsn_thenotes[id]||!ge(id))continue;if(qsn_stuffID(id)!=stuffID)continue;if(qsn_thenotes[id].common.notekind=="settings"||qsn_thenotes[id].imgtosec||qsn_thenotes[id].parentid)continue;if(qsn_thenotes[id].freeimg)continue;d=(window.pages_richnoteoffsets)?pages_richnoteoffsets(id):qsn_noteoffsets(id);noteBottom=d.offsetTop+d.offsetHeight;noteRight=d.offsetLeft+d.offsetWidth;if(noteBottom>max.bottom)max.bottom=noteBottom;if(noteRight>max.right)max.right=noteRight;if(d.offsetTop<max.top)max.top=d.offsetTop;if(d.offsetTopHeader<max.topHeader)max.topHeader=d.offsetTopHeader;if(d.offsetLeft<max.left){max.left=d.offsetLeft;leftValueIsOk=true;}}
if(!leftValueIsOk)return{};return max;}
function qsn_initfooter(reseth,stuffID){var section=ge(stuffID||quomodo.page.sections.current().stuffid||"q_author_stuff");if(section.getAttribute("initfooter")!="true"){$(section).height("100%");return;}
qsn_initfooter_setheight(reseth,stuffID);}
function qsn_initfooter_setheight(reseth,stuffID){if(qsn_currstate=="edit")return;if(/^h-*/.test(quomodo.page.sections.current().id))return;var div=ge(stuffID||quomodo.page.sections.current().stuffid||"q_author_stuff");var hdiv=(div.style.height&&parseInt(div.style.height,10))?parseInt(div.style.height,10):0;if(reseth)hdiv=0;if(hdiv&&!div.lastheight){div.lastheight=hdiv;if(q_pagemode()!="makeweb")setTimeout(function(){qsn_initfooter_setheight(false,stuffID);},5000);return;}
var h=qsn_calcpageheight(stuffID);if(h==null&&q_pagemode()!="web"){if(stuffID==quomodo.page.sections.current().stuffid)return;h=0;}
h=Math.max(h,hdiv);div.style.height=h+"px";function check(){for(var k in qsn_dynloadstatus){if(qsn_stuffID(k)==stuffID&&qsn_dynloadstatus[k]=="loading")return false;}
return true;}
if(h==div.lastheight&&check())return;div.lastheight=h;if(q_pagemode()!="makeweb")setTimeout(function(){qsn_initfooter_setheight(false,stuffID);},1000);}
var qsn_colordesc={"qsn5_qsn1":function(r){return(!r.textcolor||r.textcolor=="-1")?null:r.textcolor;},"qsn5":function(r){return(!r.textcolor||r.textcolor=="-1")?null:r.textcolor;},"qsn4":function(r){if(r.strokecolor==undefined)return "standard";return r.strokecolor;},"qsn3_qsn2_qsn1":"header.textcolor","qsn2_qsn1":"header.color","qsn1":"color"};var qsn_textdesc={"qsnt1":{"font":"header.font"}};function qsn_containerDefaults(wantDefault){var fontsize=(window.spacexml&&spacexml.creationdate&&spacexml.creationdate>"2014-12-11")?"24px":"14px";return{header:{color:"c1",textcolor:"bw",bold:"true",italic:"false","case":"false",align:"left",font:"0",fontsize:fontsize,margin:"0px","hr":"false","headerstyle":"standard"}};}
function qsn_resolveValue(jsonPath,r){var keys=jsonPath.split(".");var snstyleid="",v="";if(typeof r=="string")snstyleid=r;else if(r){var v=r;for(var i=0;i<keys.length;i++){v=v[keys[i]];if(v==undefined){v="__auto";break;}}
if(!(/^__auto/).test(v))return v;var snstyleid=v;}
snstyleid=snstyleid.replace(/__auto-?/,"").replace(/default/,"")||"s0";v=(snstyleid&&spacexml.theme.smartnotes&&spacexml.theme.smartnotes[snstyleid])||qsn_containerDefaults();for(var i=0;i<keys.length;i++){v=v[keys[i]];if(v==undefined){v=null;break;}}
return v;}
function qsn_container_client(handler){if(!window.client_container)return false;return client_container[handler];}
function qsn_container_toresize(div){if(qsn_currstate!="edit")return[];var r=qsn_thenotes[div.id];var version=qsn_version(r.common.notekind);if(version&&version.rpd)return[];var x=gebcn(div,"cancelokelem");return(x)?[x]:[];}
function qsn_splitHalf(s,old){var sep;var n=s.length;if(s.split("__").length>1)sep="__";else if(s.split(" ").length>1)sep=" ";if(sep){var l=s.split(sep);var m=0;var j=0;for(var i=0;i<l.length-1;i++){j=i;var mm=l[i].length;var n1=m/n;var n2=(m+mm)/n;if(Math.abs(0.5-n1)<Math.abs(0.5-n2))j=j-1;if(n2>0.5)break;m+=mm+sep.length;}
var t=[l.slice(0,j+1).join(sep),l.slice(j+1).join(sep),((sep=="__")?"":sep)];}else{var t=[s.substring(0,1),s.substring(1)];}
if(old){return escapeHTML(t[0]+(t[2]||""))+(t[1].length>0?'<span class="bicolor">'+escapeHTML(t[1])+'</span>':'');}else{return '<span class="firstcolor">'+escapeHTML(t[0])+'</span>'+(t[2]?'<span>'+escapeHTML(t[2])+'</span>':'')+(t[1].length>0?'<span class="secondcolor '+(!t[2]?"noescape":"")+'">'+escapeHTML(t[1])+'</span>':'');}}
function qsn_container_renderheader(div,r,wantDefault){if(!wantDefault&&qsn_container_client("renderheader"))return qsn_container_client("renderheader")(div,r);var $headertext=$(".qlubcontainer_headertext",div).eq(0);var $headerbckg=$(".qlubcontainer_headerbckg",div).eq(0);var version=qsn_version(r.common.notekind);var bRPD=version&&version.rpd;if(bRPD){if(!r.header||(r.header.display!="true"&&r.header.display!="fold")){$(".tablecontent",div).removeClass("rpd-noheader").addClass("rpd-noheader");$(".tablenote, .td-headericon",div).hide();if(qsn_currstate!="edit")$(".tablenote",div).remove();return;}else{if(qsn_currstate!="edit"&&r.header.text==""){$(".tablecontent",div).removeClass("rpd-noheader").addClass("rpd-noheader");$(".tablenote",div).hide();}else{$(".tablecontent",div).removeClass("rpd-noheader");$(".tablenote",div).show();}
$(".td-headericon",div).css("display","");}}else{div.className=div.className.replace(/\bheaderstyle-[^ ]+/g,"");if(r.header&&r.header.headerstyle)$(div).addClass("headerstyle-"+r.header.headerstyle);else $(div).addClass("headerstyle--");if(!r.header||(r.header.display!="true"&&r.header.display!="fold"))$(".tablenotecontent:eq(0) .headerstyle-detached td.content",div).css("padding-top","0px");if(!$(".qlubcontainer_noteheader",div).length)return;if(!r.header)return $(".qlubcontainer_noteheader",div).eq(0).parents("tr:first").hide();$(".qlubcontainer_noteheader",div).eq(0).parents("tr:first").toggle(r.header.display=="true");if(r.header.display!="true"&&r.header.display!="fold"){if(qsn_currstate!="edit")$(".tablenote",div).remove();return;}
var $tablenote=$(".tablenote",div).eq(0);var $headermesure=$(".qlubcontainer_headermeasure",div).eq(0);var headertextStyle={};if(r.header["case"]!=undefined){headertextStyle["text-transform"]=(r.header["case"]=="up")?"uppercase":"none";headertextStyle["font-variant"]=(r.header["case"]=="cap")?"small-caps":"normal";}
if(r.header.bold!=undefined)headertextStyle["font-weight"]=(r.header.bold=="true")?"bold":"normal";if(r.header.italic!=undefined)headertextStyle["font-style"]=(r.header.italic=="true")?"italic":"normal";if(r.header.font!=undefined){var v=getFontFamilyByCode(r.header.font,r.common.notekind);$headertext.removeClass("headerfont--");$headermesure.removeClass("headerfont--");if(v==""||v=="inherit"){$headertext.addClass("headerfont--");$headermesure.addClass("headerfont--");headertextStyle["font-family"]="";}else headertextStyle["font-family"]=getFontFamilyByCode(r.header.font,r.common.notekind);}
$headerbckg.removeClass("qsncenter qsnalign");if(r.header.align!=undefined){headertextStyle["text-align"]=r.header.align;if(r.header.align=="center")$headerbckg.addClass("qsncenter");}else $headerbckg.addClass("qsnalign");var fontSize=qsn_resolveValue("header.fontsize",r);if(r.header.fontsize!=undefined){headertextStyle["font-size"]=r.header.fontsize;headertextStyle["line-height"]="1.2em";}
if(r.header.hr=="true")$tablenote.find("h3 div.hr").show();else if(r.header.hr=="false")$tablenote.find("h3 div.hr").hide();$headertext.css(headertextStyle);}
if(qsn_currstate!="edit"){$headerbckg.css("cursor","");if(bRPD){$headertext.find(".headertext-inner").html(qsn_splitHalf(r.header.text||" "));}else{$headertext.html(splitHalf(r.header.text||"",true));}}else{var t=$headertext.val(r.header.text);var t2=$(".qlubcontainer_headermeasure",div).eq(0).show().texthtml(r.header.text||" ");if(bRPD)qsn_jcssmanagerapply(div,r);else t2.css(headertextStyle);q_changedwidth(t2.get(0),$headertext.width());t.height(Math.min(250,Math.max(20,t2.height()))+"px");t2.empty().hide();qsn_container_blurdefault(t.get(0),"notetitleprompt");}}
function qsn_toggle_smartnote_content(e,visible,noanim){var div=getContainer(e);var b=(visible!=undefined)?visible:$(".qlubcontainer_noteheader",div).attr("folded")=="true";var section=quomodo.page.sections.get(qsn_stuffID(div.id));function folddone(){var iconfoldon=window.quomodoclient&&quomodoclient.iconfoldon;var iconfoldoff=window.quomodoclient&&quomodoclient.iconfoldoff;$(".qlubcontainer_noteheader",div).attr("folded",b?"false":"true");$(".qlubcontainer_noteheader .headericon-in, .headericon",div).html(b?(iconfoldoff||""):(iconfoldon||""));if(section.isaligned()){if(qsn_responsive_mod()!="xs")$("#ghost_"+div.id).height($(div).height());}else section.updateoffsets();}
if(noanim){$(".tablenotecontent",div).toggle(b);folddone();if(b)$(".tdcontainer",div).removeClass("showPaddingBottom");else $(".tdcontainer",div).addClass("showPaddingBottom");return;}
var dhheader=$(div).height();if(section.isaligned())$("#ghost_"+div.id).height("auto");if(b){$(".tdcontainer",div).removeClass("showPaddingBottom");dhheader-=$(div).height();var $target=$(".tablenotecontent",div);if($target.parent(".responsive_overflow-wrapper").length>0)$target=$target.parent(".responsive_overflow-wrapper");$target.wrap('<div style="overflow: hidden;width:100%;height:'+dhheader+'px" class="foldslide"></div>');$(".tablenotecontent",div).show();var h=$(".tablenotecontent",div).height();$(".foldslide",div).animate({"height":h+"px"},300,function(){$target.insertAfter($(".tablenote",div));$(this).remove();folddone();});}else{$(".tdcontainer",div).addClass("showPaddingBottom");dhheader=$(div).height()-dhheader;$(".tdcontainer",div).removeClass("showPaddingBottom");var h=$(".tablenotecontent",div).height();var $target=$(".tablenotecontent",div);if($target.parent(".responsive_overflow-wrapper").length>0)$target=$target.parent(".responsive_overflow-wrapper");$target.wrap('<div style="overflow: hidden;width:100%;height:'+h+'px" class="foldslide"></div>');$(".foldslide",div).animate({"height":dhheader+"px"},300,function(){$(".tdcontainer",div).addClass("showPaddingBottom");$target.insertAfter($(".tablenote",div));$(".tablenotecontent",div).hide();$(this).remove();folddone();});}}
function qsn_renderheadericon(noteid){var div=$("#"+noteid);var r=qsn_thenotes[noteid];if(r.common.notekind=="menuh")return;$(".qlubcontainer_noteheader .headericon-in, .headericon",div).removeClass("fold");if(!r.header)return;if(r.header.display=="fold")$(".qlubcontainer_noteheader .headericon-in, .headericon",div).addClass("fold");var iconmode=RPD.iconmode(r.rpd);var iconfoldon=window.quomodoclient&&quomodoclient.iconfoldon;var iconvalue=r.header.display!="fold"?r.header.iconvalue:(iconfoldon||"");if((r.header.icon==false||r.header.icon=="false")&&r.header.display!="fold")iconvalue="";var icontype="id";var regHtml=new RegExp("^<");if(regHtml.test(iconvalue))icontype="html";if(/^image:/.test(iconvalue))icontype="image";if(r.header.display=="fold")icontype="fold";if(!iconmode&&r.header.display!="fold")return;iconselector=".headericon-in, .headericon";var elem=div.find(iconselector);if(!elem)return;if((r.header.icon==false||r.header.icon=="false")&&r.header.display!="fold"){$(elem).css("display","none");}else{$(elem).css("display","");switch(icontype){case "html":div.find(iconselector).html(iconvalue);break;case "image":div.find(iconselector).empty().html('<img src="'+q_spaceabsoluteurl("",iconvalue.replace(/image:/,""))+'" />');break;case "id":if(r.header.iconvalue){var icon_class="font-q-sn-"+r.header.iconvalue.split(":")[0].replace(' ','');quomodoFonts.load("q-sn-"+r.header.iconvalue.split(":")[0].replace(' ',''));var classtodel=/\b(font-q-sn[^ ]*)/.exec(div.find(iconselector).attr("class"));if(classtodel)div.find(iconselector).removeClass(classtodel[1]);div.find(iconselector).addClass(icon_class).html(r.header.iconvalue.split(":")[1]);}
break;case "fold":var classtodel=/\b(font-q-sn[^ ]*)/.exec(div.find(iconselector).attr("class"));if(classtodel)div.find(iconselector).removeClass(classtodel[1]);div.find(iconselector).addClass("font-q-sn").html(iconvalue);break;}}}
function qsn_container_rendersignature(div,r){if(qsn_currstate=="edit"){var s=$(".qlubcontainer_signaturetext",div).eq(0);s.prop("disabled",true);var act="val",removeact="hide";}else{var s=$(".qlubcontainer_signature",div).eq(0);var act="texthtml",removeact="remove";}
if(!s.length)return;if(!r.showsignature||r.showsignature=="false")return s.parents("tr").eq(0)[removeact]();else{s.parents("tr").eq(0).show();if((/homepage/i).test(currsvcid))s.css("font-size","9px");if(r.showsignature=="true"){if((/homepage/i).test(currsvcid))r.showsignature="date";else r.showsignature="name";}
if(r.showsignature=="name")s[act](qsn_username(r));else if(r.showsignature=="date")s[act](qsn_username(r)+", "+q_isot2string(r.common.date));else if(r.showsignature=="custom")s[act](r.customsignature||"").prop("disabled",false);}
if(qsn_currstate=="edit")qsn_container_blurdefault(s.get(0),"notesignature");}
function qsn_container_contentMargin(r){var version=qsn_version(r.common.notekind);var marginversion=(version&&version.margin&&version.margin)||0;function gettextmargin(){if(qsn_container_client("headerTextMargin"))return qsn_container_client("headerTextMargin")(r,gettextmargin);var key;var keys=["margin","textmargin","notemargin"];if(marginversion)return parseInt(r["margin"]||0,10);for(var i=0;i<keys.length;i++){if(r[keys[i]]!=undefined){key=keys[i];break;}}
if(!key)return 10;var thedesc=$.extend({},qsn_textdesc);var notekind=r.common.notekind;thedesc=$.extend(thedesc,eval("window."+notekind+"_textdesc"));for(var k in thedesc){for(var kk in thedesc[k]){if(kk=="paddingslider"||kk=="marginslider")return parseInt(r[key]||0,10);}}
var margin=qsn_definemargins(notekind)[parseInt(r[key],10)];if(margin==undefined)margin=10;return parseInt(margin,10);}
var o={"textmargin":gettextmargin(),"version":marginversion};if(!marginversion)return o;var b=((r.shadow&&r.shadow.d)||(r.strokecolor!=undefined&&r.strokecolor!="-1")||(r.color&&r.color!="-1"));o=$.extend(o,{"top":r.margin+"px","right":r.margin+"px","bottom":r.margin+"px","left":r.margin+"px"});if(!b){o.right="0px";o.left="0px";o.bottom="0px";if(!r.header||(r.header.display!="true"&&r.header.display!="fold"))o.top="0px";}
return o;}
function qsn_container_classstyle(r){return "style_"+(r.common.snstyle||"qsn");}
function qsn_container_themeinfos(div){div=getContainer(div);var r=qsn_thenotes[div.id];var notekind=r.common.notekind;var rpd=RPD.getRPDById(r&&r.rpd);var rpdid=rpd.id;var fullrpds=quomodo.page.sections.current().fullrpds(notekind);var dico=fullrpds.dico;var dicorpd=dico[(r&&r.rpd)||rpdid]||dico[rpdid];if(!dicorpd&&rpd.richid)dicorpd=dico[rpd.richid];if(!dicorpd&&r.common.notekind=="pmtxt"){dicorpd=dico[rpdid+"?format=title1"];if(!dicorpd)dicorpd=dico[rpdid+"?format=title2"];}
var rpdname=dicorpd["fullname"];if(/^rpdp-/.test(rpdid))var title=dicorpd["title"];else var title=quomodo.message.rpds(rpdid,"variant");$(".qsn-theme .value",div).html(escapeHTML(rpdname));}
function qsn_container_renderhtml(div,r,wantDefault){if(!wantDefault&&qsn_container_client("renderhtml"))return qsn_container_client("renderhtml")(div,r);if(qsn_currstate=="edit"&&/artemapage/.test(currsvcid))qsn_container_themeinfos(div);var version=qsn_version(r.common.notekind);var bRPD=version&&version.rpd;if(!bRPD)$(div).addClass(qsn_container_classstyle(r));if(!div.toresize)div.toresize=function(){return qsn_container_toresize(this);};qsn_container_renderheader(div,r);if(!bRPD)qsn_container_rendermargin(div,r);qsn_container_rendersignature(div,r);if(qsn_currstate=="edit"&&!bRPD)$(".cancelokelem",div).css("width",qsn_width(r.common.noteid));var h=qsn_handler(r.common.notekind,"qsn_withVerticalResize");if(q_pagemode()!="edit"||!h||!h())$(".qlubcontainer_verticalhandle",div).eq(0).remove();if(!bRPD&&r.shadow){var shadowStyle=(!r.shadow.d)?"none":(r.shadow.h+" "+r.shadow.v+" "+" "+r.shadow.b+" "+r.shadow.c);$(div).css("box-shadow",shadowStyle);}}
function qsn_headerTopOffset(id){return 0;var r=qsn_thenotes[id];if(!r)return 0;return($("#"+id+" .richtarget table:eq(0) .headericon *").length>0)?16:0;}
function qsn_username(morr,dontask){return qsn_name("username",morr,dontask);}
function qsn_name(kind,morr,dontask){var m=(typeof morr=="string")?morr:morr.common.ownerid;if(m=="quomodo")return " ";if((m=="invite")&&(typeof morr!="string"))return morr.common.signature;if(!members[m]&&(typeof morr!="string")&&morr.common.savedmember)return q_displayedname(kind,morr.common.savedmember);return q_membername(kind,m);}
function qsn_ajaxsubmit(q_data,callBackFunction,stuffsvcid){if(!stuffsvcid)return alert("qsn_ajaxsubmit sans stuffsvcid");var langsvcid=stuffsvcid.replace(/@intl/,"@"+q_lang);if(stuffsvcid==currsvcid)q_ajaxsubmitwithservice(langsvcid,q_data,callBackFunction);else{q_ajaxsubmitwithservice(langsvcid,q_data,function(x){if(callBackFunction)callBackFunction(x,stuffsvcid);});}}
function qsn_ResizeNoteEvent(div){var id=div.id;var r=qsn_thenotes[id];new ResizeSensor($(".notewrap",div),function(){var section=quomodo.page.sections.get(qsn_stuffID(id));section.updateoffsets();if(spacexml.responsive&&qsn_responsive_mod()!="md"){Skeleton.manageAltMask(section.id);}
if(spacexml.responsive&&r.parentid&&$("#"+r.parentid).hasClass("responsive_finalizeresize"))qsn_responsive_finalizeresize(r.parentid,qsn_responsive_mod());else if(spacexml.responsive&&$(div).hasClass("responsive_finalizeresize"))qsn_responsive_finalizeresize(id,qsn_responsive_mod());qsn_ResizeSensor_resized(id);if(spacexml.responsive)Skeleton.resized();});if(spacexml.responsive){var divoverflow=$("#overflow_"+id).get(0);if(divoverflow){var b=false;if($(".tablenotecontent",div).length>0&&((r.header&&r.header.display=="fold")||$(".tablenotecontent",div).css("display")!="none")){divoverflow.overflowWrapper=$(".responsive_overflow-wrapper",div).get(0);divoverflow.overflowRef=$(".tablenotecontent",div).get(0);b=true;}
if($(".tablenote",div).length>0){divoverflow.overflowHeaderRef=$(".tablenote",div).get(0);b=true;}
if(b){$(".notewrap",div).get(0).targetOverflow=divoverflow;new ResizeSensor($(divoverflow),function(){});}}
if($(".tablenote",div).length>0&&r&&r.rpd&&RPD.getRPDById(r.rpd)&&RPD.getRPDById(r.rpd).rpd&&RPD.getLayout(RPD.getRPDById(r.rpd).rpd)=="separateur"){var tmp=$(".header-container",div).html();var maxwidth=0.7*qsn_responsive_width(id);$(".header-container",div).html('<div class="responsive-separateur" style="max-width:'+maxwidth+'px;visibility:hidden; height:0px; white-space:nowrap; overflow:hidden">'+tmp+'</div><span>'+tmp+'</span>').css("white-space","normal");$(".rpdheader .hr",div).css("width","50%");}}}
function qsn_sectioncolor(id,is_secid){if(is_secid)var secid=id;else var secid=qsn_stuffID(id).replace("-stuff","");var sectioncolor=$("#"+secid).attr("color_id");if(sectioncolor&&sectioncolor!="transparent")return sectioncolor;$("#"+secid).parents(".sk-wra").each(function(){sectioncolor=$(this).attr("color_id");if(!sectioncolor)sectioncolor=Skeleton.getSectionJSON($(this).attr("id"),"prepare")["cs-bg"];if(sectioncolor&&sectioncolor!="transparent"){return false;}});if(!sectioncolor){sectioncolor=$("body").attr("color_id");if(!sectioncolor)sectioncolor=Skeleton.getSectionJSON("site","prepare")["cs-bg"];}
return sectioncolor;}
function qsn_responsive_cssratio(noteid,ratio,wmd,selector,maxwidth){if(ratio==1)return "";var tmp=[];var wimg_md=wmd||(qsn_width_sm(noteid)*990/750);var minratio=(ratio>1)?1.2:0.67;var w1=wimg_md*minratio/ratio;if(w1>766){tmp.push("@media screen and ( max-width:"+(maxwidth?Math.min(maxwidth,767):767)+"px ) { .viewmode.responsive #"+noteid+" "+selector+" { padding-bottom: "+(100/minratio)+"% !important } }");}else{var w1=Math.floor(w1);if(!maxwidth||(w1+1)<maxwidth)tmp.push("@media screen and ( min-width:"+(w1+1)+"px ) and ( max-width:"+(Math.min((maxwidth?Math.min(maxwidth,767):767),Math.floor(wimg_md)))+"px ) { .viewmode.responsive #"+noteid+" "+selector+" { padding-bottom: "+(wimg_md/ratio)+"px !important } }");tmp.push("@media screen and ( max-width:"+(maxwidth?Math.min(maxwidth,w1):w1)+"px ) { .viewmode.responsive #"+noteid+" "+selector+" { padding-bottom: "+(100/minratio)+"% !important } }");}
return tmp.join("\n");}
function qsn_responsive_ratio(noteid,ratio,wmd,wxs){if(qsn_responsive_mod()!="xs")return ratio;var landscape_minratio=1.2;var portrait_maxratio=1;var portrait_minratio=0.67;var wimg_md=wmd||(qsn_width_sm(noteid)*990/750);var himg_md=wimg_md/ratio;var ratio_xs=wxs||(qsn_width_xs(noteid)/himg_md);if(ratio>1)return Math.max(landscape_minratio,Math.min(ratio,ratio_xs));if(ratio==1)return 1;if(ratio<1)return Math.min(portrait_maxratio,Math.max(portrait_minratio,Math.min(ratio,ratio_xs)));}
function qsn_setresponsive_note(div){if(spacexml.responsive){$(div).addClass("responsive_note");}}
function qsn_responsive_note(noteid,forceDup){if(!noteid||(q_pagemode()=="edit"&&!/artemadisq/.test(currsvcid)))return;if(!forceDup&&/-dup/.test(noteid))return;var section=quomodo.page.sections.get(qsn_stuffID(noteid));var div=ge(noteid);var r=qsn_thenotes[div.id];if(!r)return;var section=quomodo.page.sections.get(qsn_stuffID(noteid));if(qsn_responsive_mod()=="xs"){qsn_device_resize("xs",div,null,forceDup);}else if(qsn_responsive_mod()=="lg"){qsn_device_resize("lg",div,null,forceDup);}else if(qsn_responsive_mod()=="sm"){qsn_device_resize("sm",div,null,forceDup);}else{qsn_device_resize("md",div,null,forceDup);}}
var qsn_finalizeresize=[];var __qsn_resize={tops:null,footer:[],richnotes:[],redo:false,last_width:null};function qsn_responsive_window_resize(mode){if(window.location.hash&&!__qsn_resize.hash){__qsn_resize.hash={"value":window.location.hash,"done":false};if(/^#!/.test(window.location.hash))__qsn_resize.hash.done=true;}
if(__qsn_resize.tops){__qsn_resize.redo=(new Date()).getTime();return;}
var wwindow=$(window).width();if(__qsn_resize.last_width==wwindow)return;__qsn_resize.last_width=wwindow;var top=(new Date()).getTime();var device=qsn_responsive_mod();if(device!="xs"&&device!="sm")qlub_menus_xs_closeMenu(true);if(/artemadisq/.test(currsvcid)&&q_pagemode()=="edit"){$("body").addClass("viewmode");if(device!="md"){$("#q_leftcol").hide();$("#sk-content").css("min-width","");}else{$("#q_leftcol").css("display","");$("#sk-content").css("min-width","1400px");}}
if(/artemadisq/.test(currsvcid)&&device=="xs"){if($("#mhpdisq_actions-id1 td:eq(1) .mhpdisq_mhpdisqorderinfo").length>0){$("#mhpdisq_actions-id1 td:eq(0)").append($("#mhpdisq_actions-id1 td:eq(1) .mhpdisq_mhpdisqorderinfo"));$("#mhpdisq_actions-id1 td:eq(1)").hide();$("#mhpdisq_actions-id1 td:eq(0)").attr("colspan","3").addClass("rpd-p1");}
if($("#mhpdisq_actions-id2 td:eq(1) .mhpdisq_mhpdisqorderinfo").length>0){$("#mhpdisq_actions-id2 td:eq(0)").prepend($("#mhpdisq_actions-id2 td:eq(1) .mhpdisq_mhpdisqorderinfo"));$("#mhpdisq_actions-id2 td:eq(1)").hide();$("#mhpdisq_actions-id2 td:eq(0)").attr("colspan","3").addClass("rpd-p1");}}else if(/artemadisq/.test(currsvcid)&&device!="xs"){if($("#mhpdisq_actions-id1 td:eq(1) .mhpdisq_mhpdisqorderinfo").length==0){$("#mhpdisq_actions-id1 td:eq(1)").append($("#mhpdisq_actions-id1 td:eq(0) .mhpdisq_mhpdisqorderinfo"));$("#mhpdisq_actions-id1 td:eq(1)").css("display","");$("#mhpdisq_actions-id1 td:eq(0)").attr("colspan","2").removeClass("rpd-p1");}
if($("#mhpdisq_actions-id2 td:eq(1) .mhpdisq_mhpdisqorderinfo").length==0){$("#mhpdisq_actions-id2 td:eq(1)").append($("#mhpdisq_actions-id2 td:eq(0) .mhpdisq_mhpdisqorderinfo"));$("#mhpdisq_actions-id2 td:eq(1)").css("display","");$("#mhpdisq_actions-id2 td:eq(0)").attr("colspan","2").removeClass("rpd-p1");}}
if($("#club_login_logandsub").length>0){if(device=="xs"&&!$("#club_login_logandsub").data("modxs")){if(!$("#club_login_logandsub").data("backup_html"))$("#club_login_logandsub").data("backup_html",$("#club_login_logandsub").html());$("#club_login_logandsub > tbody").append('<tr></tr>');$("#club_login_logandsub > tbody > tr").last().append($("#loginpage_subscribe").parent());$("#club_login_logandsub > tbody").append('<tr></tr>');$("#club_login_logandsub > tbody > tr").last().append($("#loginpage_subscribe_desc").parent());$("#club_logintable_prompt").attr("colspan","1");$(".club_login_return_container").addClass("rpd-ipb");$("#club_login_logandsub").data("modxs",true);}else if(device!="xs"&&$("#club_login_logandsub").data("modxs")){$("#club_login_logandsub").html($("#club_login_logandsub").data("backup_html"));$(".club_login_return_container").removeClass("rpd-ipb");$("#club_login_logandsub").data("modxs",false);}
$("#club_login_logandsub").css("visibility","visible");}
var wtop=$(window).scrollTop();var wbottom=wtop+$(window).height();__qsn_resize.tops=[];__qsn_resize.footer=[];__qsn_resize.richnotes=[];$(".note").each(function(){if(!this.id)return;if(/dup/.test(this.id))return;var stuffID=qsn_stuffID(this.id);if(stuffID)stuffID=stuffID.replace(/-stuff$/,"");if(/^h-/.test(stuffID)){if(!spacexml.lgresponsive)return;if(/-(sm|xs)$/.test(stuffID))return;if(!(qsn_thenotes&&qsn_thenotes[this.id]&&qsn_thenotes[this.id].common&&qsn_thenotes[this.id].common.notekind=="menuh"))return;}
var $headSeparator=$(".header-container .responsive-separateur",this);if($headSeparator.length>0)$headSeparator.css("max-width",0.7*qsn_responsive_width(this.id)+"px");var $this=$(this);if(pages_isrichnote(this.id))__qsn_resize.richnotes.push(this.id);var r=qsn_thenotes[this.id];if(r&&r.common.notekind=="nws"&&r.imgtosec)return;if(/^f-/.test(qsn_stuffID(this.id))){if($this.hasClass("responsive_note"))__qsn_resize.footer.push({"top":$this.offset().top,"height":$this.height(),"id":this.id,"responsive":$this.hasClass("responsive_note")});return;}
__qsn_resize.tops.push({"top":$this.offset().top,"height":$this.height(),"id":this.id,"responsive":$this.hasClass("responsive_note")});});__qsn_resize.tops.sort(function(a,b){return a.top-b.top;});__qsn_resize.footer.sort(function(a,b){return a.top-b.top;});var ifirst=null;var ifirsttop=null;var ilast=null;qsn_finalizeresize=[];var clean_overflow=[];var wait_clean_overflow=false;for(var i=0;i<__qsn_resize.tops.length;i++){if(mode=="init"){if(__qsn_resize.tops[i].responsive)qsn_responsive_note(__qsn_resize.tops[i].id);continue;}
if(ifirst==null&&((__qsn_resize.tops[i].top+__qsn_resize.tops[i].height)<wtop)){$("#"+__qsn_resize.tops[i].id).hide();continue;}
if(ifirst==null)ifirst=i;if(ilast==null){if(ifirsttop==null&&__qsn_resize.tops[i].top>wtop)ifirsttop=i;if(__qsn_resize.tops[i].responsive)qsn_responsive_note(__qsn_resize.tops[i].id);if(__qsn_resize.tops[i].top>wbottom)ilast=i;clean_overflow.push(__qsn_resize.tops[i].id);}else $("#"+__qsn_resize.tops[i].id).hide();}
for(var i=0;i<__qsn_resize.footer.length;i++){if(__qsn_resize.footer[i].responsive)qsn_responsive_note(__qsn_resize.footer[i].id);}
for(var i=0;i<clean_overflow.length;i++)$("#"+clean_overflow[i]+" .resize-sensor").hide();setTimeout(function(){for(var i=0;i<clean_overflow.length;i++)$("#"+clean_overflow[i]+" .resize-sensor").show();clean_overflow=[];if(wait_clean_overflow)finalizeResize();},1);for(var i=0;i<qsn_finalizeresize.length;i++)qsn_finalizeresize[i]();function finalizeResize(){if(clean_overflow.length>0){wait_clean_overflow=true;return;}
var device=qsn_responsive_mod();$(".note.responsive_finalizeresize").each(function(){qsn_responsive_finalizeresize(this.id,device);});if(__qsn_resize.redo){var dt=(new Date()).getTime()-__qsn_resize.redo;if(dt<200){setTimeout(function(){finalizeResize();},200-dt);return;}}
__qsn_resize.tops=null;if(__qsn_resize.redo){__qsn_resize.redo=false;qsn_responsive_window_resize();}
if(__qsn_resize.hash&&!__qsn_resize.hash.done){__qsn_resize.hash.done=true;var starting_top=Skeleton.startingTop();if(q_pagemode()=="edit"||q_pagemode()=="view")starting_top+=$("#qlub_adminbar").height();if(qsn_responsive_mod()=="xs")starting_top+=$("#h-1-xs").height();$(window).scrollTop($(__qsn_resize.hash.value).offset().top-starting_top);}}
setTimeout(function(){qsn_finalizeresize=[];for(var i=0;i<(ifirst==null?__qsn_resize.tops.length:ifirst);i++){$("#"+__qsn_resize.tops[i].id).css("display","");if(__qsn_resize.tops[i].responsive)qsn_responsive_note(__qsn_resize.tops[i].id);}
for(var i=0;i<qsn_finalizeresize.length;i++)qsn_finalizeresize[i]();if(mode!="init"){if(ifirst!=null){$(window).scrollTop($("#"+__qsn_resize.tops[ifirsttop==null?ifirst:ifirsttop].id).offset().top+wtop-__qsn_resize.tops[ifirsttop==null?ifirst:ifirsttop].top);}else if(__qsn_resize.tops.length>0&&__qsn_resize.footer.length>0){$(window).scrollTop($("#"+__qsn_resize.footer[0].id).offset().top+wtop-__qsn_resize.footer[0].top);}}
if(ilast!=null){setTimeout(function(){qsn_finalizeresize=[];for(var i=ilast+1;i<__qsn_resize.tops.length;i++){$("#"+__qsn_resize.tops[i].id).css("display","");if(__qsn_resize.tops[i].responsive)qsn_responsive_note(__qsn_resize.tops[i].id);}
for(var i=0;i<qsn_finalizeresize.length;i++)qsn_finalizeresize[i]();finalizeResize();},10);}else finalizeResize();},10);$(".sk-sec").each(function(){var secid=$(this).attr("id");var section=quomodo.page.sections.get(secid);$("#"+secid+"-stuff").removeClass("sec-sm-free sec-sm-grid sec-lg-free sec-lg-grid");if(qsn_responsive_mod()=="sm"){var $stuffTable=$(this).find(".stuff-table");$stuffTable.width($stuffTable.attr("sm-max-width")+"px");if(section.isaligned())$("#"+secid+"-stuff").addClass("sec-sm-"+(section.isaligned()?"grid":"free"));}else if(qsn_responsive_mod()=="lg"){var $stuffTable=$(this).find(".stuff-table");$stuffTable.width($stuffTable.attr("lg-max-width")+"px");if(section.isaligned())$("#"+secid+"-stuff").addClass("sec-lg-"+(section.isaligned()?"grid":"free"));}else if(qsn_responsive_mod()=="md"){var $stuffTable=$(this).find(".stuff-table");$stuffTable.width($stuffTable.attr("md-max-width")+"px");}});var starting_top=Skeleton.startingTop();var starting_top_menu_xs=0;if(q_pagemode()=="view"&&qsn_responsive_mod()!="xs"){starting_top+=$("#qlub_adminbar").height();starting_top_menu_xs+=$("#qlub_adminbar").height();}
$("#xs_pushmenu").height($(window).height());$("#xs_pushmenu ul.qlub_menu_content").height($(window).height()-starting_top_menu_xs);$("#xs_pushmenu ul.qlub_menu_content").css("top",starting_top_menu_xs+"px");if($(".q_fsmblockcontainer_block").length>0&&$(".q_fsmblockcontainer_block iframe").length==0){$(".q_fsmblockcontainer_block").css({"left":function(){return Math.round((q_windowInnerWidth()-$(this).width())/2)+"px"},"top":function(){return Math.round((q_windowInnerHeight()-$(this).height())/4)+"px";}});}
if(window.quomodoclient&&quomodoclient.responsive_window_resize)quomodoclient.responsive_window_resize();}
function qsn_makeResponsive(){if(window.quomodoclient&&quomodoclient.disableMakeResponsive)return;quomodo.events.addListener("windowresize",function(){qsn_responsive_mod_var=null;setTimeout(function(){qsn_responsive_mod_var=null;qsn_responsive_window_resize();$(".qiframe").each(function(){quomodo.iframe(this).triggerResize();});},1);},window);if(qsn_isTouchDevice()){$(window).on("mousemove",function(){var now=(new Date()).getTime();if(__device.lastcall){if((now-__device.lastcall)<100){if(!__device.mousecount)__device.mousecount=0;__device.mousecount++;}}
__device.lastcall=now;if(!__device.events)__device.events=0;__device.events++;if(__device.mousecount==10){__device.hasMouse=true;$(window).off("mousemove");}
if(__device.events==20){$(window).off("mousemove");}});}
var h1xsTop=null;if(!(window.quomodoclient&&quomodoclient.useBannerRule&&skeleton.bannerRule)){quomodo.events.addListener("windowscroll",function(){var h_xs_id="h-1-xs";if($("#h-1-xs").length==0)h_xs_id="h-0-xs";var hSelectorId="#"+h_xs_id;var $wrapperFixed;$(hSelectorId).parents(".sk-wra").each(function(){var $this=$(this);if($this.css("position")=="fixed"||$this.attr("fixedpos")=="1"){$wrapperFixed=$this;return false;}});if(qsn_responsive_mod()=="xs"){if($(hSelectorId).length>0){if(!$wrapperFixed||$wrapperFixed.length==0){if(h1xsTop==undefined){if($(hSelectorId).data("h1xsTop")!=undefined)h1xsTop=$(hSelectorId).data("h1xsTop");else h1xsTop=$(hSelectorId).offset().top;$(hSelectorId).data("h1xsTop",h1xsTop);}
if($(window).scrollTop()>=h1xsTop){$(hSelectorId).css({"position":"fixed","z-index":"1000"});$(hSelectorId+"-fixed").show();if(Skeleton.getSectionColor(h_xs_id))$(hSelectorId+" .sk-bw-bg").css({"background-color":quomodoColors.richColor(Skeleton.getSectionColor(h_xs_id)).c});if($("#sk-content").css("left")=="270px")$(hSelectorId).css("left","270px");else $(hSelectorId).css("left","");}else{$(hSelectorId).css({"position":"","z-index":"","left":""});$(hSelectorId+"-fixed").hide();$(hSelectorId+" .sk-bw-bg").css({"background-color":""});}}else{if($wrapperFixed.css("position")=="fixed"){$(hSelectorId+"-fixed").show();if(Skeleton.getSectionColor(h_xs_id))$(hSelectorId+" .sk-bw-bg").css({"background-color":quomodoColors.richColor(Skeleton.getSectionColor(h_xs_id)).c});if($("#sk-content").css("left")=="270px")$wrapperFixed.css("left","270px");else $wrapperFixed.css("left","");}else{$(hSelectorId+"-fixed").hide();$(hSelectorId+" .sk-bw-bg").css({"background-color":""});$wrapperFixed.css("left","");}}}}else{if(!$wrapperFixed||$wrapperFixed.length==0){$(hSelectorId).css({"position":"","z-index":"","left":""});$(hSelectorId+"-fixed").hide();$(hSelectorId+" .sk-bw-bg").css({"background-color":""});}else{$(hSelectorId+"-fixed").hide();$(hSelectorId+" .sk-bw-bg").css({"background-color":""});if($wrapperFixed.css("position")=="fixed"&&$("#sk-content").css("left")=="270px")$wrapperFixed.css("left","270px");else $wrapperFixed.css("left","");}}},window);}
quomodo.page.sections.bannerFitSizes();qsn_responsive_window_resize("init");}
function qsn_edit_css_note(css,callback){var path_qprompt="/services/dialogs/q_prompt-flatdesign/index_"+q_lang+".html";var css_note=(callback)?css:qsn_thenotes[qsn_edittarget.id].cssnote;var options_qprompt={"json":{"title":"Perso CSS","emptyvalue":true,"multiple":true,"rows":20,"width":"500px","defaultvalue":css_note||"/* utiliser le selecteur #noteid pour cibler spécifiquement la note */\n\n"},"callback":function(x){if(!x)return;if(callback){callback(x.value);}else{qsn_thenotes[qsn_edittarget.id].cssnote=x.value;}}};quomodo.fsm.loadDialog(path_qprompt,options_qprompt);}
var qsn_cssnotes={};var qsn_cssnotes_loading=false;function qsn_common_css_note(id){var stuffID=qsn_stuffID(id);var r=qsn_thenotes[id];if(r.cssnote)qsn_css_note(id,((typeof r.cssnote=="string")?r.cssnote:r.cssnote.join("\n")).replace(/#noteid/g,"#"+id),"cssnote");var lgBanner=false;if(stuffID&&/^h-/.test(stuffID)){if(!spacexml.lgresponsive)return;if(quomodo.page.sections.expertLgBanner)return;if(/-(sm|xs)$/.test(stuffID))return;lgBanner=true;}
if(r.common.notekind=="menuh"&&/-dup/.test(id))return;var section=quomodo.page.sections.get(qsn_stuffID(id));var sm_css=[];var sm_cssnote=[];var lg_css=[];var lg_cssnote=[];var xs_css;sm_cssnote.push("width: "+qsn_width_sm(id)+"px !important");if(spacexml.lgresponsive){if(!r.lgkeeporiginal)lg_cssnote.push("width: "+qsn_width_lg(id)+"px !important");if(r.common.notekind=="menuh"){lg_css.push(".viewmode.responsive #"+id+"-dup { width: "+qsn_width_lg(id,true)+"px !important }");}}
var bIsRichNote;function isRichNote(){if(bIsRichNote!=undefined)return bIsRichNote;bIsRichNote=pages_isrichnote(id);return bIsRichNote;}
function scaleTop(){if(!r.parentid)return false;var parentNote=qsn_thenotes[r.parentid];if(!parentNote)return false;return $.inArray(parentNote.common.notekind,["pimg"])!=-1;}
if(!section.isaligned()||r.parentid||isRichNote()){sm_cssnote.push("left:"+parseInt(r.spacedefaults.common.left,10)*devicesDef.sm.contentWidth/devicesDef.md.contentWidth+"px !important");if(spacexml.lgresponsive){if(r.lgkeeporiginal){lg_cssnote.push("left:"+(parseInt(r.spacedefaults.common.left,10)*devicesDef.lg.contentWidth/devicesDef.md.contentWidth+((qsn_width_lg(id)-parseInt(qsn_width(id),10))/2))+"px !important");}else{lg_cssnote.push("left:"+parseInt(r.spacedefaults.common.left,10)*devicesDef.lg.contentWidth/devicesDef.md.contentWidth+"px !important");}}
if(isRichNote()){var o=(r.common&&r.common.richinfos)||{offsetWidth:1000};if((o.offsetWidth+30)<768){var wpx=qsn_width(id);xs_css=[];xs_css.push(".viewmode.responsive #sk-content .sk-sec-rwd #ghost_"+id+" { width: "+o.offsetWidth+"px !important ; display: block ; position: relative !important ; margin: 15px auto !important }");xs_css.push(".viewmode.responsive #sk-content .sk-sec-rwd #"+id+" { width: "+wpx+" !important ; position: relative !important ; padding: 0px }");xs_css.push(".viewmode.responsive #sk-content .sk-sec-rwd #"+id+"-richtarget, .viewmode.responsive #sk-content .sk-sec-rwd #"+id+"-richtarget-before { position: absolute !important }");function getXSTop(){var topmin=0;var top;for(var childid in qsn_thenotes){if(!qsn_thenotes[childid])continue;if(qsn_thenotes[childid].parentid!=id)continue;if(qsn_thenotes[childid].hiddenxs==true)continue;if(qsn_thenotes[childid].common&&qsn_thenotes[childid].common.notekind=="mcn"&&qsn_thenotes[childid].hiddenxs!=false)continue;top=parseInt(qsn_top(childid,true),10);if(top<topmin)topmin=top;}
return-Math.min(topmin,0);}
xs_css.push(".viewmode.responsive #sk-content .sk-sec-rwd #"+id+", .viewmode.responsive #sk-content .sk-sec-rwd #"+id+"-richtarget, .viewmode.responsive #sk-content .sk-sec-rwd #"+id+"-richtarget-before { top: "+getXSTop()+"px !important }");xs_css="@media screen and ( min-width : "+(o.offsetWidth+30)+"px ) and ( max-width: 767px ) { "+xs_css.join("\n")+"}";xs_css+="\n@media screen and ( max-width: "+(o.offsetWidth+29)+"px ) { .viewmode.responsive #sk-content .sk-sec-rwd #"+id+" { height: auto !important }}"}else{xs_css="@media screen and ( max-width: 767px ) { .viewmode.responsive #sk-content .sk-sec-rwd #"+id+" { height: auto !important }}"}
sm_css.push(".viewmode.responsive #"+id+"-richtarget, .viewmode.responsive #"+id+"-richtarget-before { left:"+parseInt(r.spacedefaults.common.left,10)*devicesDef.sm.contentWidth/devicesDef.md.contentWidth+"px !important }");if(spacexml.lgresponsive){lg_css.push(".viewmode.responsive #"+id+"-richtarget, .viewmode.responsive #"+id+"-richtarget-before { left:"+parseInt(r.spacedefaults.common.left,10)*devicesDef.lg.contentWidth/devicesDef.md.contentWidth+"px !important }");}}else if(r.parentid){var parentNote=qsn_thenotes[r.parentid];var o=(parentNote&&parentNote.common&&parentNote.common.richinfos)||{offsetWidth:1000};if((o.offsetWidth+30)<768){var wpx=qsn_width(id);xs_css=[];xs_css.push(".viewmode.responsive #sk-content .sk-sec-rwd #overflow_"+id+" { width: "+wpx+" !important ; position: relative !important ; display: block }");xs_css.push(".viewmode.responsive #sk-content .sk-sec-rwd #"+id+" { width: "+wpx+" !important ; position: absolute !important ; padding: 0px }");xs_css="@media screen and ( min-width : "+(o.offsetWidth+30)+"px ) and ( max-width: 767px ) { "+xs_css.join("\n")+"}";}}
if(scaleTop()){sm_cssnote.push("top:"+parseInt(r.spacedefaults.common.top,10)*devicesDef.sm.contentWidth/devicesDef.md.contentWidth+"px !important");if(spacexml.lgresponsive)lg_cssnote.push("top:"+parseInt(r.spacedefaults.common.top,10)*devicesDef.lg.contentWidth/devicesDef.md.contentWidth+"px !important");}}
sm_css.push(".viewmode.responsive #"+id+" { "+sm_cssnote.join(" ; ")+" }");if(spacexml.lgresponsive)lg_css.push(".viewmode.responsive #"+id+" { "+lg_cssnote.join(" ; ")+" }");if(section.isaligned()&&!r.parentid){sm_css.push(".viewmode.responsive #ghost_"+id+" { width: "+qsn_width_sm(id,true)+"px !important }");if(spacexml.lgresponsive)lg_css.push(".viewmode.responsive #ghost_"+id+" { width: "+qsn_width_lg(id,true)+"px !important }");}
if(!r.parentid){sm_css.push(".viewmode.responsive #overflow_"+id+" { width: "+qsn_width_sm(id,true)+"px !important }");if(spacexml.lgresponsive){lg_css.push(".viewmode.responsive #overflow_"+id+" { width: "+qsn_width_lg(id,true)+"px !important }");if(r.common.notekind=="menuh"){lg_css.push(".viewmode.responsive #overflow_"+id+"-dup { width: "+qsn_width_lg(id,true)+"px !important }");}}}
if(lgBanner){qsn_css_note(id,"@media screen and ( min-width : 1200px ) { "+lg_css.join("\n")+"}");}else{qsn_css_note(id,"@media screen and ( min-width : 768px ) and ( max-width: 1007px ) { "+sm_css.join("\n")+"}"+(xs_css?("\n"+xs_css):"")+(spacexml.lgresponsive?("\n"+"@media screen and ( min-width : 1200px ) { "+lg_css.join("\n")+"}"):""));}
if(r.cssnote)qsn_css_note(id,((typeof r.cssnote=="string")?r.cssnote:r.cssnote.join("\n")).replace(/#noteid/g,"#"+id),"cssnote");}
function qsn_css_note(noteid,css,key){if(!spacexml.responsive)return;var sectionKey;if(noteid){if(noteid&&/^inline:/.test(noteid)){sectionKey=noteid.replace(/^inline:/,"");}else{sectionKey=qsn_stuffID(noteid).replace(/-stuff/,"");}
if(!/^(h|f|sk)-/.test(sectionKey))sectionKey="page";if(!qsn_cssnotes[sectionKey])qsn_cssnotes[sectionKey]={};if(!qsn_cssnotes[sectionKey][noteid])qsn_cssnotes[sectionKey][noteid]={};qsn_cssnotes[sectionKey][noteid][key||"common"]=css;}
if(!qsn_cssnotes_loading){var tmp={};if(sectionKey){tmp[sectionKey]=[];for(var k in qsn_cssnotes[sectionKey]){for(var key in qsn_cssnotes[sectionKey][k]){if(key=="cssnote")continue;tmp[sectionKey].push(qsn_cssnotes[sectionKey][k][key]);}
if(qsn_cssnotes[sectionKey][k]["cssnote"])tmp[sectionKey].push(qsn_cssnotes[sectionKey][k]["cssnote"]);}}else{for(var sectionKey in qsn_cssnotes){tmp[sectionKey]=[];for(var k in qsn_cssnotes[sectionKey]){for(var key in qsn_cssnotes[sectionKey][k]){if(key=="cssnote")continue;tmp[sectionKey].push(qsn_cssnotes[sectionKey][k][key]);}
if(qsn_cssnotes[sectionKey][k]["cssnote"])tmp[sectionKey].push(qsn_cssnotes[sectionKey][k]["cssnote"]);}}}
for(var sectionKey in tmp){var target;if(sectionKey=="page")target="head";else target="#"+sectionKey;var cssId="cssNotes"+(q_pagemode()=="web"?"-web":"")+(sectionKey!="page"?("-"+sectionKey):"");$("#"+cssId).remove();$(target).append('<style id="'+cssId+'">\n<!--\n'+tmp[sectionKey].join("\n")+'\n-->\n</style>');}}}
function qsn_imgratio(ratio,rimg,r){if(!ratio||ratio=="auto")return(r&&r.rpd)?RPD.qsnDefaults(r.rpd).imgratio||1:1;if(ratio=="image"){if(rimg.kind=="web"&&rimg.imgSize)return rimg.imgSize.width/rimg.imgSize.height;else if(rimg&&rimg.imagewidth&&rimg.imageheight)return rimg.imagewidth/rimg.imageheight;return 1;}
return ratio;}
function qsn_imgurlwithratio(rimg,imgwidth,r){if(!(rimg.imagewidth&&rimg.imageheight))return xqsn_screenfilepath(rimg,imgwidth,r);var gaprate=1;var wquarter=gaprate*250;var whalf=gaprate*500;var ratio=qsn_imgratio((rimg&&rimg.ratio)||(r&&r.img&&r.img.ratio),rimg,r);var trueratio=rimg.imagewidth/rimg.imageheight;var width=parseInt(imgwidth||rimg.width||qsn_width(r.common.noteid),10);var width=Math.max(width,width*trueratio/ratio);var formats=["quarterscreen","halfscreen","screen"];if(width>whalf)formats=["screen","halfscreen","quarterscreen"];else if(width>wquarter)formats=["halfscreen","screen","quarterscreen"];if(!rimg.formats)return rimg.downloadsrc||rimg.src;var screenfilepath=rimg.formats[formats[0]];if(!screenfilepath)screenfilepath=rimg.formats[formats[1]];if(!screenfilepath)screenfilepath=rimg.formats[formats[2]];return screenfilepath;}
function qsn_define_lh(fs,fs0,lh0){return RPD.define_lh(fs,fs0,lh0);}
function qsn_definetextaligns(notekind,wantdefault){var h=qsn_handler(notekind,"qsn_definetextaligns",wantdefault);if(h)return h();return["left","right","center","justify"];}
function qsn_definefontfamilies(notekind,wantdefault){var h=qsn_handler(notekind,"qsn_definefontfamilies",wantdefault);if(h)return h();var res=[[-1,"default"],[0,"Arial, Helvetica, sans-serif"],[1,"'Times New Roman', Times, serif"],[3,"'Courier New', monospace"],[2,"Zapf-Chancery, 'Segoe Script', cursive"],[5,"'Lucida Sans', 'Lucida Grande', sans-serif"],[4,"Verdana, Geneva, sans-serif"],[7,"'Palatino Linotype', 'Book Antiqua', Palatino, serif"],[8,"Georgia, serif"],[9,"'Arial Black', Gadget, sans-serif"],[10,"'Century Gothic', sans-serif"],[11,"'Trebuchet MS', Helvetica, sans-serif"],[6,"Impact, Charcoal, sans-serif"],[12,"Tahoma, Geneva, sans-serif"]];if(window.client_definefontfamilies)res=res.concat(client_definefontfamilies());return res;}
function getFontFamilyByCode(code,notekind,wantdefault){if(code==-1)return "inherit";var fonts=qsn_definefontfamilies(notekind,wantdefault);for(var i=0;i<fonts.length;i++){if(fonts[i][0]==code)return fonts[i][1];}
return null;}
function qsn_definemargins(notekind,wantdefault){var h=qsn_handler(notekind,"qsn_definemargins",wantdefault);if(h)return h();return["0","5px","10px","15px","20px"];}
function qsn_definepaddings(notekind,wantdefault){var h=qsn_handler(notekind,"qsn_definepaddings",wantdefault);if(h)return h();return["0px","5px","10px","15px","20px"];}
function qsn_defineopacities(notekind,wantdefault){var h=qsn_handler(notekind,"qsn_defineopacities",wantdefault);if(h)return h();return[1,0.75,0.5,0.25,0];}
function qsn_definefontsizes(notekind,wantdefault){var h=qsn_handler(notekind,"qsn_definefontsizes",wantdefault);if(h)return h();return["15px","12px","10px"];}
function qsn_definelineheights(notekind,wantdefault){var h=qsn_handler(notekind,"qsn_definelineheights",wantdefault);if(h)return h();return["18px","15px ","13px"];}
function qsn_definetextspacings(notekind,wantdefault){var h=qsn_handler(notekind,"qsn_definetextspacings",wantdefault);if(h)return h();return["-1px","0px","3px"];}
var qsn_message={"centerdesc":"centrer la description","duplicationinprogress":"Duplication en cours. Merci de patienter...","writeonly-selectnote":"Cette note a conservé des contenus provisoires","suppressnote":"Êtes-vous certain de vouloir supprimer cette note ?","suppressnote-or-more":'<div style="width: 370px ; padding-bottom: 5px">%s<br/><br/>Vous pouvez également supprimer plusieurs notes d\'un coup.</div>',"suppressnote-confirm":"supprimer cette note","suppressnote-multiple":"supprimer plusieurs notes","suppressnote-selectnote-singlename":"supprimer cette note","suppressnote-selectnote-pluralname":"supprimer %n notes","suppressnote-selectnote-cancel":"tout annuler","suppressnote-multiple-confirm-validate":"supprimer","suppressnote-multiple-confirm-single":"Êtes-vous certain de vouloir supprimer cette note ?","suppressnote-multiple-confirm-plural":"Êtes-vous certain de vouloir supprimer ces %n notes ?","suppressreplynote":"Êtes-vous certain de vouloir supprimer cette réponse ?","duplicatenote-or-more":'<div style="width: 370px ; padding-bottom: 5px">Êtes-vous certain de vouloir dupliquer cette note ?<br/><br/>Vous pouvez également dupliquer plusieurs notes d\'un coup.</div>',"duplicatenote-confirm":"dupliquer cette note","duplicatenote-multiple":"dupliquer plusieurs notes","duplicatenote-selectnote-singlename":"dupliquer cette note","duplicatenote-selectnote-pluralname":"dupliquer %n notes","duplicatenote-selectnote-cancel":"tout annuler","duplicatenote-multiple-confirm-validate":"dupliquer","duplicatenote-multiple-confirm-single":"Êtes-vous certain de vouloir dupliquer cette note ?","duplicatenote-multiple-confirm-plural":"Êtes-vous certain de vouloir dupliquer ces %n notes ?","archivenote-or-more":'<div style="width: 370px ; padding-bottom: 5px">Êtes-vous certain de vouloir archiver cette note<br/><br/>Vous pouvez également archiver plusieurs notes d\'un coup.</div>',"archivenote-confirm":"archiver cette note","archivenote-multiple":"archiver plusieurs notes","archivenote-selectnote-singlename":"archiver cette note","archivenote-selectnote-pluralname":"archiver %n notes","archivenote-selectnote-cancel":"tout annuler","archivenote-multiple-confirm-validate":"archiver","archivenote-multiple-confirm-single":"Êtes-vous certain de vouloir archiver cette note ?","archivenote-multiple-confirm-plural":"Êtes-vous certain de vouloir archiver ces %n notes ?","alignnote-or-more":'<div style="width: 370px ; padding-bottom: 5px">Êtes-vous certain de vouloir aligner cette note ?<br/><br/>Vous pouvez également aligner plusieurs notes d\'un coup.</div>',"alignnote-confirm":"aligner cette note","alignnote-multiple":"aligner plusieurs notes","alignnote-selectnote-singlename":"aligner cette note","alignnote-selectnote-pluralname":"aligner %n notes","alignnote-selectnote-cancel":"tout annuler","alignnote-multiple-confirm-validate":"aligner","alignnote-multiple-confirm-single":"Êtes-vous certain de vouloir aligner cette note ?","alignnote-multiple-confirm-plural":"Êtes-vous certain de vouloir aligner ces %n notes ?","notviewmode":"Opération impossible pour l'instant. Si une note est actuellement en cours de modification, cliquez d'abord sur annuler ou sur ok.","plug":"Vos blocs_Choisissez ceux que vous voulez avoir toujours sous la main.","newnoteprompt":"cliquez ici pour rédiger une nouvelle note","inviteusername":"Veuillez indiquer une signature pour votre message.","undefineduser":"membre inconnu","missingeditblocks":"missing in editblocks html","notecolor":"Couleur de la note","color":"Couleur","sitecolor":"Couleurs du site :","morecolors":"autres couleurs","otherscolors":"Autres couleurs :","transparent":"fond transparent","undefinedhandler":"Fonction non disponible. Veuillez nous excuser.","undefinedtip":"(aide non disponible)","shareboardrights":"Droits de modification","f1":"Texte principal","f2":"Texte secondaire","f3":"Titre principal","f4":"Titre secondaire","tip_unlock":"libérer la note","tip_edit":"modifier la note","tip_replyto":"répondre à la note","tip_reduce":"réduire","tip_expand":"agrandir","tip_hideanswers":"masquer les réponses","tip_showanswers":"voir les réponses","tip_suppress":"supprimer la note","tip_suppressreply":"supprimer la réponse","tip_duplicate":"dupliquer / déplacer la note","tip_rich":"associer une nouvelle note...","tip_help":"aide","tip_sendtobckg":"mettre en arrière-plan","tip_move":"déplacer la note","tip_setviewed":"marquer comme vu","tip_getviewed":"vu par...","tip_live":"vider + archiver + nouveau message","tip_live2":"vider + archiver + nouveau message","tip_exportxls":"exporter vers Excel ou RAZ","tip_addevent":"nouveau match","tip_markers":"ajouter un point","tip_lines":"tracer une ligne","tip_shapes":"dessiner une forme","tip_razcounter":"remise à zéro","tip_palette":"changer la couleur de fond","tip_inmargin":"accepter l'alignement dans la marge","tip_dissociate":"dissocier la note","tip_mobile":"réglages smartphone","tip_archive":"archiver la note","tip_transform":"transformer la note","tip_colors":"ajuster les couleurs","tip_skeleton":"ajuster le design","tip_align":"aligner","tip_section_addnote":"ajouter du contenu","tip_section_separator":"ajouter un séparateur","tip_section_image":"image de fond","tip_section_grid":"mise en page","tip_section_mobile":"réglages smartphone","tip_section_advanced":"réglages avancés","tip_section_sk":"réglages maquette","tip_section_displaybanner":"versions de bannière","tip_section_banner":"réglages bannière","tip_section_bannercontent":"contenu de bannière","tip_section_background":"fond de section","tip_togglecart_true":"masquer le panier","tip_togglecart_false":"afficher le panier","archivenote":"Êtes vous sûr de vouloir archiver cette note ?<br/>Si oui, veuillez indiquer la page d'archives.","notetitleprompt":"Cliquez ici pour ajouter un titre...","notesignature":"Cliquez ici pour ajouter une signature...","tabcolor":"Couleur","tabheader":"Titre","tabsignature":"Signature","taboptions":"Options de la note","tabtext":"Texte","maskheader":"masquer le titre","displayheader":"afficher le titre","displayfoldedheader":"afficher le titre seul","hideicon":"masquer l'icône","showicon":"afficher l'icône","note-background-color":"Fond de la note","note-stroke-color":"Tour","headercolortitle":"Couleur :","headercolorlikenote":"comme la note","headercolorwhite":"blanc","headercolorblack":"noir","headericontitle":"Icône :","headericonprevious":"Icônes précédentes","headericonnone":"aucune icône","headericonnext":"Icônes suivantes","signature_hide":"masquer la signature","signature_show":"afficher le nom","signature_date":"afficher le nom et la date","signature_custom":"signature personnalisée","qsn_textsize":"Taille du texte","qsn_textsize:":"Taille du texte : ","qsn_textfont":"Type de lettres","font-1":"(défaut)","font0":"Arial","font1":"Times","font2":"Cursive","font3":"Courier","font4":"Verdana","font5":"Lucida Sans","font6":"Impact","font7":"Palatino","font8":"Georgia","font9":"Arial Black","font10":"Century","font11":"Trebuchet","font12":"Tahoma","fold_sn_content":"le clic sur le titre déplie le bloc","size0":"grand","size1":"moyen","size2":"petit","qsn_textoptions":"Options","textstyleoptions":"Options de style","bold":"gras","center":"centré","italic":"italique","uppercase":"maj.","qsn_textalign":"Alignement","align0":"gauche","align1":"droite","align2":"centré","align3":"justifié","qsn_textspacing":"Espacement","spacing0":"réduit","spacing1":"normal","spacing2":"fort","qsn_tabmargin":"Marge","qsn_textmargin":"Marge autour du texte","qsn_imagesize":"Taille de l'image","margin":"Marge","margin0":"aucune","margin1":"fine","margin2":"normale","margin3":"grande","margin4":"très grande","qsn_textopacity":"Transparence","opacity0":"aucune","opacity1":"légère","opacity2":"moyenne","opacity3":"forte","opacity4":"complète","tabtextcolor":"Couleur du texte","qsn_tablinks":"Lien","qsn_linktitle":"Type de lien","link":"URL de la page","link0":"aucun lien","link1":"lien vers une page web","link2":"lien vers une page du site","link3":"lien vers un fichier","link4":"lien javascript (expert)","link5":"lien envoi d'un e-mail","link6":"lien vers une note","currentlink":"Actuellement :","currentlink0":"aucun lien","currentlink1":"lien vers la page web","currentlink2":"lien vers la page du site","currentlink3":"lien vers le fichier","currentlink4":"lien javascript","currentlink5":"lien envoi vers l'e-mail","currentlink6":"lien vers la note","currentlink7":"popup de la page","currentlink8":"lien spécial","currentlink9":"lien calendrier","Choosepage":"Choisissez une page","insertlink_page":"Insérer un lien vers une page du site","nofile":"Aucun fichier sélectionné","clicktochooseafile":"Cliquez pour choisir un fichier.","selectnote":"Voulez-vous sélectionner la note numéro \n%s \nde type %v \net commençant par le texte suivant : ","cancel":"annuler","small":"petit","large":"grand","qsn_textsize:min":"petit","qsn_textsize:max":"grand","ok":"ok","confirmdelete":"Voulez-vous vraiment supprimer ce fichier ?","deletefilealt":"Supprimer le fichier","filename":"Nom du fichier","uploadtitlefile":"Charger un fichier","comment":"Commentaire :","link":"Lien :","size":"Taille","rank":"Rang","date":"Date","duplicatenote":"Dupliquer / déplacer la note","selectnote_next":"note suivante","selectnote_select":"Valider","selectnote_cancel":"Annuler","selectnote_desc":"Choisissez une note avec la souris.","selectnote_title":"CHOISIR UNE NOTE","selectsection_desc":"Choisissez une section avec la souris.","selectsection_title":"CHOISIR UNE SECTION","selectsection_select":"Valider","selectsection_cancel":"Annuler","editlink":"Modifier le lien","notselected":"Veuillez choisir un mode de duplication.","edit_styles":"Style du titre...","edit_shadows":"Ombre portée...","header_styles":"Style du titre","snstyles_button":"Enregistrer comme style de titre par défaut","theme-title":"Style","variant-title":"Variante : ","rpd_theme":"thème de la note...","rpd_design":"design de la note...","rpd_h":"choix du type de titre","rpd-h1":"Titre de page","rpd-h2":"Titre de section","rpd-h3":"Titre de bloc","rpd-h4":"Titre de contenu","rpd-h5":"Sous-titre de contenu","rpd-p1":"Contenu ordinaire","rpd-p2":"Contenu secondaire","rpd-p3":"Légende de contenu","choose_icon":"Choix d'une icône","imgratio0":"Très allongées","imgratio1":"Allongées","imgratio2":"Normales","imgratio3":"Carrées","imgratio4":"Etroites","imgratio5":"Très étroites","imgratio":"Forme des images","imageratio0":"Automatique","imageratio1":"Format d'origine","imageratio2":"Très très allongé","imageratio3":"Très allongé","imageratio4":"Allongé","imageratio5":"Carte postale","imageratio6":"Paysage","imageratio7":"Carré","imageratio8":"Portrait","imageratio9":"Carte postale v.","imageratio10":"Étroit","imageratio11":"Très étroit","imageratio12":"Très très étroit","imageratio":"Forme de l'image","lockednote":"Vous devez libérer la note pour la déplacer.","unlockednote":"Attention la note est libérée !","duplicatedone":"Votre note a été correctement dupliquée.","mutlipleduplicatedone":"Vos %n notes ont été correctement dupliquées.","archivedone":"Votre note a été correctement archivée.","mutliplearchivedone":"Vos %n notes ont été correctement archivées.","height_slider":"hauteur réglable","dbs-note":"dbs"};var qsn_plug_message={"bd_intl":"Anniversaires","bd_intl_desc":"Pour savoir à tout moment le temps qu'il reste avant les anniversaires de vos amis.","bdcfamily":"Miniprojet","bdcfamily_desc":"Pour organiser un projet facilement en étant sûr de ne rien oublier.","bn_intl":"Glassnote","bn_intl_desc":"Votre message sur plaque de verre, sans les traces de doigts.","bnq_intl":"Laissez un message","bnq_intl_short":"Post-it","bnq_intl_desc":"La smartnote de base, pour laisser un rapide message.","bnv_intl":"Vu","bnv_intl_desc":"Chacun signale d'un simple clic qu'il a vu votre note.","bookmarks":"Signets","bookmarks_desc":"Partagez vos liens favoris avec vos visiteurs et vos membres.","broll":"Texte défilant","broll_short":"Défilant","broll_desc":"Faites défiler votre message.","btn":"Bouton","btn_desc":"Boutons à cliquer.","cal":"Calendrier","cal_desc":"Visualisez vos dates et celles des autres membres","calendar":"Calendrier","calendar_desc":"Visualisez les événements du club","calendar2":"Calendrier","calendar2_desc":"Visualisez les événements du club","carousel":"Carrousel","carousel_desc":"Créez un bandeau de photos ou de logos défilants.","charmessage":"Titre décor","charmessage_desc":"Titres en images pour plus de fun.","clock":"Clock","clock_desc":"L'heure en images.","comment":"Témoignages","comment_desc":"Invitez vos visiteurs à s'exprimer.","contact":"Contact","contact_desc":"Invitez vos visiteurs à entrer en contact avec vous.","contact2":"Formulaire de contact","contact2_desc":"Invitez vos visiteurs à entrer en contact avec vous.","countdown":"Compte à rebours","countdown_short":"Décompte","countdown_desc":"Décomptez le temps qu'il reste avant un événement.","countdown2":"Compte à rebours","countdown2_short":"Décompte","countdown2_desc":"Décomptez le temps qu'il reste avant un événement.","dispo":"Dispo ?","dispo_desc":"Planifiez vos réunions au mieux des dispos de chacun.","dn":"Ce jour","dn_desc":"Mettez en valeur un événement particulier un jour donné.","dropbox":"Dépôt Photos","dropbox_short":"Dépôt","dropbox_desc":"Invitez vos membres à déposer leurs photos sur le site.","events":"Événements","events_desc":"Affichez une liste d'événements passés ou à venir.","favorite":"Coup de Coeur","favorite_short":"Coudkeur","favorite_desc":"Le coup de coeur Quomodo de la semaine","ffbb":"Actus Fédé","ffbb_short":"FFBB","ffbb_desc":"Les infos de la FFBB","ffbb2":"Actus Fédé","ffbb2_short":"FFBB","ffbb2_desc":"Les infos de la FFBB","files":"Documents","files_desc":"Proposer des documents en téléchargement.","flash":"Intégration de services","flash_desc":"Intégrez un service externe en recopiant le code que vous proposent YouTube, Facebook...","flickr":"Flickr","flickr_desc":"Affichez des photos stockées chez Flickr.","fv":"Vidéo","fv_desc":"Vos vidéos sur vos pages.","gm":"Cartes","gm_desc":"Google Maps avec des marqueurs.","gmlist":"Liste de Points","gmlist_desc":"Liste de points d'intérêts sur une Google Map.","gmlist_short":"Liste Points","hello_intl":"Hello !","hello_intl_desc":"Des messages avec des styles aléatoires.","kado":"Kado","kado_desc":"Pour organiser le choix d'un cadeau collectif.","kitty":"Cagnotte","kitty_desc":"Gérer et solder une cagnotte sans calculette.","live":"En direct","live_desc":"Envoyez des infos depuis votre mobile.","live2":"En direct","live2_desc":"Envoyez des infos depuis votre mobile.","matchnext":"Matchs","matchnext_desc":"Les matchs joués ou à venir de vos équipes.","matchnext2":"Matchs","matchnext2_desc":"Les matchs joués ou à venir de vos équipes.","mcn":"Icône","mcn_desc":"De quoi illustrer votre page.","menu":"Menu Vertical","menu_short":"Menu","menu_desc":"Menu vertical.","menu2":"Menu Vertical","menu2_short":"Menu","menu2_desc":"Menu vertical.","menuh":"Menu horizontal","menuh_short":"Menu","menuh_desc":"Affichez le menu où vous voulez.","meteo":"Météo","meteo_desc":"Donnez la météo.","mhpdisq":"Discussion","mhpdisq_desc":"La note du forum.","music":"Musique","music_desc":"Sonorisez la page.","navig":"Navigation","navig_desc":"Boutons de navigation.","nl":"Inscription Newsletter","nl_short":"Newsletter","nl_desc":"Invitez vos visiteurs à s'inscrire à votre newsletter.","nws":"À la une","nws_desc":"Les dernières actualités défilent en images.","pagesep":"Séparateur horizontal","pagesep_desc":"Pour aligner les blocs horizontalement","photoboxes":"Planche Photos","photoboxes_short":"Planche","photoboxes_desc":"Diaporama façon planche de photos.","photoboxes2":"Galerie photos","photoboxes2_short":"Galerie","photoboxes2_desc":"Galerie façon planche de photos.","photoflow":"Photo Flow","photoflow_desc":"Diaporama façon iTunes.","photoflow2":"Photo Flow","photoflow2_desc":"Diaporama façon iTunes.","photomaton":"Photos d'identité","photomaton_short":"Identité","photomaton_desc":"En une minute une planche de photos d'identité.","photoslider":"Diapo Photos","photoslider_short":"Diapo","photoslider_desc":"Diaporama de photos.","photoslider2":"Diaporama","photoslider2_short":"Diapo","photoslider2_desc":"Diaporama de photos.","pimg":"Image","pimg_desc":"Photo, cliquable si vous le souhaitez.","pmessage":"Messages privés","pmessage_short":"Mess. privé","pmessage_desc":"Un message différent à chacun !","pmtxt":"Titre","pmtxt_desc":"La note pour les titres.","poll":"Sondage","poll_desc":"Sondez vos visiteurs ou vos membres.","poll2":"Sondage","poll2_desc":"Sondez vos visiteurs ou vos membres.","pronos":"Pronostics","pronos_desc":"Concours de pronostics automatisés sur vos équipes.","pronos2":"Pronostics","pronos2_desc":"Concours de pronostics automatisés sur vos équipes.","rss":"RSS","rss_desc":"Vos news préférées par flux RSS.","rss2":"RSS","rss2_desc":"Vos news préférées par flux RSS.","rsvp":"Sondage","rsvp_desc":"Les préférences de chacun, pour organiser un rendez-vous.","silhouette":"Silhouette","silhouette_desc":"Silhouettes sportives.","slide":"Diaporama","slide_desc":"Diapos sur votre page web.","spiral":"Spirale","spiral_short":"Spirale","spiral_desc":"Unique ! La note pour écrire en spirale et enregistrer en PDF.","table":"Tableau","table_desc":"Copiez-coller un tableau depuis votre tableur et modifiez-le en direct.","team":"Equipe","team_desc":"La fiche détaillée des membres d'une équipe.","tennislibre":"TennisLibre.com","tennislibre_desc":"Réservez vos courts de tennis par internet avec notre partenaire TennisLibre.com","todo":"ToDo","todo_desc":"Tous ce qu'il y a à faire: qui a dit de le faire, qui doit le faire... et qui l'a fait.","todos":"Check List","todos_desc":"La liste de ce qu'il y a à faire et de ce qui est fait.","traffic":"Trafic","traffic_desc":"Affichez dans votre espace le trafic actuel...","upload":"Stockage","upload_desc":"Partagez tous types de fichiers.","vc":"Compteur","vc_short":"Compteur","vc_desc":"Affichez le nombre de visites de la page.","wsg":"Traitement de texte","wsg_desc":"Réalisez des blocs de texte comme dans un traitement de texte."}
var table_settings={};var pages_notekindsep="pagesep";function qsn_relativeinitnote(id){qsn_initnote(id,function(){var div=ge(id);div.style.position="relative";qsn_relativefiximg(id);});}
function qsn_relativeaddnote(id){var div=qsn_safeaddnote(id);if(typeof(div)=="boolean")return;div.style.position="relative";qsn_relativefiximg(id);}
function qsn_inghostinitnote(id){qsn_initnote(id,function(){var div=ge(id);if(isie6()||isie78())div.parentNode.style.zIndex=div.style.zIndex;});}
function qsn_inghostaddnote(id){var div=qsn_safeaddnote(id);if(typeof(div)=="boolean")return;if(isie6()||isie78())div.parentNode.style.zIndex=div.style.zIndex;}
function qsn_initpageschildnote(id,svcLang){qsn_dynloadstatus[id]="loading";qdyn_snload(function(){qsn_dynloadstatus[id]="loaded";qsndyn_initnote(id)},null,qsn_thenotes[id].common.notekind,null,svcLang);}
function pages_richnoteoffsets(id){var div=ge(id);var children=$("#"+id+"-richtarget .container, #"+id+"-richtarget-before .container").get();var deltawidth=(div.transparentOffsetWidth)?div.transparentOffsetWidth:0;var headerTop=qsn_headerTopOffset(id);var l=qsn_trueleft(id)+deltawidth/2;var t=qsn_truetop(id)+deltawidth/2;var th=t-headerTop;var r=l+div.offsetWidth-deltawidth;var b=t+div.offsetHeight-deltawidth;var isrichnote=false;var cdiv,cid,offsets;for(var i=0;i<children.length;i++){cdiv=children[i];cid=cdiv.id;if(!cid||!qsn_thenotes[cid])continue;if(qsn_thenotes[cid].parentid!=id)continue;if(qsn_thenotes[cid].hiddenxs==true&&qsn_responsive_mod()=="xs")continue;if(qsn_thenotes[cid].common&&qsn_thenotes[cid].common.notekind=="mcn"&&qsn_thenotes[cid].hiddenxs!=false&&qsn_responsive_mod()=="xs")continue;isrichnote=true;offsets=pages_richnoteoffsets(cid);l=Math.min(l,offsets.offsetLeft);t=Math.min(t,offsets.offsetTop);th=Math.min(th,offsets.offsetTopHeader);r=Math.max(r,offsets.offsetLeft+offsets.offsetWidth);b=Math.max(b,offsets.offsetTop+offsets.offsetHeight);}
return{"offsetLeft":l,"offsetTop":t,"offsetTopHeader":th,"offsetWidth":r-l,"offsetHeight":b-t,"isrichnote":isrichnote};}
function pages_isrichnote(id){qsn_noteidslist=qsn_noteidssortedlist();for(var i=0;i<qsn_noteidslist.length;i++){var noteid=qsn_noteidslist[i];if(qsn_thenotes[noteid].parentid==id)return true;}
return false;return $("#"+id+"-richtarget .container").length==0?false:true;var div=ge(id);var children=getElementsByClassName(div,"container");var cdiv,cid;for(var i=0;i<children.length;i++){cid=children[i].id;if(cid&&qsn_thenotes[cid]&&qsn_thenotes[cid].parentid==id&&qsn_thenotes[cid].pagesparent)return true;}
return false;}
function pages_richparentid(id){var r=qsn_thenotes[id];if(r.parentid&&r.pagesparent)return pages_richparentid(r.parentid);return id;}
function QuomodoSections(options){var __current;var __secidVSnoteid={};var __secidVSstuffid={};var _fallbackID="p-0";var _this=this;this.fallbackStuffID=function(noteid){var fallbackID=_fallbackID;if(noteid)fallbackID=qsn_fallbackSectionID(noteid)||fallbackID;var section=this.get(fallbackID);if(!section)return "p-0";return section.stuffid;}
this.log=function(s){console.log(eval(s));};this.current=function(){return this.get(__current);};this.getBySvc=function(svcid){if(!svcid)return[];var list=[];for(var key in table_settings){if(svcid==table_settings[key].svcid)list.push(table_settings[key].id);}
return list;};this.get=function(id){if(id)id=id.replace(/-stuff$/,"");if(table_settings[id])return table_settings[id];var _this=this;function getAlternate(){if(qsn_thenotes[id]){var altid=qsn_thenotes[id]&&qsn_thenotes[id].common&&qsn_thenotes[id].common.stuffID;if(altid)altid=altid.replace(/-stuff$/,"");if(altid&&table_settings[altid])return table_settings[altid];var altid=qsn_thenotes[id]&&qsn_thenotes[id].common&&qsn_thenotes[id].common.sectionid;if(altid&&table_settings[altid])return table_settings[altid];altid=_this.__defaultSectionID||_this.fallbackStuffID(id);if(altid)altid=altid.replace(/-stuff$/,"");if(altid&&table_settings[altid])return table_settings[altid];}
return null;}
return getAlternate();var section=getAlternate();if(!section)updateIDs();return getAlternate();};this.selectable=false;this.activate=function(id,initMode){if(/^banner-/.test(id)){var device=id.replace(/^banner-/,"");$(".sk-sec-md, .sk-sec-sm, .sk-sec-sme, .sk-sec-xs, .sk-sec-xse").hide();$(".sk-sec-"+device+", .sk-sec-"+device+"e").show();var current_secid=this.current().id;if(!/^h-/.test(current_secid)){id="h-0";if(device!="md")id=id+"-"+device;}else{id=current_secid.replace(/-(sm|xs)/,"");if(device!="md")id=id+"-"+device;if($("#"+id).length==0){id="h-0";if(device!="md")id=id+"-"+device;}}}
var sectarget=this.get(id);if(window.previewmod)return;if(sectarget.shared&&q_getuserlevel(memberid)!="admin")return;var k=id.split("-")[0];if(quomodo.page.sharedsloading[k])return;if(this.selectable&&quomodo.page&&quomodo.page.shareds&&quomodo.page.shareds["h"]&&quomodo.page.shareds["h"]==sectarget.svcid&&!(spacexml.theme.banner&&spacexml.theme.banner.expert_mode))return;if(this.selectable){$(".sk-sec").removeClass("sk-selected");$("#"+id).addClass("sk-selected");$("#q_leftcol .selectsection div.q_leftcol_valid").show();return;}
var sec1=this.current();if(sec1){if(sec1.type!="page")return;sec1.inactivate();}
__current=id;sectarget.activate(initMode);return sectarget;};this.offset=function(svcid){var max={};for(var k in table_settings){var section=table_settings[k];if(svcid&&section.svcid!=svcid)continue;var pageOffset=qsn_calcpageoffset(section.stuffid);if(pageOffset.top!=undefined){var marginT=marginB=marginL=marginR=0;if(section.isaligned()){marginT=parseInt(section.formatProperties.outerTopMargin,10);marginB=parseInt(section.formatProperties.outerBottomMargin,10);marginL=parseInt(section.formatProperties.outerLeftMargin,10);marginR=parseInt(section.formatProperties.outerRightMargin,10);if(marginL==0)marginL=marginT;if(marginR==0)marginR=marginT;}
var tmp=$("#"+section.stuffid).offset();var minLeft=0;var maxRight=$("#"+section.stuffid).width();pageOffset={top:pageOffset.top+tmp.top-marginT,topHeader:pageOffset.topHeader+tmp.top-marginT,left:tmp.left+Math.max(pageOffset.left-marginL,minLeft),right:tmp.left+Math.min(pageOffset.right+marginR,maxRight),bottom:pageOffset.bottom+tmp.top+marginB};if(section.fixedHeight&&section.fixedHeight!="0px"){pageOffset.top=tmp.top;pageOffset.topHeader=tmp.top;pageOffset.bottom=tmp.top+parseInt(section.fixedHeight,10);}
if(max.top==undefined||pageOffset.top<max.top)max.top=pageOffset.top;if(max.topHeader==undefined||pageOffset.topHeader<max.topHeader)max.topHeader=pageOffset.topHeader;if(max.bottom==undefined||pageOffset.bottom>max.bottom)max.bottom=pageOffset.bottom;if(max.left==undefined||pageOffset.left<max.left)max.left=pageOffset.left;if(max.right==undefined||pageOffset.right>max.right)max.right=pageOffset.right;}}
return max;};this.extendedOffsets=function(secid){var curr=table_settings[secid];if(curr.type!="page")return null;function offsets(stuffid){var x=$("#"+stuffid);var tmp=x.offset();return{t:tmp.top,l:tmp.left,w:x.width(),h:x.height()};}
var o=null;var secoffsets=offsets(curr.stuffid);var secsvcid=curr.svcid;for(var k in table_settings){if(k==secid)continue;var section=table_settings[k];if(section.svcid!=secsvcid)continue;var x=offsets(section.stuffid);o=o||{sections:{}};o.sections[k]={};o.sections[k].id=k;o.sections[k].stuffid=section.stuffid;o.sections[k].t=x.t-secoffsets.t;o.sections[k].l=x.l-secoffsets.l;o.sections[k].w=x.w;o.sections[k].h=x.h;o.t=Math.min(o.t||0,x.t-secoffsets.t);o.l=Math.min(o.l||0,x.l-secoffsets.l);o.r=Math.max(o.r||0,x.l+x.w-secoffsets.l-secoffsets.w);}
return o;};this.bannerFitSizes=function(){for(var k in table_settings){if(!/^h-/.test(k))continue;if(/-(xs|sm|lg)$/.test(k))continue;var section=table_settings[k];if(!section)continue;section.bannerFitSizes();}};this.defaultResponsiveBanner=function(svcid){var _this=this;if($("#template_sn_banner").length==0){$("body").append('<div id="template_sn_banner"></div>');var banner_lang=q_lang;var banner_id=quomodo.page&&quomodo.page.shareds&&quomodo.page.shareds["h"];if(banner_id){var banner_svc=q_svcfromid(banner_id);if(banner_svc&&banner_svc.lang&&banner_svc.lang!="default")banner_lang=banner_svc.lang;}
var url=(spacexml.customskeleton)?(q_spacebaseurl("")+"custom/skeletons/"+spacexml.skeleton.id+"/banner_"+banner_lang+".html"):("/services/skeletons/"+spacexml.skeleton.id+"/banner_"+banner_lang+".html");return q_include({"target":"template_sn_banner",urls:[url]},function(){_this.defaultResponsiveBanner(svcid);});}
var modifiedids=[].concat(Skeleton.make_xsbanner(),Skeleton.make_smbanner());var sec=_this.get("h-0")||_this.get("h-1");sec.pages_save(modifiedids,[],function(x,svcid){qsn_applynoterefresh(x,svcid);quomodo.page.sharedsloading["h"]=false;document.mainform.mission.value="ajaxpublishpage";var svc=q_svcfromid(svcid);qsn_ajaxsubmit({upindex:(svc&&svc.upindex)||"1"},function(x,svcid){qsn_applynoterefresh(x,svcid);},svcid);});};this.defaultContent=function(sectionType,svcid){var _this=this;Skeleton.defaultContent(sectionType,function(sectionscontent){function saveContent(){var modifiedids=[];for(var key in sectionscontent){var sec=_this.get(key);sec.svcid=svcid;var listids=sec.defaultContent(sectionscontent[key]);sec.renderContent(null,listids);if(spacexml.skeleton&&spacexml.skeleton.banner&&spacexml.skeleton.banner.expert_mode){for(var i=0;i<listids.length;i++){var r=qsn_thenotes[listids[i]];var elem=$("#"+listids[i]).get(0);if(r.common.locked){r.common.locked=false;}}}
modifiedids=modifiedids.concat(listids);}
var svc=q_svcfromid(svcid);var bpublish=svc&&(!svc.publicationdate||spacexml.skeletoncreationdate>svc.publicationdate);if(spacexml.responsive)modifiedids=modifiedids.concat(Skeleton.make_xsbanner(),Skeleton.make_smbanner());sec.pages_save(modifiedids,[],function(x,svcid){qsn_applynoterefresh(x,svcid);quomodo.page.sharedsloading["h"]=false;if(bpublish){document.mainform.mission.value="ajaxpublishpage";qsn_ajaxsubmit({upindex:(svc&&svc.upindex)||"1"},function(x,svcid){qsn_applynoterefresh(x,svcid);},svcid);}});}
if(sectionscontent){var d=new Date();if(!svcid){q_ajaxobjsetppty("service","newpage",{"name":qlub_message["newshared-"+sectionType].replace(/%date/,""+d.getDate()+"/"+(1+d.getMonth())+"/"+(''+d.getFullYear()).substring(2)),sharing:sectionType,viewaccess:"web",editaccess:"admins"},function(data){svcid=data.setresults.newid;quomodo.page.shareds["h"]=svcid;saveContent();});}else{saveContent();}}});Skeleton.prepareSkeleton();};this.resetContent=function(sectionType,norender){var svcid=quomodo.page.shareds[sectionType];qsn_noteidslist=qsn_noteidssortedlist();var noteremoved=[];if(svcid){var section;for(var i=0;i<qsn_noteidslist.length;i++){var id=qsn_noteidslist[i];if(qsn_svcid(id)==svcid){noteremoved.push(id);section=quomodo.page.sections.get(qsn_stuffID(id));delete qsn_thenotes[id];rm(ge(id));$("#toolbar_"+id).remove();}}
var re=new RegExp("^"+sectionType);if(!section||!re.test(section.id))section=quomodo.page.sections.get(sectionType+"-0");if(!section.svcid)section.svcid=svcid;section.settings_modified=false;section.pages_save([],noteremoved,function(x,svcid){if(norender)return;Skeleton.defaultContent(sectionType,function(sectionscontent){if(sectionscontent){var modifiedids=[]
for(var key in sectionscontent){var sec=_this.get(key);sec.svcid=svcid;modifiedids=modifiedids.concat(sec.defaultContent(sectionscontent[key]));}
sec.pages_save(modifiedids,[],true);}});Skeleton.prepareSkeleton();});}};this.resetResponsiveBanner=function(){var modifiedids=Skeleton.resetResponsiveBanner();if(modifiedids.length==0)return false;var stuffID=qsn_stuffID(modifiedids[0]);var secid=stuffID.replace(/-stuff/,"");var sec=this.get(secid);sec.pages_save(modifiedids,[],function(){openservice(currsvcid);});return true;};this.render=function(any){var _this=this;var secFilter,svcFilter;if(any&&(/@/).test(any))svcFilter=any;else if(any)secFilter=any;qsn_noteidslist=qsn_noteidssortedlist();var sorted_noteids={};var settings_noteids={};var section2settingsid={};var sectionMissing={};var settingsAliases={};var notekinds=[];function fallbackSectionId(secid){if(/^h-/.test(secid))return "h-0";if(/^f-/.test(secid))return "f-0";if(/^c-/.test(secid)){if(sectionMissing["c-0"]==undefined)sectionMissing["c-0"]=$("#c-0").length==0;if(!sectionMissing["c-0"])return "c-0";}
return "p-0";}
for(var i=0;i<qsn_noteidslist.length;i++){var id=qsn_noteidslist[i];if(!qsn_thenotes[id])continue;var fallbackID=qsn_fallbackSectionID(id);if(!fallbackID)continue;if(qsn_thenotes[id].common.notekind!="settings"){var stuffID=qsn_stuffID(id);var secid=stuffID.replace(/-stuff/,"");if(sectionMissing[secid]==undefined)sectionMissing[secid]=$("#"+secid).length==0;if(sectionMissing[secid]&&q_pagemode("raw")!="snchooser"){var secjson=Skeleton.getSectionJSON(secid);if(secjson&&secjson.params&&secjson.params.optional)continue;secid=fallbackSectionId(secid);stuffID=secid+"-stuff";if(qsn_thenotes[id].imgtosec)continue;qsn_thenotes[id].common.stuffID=stuffID;qsn_thenotes[id].rpd=qsn_defaultRPD(qsn_thenotes[id].common.notekind,secid,qsn_thenotes[id].rpd);delete qsn_thenotes[id].common.col;}
if(/^note_/.test(id)&&!/sk-/.test(secid)&&fallbackSectionId(secid)!=fallbackID&&fallbackSectionId(secid)!="c-0"){secid=fallbackID;stuffID=secid+"-stuff";if(qsn_thenotes[id].imgtosec)continue;qsn_thenotes[id].common.stuffID=stuffID;qsn_thenotes[id].rpd=qsn_defaultRPD(qsn_thenotes[id].common.notekind,secid,qsn_thenotes[id].rpd);delete qsn_thenotes[id].common.col;}
if(secFilter){var tmp=this.get(stuffID);if(!tmp||tmp.id!=secFilter)continue;}
if(svcFilter&&qsn_svcid(id)!=svcFilter)continue;sorted_noteids[secid]=sorted_noteids[secid]||[];sorted_noteids[secid].push(id);if($.inArray(qsn_thenotes[id].common.notekind,notekinds)==-1)notekinds.push(qsn_thenotes[id].common.notekind);}else{if(qsn_thenotes[id].common.sectionid=="page")continue;if(secFilter&&(qsn_thenotes[id].common.sectionid||fallbackID)!=secFilter)continue;if(svcFilter&&qsn_svcid(id)!=svcFilter)continue;var secid=qsn_thenotes[id].common.sectionid||fallbackID;if(sectionMissing[secid]==undefined)sectionMissing[secid]=$("#"+secid).length==0;if(sectionMissing[secid])continue;if(/^note_/.test(id)&&!/sk-/.test(secid)&&fallbackSectionId(secid)!=fallbackID&&fallbackSectionId(secid)!="c-0")continue;if(settings_noteids[secid])continue;settings_noteids[secid]=id;sorted_noteids[secid]=sorted_noteids[secid]||[];if(qsn_thenotes[id].skeleton&&qsn_thenotes[id].skeleton.slideshow){var slideshowid=qsn_thenotes[id].skeleton.slideshow;if(qsn_thenotes[slideshowid]&&qsn_thenotes[slideshowid].common){qsn_thenotes[slideshowid].common.stuffID=secid+"-stuff";}}}}
function finalizeRender(){if(notekinds.length>0){var notekind=notekinds.splice(0,1);var svcLang=(function(){var svc=q_svcfromid(svcFilter||currsvcid);if(svc.lang=="default")return q_lang;return svc.lang||q_lang;})();qdyn_snload(function(){var newnotekind=qsn_upgradedNotekind(notekind);if(newnotekind)notekinds.push(newnotekind);finalizeRender();},null,notekind,null,svcLang);return;}
if(q_pagemode()=="edit"&&currsvcid.replace(/#[0-9]+#([^@]+)@.*/,"$1")=="artemapage"){for(var secid in sorted_noteids){if(!settings_noteids[secid]){q_fsm_wait();var sec=_this.get(secid);sec.initWithContent(null,function(x,svcid){qsn_applynoterefresh(x,svcid);settings_noteids[secid]=x.newid[0];q_fsm_delete();});return;}}}
qsn_cssnotes_loading=true;for(var secid in sorted_noteids){var noteids=sorted_noteids[secid];renderOneSection(secid,qsn_thenotes[settings_noteids[secid]],qsn_noteidssortedlist(noteids));if(/-lg/.test(secid)){_this.expertLgBanner=true;}
if(/-sm/.test(secid)){_this.expertSmBanner=true;}
if(/-xs/.test(secid)){_this.expertXsBanner=true;}}
if(_this.expertXsBanner){$(".sk-sec.sk-sec-xs").addClass("sk-sec-xse").removeClass("sk-sec-xs").removeClass("sk-sec-rwd");}
if(_this.expertSmBanner){$(".sk-sec.sk-sec-sm").addClass("sk-sec-sme").removeClass("sk-sec-sm").removeClass("sk-sec-rwd");}
if(_this.expertLgBanner){$(".sk-sec.sk-sec-lg").addClass("sk-sec-lge").removeClass("sk-sec-lg").removeClass("sk-sec-rwd");}
$(".sk-sec").each(function(){var secid=this.id;if(sorted_noteids[secid])return;var sec0=_this.get(secid);if(!sec0)return;sec0.manageEmptySection();});qsn_cssnotes_loading=false;qsn_css_note();if(spacexml.responsive){if((svcFilter&&svcFilter==quomodo.page.shareds["h"])||(currsvcid==quomodo.page.shareds["h"])){var responsiveBannerDone=true;for(var secid in sorted_noteids){var b=_this.get(secid).renderBannerResponsive();if(!b)responsiveBannerDone=false;}
if(q_pagemode()=="edit"&&!responsiveBannerDone){function defaultResponsiveBanner(svcid){if($("#template_sn_banner").length==0){$("body").append('<div id="template_sn_banner"></div>');var banner_lang=q_lang;var banner_id=quomodo.page&&quomodo.page.shareds&&quomodo.page.shareds["h"];if(banner_id){var banner_svc=q_svcfromid(banner_id);if(banner_svc&&banner_svc.lang&&banner_svc.lang!="default")banner_lang=banner_svc.lang;}
var url=(spacexml.customskeleton)?(q_spacebaseurl("")+"custom/skeletons/"+spacexml.skeleton.id+"/banner_"+banner_lang+".html"):("/services/skeletons/"+spacexml.skeleton.id+"/banner_"+banner_lang+".html");return q_include({"target":"template_sn_banner",urls:[url]},function(){defaultResponsiveBanner(svcid);});}
var modifiedids=[].concat(Skeleton.make_xsbanner(),Skeleton.make_smbanner());if(modifiedids.length>0){var stuffID=qsn_stuffID(modifiedids[0]);var secid=stuffID.replace(/-stuff/,"");var sec=_this.get(secid);sec.pages_save(modifiedids,[],function(x,svcid){qsn_applynoterefresh(x,svcid);quomodo.page.sharedsloading["h"]=false;document.mainform.mission.value="ajaxpublishpage";var svc=q_svcfromid(svcid);qsn_ajaxsubmit({upindex:(svc&&svc.upindex)||"1"},function(x,svcid){qsn_applynoterefresh(x,svcid);},svcid);});}}
defaultResponsiveBanner(svcFilter);}}}
Skeleton.render();if(!any&&$.isEmptyObject(sorted_noteids)&&q_pagemode()=="edit"&&_this.get("p-0").type=="page"){q_fsm_wait();_this.get("p-0").initWithContent(null,function(x,svcid){_this.get("p-0").updateleftcol();qsn_applynoterefresh(x,svcid);q_fsm_delete();});}
if(q_pagemode()!="edit"){$("#sk-content .stuff-content.empty-stuff").each(function(){var secid=$(this).attr("id");var section=_this.get(secid);if(!any){if(/^h-/.test(secid)){if(section.svcid==currsvcid)$(this).parents(".sk-sec:eq(0)").hide();}else if(/^f-/.test(secid)){if(section.svcid==currsvcid||!quomodo.page.shareds["f"])$(this).parents(".sk-sec:eq(0)").hide();}else if(/^sk-/.test(secid)){if(section.svcid==currsvcid||!quomodo.page.shareds[secid.replace(/-[a-z]+-\d+-stuff$/,"")])$(this).parents(".sk-sec:eq(0)").hide();}else if(secid!="p-0-stuff"&&secid!="c-0-stuff")$(this).parents(".sk-sec:eq(0)").hide();}else{if(section.svcid==any)$(this).parents(".sk-sec:eq(0)").hide();}});$("#p-0, #p-0-stuff").css("min-height","");if($("#qlub_ads_addright_elem").length>0){var bottomAd=$("#qlub_ads_addright_elem").offset().top+$("#qlub_ads_addright_elem").height();var bottomTarget=Math.max(q_windowInnerHeight(),bottomAd);var bottomContent=0;$(".sk-sec, .sk-wra").each(function(){var $sec=$(this);var bottom=$sec.offset().top+$sec.outerHeight();if(bottom>bottomContent)bottomContent=bottom;});if(bottomTarget>bottomContent&&$("body").attr("sk-id")!="prehome"&&$("body > .background-image-offset .image-click").length==0){var $p0=$("#p-0-stuff");$p0.css("min-height",($p0.outerHeight()+bottomTarget-bottomContent)+"px");}}}
if(q_pagemode()=="makewebooo"){$("style[ css-colorsection ]").each(function(){var $this=$(this);if(!/^section_/.test($this.attr("id")))return;var s=$this.text();var s=s.split("\n");var res=[];for(var i=0;i<s.length;i++){var x=s[i];if(x=="")continue;if(!/\{/.test(x))continue;var selectors=x.match(/^[^{]*/);if(!selectors)continue;selectors=selectors[0].split(",");var tmp=[];for(var j=0;j<selectors.length;j++){var selector=selectors[j];var $selector=selector.replace(/:.*/,"");if($($selector).length>0)tmp.push(selector);}
if(tmp.length>0)res.push(tmp.join(",")+" "+x.match(/\{.*/)[0]);}
$this.text("\n"+res.join("\n")+"\n");});}
prepareParallax();if(svcFilter&&svcFilter==quomodo.page.shareds["h"]){Skeleton.prepareBanner();if(q_pagemode()=="makeweb")ASresumepause_dec();}
if(q_pagemode()!="edit"&&(svcFilter&&svcFilter==quomodo.page.shareds["h"])||(currsvcid==quomodo.page.shareds["h"])){if(skeleton.bannerRule){for(var k in skeleton.bannerRule){delete skeleton.bannerRule[k].initDone;}}
quomodo.events.trigger("windowresize");quomodo.events.trigger("windowscroll");}}
finalizeRender();};this.getSecIDs=function(){var tmp=[];for(var k in this.__sectionsBySecID)tmp.push(k);return tmp;}
this.qsnTargetID=function(noteid){var stuffID=qsn_thenotes[noteid]&&qsn_thenotes[noteid].common&&qsn_thenotes[noteid].common.stuffID;if(stuffID)return stuffID;return this.__defaultSectionID||this.fallbackStuffID(noteid);};this.newtemplate=function(){var path="/services/dialogs/q_prompt-flatdesign/index_"+q_lang+".html";var options={"json":{"title":"Nouvelle maquette","watermark":"nom de la maquette","msg":"Indiquez le nom de la nouvelle maquette. Elle sera appliquée à la page courante et vous pourrez l'appliquer à d'autres pages via le changement de maquette.","emptyvalue":false},"callback":function(x){if(!x)return;var skid=$("body").attr("sk-id")||"default";q_ajaxobjsetpptywithoptions("model","id=new&template="+skeleton.id,{"name":x.value,"inherit":skid},{},function(data){q_ajaxobjsetppty("service",currsvcid,{"sk":data.setresults.newid},function(y){return openservice(currsvcid);});});}};quomodo.fsm.loadDialog(path,options);};this.edit_vpage=function(){q_fsm_wait();var postData={"mission":"uploaded_files","service":"common@"+q_lang,"q_method":"ajax","q_space":document.mainform.q_space.value,"sessionid":document.mainform.sessionid.value,"albumid":"onpage","currsvcid":currsvcid};$.get("/cgi-bin/cgismile",postData,function(data){var jsonPage={};jsonPage.sitemap="vpage";jsonPage.uploads=data;jsonPage.pages={};jsonPage.pages[currsvcid]={};for(var k in qsn_thenotes){if(qsn_svcid(k)==currsvcid)jsonPage.pages[currsvcid][k]=$.extend({},qsn_thenotes[k]);}
q_fsm_delete();var path="/services/dialogs/fab/editsite/index_fr.html";var options={"json":{"site":jsonPage},"callback":function(x){if(!x)return;openservice(currsvcid);}};quomodo.fsm.loadDialog(path,options);},"json");};this.reload_vpage=function(){var path="/services/dialogs/fab/site/reload_vpage.html";var options={"json":{},"callback":function(x){if(!x)return;openservice(currsvcid);}};quomodo.fsm.loadDialog(path,options);};this.editBannerScroll=function(device,bannerScroll,callback){$(window).scrollTop(0);$("#q_leftcol").hide();quomodo.page.sections.activate("banner-"+device);$(".mask-wrapper").css("background-color","rgba(0,0,0,0.7)");$(".mask-wrapper .mask-border, .mask-wrapper .mask-border2").css("border","none");$(".note_borderselection").css("border","0");$(".sk-sec-h").each(function(){var $this=$(this);var id=$this.attr("id");var m=id.match(/(xs|sm)$/);var secDevice=(m&&m[1])||"md";if(device!=secDevice)return;var h=$this.height();$this.append('<div class="section-form-wrapper"><div class="section-form"><span style="padding-right: 6px">'+escapeHTML(common_message["banner-scroll-label"])+'</span><select id="'+id+'-select"><option value="both">'+escapeHTML(common_message["banner-scroll-option-both"])+'</option><option value="top">'+escapeHTML(common_message["banner-scroll-option-top"])+'</option><option value="scroll">'+escapeHTML(common_message["banner-scroll-option-scroll"])+'</option></select><a href="#" class="action" style="padding-left: 10px ; font-weight: bold" onclick="quomodo.page.sections.validateBannerScroll( true ) ; return false">'+escapeHTML(common_message["validate"])+'</a><a href="#" class="action" style="padding-left: 10px" onclick="quomodo.page.sections.validateBannerScroll( false ) ; return false">'+escapeHTML(common_message["cancel"])+'</a></div></div>');$this.find(".section-form").css("margin-top",((h-32)/2)+"px");$this.find(".mask-wrapper").css("background-color","rgba(0,0,0,0)");if(bannerScroll){var selectedIndex=0;if($.inArray(id,bannerScroll[0]||[])!=-1){selectedIndex=1;}
if($.inArray(id,bannerScroll[1]||[])!=-1){if(selectedIndex==1){selectedIndex=0;}else selectedIndex=2;}
$this.find("select").get(0).selectedIndex=selectedIndex;}});this.__editBannerScrollDevice=device;this.__editBannerScrollCallback=callback;};this.validateBannerScroll=function(validate){var device=this.__editBannerScrollDevice;$(".mask-wrapper").css({"display":"","background-color":"","cursor":""});$(".mask-wrapper .mask-border, .mask-wrapper .mask-border2").css("border","");$(".note_borderselection").css("border","1px dotted");$("#q_leftcol").show();$(".sk-sec-h").each(function(){var $this=$(this);var id=$this.attr("id");var secDevice=id.replace(/.*-(xs|sm)?$/,"$1")||"md";if(device!=secDevice)return;});var bannerScroll=[[],[]];$(".section-form select").each(function(){var $this=$(this);var secid=$this.attr("id").replace(/-select$/,"");var v=$this.val();if(v=="both"){bannerScroll[0].push(secid);bannerScroll[1].push(secid);}else if(v=="top"){bannerScroll[0].push(secid);}else if(v=="scroll"){bannerScroll[1].push(secid);}});$(".section-form-wrapper").remove();this.__editBannerScrollCallback(validate?bannerScroll:null);};this.edittemplate=function(mode){if(mode=="shared"){mode=(/^h-/.test(this.current().id))?"banner":"footer";}
function selectTarget(){q_selectsection(function(copy_id){if(!copy_id)return;if(mode=="banner"&&!/^h-/.test(copy_id)){return q_alert("Vous devez choisir une section de la bannière",{},true);}
q_alert("Vous allez maintenant indiquer la section avant ou après laquelle va être créée la nouvelle section.",{"callback":function(){q_selectsection(function(target_id){if(!target_id)return;var path="/services/dialogs/q_confirm-flatdesign/index_"+q_lang+".html";var options={"json":{"msg":'La nouvelle section sera placée avant ou après la section sélectionnée ?',"buttons":{"altvalidate":"avant","validate":"après","cancel":common_message["cancel"]},"order":["altvalidate","validate","cancel"]},"callback":function(x){if(!x)return;var customTemplates=spacexml.skeleton.template;if(!customTemplates)customTemplates={};if(!customTemplates[skeleton.id])customTemplates[skeleton.id]={};var customTemplate=customTemplates[skeleton.id];var new_id;if(mode=="banner"){var skid="shared";var device=copy_id.match(/-(lg|sm|xs)$/);if(device){device=device[1];var checkDevice=new RegExp("-"+device+"$");}
if(!customTemplate[skid])customTemplate[skid]={"add":[]};if(!customTemplate[skid].add)customTemplate[skid].add=[];var secIndex=0;for(var k in skeleton.bannerSections){if(!/^h-/.test(k))continue;if(device){if(!checkDevice.test(k))continue;var index=parseInt(k.replace(/^h-/,"").replace(checkDevice,""),10);if(index>secIndex)secIndex=index;}else{var index=parseInt(k.replace(/^h-/,""),10);if(index>secIndex)secIndex=index;}}
if(device){if(!skeleton.bannerSections[copy_id]){}else if(!skeleton.bannerSections[copy_id].custom){if(skeleton[device+"_banners"]){copy_id=skeleton[device+"_banners"][Skeleton.getbannerid(copy_id)].sections[copy_id][0];}}}else{if(!skeleton.bannerSections[copy_id].custom){copy_id=skeleton["banners"][Skeleton.getbannerid(copy_id)].sections[copy_id][0];}}
new_id="h-"+(secIndex+1)+(device?("-"+device):"");customTemplate[skid].add.push({"id":new_id,"copy-of":copy_id,"target":{"id":target_id,"mode":(x==true)?"after":"before"}});}else if(mode=="footer"){var skid="shared";if(!customTemplate[skid])customTemplate[skid]={"add":[]};if(!customTemplate[skid].add)customTemplate[skid].add=[];var secIndex=0;for(var k in skeleton.defaultRender){if(!/^f-/.test(k))continue;var index=parseInt(k.replace(/^f-/,""),10);if(index>secIndex)secIndex=index;}
new_id="f-"+(secIndex+1);customTemplate[skid].add.push({"id":new_id,"copy-of":copy_id,"target":{"id":target_id,"mode":(x==true)?"after":"before"}});}else{var skid=$("body").attr("sk-id")||"default";if(!customTemplate[skid])customTemplate[skid]={"add":[]};if(!customTemplate[skid].add)customTemplate[skid].add=[];var secIndex=0;for(var k in skeleton.defaultRender){if(!/^p-/.test(k))continue;var index=parseInt(k.replace(/^p-/,""),10);if(index>secIndex)secIndex=index;}
new_id="p-"+(secIndex+1);customTemplate[skid].add.push({"id":new_id,"copy-of":copy_id,"target":{"id":target_id,"mode":(x==true)?"after":"before"}});}
var o={"add":customTemplate[skid].add};for(var k in customTemplate[skid]){if(k=="add")continue;if(customTemplate[skid][k])o[k]=customTemplate[skid][k];}
q_ajaxobjsetppty("model","id="+skid+"&template="+skeleton.id,{"json":JSON.stringify(o)},function(){var json=$.extend({},Skeleton.getSectionJSON(copy_id,true));for(var k in sectionpreset){var kk=k.replace(/s$/,"");json.params[kk]=json[kk];}
q_ajaxobjsetppty("secrpd","id="+new_id+"&template="+skeleton.id+"&sk="+skid,{"json":JSON.stringify(json.params)},function(){return openservice(currsvcid);});});}};quomodo.fsm.loadDialog(path,options);});}},true);});}
q_alert('<div style="text-align: left">Vous avez la possibilité d\'ajouter une section. Cela se passe en 2 étapes :<div style="padding-top: 0.5em">1. Vous choisissez quelle section vous voulez dupliquer (pour en récupérer le design),</div><div style="padding-top: 0.5em">2. Vous choisissez où ajouter cette section :<ul style="list-style-type: disc ; padding-left: 40px ; margin-top: 0.5em"><li>vous choisissez une section,</li><li>vous indiquez si la nouvelle section s\'ajoute avant ou après</li></ul></div></div>',{"callback":function(){selectTarget();}},true);};function qsn_fallbackSectionID(noteid){var svcid=qsn_svcid(noteid);var svc;try{svc=q_svcfromid(svcid);}catch(err){}
if(!svc)return null;if(svc.sharing)return svc.sharing+"-0";return _fallbackID;}
function renderOneSection(secid,json_note,noteids){if($("#"+secid).length==0){return;}
var sec0=_this.get(secid);if(!sec0)return;if(spacexml.responsive&&$("#"+secid).hasClass("sk-sec-md"))$("#"+secid).show();sec0.render(json_note,noteids||[]);if(spacexml.responsive&&$("#"+secid).hasClass("sk-sec-md"))$("#"+secid).css("display","");updateIDs(sec0);};function updateIDs(section){if(!section){__secidVSnoteid={};__secidVSstuffid={};for(var k in table_settings){var section=table_settings[k];if(section)updateIDs(section);}
return;}
var secid=section.id;var old=__secidVSnoteid[secid];if(old)__secidVSnoteid[old]=null;if(section.noteid){__secidVSnoteid[section.noteid]=secid;__secidVSnoteid[secid]=section.noteid;}
var old=__secidVSstuffid[secid];if(old)__secidVSstuffid[old]=null;if(section.stuffid){__secidVSstuffid[section.stuffid]=secid;__secidVSstuffid[secid]=section.stuffid;}}
function prepareParallax(){function doParallax(){var scrollTop=$(window).scrollTop();var wh=$(window).height();var wmt=scrollTop+wh/2;$(".sk-sec[ parallax ] .offset").each(function(){var $this=$(this);var $sec=$this.parents(".sk-sec");if(this.__parallax==undefined){if($sec.attr("parallax")=="fixed"){$this.find(".image, .image2, .image3").css("background-attachment","fixed");this.__parallax="fixed";return;}
var s;this.__parallax={};this.__parallax.factor=parseFloat($sec.attr("parallax"))/100
try{s=qsn_thenotes[quomodo.page.sections.get($sec.attr("id")).noteid].skeleton;}catch(err){}
if(!s){this.__parallax.img=false;}else{var imgw,imgh;if(s["imgsection-mod"]=="slideshow"){imgw=$this.attr("__imgwidth");imgh=$this.attr("__imgheight");}else{imgw=s["img-realw"];imgh=s["img-realh"];if(!(imgw&&imgh)){var skid=$("body").attr("sk-id");var secid=$sec.attr("id").replace("sk-"+skid+"-","");try{s=spacexml.skeleton.template[skeleton.id].settings[skid][secid];if(s["img-realw"])imgw=parseInt(s["img-realw"],10);if(s["img-realh"])imgh=parseInt(s["img-realh"],10);}catch(err){}}}
if(imgw&&imgh){this.__parallax.img={"width":parseInt(imgw,10),"height":parseInt(imgh,10)};}else{this.__parallax.img=false;}}}
var sw=$sec.width();var st=$sec.offset().top;if(!this.__parallax.last||this.__parallax.last!=[wh,sw,st].join("-")){var sh=$sec.height();this.__parallax.sh=sh;var shBg=Math.round(sh+this.__parallax.factor*wh);if(this.__parallax.img){if(this.__parallax.img.width/this.__parallax.img.height>sw/shBg){var bgSize=""+Math.round(this.__parallax.img.width*shBg/this.__parallax.img.height)+"px "+shBg+"px";}else{var bgSize=""+sw+"px "+Math.round(this.__parallax.img.height*sw/this.__parallax.img.width)+"px";}
$this.find(".image, .image2, .image3").css("top","").css("height","").css("background-size",bgSize);}else{$this.find(".image, .image2, .image3").css("height",shBg+"px");}
this.__parallax.last=[wh,sw,st].join("-");}
var smt=st+this.__parallax.sh/2;var dt=(wmt-smt)*(this.__parallax.factor)-this.__parallax.factor*wh/2;if(this.__parallax.img){$this.find(".image, .image2, .image3").css("background-position","center top "+dt+"px");}else{$this.find(".image, .image2, .image3").css("top",dt+"px");}});}
if($(".sk-sec[ parallax ]").length>0){quomodo.events.addListener("windowscroll",function(){doParallax();},window,"parallax");setTimeout(function(){doParallax();},100);}}
var webMode=options&&options.mode=="web";if(!$("body").attr("sk-id"))$("body").attr("sk-id","default");Skeleton.extendClient();Skeleton.extendPage();if(!webMode)Skeleton.prepareTemplate();if(!webMode&&window.quomodoclient&&quomodoclient.prepare_skeleton)quomodoclient.prepare_skeleton();if($("#q_author_stuff").length!=0)_fallbackID="q_author_stuff";$("#q_author_stuff, .sk-sec").each(function(){var $this=$(this);var secid=$this.attr("id");table_settings[secid]=new QuomodoSection(secid,_this,options);if(!webMode)updateIDs(table_settings[secid]);});Skeleton.prepareSkeleton();if(webMode){prepareParallax();Skeleton.render();Skeleton.prepareBanner();$("#p-0").css("min-height","");var bottomAd=0;if($("#qlub_ads_addright_elem").length>0)bottomAd=$("#qlub_ads_addright_elem").offset().top+$("#qlub_ads_addright_elem").height();var bottomTarget=Math.max(q_windowInnerHeight(),bottomAd);var bottomContent=0;$(".sk-sec, .sk-wra").each(function(){var $sec=$(this);var bottom=$sec.offset().top+$sec.outerHeight();if(bottom>bottomContent)bottomContent=bottom;});if(bottomTarget>bottomContent&&$("body").attr("sk-id")!="prehome"&&$("body > .background-image-offset .image-click").length==0){var $p0=$("#p-0-stuff");$p0.css("min-height",($p0.outerHeight()+bottomTarget-bottomContent)+"px");}
quomodo.events.trigger("windowresize");}else{this.activate(_fallbackID,true);}}
function QuomodoSection(id,parent,options){var _parent=parent;var _this=this;var $divSec=$("#"+id);var alignmodified=false;var _services={"renderContent":{"page":function(json_note,noteids){qsn_prepareStuff(this.stuffid);var upgradeFormat=mep_upgradeformattov2(noteids);var currentFormat=mep_getformat();mep_prepare();if(noteids.length==0)return;var align_list=[];var isaligned=this.isaligned();function initMissingCol(id){var fullwidthcol=[];var n=_this.col_def.length-1;for(var i=0;i<n;i++){if((i>0&&i<n-1)||!isMarginColumn(i))fullwidthcol.push(""+i);}
fullwidthcol=fullwidthcol.join("-");return fullwidthcol;}
var currentsk;if(window.snchooserskeleton)currentsk=snchooserskeleton.id+":"+(snchooserskeleton.sk||"default");else currentsk=spacexml.skeleton.id+":"+(q_currsvcjson().sk||"default");var oldsk=currentFormat&&currentFormat.sk;function checkNeedRealign(r){if(_this.shared)return false;if(currentsk==oldsk&&!window.snchoosersample)return false;if(!isaligned)return false;if(!isaligned)return true;var col_left=parseInt(r.common.col.split("-")[0],10);var col_right=parseInt(r.common.col.split("-").pop(),10);if(!r.common.m&&(isMarginColumn(col_left)||isMarginColumn(col_right)))return true;return false;}
var needRealign=false;var svc=q_svcfromid(this.svcid);var svcLang=(svc.lang=="default")?q_lang:(svc.lang||q_lang);if(!isaligned){noteids=noteids.sort(function(a,b){var a_left=parseInt(qsn_thenotes[a].spacedefaults.common.left,10);var a_top=parseInt(qsn_thenotes[a].spacedefaults.common.top,10);var b_left=parseInt(qsn_thenotes[b].spacedefaults.common.left,10);var b_top=parseInt(qsn_thenotes[b].spacedefaults.common.top,10);var a_parent=qsn_thenotes[a].parentid;var b_parent=qsn_thenotes[b].parentid;if(a_parent&&!b_parent)return 1;if(!a_parent&&b_parent)return-1;if(a_top<b_top)return-1;else if(a_top==b_top){if(a_left<b_left)return-1;return 1;}
else return 1;});}
this.updateoffsets_disabled=true;for(var i=0;i<noteids.length;i++){try{var id=noteids[i];if(!qsn_thenotes[id])continue;rm(id);if(qsn_thenotes[id].common.notekind=="corplinks"){delete qsn_thenotes[id];continue;}
if(qsn_thenotes[id].parentid&&!qsn_thenotes[id].pagesparent)continue;if(qsn_thenotes[id].parentid&&!qsn_thenotes[qsn_thenotes[id].parentid])continue;if(qsn_thenotes[id].common.duplicate){qsn_thenotes[id].common.duplicate=null;qsn_thenotes[id].common.ghost=null;if(isaligned){qsn_thenotes[id].common.col=initMissingCol(id);qsn_thenotes[id].common.row=-1;if(qsn_thenotes[id].common.duplicaterichinfos)qsn_thenotes[id].common.richinfos=q_cloneObject(qsn_thenotes[id].common.duplicaterichinfos);if(!qsn_thenotes[id].pagesparent){qsn_thenotes[id].spacedefaults.common.left="0px";qsn_thenotes[id].spacedefaults.common.top="0px";}}else{qsn_thenotes[id].common.col=null;qsn_thenotes[id].common.row=null;if(qsn_thenotes[id].common.duplicaterichinfos)delete qsn_thenotes[id].common.duplicaterichinfos;}}
qsn_globalupgradejson(id);qsn_thenotes[id].user=q_cloneObject(qsn_thenotes[id].spacedefaults,qsn_thenotes[id].user);var nc=qsn_thenotes[id].common;var sc=qsn_thenotes[id].spacedefaults.common;var uc=qsn_thenotes[id].user.common;if(!isaligned){qsn_thenotes[id].common.col=null;qsn_thenotes[id].common.row=null;}
if((sc.align=="true")||(sc.align=="false")){sc.align=uc.align=null;sc.col=uc.col=null;sc.row=uc.row=null;qsndyn_initnote(id);}else if(nc.col!=undefined&&nc.col!=""&&!qsn_thenotes[id].pagesparent){if(qsn_thenotes[id].common.notekind=="nws"&&qsn_thenotes[id].imgtosec)qsndyn_initnote(id);else{if(!this.width_def[nc.col])nc.col=this.encodeCol(parseInt(sc.width,10));align_list.push([id,nc.row,nc.col,nc.h]);needRealign=needRealign||checkNeedRealign(qsn_thenotes[id]);}}else if(qsn_thenotes[id].pagesparent&&!(isaligned||(upgradeFormat&&upgradeFormat.ncols))){qdyn_snload("qsn_initpageschildnote",[id,svcLang],qsn_thenotes[qsn_thenotes[id].parentid].common.notekind,null,svcLang);}else if(qsn_thenotes[id].pagesparent&&(isaligned||(upgradeFormat&&upgradeFormat.ncols)))continue;else if(!nc.ghost){if(nc.notekind==pages_notekindsep&&q_pagemode()!="edit")continue;if(isaligned&&!nc.col){if(qsn_thenotes[id].common.notekind=="nws"&&qsn_thenotes[id].imgtosec)qsndyn_initnote(id);else{nc.col=initMissingCol(id);nc.row=(nc.row!=undefined&&nc.row!="")?nc.row:-1;if(!qsn_thenotes[id].pagesparent){qsn_thenotes[id].spacedefaults.common.left="0px";qsn_thenotes[id].spacedefaults.common.top="0px";qsn_thenotes[id].user=q_cloneObject(qsn_thenotes[id].spacedefaults,qsn_thenotes[id].user);}
align_list.push([id,nc.row,nc.col,nc.h]);}}else qsndyn_initnote(id);}else{}}catch(err){};}
if(isaligned){$("#"+this.stuffid+"-table").show();maketable(align_list,"init",[]);}
function initRealign(){if(_this.shared&&_this.svcid==quomodo.page.shareds["h"])return false;if(!_this.shared&&(!currentFormat||currentsk!=oldsk||needRealign)){var formats=Skeleton.formatSection(_this.id);if(((currentFormat&&currentFormat.free!=true)||upgradeFormat&&upgradeFormat.ncols)&&formats&&formats[0]){var qlub_mepjson=$.extend(true,formats[0],upgradeFormat);if(upgradeFormat&&upgradeFormat.ncols)qlub_mepjson.ncols=upgradeFormat.ncols;else if(currentFormat&&currentFormat.ncols)qlub_mepjson.ncols=currentFormat.ncols;qlub_mepjson.sk=currentsk;mep_prepare(qlub_mepjson);var modifiednoteids=[];if(_this.noteid||_this.tmpnoteid)modifiednoteids.push(_this.noteid||_this.tmpnoteid);modifiednoteids=modifiednoteids.concat(xalign_notes());pages_save(modifiednoteids,[]);if($divSec.hasClass("active"))_this.updateleftcol();}else{var s=get_note_settings();if(!s)s=qsn_thenotes[new_note_settings()];if(!s.format)s.format={};s.format.free=true;s.format.sk=currentsk;var modifiednoteids=[];if(_this.noteid||_this.tmpnoteid)modifiednoteids.push(_this.noteid||_this.tmpnoteid);modifiednoteids=modifiednoteids.concat(mep_freecontent());pages_save(modifiednoteids,[]);quomodo.page.sections.render(_this.id);}}else if(currentFormat&&!currentFormat.free){var b=false;var formats=Skeleton.formatSection(_this.id);var skeletonFormat=formats[0]||formats[1];if(!currentFormat.customMargins&&currentFormat.innerMargin!=skeletonFormat.innerMargin)b=true;if(!currentFormat.customMargins&&currentFormat.outerMargin!=skeletonFormat.outerMargin)b=true;if(b){var oldWithMargin=isMarginColumn(0);var qlub_mepjson=$.extend(true,{},currentFormat,skeletonFormat);qlub_mepjson.ncols=currentFormat.ncols;mep_prepare(qlub_mepjson);var newWithMargin=isMarginColumn(0);var modifiednoteids=[];if(_this.noteid||_this.tmpnoteid)modifiednoteids.push(_this.noteid||_this.tmpnoteid);modifiednoteids=modifiednoteids.concat(xalign_notes((newWithMargin==oldWithMargin)?"keepcols":null));pages_save(modifiednoteids,[]);if($divSec.hasClass("active"))_this.updateleftcol();}}}
initRealign();this.updateoffsets_disabled=false;this.updateoffsets();if(spacexml.responsive&&qsn_responsive_mod()!="md"){Skeleton.manageAltMask(this.id);}
this.setHeight(true);ge(this.stuffid).setAttribute("initfooter",this.fixedHeight?"false":"true");},"default":function(json_note,noteids){qsn_init();if(!/artemadisq/.test(this.svcid))this.setHeight(true);}},"saveContent":{"page":function(id,savecallback,removedid){var removedids=removedid?((typeof removedid=="object")?removedid:[removedid]):[];removedid=removedids[0];var modifiednoteids=(typeof id=="object")?id:[id];if(removedid){if(qsn_stuffID(removedid)!=this.id)var oldsection=quomodo.page.sections.get(qsn_stuffID(removedid));if(oldsection.svcid!=this.svcid){oldsection.suppressContent(removedid,null);removedid=null;removedids=[];}else{var children=[];for(var noteid in qsn_thenotes)try{if($.inArray(qsn_thenotes[noteid].parentid,removedids)!=-1)children.push(noteid);}catch(err){};var cid,ind;for(var i=0;i<children.length;i++){cid=children[i];removedids.push(cid);delete qsn_thenotes[cid];ind=indexOfItem(cid,qsn_userrefreshid);if(ind!=-1)qsn_userrefreshid.splice(ind,1);rm(ge(cid));}
ind=indexOfItem(removedid,qsn_userrefreshid);if(ind!=-1)qsn_userrefreshid.splice(ind,1);var oldSectionAligned=oldsection&&oldsection.manageEmptySection();var oldSectionModifiedIds=[];for(var i=0;i<removedids.length;i++){var loopid=removedids[i];var richparentid=null;if(qsn_thenotes[loopid]){var parentid=qsn_thenotes[loopid].parentid;richparentid=pages_richparentid(loopid);delete qsn_thenotes[loopid];rm(ge(loopid));if(parentid){qsn_childremoved(parentid);var d=pages_richnoteoffsets(parentid);if(d.isrichnote){if(!qsn_thenotes[parentid].common.richinfos)qsn_thenotes[parentid].common.richinfos={};qsn_thenotes[parentid].common.richinfos.offsetTop=d.offsetTop;qsn_thenotes[parentid].common.richinfos.offsetLeft=d.offsetLeft;qsn_thenotes[parentid].common.richinfos.offsetWidth=d.offsetWidth;qsn_thenotes[parentid].common.richinfos.offsetHeight=d.offsetHeight;}else delete qsn_thenotes[parentid].common.richinfos;modifiednoteids.push(parentid);}}
if(oldSectionAligned){oldSectionModifiedIds=oldSectionModifiedIds.concat((richparentid==loopid)?[loopid]:[loopid,richparentid]);}
$("#toolbar_"+loopid).remove();}
if(oldsection){oldsection.manageEmptySection();if(oldsection.isaligned())modifiednoteids=modifiednoteids.concat(oldSectionModifiedIds);else{oldsection.updateoffsets();if(oldsection.noteid||oldsection.tmpnoteid)modifiednoteids.push(oldsection.noteid||oldsection.tmpnoteid);}}}}
this.manageEmptySection();if(this.isaligned()){if(typeof id=="string"){var richparentid=pages_richparentid(id);if(!qsn_isnewnote&&!qsn_thenotes[id].pagesparent&&ge(id)&&ge(id).parentNode)ge(id).parentNode.style.height=(qsn_thenotes[id].common.richinfos)?qsn_thenotes[id].common.richinfos.offsetHeight+"px":"";if(qsn_isnewnote&&richparentid==id)modifiednoteids=modifiednoteids.concat(xalign_notes([]));else modifiednoteids=modifiednoteids.concat(xalign_notes((richparentid==id)?[id]:[id,richparentid]));}else modifiednoteids=modifiednoteids.concat(xalign_notes(modifiednoteids));pages_save(modifiednoteids,removedids,savecallback);}else{updateoffsets();if(_this.noteid||_this.tmpnoteid)modifiednoteids.push(_this.noteid||_this.tmpnoteid);pages_save(modifiednoteids,removedids,savecallback);}},"default":function(id,savecallback){this.manageEmptySection();if(!/artemadisq/.test(this.svcid))this.setHeight(true);qsn_notechanged(id,(qsn_isnewnote)?"newnote":"notechanged",savecallback);}},"suppressContent":{"page":function(ids,savecallback,withWait){if(typeof ids!="object")ids=[ids];var noteslist=[];var modifiednoteids=[];var realignids=[];for(var j=0;j<ids.length;j++){id=ids[j];if(!qsn_thenotes[id])continue;if($.inArray(id,noteslist)==-1)noteslist.push(id);var children=[];for(var noteid in qsn_thenotes)try{if(qsn_thenotes[noteid].parentid==id)children.push(noteid);}catch(err){};var cid,ind;for(var i=0;i<children.length;i++){cid=children[i];if($.inArray(cid,noteslist)==-1)noteslist.push(cid);delete qsn_thenotes[cid];ind=indexOfItem(cid,qsn_userrefreshid);if(ind!=-1)qsn_userrefreshid.splice(ind,1);rm(ge(cid));}
ind=indexOfItem(id,qsn_userrefreshid);if(ind!=-1)qsn_userrefreshid.splice(ind,1);var parentid=qsn_thenotes[id].parentid;var parentid=qsn_thenotes[id].parentid;var richparentid=pages_richparentid(id);delete qsn_thenotes[id];rm(ge(id));if(parentid){qsn_childremoved(parentid);var d=pages_richnoteoffsets(parentid);if(d.isrichnote){if(!qsn_thenotes[parentid].common.richinfos)qsn_thenotes[parentid].common.richinfos={};qsn_thenotes[parentid].common.richinfos.offsetTop=d.offsetTop;qsn_thenotes[parentid].common.richinfos.offsetLeft=d.offsetLeft;qsn_thenotes[parentid].common.richinfos.offsetWidth=d.offsetWidth;qsn_thenotes[parentid].common.richinfos.offsetHeight=d.offsetHeight;}else delete qsn_thenotes[parentid].common.richinfos;if($.inArray(parentid,modifiednoteids)==-1)modifiednoteids.push(parentid);}
if($.inArray(id,realignids)==-1)realignids.push(id);if(richparentid!=id){if($.inArray(richparentid,realignids)==-1)realignids.push(richparentid);}}
this.manageEmptySection();if(this.isaligned())modifiednoteids=modifiednoteids.concat(xalign_notes(realignids));else{updateoffsets();if(_this.noteid||_this.tmpnoteid)modifiednoteids.push(_this.noteid||_this.tmpnoteid);}
$("#toolbar_"+ids[0]).remove();pages_save(modifiednoteids,noteslist,savecallback,withWait);},"default":function(id,savecallback){var noteslist=[id];var children=[];for(var noteid in qsn_thenotes)try{if(qsn_thenotes[noteid].parentid==id)children.push(noteid);}catch(err){};var cid,ind;for(var i=0;i<children.length;i++){cid=children[i];noteslist.push(cid);delete qsn_thenotes[cid];ind=indexOfItem(cid,qsn_userrefreshid);if(ind!=-1)qsn_userrefreshid.splice(ind,1);rm(ge(cid));}
var parentid=qsn_thenotes[id].parentid;delete qsn_thenotes[id];ind=indexOfItem(id,qsn_userrefreshid);if(ind!=-1)qsn_userrefreshid.splice(ind,1);rm(ge(id));qsn_notesuppressed(noteslist,this.svcid);if(parentid)qsn_childremoved(parentid);this.manageEmptySection();updateoffsets();}},"saveUp":{"page":function(noteid,isowner,isreduce){var modifiednoteids=[noteid];if(typeof noteid=="object")modifiednoteids=noteid;if(this.isaligned()){var richparentid=pages_richparentid(noteid);modifiednoteids=modifiednoteids.concat(xalign_notes((richparentid==noteid)?[noteid]:[noteid,richparentid]));pages_save(modifiednoteids,[]);var r=qsn_thenotes[noteid];if(!r.pagesparent){var elem=ge(noteid);elem.parentNode.style.height=(r.common.richinfos)?r.common.richinfos.offsetHeight+"px":"";if(isie78()){var imgs=elem.getElementsByTagName("IMG");for(var i=0;i<imgs.length;i++)imgs[i].style.width=imgs[i].offsetWidth+"px";}
elem.style.position="relative";}}else{updateoffsets();if(_this.noteid||_this.tmpnoteid)modifiednoteids.push(_this.noteid||_this.tmpnoteid);pages_save(modifiednoteids,[]);}},"default":function(noteid,isowner,isreduce){if((!isreduce)&&(isowner)){qsn_adduserrefreshid(noteid);qsn_spacedefaultsnotechanged(noteid);}else{qsn_usernotechanged(noteid);}
updateoffsets();}},"renderhtml":{"default":function(id){var div=getelement(id);id=div.id;showblock(div);var r=qsn_thenotes[id];if(members&&members[r.common.ownerid])r.common.savedmember={username:members[r.common.ownerid].username,firstname:members[r.common.ownerid].firstname};var sc=r.spacedefaults.common;var uc=r.user.common;var w=uc.width||sc.width||"200px";if(w=="NaNpx")w="200px";div.style["width"]=w;div.style["left"]=uc.left||sc.left||"50px";div.style["top"]=uc.top||sc.top||"50px";if(sc.right)$(div).css({"left":"auto","right":sc.right});if(sc.bottom)$(div).css({"top":"auto","bottom":sc.bottom});if(r.common.class)$(div).addClass(r.common.class);var zindex=(uc.zindex!=undefined)?uc.zindex:((sc.zindex!=undefined)?sc.zindex:"0");if(zindex!=undefined){var newindex=eval(zindex);$(div).css("z-index",newindex);$("#"+id+"-richtarget").css("z-index",newindex);$("#"+id+"-richtarget-before").css("z-index",newindex+1);qsn_updatezindexmax(id,newindex);}else{qsn_adduserrefreshid(id);qsn_puttofront(id);}
applymoveslist([id]);}}};var skid=quomodo.page.skid;var shared=(/^(h|f|sk)-/).test(id);if(skeleton.sharedSections&&skeleton.sharedSections[skid]&&skeleton.sharedSections[skid].to&&skeleton.sharedSections[skid].to[id]){id=skeleton.sharedSections[skid].to[id];shared=true;}
this.id=id;this.stuffid=(id=="q_author_stuff")?"q_author_stuff":id+"-stuff";this.noteid=null;this.svcid=(id=="q_author_stuff"||!((/^(h|f|s)-/).test(id)||shared))?currsvcid:null;this.type=null;this.shared=shared;this.offset={top:-1,topHeader:-1,left:-1,right:-1,bottom:-1,pageheight:-1};this.col_def=[];this.maxWidth=990;if(q_pagemode()=="edit"){if(/-lg/.test(id))this.maxWidth=devicesDef.lg.contentWidth;if(/-sm/.test(id))this.maxWidth=devicesDef.sm.contentWidth;if(/-xs/.test(id))this.maxWidth=320-30;}
this.width_def={};this.table_margin_left=18;this.table_margin_right=18;this.table_margin=18;this.pages_vmargin=0;this.__holder=null;this.__fullrpds={};this.maxsnwidth=function(inmargin){if(this.isaligned()&&!inmargin){var w="";var n=this.col_def.length-1;for(var i=0;i<n;i++){w+=String(i);if(i<n-1)w+="-";}
if(isMarginColumn(0))w=w.replace("0-","");if(isMarginColumn(n-1))w=w.replace("-"+(n-1),"");return this.width_def[w];}
return maxwidthpage();};this.maxsnX=function(){return maxsnX();};this.isaligned=function(){if(this.aligned==undefined&&q_pagemode()=="web"){var format=mep_getformat();format=this.applyformat(format);if(!format||!format.pageformat)this.aligned=false;else{this.aligned=true;this.formatProperties=format;}}
return this.aligned;var format=mep_getformat();var s=get_note_settings();return format&&format.pageformat&&s&&s.common&&s.common.alignversion;};this.pageformat=function(){return this.__format&&this.__format.pageformat;};this.encodeCol=function(w){var tmp=[];var s=[];var n=this.col_def.length-1;for(var i=0;i<n;i++){if(isMarginColumn(i)&&s.length==0)continue;s.push(i);if(!isMarginColumn(i))tmp.push(s.join("-"));}
var wd=this.width_def;tmp=tmp.sort(function(a,b){return Math.abs(wd[a]-w)-Math.abs(wd[b]-w);});return tmp[0];};this.rpds=function(bAll,secid){secid=secid||this.id;var spaceall={};var tmp=spacexml.skeleton.rpds||[];for(var i=0;i<tmp.length;i++){if(tmp[i].removed)continue;if(!spaceall["custom"])spaceall["custom"]=[];spaceall["custom"].push(tmp[i].id);}
var _skeleton=Skeleton.skeleton();var rpds_accept=Skeleton.getSectionJSON(secid)["rpds-accept"]||RPD.defaultSections()[secid];var b=false;var all={};if(rpds_accept){var rpds=[];if(typeof rpds_accept=="function")rpds_accept=rpds_accept();if(typeof rpds_accept=="string")rpds=[rpds_accept];if(typeof rpds_accept=="object"){if(typeof rpds_accept[0]=="string")rpds=rpds_accept;else if(bAll)rpds=rpds_accept[0].concat(rpds_accept[1]);else rpds=rpds_accept[0];}
for(var i=0;i<rpds.length;i++){var k=rpds[i].replace("rpdp-","").replace(/[0-9]+/,"");if(!all[k])all[k]=[];all[k].push(rpds[i]);b=true;}}
if(spaceall["custom"])all["custom"]=spaceall["custom"];if(b)return all;return this.rpds(bAll,"p-0");};this.fullrpds=function(notekind,secid){return Skeleton.fullrpds(notekind,secid||this.id);};this.setHeight=function(reseth){if(qsn_currstate=="edit")return;if(qsn_responsive_mod()=="xs")return;if((this.fixedHeight||this.aligned)&&qsn_responsive_mod()=="md")return;if(this.aligned&&qsn_responsive_mod()=="sm")return;if(this.aligned&&qsn_responsive_mod()=="lg")return;var _this=this;var stuffID=this.stuffid;var div=ge(stuffID);if($("#"+this.id+" .empty-stuff").length>0){div.style.height="";return;}
var hdiv=(div.style.height&&parseInt(div.style.height,10))?parseInt(div.style.height,10):0;if(reseth)hdiv=0;if(hdiv&&!div.lastheight){div.lastheight=hdiv;if(q_pagemode()!="makeweb")setTimeout(function(){_this.setHeight(false);},5000);return;}
var h=qsn_calcpageheight(stuffID);if(h==null&&q_pagemode()!="web"){h=40;}
h=Math.max(h,hdiv);if(q_pagemode()=="edit"&&h==0)h=100;div.style.height=h+"px";function check(){for(var k in qsn_dynloadstatus){if(qsn_stuffID(k)==stuffID&&qsn_dynloadstatus[k]=="loading")return false;}
return true;}
if(h==div.lastheight&&check())return;div.lastheight=h;if(q_pagemode()!="makeweb")setTimeout(function(){_this.setHeight(false);},1000);};this.defaultContent=function(json_notes){if(!json_notes)return;var id=new_note_settings();qsn_thenotes[id].common.sectionid=this.id;modifiedids=[id].concat(json_notes);for(var i=0;i<json_notes.length;i++){qsn_thenotes[json_notes[i]].common.stuffID=this.id;}
return modifiedids;};this.getcolor=function(){var s=get_note_settings();var color=s&&s.skeleton&&s.skeleton["colorsection"];if(color)return color;else return Skeleton.getSectionJSON(this.id,"prepare")["cs-bg"];};this.setcolor=function(colorid){if(colorid=="default")this.setSkeleton({"colorsection":null,"colorbackup":null});else this.setSkeleton({"imgsection-mod":"none","colorsection":colorid});};this.canDisplaySlideshow=function(){return Skeleton.canDisplaySlideshow(this.id);};this.emptybg=function(){var sk_settings=this.noteid&&qsn_thenotes[this.noteid]&&qsn_thenotes[this.noteid].skeleton;if(sk_settings&&sk_settings["imgsection-mod"]=="none")return true;var secrpd=Skeleton.getSectionJSON(this.id,true);if(secrpd["image"]=="img32")return false;if(secrpd["image"]!="img0"&&secrpd._custom&&secrpd._custom["img-url"])return false;if(!sk_settings)return true;if(secrpd.params&&secrpd.params.imgtosec)secrpd=Skeleton.getSectionJSON(secrpd.params.imgtosec,true);if(secrpd["image"]!="img0"&&sk_settings&&(sk_settings["imgsection-mod"]=="image"||(sk_settings["imgsection-mod"]=="slideshow"&&this.canDisplaySlideshow())))return false;else return true;};this.manageEmptySection=function(){var emptybg=this.emptybg();var emptysection=true;var emptysection_xs=true;if(this.fixedHeight)var minheight=false;else var minheight=true;var sk_settings=this.noteid&&qsn_thenotes[this.noteid]&&qsn_thenotes[this.noteid].skeleton;for(var noteid in qsn_thenotes){if(qsn_thenotes[noteid].common.notekind=="settings")continue;if(sk_settings&&sk_settings["slideshow"]==noteid)continue;if(qsn_stuffID(noteid)==this.stuffid){if(!qsn_thenotes[noteid].hiddenxs)emptysection_xs=false;emptysection=false;minheight=false;if(!emptysection&&!emptysection_xs)break;}}
if(currsvcType()=="forum"&&$("#"+this.id+" .rpdp-pagetitle1").length>0){emptysection=false;}
$("#"+this.id).removeAttr("empty-content");$("#"+this.id).removeClass("hidden-xs");if(q_pagemode()=="edit"&&quomodo.node&&/^(h|f)-/.test(this.id)){$("#"+this.id).css("display","");}
if(q_pagemode()=="edit"&&currsvcType()=="page"&&emptysection&&emptybg&&!minheight){$("#"+this.id+" .emptysection").show();$("#"+this.id+"-stuff").addClass("empty-stuff").css({"padding-top":"","padding-bottom":"","height":"","min-height":""});}else if(!emptysection||!emptybg){$("#"+this.stuffid).removeClass("empty-stuff");$("#"+this.id+" .emptysection").hide();if(emptysection)$("#"+this.id).attr("empty-content","1");if(emptysection&&minheight){var secjson=Skeleton.getSectionJSON(this.id,true);$("#"+this.stuffid).css("min-height",(secjson&&secjson.params&&secjson.params["min-height"])||"145px");}
if(emptysection_xs&&!minheight&&(!window.skeleton||skeleton.id!="quomodopros"))$("#"+this.id).addClass("hidden-xs");}else{if(q_pagemode()!="edit"&&quomodo.node&&!/^h-/.test(this.id)){$("#"+this.stuffid).removeClass("empty-stuff");}else{$("#"+this.id+" .emptysection").show();$("#"+this.id+"-stuff").addClass("empty-stuff").css({"padding-top":"","padding-bottom":"","height":"","min-height":""});}}
$("#"+this.id).removeClass("node-empty");if(q_pagemode()=="edit"&&quomodo.node&&emptysection&&emptybg&&/^(h|f|p)-/.test(this.id)){function defaultSection(secPattern){var min,res;$(".sk-sec").each(function(){if(!secPattern.test(this.id))return;var index=parseInt(this.id.replace(/^(h|f|p)-/,""),10);if(min==undefined||index<min){min=index;res=this.id;}});return res;}
var secPattern;var secPatterns=[/^h-\d+$/,/^h-\d+-sm$/,/^h-\d+-xs$/,/^f-\d+$/,/^p-\d+$/];for(var i=0;i<secPatterns.length;i++){if(secPatterns[i].test(this.id)){secPattern=secPatterns[i];break;}}
function allSectionsEmpty(secPattern){for(var noteid in qsn_thenotes){if(qsn_thenotes[noteid].common.notekind=="settings")continue;if(secPattern.test(qsn_stuffID(noteid).replace("-stuff",""))){return false;}}
return true;}
if(this.id==defaultSection(secPattern)){if(!allSectionsEmpty(secPattern))$("#"+this.id).addClass("node-empty");}else{$("#"+this.id).addClass("node-empty");}}};this.render=function(json_note,noteids){this.__holder==window;var id;if(json_note){id=json_note.common.noteid;this.noteid=id;this.svcid=qsn_svcid(id);}
setType();var imgmod=qsn_thenotes[this.noteid]&&qsn_thenotes[this.noteid]["skeleton"]&&qsn_thenotes[this.noteid]["skeleton"]["imgsection-mod"];if(imgmod)Skeleton.setSecVersion(this.id,imgmod);if(this.type=="page"){if(id)this.svcid=qsn_svcid(id);else if(noteids.length>0)this.svcid=qsn_svcid(noteids[0]);}else this.svcid=currsvcid;if(this.stuffid!="q_author_stuff"){var withToolbar=(q_pagemode()=="edit"&&currsvcType()=="page");if(q_pagemode()=="edit"&&currsvcType()=="page"){$("#"+this.id).empty().append('<div class="active-wrapper"><div class="active-border"></div><div class="active-border2"></div></div><div id="'+this.stuffid+'" svcid="'+this.svcid+(this.shared?('" shared-content="'+this.id):'')+'" class="stuff-content empty-stuff"></div><div class="mask-wrapper"><div class="mask-border"></div><div class="mask-border2"></div></div><div class="emptysection">'+(this.id!="p-0"&&this.id!="c-0"?'<div class="msg"><span>'+emptyMessage(this.id)+'</span></div>':'')+'</div>');if(this.fixedHeight)$("#"+this.id+" .emptysection .msg").append('<span onclick="qlub_loadsnchooser(); return false;" class="qlub_snchooser_sm font-q-i" style="margin-left:10px"></span>');else $("#"+this.id+" .emptysection").append('<div class="msg" onclick="qlub_loadsnchooser(); return false;" style="cursor:pointer"><span><span class="qlub_snchooser_sm font-q-i"></span><span>'+escapeHTML(common_message["addcontent"])+'</span></span></div>');}else{$("#"+this.id).empty().append('<div id="'+this.stuffid+'" svcid="'+this.svcid+(this.shared?('" shared-content="'+this.id):'')+'" class="stuff-content empty-stuff"></div>');}
$("#"+this.id).get(0).prepared=false;$("#"+this.id).removeAttr("ResizeSensor");$divSec.unbind("click mouseenter mouseleave").click(function(){var $this=$(this);if($this.hasClass("sk-sec-xs")||$this.hasClass("sk-sec-sm"))return;_parent.activate(_this.id);}).hover(function(){if(withToolbar){this.over=true;qsn_showtoolbar(ge(_this.id),true);}
var $this=$(this);if($this.hasClass("sk-sec-xs")||$this.hasClass("sk-sec-sm"))return;if(_this.shared&&q_getuserlevel(memberid)!="admin")return;$(this).removeClass("sk-over").removeClass("sk-out").addClass("sk-over");$("body").removeClass("sk-hover").addClass("sk-hover");},function(){if(withToolbar){this.over=false;qsn_showtoolbar(ge(_this.id),false);}
var $this=$(this);if($this.hasClass("sk-sec-xs")||$this.hasClass("sk-sec-sm"))return;if(_this.shared&&q_getuserlevel(memberid)!="admin")return;$(this).removeClass("sk-over");$("body").removeClass("sk-hover");});}
this.manageEmptySection();if(id){qsn_globalupgradejson(id);qsn_thenotes[id].user=xq_cloneObject(qsn_thenotes[id].spacedefaults,false,qsn_thenotes[id].user);qsn_initnote(id);}
if(currsvcType()=="shareboard")$(".mask-wrapper, .active-wrapper").hide();this.renderSection();if(this.noteid)$("#"+this.id+"-stuff").attr("noteid",this.noteid);var tmp=[];if(this.shared&&(this.svcid==quomodo.page.shareds["f"]||this.svcid==quomodo.page.shareds["h"])){for(var i=0;i<noteids.length;i++){var noteid=noteids[i];if(!qsn_thenotes[noteid])continue;var notekind=qsn_thenotes[noteid].common.notekind;if(notekind=="settings")continue;if($.inArray(notekind,tmp)==-1)tmp.push(notekind);}}
var svc=q_svcfromid(this.svcid);var svcLang=(svc.lang=="default")?q_lang:(svc.lang||q_lang);function finalizeRender(){if(tmp.length>0){var notekind=tmp.splice(0,1);qdyn_snload(function(){finalizeRender();},null,notekind,null,svcLang);return;}
_this.renderContent(json_note,noteids);if($divSec.hasClass("active"))_this.updateleftcol();}
finalizeRender();};this.renderBannerResponsive=function(){if(this.noteid){var sk_settings=qsn_thenotes[this.noteid];var reSymspaces=new RegExp("https?://[^/ '\"]+/symspaces/","g");var _this=this;function do_xs(){if(quomodo.page.sections.expertXsBanner){qlub_make_xsmenu($("#"+_this.id+"-xs-stuff .bmenu"));return "expert";}
if(Skeleton.hasBanner_xs(_this.id)&&(!sk_settings||(!sk_settings["xsbanner_html"]&&!sk_settings["xsbanner_custom"]&&!sk_settings["xsbanner_custom_html"])))return false;var keyHTML;if(sk_settings&&sk_settings["xsbanner_custom"]&&sk_settings["xsbanner_custom_html"])keyHTML="xsbanner_custom_html";else if(sk_settings&&sk_settings["xsbanner_html"])keyHTML="xsbanner_html";if(keyHTML){$("#"+_this.id+"-xs-stuff").html(sk_settings[keyHTML].replace(reSymspaces,"/symspaces/"));if(window.quomodoclient&&quomodoclient.custom_xsbanner)quomodoclient.custom_xsbanner("#"+_this.id+"-xs-stuff");qlub_make_xsmenu($("#"+_this.id+"-xs-stuff .bmenu"));if(_this.id=="h-1"&&$("#h-1-xs-fixed").length==0)$("#h-1-xs").after('<div id="h-1-xs-fixed" style="width:100%; height:'+$("#h-1-xs").height()+'px;display:none;"></div>');if(_this.id=="h-0"&&$("#h-1-xs").length==0&&$("#h-0-xs-fixed").length==0)$("#h-0-xs").after('<div id="h-0-xs-fixed" style="width:100%; height:'+$("#h-0-xs").height()+'px;display:none;"></div>');}
return true;}
function do_sm(){if(quomodo.page.sections.expertSmBanner){qlub_make_xsmenu($("#"+_this.id+"-sm-stuff .bmenu"));return "expert";}
if(Skeleton.hasBanner_sm(_this.id)&&(!sk_settings||(!sk_settings["smbanner_html"]&&!sk_settings["smbanner_custom"]&&!sk_settings["smbanner_custom_html"])))return false;var keyHTML;if(sk_settings&&sk_settings["smbanner_custom"]&&sk_settings["smbanner_custom_html"])keyHTML="smbanner_custom_html";else if(sk_settings&&sk_settings["smbanner_html"])keyHTML="smbanner_html";if(keyHTML){$("#"+_this.id+"-sm-stuff").html(sk_settings[keyHTML].replace(reSymspaces,"/symspaces/"));if(window.quomodoclient&&quomodoclient.custom_smbanner)quomodoclient.custom_smbanner("#"+_this.id+"-sm-stuff");qlub_make_xsmenu($("#"+_this.id+"-sm-stuff .bmenu"));}
return true;}
var bxs=do_xs();var bsm=do_sm();if(!bxs&&!bsm)return false;if(bxs=="expert"&&bsm=="expert")return true;var rdatas=spacexml.theme.banner||{};if(q_pagemode()=="view"){rdatas["connexion"]=false;rdatas["search"]=false;}
if(rdatas){var selector=[];if(bsm!="expert")selector.push("#"+this.id+"-sm-stuff *[q_data]");if(bxs!="expert")selector.push("#"+this.id+"-xs-stuff *[q_data]");$(selector.join(", ")).each(function(){var thedata;if(rdatas[$(this).attr("q_data")]){thedata=rdatas[$(this).attr("q_data")];}else if($(this).attr("q_data")=="display"&&$(this).attr("q_rule")){var x=$(this).attr("q_rule");if(!/[+|()]/.test(x))x=x.replace(/ +/g,"+");x=x.replace(/[+]/g," && ").replace(/[|]/g," || ");var tmp=[];var re=new RegExp("[a-zA-Z0-9_]+","g");var fneval="(function(){\n";for(var v=re.exec(x);v;v=re.exec(x)){v=v[0];if($.inArray(v,tmp)!=-1)continue;tmp.push(v);fneval+="var "+v+" = "+Boolean(rdatas[v])+";\n";}
fneval+="return ( "+x+" ) ;\n";fneval+="})()";var display=eval(fneval);if(display==false)$(this).hide();}
if($(this).attr("q_data")=="connexion"||$(this).attr("q_data")=="search"){if(thedata){var $a=(this.tagName.toLowerCase()=="a")?$(this):$(this).find("a");$a.each(function(){if($(this).attr("href")&&/^qlink:/.test($(this).attr("href"))){var v=q_link_getproperties($(this).attr("href"));$(this).attr("href",v.href||"#").attr("oncontextmenu","return false").attr("onclick",v.clickAttribute).attr("target",v.target);}});$(this).show();}else $(this).hide();}else if($(this).attr("q_data")=="q-src"&&$(this).attr("q-src")){var imgurl=q_spaceabsoluteurl(memberid,$(this).attr("q-src"));$(this).css({"background-image":"url("+imgurl+")"});}else{if(thedata){if($(this).attr("q_bicolor")||$(this).attr("q_data")=="name"||$(this).attr("q_data")=="baseline"){if($(this).attr("q_bicolor")=="disabled")$(this).html(escapeHTML(thedata));else $(this).html(qsn_splitHalf(thedata));$(this).css("cursor","pointer").attr("onclick","speciallink_home(); return false;");}else if($(this).attr("q_href")){if(/^qlink:/.test(thedata)){var v=q_link_getproperties(thedata.replace("qlink:",""));$(this).attr("href",v.href||"#").attr("oncontextmenu","return false").attr("onclick",v.clickAttribute).attr("target",v.target);}else{$(this).attr("href",thedata||"#").attr("target","_blank");}}else if($(this).attr("q_data")=="phone"&&($(this).parents(".sk-sec:eq(0)").hasClass("sk-sec-xs")||$(this).is("a"))){$(this).attr("onclick","qlub_xs_phone_click(\""+thedata.replace(/"/g,"\\\"")+"\"); return false;");}else if($(this).attr("q_data")=="address"&&($(this).parents(".sk-sec:eq(0)").hasClass("sk-sec-xs")||$(this).is("a"))){$(this).attr("onclick","qlub_xs_address_click(\""+thedata.replace(/"/g,"\\\"")+"\"); return false;");}else $(this).html(thedata.replace(/(\r\n|\r|\n)/g,"<br/>"));}else if($(this).attr("q_data")!="display")$(this).hide();}});if(q_pagemode()=="view")$("#"+this.id+"-xs-stuff .xs_logout > a").show();this.bannerFitSizes();if(q_pagemode()=="view")$("#"+this.id+"-xs-stuff .xs_logout > a").hide();}}
return true;};this.bannerFitSizes=function(){$("#"+this.id+"-sm-stuff .note, #"+this.id+"-xs-stuff .note").each(function(){var $this=$(this);$this.parent().parent().show();if($this.attr("limitw")&&$this.attr("limith")){var i=100;var sizes={};var limitw=parseInt($this.attr("limitw"),10);if($this.hasClass("banner_wsg_0")&&$this.parent().find(".banner_wsg_1").length>0){var $target=$this.parent().find(".banner_wsg_1");var w1=$target.width();$target.find("*[q_data]").each(function(){var oldDisplay=this.style.display;$(this).attr("old-display",oldDisplay).show();});var w2=$target.width();$target.find("*[q_data]").each(function(){var $this=$(this);var oldDisplay=$this.attr("old-display");if(oldDisplay)$this.css("display",oldDisplay);});limitw=limitw+w2-w1;}
$this.css("width","").css("height","").css("max-width",limitw+"px");var loopOnce=false;while(!loopOnce||$this.width()>limitw||$this.height()>parseInt($this.attr("limith"),10)){var done=false;$('[q_data]',this).each(function(){var $q_data_this=$(this);if(!loopOnce){$q_data_this.css("font-size","").css("line-height","");loopOnce=true;}
var size=parseInt($q_data_this.css("font-size"),10);if(size>11){size=size-1;$q_data_this.css("font-size",size+"px");$q_data_this.css("line-height",size+"px");sizes[$q_data_this.attr("q_data")]=size+"px";done=true;}});i--;if(!done)break;if(i==0)break;}}
if($this.attr("vcenter")){var vOffset=0;if($this.attr("vcenter")!="true")vOffset=Math.round((parseInt($this.attr("vcenter").split(" ")[0]||0,10)-parseInt($this.attr("vcenter").split(" ")[1]||0,10))/2);var top=(vOffset+Math.round(($this.parents(".sk-sec:eq(0)").height()-$this.height())/2))+"px";$this.css("top",top);}
if($this.attr("flex-maxwidth")&&$(".flex2",this).length>0){if($this.width()>parseInt($this.attr("flex-maxwidth"),10))$this.html($(".flex2",this).html());else $this.html($(".flex1",this).html());$this.removeAttr("flex-maxwidth");}
$this.parent().parent().css("display","");});};this.renderSection=function(){var json;if(this.noteid)json=qsn_thenotes[this.noteid]&&qsn_thenotes[this.noteid].skeleton;var secjson=Skeleton.getSectionJSON(this.id,true);this.fixedHeight=Skeleton.fixedHeight(this.id,json);this.maxWidth=Skeleton.width(this.id,json);if(this.id=="p-0"&&$("body").attr("sk-id")=="prehome")Skeleton.renderSection("site",json);else if(secjson&&secjson.params&&secjson.params.imgtosec){$("#"+secjson.params.imgtosec).data("imgfromsec",true);Skeleton.renderSection(secjson.params.imgtosec,json);Skeleton.renderSection(this.id);}else Skeleton.renderSection(this.id,json);};this.activate=function(initMode){if(q_pagemode()=="edit"){$(".sk-sec").removeClass("active");$divSec.removeClass("inactive active").addClass("active");if(/^h-/.test(this.id)&&(!spacexml.theme.banner||!spacexml.theme.banner.expert_mode)){var listsections=_parent.getBySvc(this.svcid);for(var i=0;i<listsections.length;i++)$("#"+listsections[i]).addClass("active");var listnotes=qsn_svc_notes(this.svcid);for(var i=0;i<listnotes.length;i++)$(listnotes[i]).removeAttr("onmouseover onmouseout onmousedown");}
if(qlub_getsvctype()=="page")$divSec.css("z-index","100");}
this.updateleftcol();if(initMode||this.stuffid=="q_author_stuff")return;if(this.noteid)return;q_fsm_wait();this.initWithContent(null,function(x,svcid){_this.updateleftcol();qsn_applynoterefresh(x,svcid);q_fsm_delete();});};this.inactivate=function(){if(q_pagemode()=="edit")$divSec.removeClass("active").removeClass("inactive").addClass("inactive").css("z-index","");};this.initWithContent=function(ids,callback,removedid,format){var __this=this;var t=this.id.split("-")[0];if(t=="sk")t=this.id.replace(/-[a-z]+-\d+$/,"");function doInitWithContent(){var modifiednoteids=[];if(!__this.noteid&&!__this.tmpnoteid){init_note_settings(format);if(__this.noteid||__this.tmpnoteid)modifiednoteids.push(__this.noteid||__this.tmpnoteid);}
if(ids){if(typeof ids=="object")modifiednoteids=modifiednoteids.concat(ids);else modifiednoteids.push(ids);}
if(modifiednoteids.length>0||removedid)__this.saveContent(modifiednoteids,callback,removedid);}
if(!this.svcid){if(t=="p"||t=="c"||t=="ph"){this.svcid=currsvcid;doInitWithContent();}else if(quomodo.page.shareds[t]){this.svcid=quomodo.page.shareds[t];doInitWithContent();}else if(quomodo.page.sharing[t]){this.svcid=quomodo.page.sharing[t];doInitWithContent();}else{var d=new Date();var json={"name":qlub_message["newshared-"+(/-/.test(t)?"sk":t)].replace(/%date/,""+d.getDate()+"/"+(1+d.getMonth())+"/"+(''+d.getFullYear()).substring(2)),sharing:t,viewaccess:"web",editaccess:"admins"};if(/^sk-/.test(t))json.sk=t.replace(/^sk-/,"");return q_ajaxobjsetppty("service","newpage",json,function(data){if(data&&data.setresults&&data.setresults.newid){if(t=="h"||t=="f"||/-/.test(t))quomodo.page.shareds[t]=data.setresults.newid;__this.svcid=data.setresults.newid;doInitWithContent();}});}}else doInitWithContent();};this.align=function(){var modifiednoteids=xalign_notes();pages_save(modifiednoteids,[])};this.dragOptions=function(elem,dragOnly){var dragLimits=sectionDragLimits(elem);prepareDrag(elem);var o={};if(qsn_currstate=="edit")o.limits={xmin:0,ymin:0,xmax:$(window).width()};else o.limits=dragLimits;if(!dragLimits)return o;if(!dragOnly&&dragLimits.xwmax)o.prepareCallback=function(elem,clientX0,isGrow){var id=elem.id;var trueGrow=(clientX0>($(elem).offset().left+elem.offsetWidth-qdr_resizewidth));return{isgrow:trueGrow};};return o;};this.redoformat_available=function(){var s=get_note_settings();if(!s||!s.format||!s.format.ncols)return false;return true;};this.redoformat=function(){return mep_redoformat();};this.resetformat=function(){return mep_resetformat();};this.pages_save=function(modifiednoteids,removednoteids,callback){return pages_save(modifiednoteids,removednoteids,callback);};this.updateoffsets=function(){if(this.updateoffsets_disabled)return;updateoffsets();};this.updateleftcol=function(){$("#qlub_adminleftcol_content > div").hide();if(!quomodo.node||(spacexml.memberparams&&spacexml.memberparams.skexpert)){$("#qlub_pagemodel").show();}
if(spacexml.memberparams&&spacexml.memberparams.skexpert){$("#transformblock").parent().show();}
$("#emablock").parent().show();return;var formats=Skeleton.formatSection(this.id);var bSKExpert=spacexml.memberparams&&spacexml.memberparams.skexpert;if(bSKExpert&&$("#qlub_section_margins").length==0){$("#qlub_separator").before('<div onclick="quomodo.page.sections.current().editmargins() ; return false" class="qlubleftcolmep qlub_palette_btn" id="qlub_section_margins" style="display: block;"><div><span style="font-size:12px"><span class="font-q-i"></span><span>Marges...</span></span></div></div>');$("#qlub_separator").before('<div onclick="quomodo.page.sections.current().setDefault() ; return false" class="qlubleftcolmep qlub_palette_btn" id="qlub_section_margins" style="display: block;"><div><span style="font-size:12px"><span class="font-q-i"></span><span>Réglages par défaut...</span></span></div></div>');}
if(bSKExpert&&$("#qlub_section_settings").length==0){$("#qlub_colorsection").after('<div onclick="quomodo.page.sections.current().editsettings() ; return false" class="qlubleftcolmep qlub_palette_btn" id="qlub_section_settings" style="display: block;"><div><span style="font-size:12px"><span class="font-q-i"></span><span>Modifier...</span></span></div></div>');}
if(bSKExpert&&$("#qlub_imgsection_video").length==0){$("#qlub_imgsection_image").after('<div onclick="qlub_section_video();" id="qlub_imgsection_video" class="qlub_palette_btn"><div><span style="font-size:12px"><span class="font-q-i"></span><span>Modifier la vidéo</span></span></div></div>');}
if(bSKExpert&&q_currsvcjson().vpage&&$("#qlub_reload_vpage").length==0){$("#qlubleftcolrestorebutton").after('<div id="qlub_reload_vpage" style="display: block ; padding-top: 8px"><a style="color : #1479fc" href="#" onclick="quomodo.page.sections.reload_vpage() ; return false">Recharger la page du V-site...</a></div>');}
if(bSKExpert&&$("#qlub_edit_vpage").length==0){$("#qlubleftcolrestorebutton").after('<div id="qlub_edit_vpage" style="display: block ; padding-top: 8px"><a style="color : #1479fc" href="#" onclick="quomodo.page.sections.edit_vpage() ; return false">Éditer la page à la Google Doc...</a></div>');}
if(this.aligned)$("#qlub_separator, #qlub_section_margins").show();else $("#qlub_separator, #qlub_section_margins").hide();if(!formats||(formats.length==1&&!formats[0]))$("#qlub_mep").hide();else{$("#qlub_mep").show();var format=mep_getformat();var msg;if(!format||format.free)msg=common_message["free-format"];else if(format.ncols==1)msg=common_message["onecol-format"];else msg=common_message["manycol-format"].replace("%n",format.ncols);$("#qlub_mep .qlub_palette_value").text(msg);if(quomodo.node&&/^h-/.test(this.id)){$("#qlub_mep").hide();}}
if(spacexml.theme.banner&&spacexml.theme.banner.expert_mode||!/^h-/.test(this.id)){$("#qlub_addbannercontent").hide();$("#qlub_adminleftcol .qlub_addcontent, #qlub_adminleftcol .qlub_snchooser").show();}else{$("#qlub_addbannercontent").show();$("#qlub_adminleftcol .qlub_addcontent, #qlub_adminleftcol .qlub_snchooser").hide();}
if(spacexml.theme.banner&&spacexml.theme.banner.expert_mode&&/^h-/.test(this.id)){$("#customizebanner").show();}else{$("#customizebanner").hide();}
$("#qlub_header_settings, #qlub_header_addsection").toggle(/^(h|f)-/.test(this.id));var s=get_note_settings();var img=s&&s.skeleton;if(q_emptyjson(img))img=null;$("#qlub_colorsection").hide().parent().find(".qlub_palette_sep").hide();if((Skeleton.withimgSection(this.id)&&!/^h-/.test(this.id)&&!/^f-/.test(this.id))||Skeleton.isMultiVersion(this.id)){$("#qlub_imgsection").show();var msg;var imgmod=this.imgmod(img);switch(imgmod){case "none":msg=common_message["imgsection"]["noimage"];$("#qlub_imgsection_image, #qlub_imgsection_slideshow, #qlub_imgsection_video").hide();$("#qlub_colorsection").show().parent().find(".qlub_palette_sep").show();break;case "image":case "template-image":msg=common_message["imgsection"]["withimage"];$("#qlub_imgsection_slideshow, #qlub_imgsection_video").hide();$("#qlub_imgsection_image").show();break;case "slideshow":msg=common_message["imgsection"]["withslideshow"];$("#qlub_imgsection_image, #qlub_imgsection_video").hide();$("#qlub_imgsection_slideshow").show();break;case "video":msg=common_message["imgsection"]["withvideo"];$("#qlub_imgsection_image, #qlub_imgsection_slideshow").hide();$("#qlub_imgsection_video").show();break;case "default":msg=common_message["imgsection"]["default"];$("#qlub_imgsection_image, #qlub_imgsection_slideshow, #qlub_imgsection_video").hide();break;}
var maskmod=Skeleton.getSectionJSON(this.id,"prepare",null,true)["img-mode"];if(img&&imgmod!="none"&&imgmod!="default"){var filter=img["filter"]||Skeleton.getSectionJSON(this.id,true,null,true)["filter"];if(filter&&filter!="filt0")msg+=", "+common_message["imgsection"]["withfilter"];else msg+=", "+common_message["imgsection"]["nofilter"];if(maskmod&&maskmod!="img-only"){if(img["image"]=="img4")msg+=", "+common_message["imgsection"]["nomask"];else msg+=", "+common_message["imgsection"]["withmask"];}}
$("#qlub_imgsection #qlub_imgsection_value").text(msg);}else{$("#qlub_imgsection").hide();if(!/^h-/.test(this.id)&&(!/^f-/.test(this.id)||bSKExpert)){$("#qlub_colorsection").show().parent().find(".qlub_palette_sep").show();if(/^f-/.test(this.id))$("#qlub_colorsection").hide();}}
var b=false;$("#qlub_mep").parent().find(">*").each(function(){if($(this).css("display")=="block")b=true;});if(!b)$("#qlub_mep").parent().hide().prev().hide();else $("#qlub_mep").parent().prev().show();if($("#qlub_imgsection").css("display")=="none")$("#qlub_colorsection").parent().find(".qlub_palette_sep").hide();if($("#qlub_imgsection").css("display")=="none"&&$("#qlub_colorsection").css("display")=="none"&&($("#qlub_section_settings").length==0||$("#qlub_section_settings").css("display")=="none"))$("#qlub_colorsection").parent().hide();else $("#qlub_colorsection").parent().show();if(/c1/.test(this.getcolor())||/c2/.test(this.getcolor()))$("#qlub_colorsection .qlub_palette_value").text(quomodoColors.getName(this.getcolor()));else $("#qlub_colorsection .qlub_palette_value").text(common_message["color"]+" "+quomodoColors.getName(this.getcolor()));};this.imgmod=function(imgsettings){if(imgsettings&&imgsettings["imgsection-mod"])return imgsettings["imgsection-mod"];var s=get_note_settings();var img=s&&s.skeleton;if(q_emptyjson(img))img=null;return Skeleton.sectionimgmod(this.id,img);};this.applyformat=function(x,device){if(x==null)return;if(x.free){if(this.vcenter()){var $divSec=$("#"+this.id);$divSec.removeAttr("vcenter");$divSec.find(".stuff-content").css({"padding-top":"","padding-bottom":""});}
return;}
function scaleNumber(n){if(device=="md")return n;if(device=="xs")return n;if(!device||!devicesDef[device]||!devicesDef[device].contentWidth)return n;return Math.round(n*devicesDef[device].contentWidth/devicesDef.md.contentWidth);}
function jsonMargin(margin){if(typeof margin=="number")margin=margin+"px";var tmp=margin.split(" ");if(tmp.length==1){tmp.push(tmp[0]);tmp.push(tmp[0]);tmp.push(tmp[0]);}else if(tmp.length==2){tmp=tmp.concat(tmp);}
return{"top":tmp[0],"right":tmp[1],"bottom":tmp[2],"left":tmp[3],"css":tmp.join(" ")};}
var outerMargin=jsonMargin(x.outerMargin!=undefined?x.outerMargin:10);var innerMargin=jsonMargin(x.innerMargin!=undefined?x.innerMargin:10);var ncols=parseInt(x.ncols,10);var qlub_mepjson={};function getPageFormat(outerLeftMargin,outerRightMargin,innerHMargin,n){var totalw=scaleNumber(_this.maxWidth);var xn,nn;if(typeof n!="object"){xn=[];for(var i=0;i<n;i++)xn.push(1);nn=n;}else{xn=n;n=xn.length;nn=0;for(var i=0;i<n;i++)nn+=xn[i];}
var w=totalw-(outerLeftMargin+outerRightMargin)-(n-1)*innerHMargin;var colw=Math.round(w/nn);if((outerLeftMargin+outerRightMargin)>0){function finalMargins(finalInnerMargin,inLoop){var xOuterMargin=totalw-nn*colw-(n-1)*finalInnerMargin;var d=xOuterMargin-(outerLeftMargin+outerRightMargin);var tmp=Math.round(d/(n-1));if(xOuterMargin<0){if(finalInnerMargin<2){colw-=1;return finalMargins(innerHMargin,true);}
return finalMargins(finalInnerMargin-1,true);}
if(!inLoop&&Math.abs(d)>1&&tmp!=0)return finalMargins(finalInnerMargin+tmp,true);if(innerHMargin!=0&&finalInnerMargin<1){colw-=1;return finalMargins(innerHMargin,true);}
return{"totalOuterMargin":xOuterMargin,"innerHMargin":finalInnerMargin};}
var o=finalMargins(innerHMargin);var finalInnerMargin=o["innerHMargin"];var xOuterMargin=o["totalOuterMargin"];}else{var xOuterMargin=0;var o=(totalw%nn);var finalInnerMargin=nn*Math.round((innerHMargin+o)/nn)-o;if(finalInnerMargin<0||(innerHMargin!=0&&finalInnerMargin==0))finalInnerMargin+=nn;colw=Math.round((totalw-(n-1)*finalInnerMargin)/nn);}
if(outerLeftMargin==0){var leftOuterMargin=0;var rightOuterMargin=xOuterMargin;}else if(outerRightMargin==0){var leftOuterMargin=xOuterMargin;var rightOuterMargin=0;}else{var c=((outerLeftMargin+outerRightMargin)>0)?outerLeftMargin/(outerLeftMargin+outerRightMargin):0.5;var leftOuterMargin=Math.round(xOuterMargin*c);var rightOuterMargin=xOuterMargin-leftOuterMargin;}
var x=[];var xx=[];if(leftOuterMargin){x.push(leftOuterMargin/totalw);xx.push(leftOuterMargin);}
for(var i=0;i<n;i++){if(i!=0){x.push(finalInnerMargin/totalw);xx.push(finalInnerMargin);}
x.push(colw*xn[i]/totalw);xx.push(colw*xn[i]);}
if(rightOuterMargin){x.push(rightOuterMargin/totalw);xx.push(rightOuterMargin);}
return{"a":xx,"leftOuterMargin":leftOuterMargin,"rightOuterMargin":rightOuterMargin,"finalInnerMargin":finalInnerMargin,"pageformat":x};}
qlub_mepjson.ncols=ncols;qlub_mepjson.innerHMargin=scaleNumber(parseInt(innerMargin.left,10));qlub_mepjson.innerVMargin=scaleNumber(parseInt(innerMargin.top,10));qlub_mepjson.sepheight=scaleNumber(parseInt(innerMargin.top,10));qlub_mepjson.outerLeftMargin=scaleNumber(parseInt(outerMargin.left,10));qlub_mepjson.outerRightMargin=scaleNumber(parseInt(outerMargin.right,10));qlub_mepjson.outerBottomMargin=scaleNumber(parseInt(outerMargin.bottom,10));qlub_mepjson.outerTopMargin=scaleNumber(parseInt(outerMargin.top,10));qlub_mepjson.colsmargin=0;qlub_mepjson.tablemargin=0;var res=getPageFormat(qlub_mepjson["outerLeftMargin"],qlub_mepjson["outerRightMargin"],qlub_mepjson["innerHMargin"],qlub_mepjson["ncols"]);qlub_mepjson["pageformat"]=res.pageformat;qlub_mepjson.outerLeftMargin=parseInt(res["leftOuterMargin"],10);qlub_mepjson.outerRightMargin=parseInt(res["rightOuterMargin"],10);if(res["finalInnerMargin"]!=qlub_mepjson.innerHMargin){if(qlub_mepjson.innerHMargin==qlub_mepjson.innerVMargin)qlub_mepjson.innerVMargin=res["finalInnerMargin"];qlub_mepjson.innerHMargin=res["finalInnerMargin"];}
qlub_mepjson.rowsmargin=qlub_mepjson.innerVMargin/2;qlub_mepjson.v=2;return qlub_mepjson;};this.on_vcenter=function(){var valign=this.vcenter();if(valign==true){var _this=this;function vcenter(){var $divSec=$("#"+_this.id).attr("vcenter","1");var $stuff=$divSec.find(".stuff-content");var contentHeight=$divSec.find(".stuff-table").height();if(qsn_responsive_mod()=="xs"){if($divSec.find(".nws_slideshow_descs").length>0)contentHeight+=$divSec.find(".nws_slideshow_descs").height();var formatPaddingTop=$stuff.attr("format-padding-top");if(formatPaddingTop){if(parseInt(formatPaddingTop,10)<parseInt($stuff.css("padding-top"),10)){$stuff.css("padding-top",formatPaddingTop);}}
var formatPaddingBottom=$stuff.attr("format-padding-bottom");if(formatPaddingBottom){if(parseInt(formatPaddingBottom,10)<parseInt($stuff.css("padding-bottom"),10)){$stuff.css("padding-bottom",formatPaddingBottom);}}}else{var formatPaddingTop=$stuff.attr("format-padding-top");if(formatPaddingTop)$stuff.css("padding-top",formatPaddingTop);var formatPaddingBottom=$stuff.attr("format-padding-bottom");if(formatPaddingBottom)$stuff.css("padding-bottom",formatPaddingBottom);}
var firstcontentid=$("body").attr("firstcontentid");var bannerPadding=0;if(firstcontentid&&firstcontentid==$stuff.attr("id")){bannerPadding=parseInt($("body").attr("top-transparent-banner-"+qsn_responsive_mod())||"0",10);}
var newpadding=($divSec.height()-bannerPadding-contentHeight-parseInt($stuff.css("top")||0,10))/2;$stuff.css({"padding-top":(bannerPadding+newpadding)+"px","padding-bottom":newpadding+"px"});$stuff.removeClass("sk-xs-force-padding-top sk-xs-force-padding-bottom");if(Skeleton.fixedHeight(_this.id)){var image=Skeleton.getSectionJSON(_this.id).image;if(image=="img33"||image=="img34"){if(newpadding>15)$stuff.addClass(bannerPadding==0?"sk-xs-force-padding-top sk-xs-force-padding-bottom":"sk-xs-force-padding-bottom");}else{if(newpadding<15)$stuff.addClass(bannerPadding==0?"sk-xs-force-padding-top sk-xs-force-padding-bottom":"sk-xs-force-padding-bottom");}}else{if(newpadding>15)$stuff.addClass(bannerPadding==0?"sk-xs-force-padding-top sk-xs-force-padding-bottom":"sk-xs-force-padding-bottom");}
Skeleton.vcenterDone();}
vcenter();if(spacexml.responsive)Skeleton.addResized(this.id,vcenter,"vcenter");}else{if(valign&&typeof valign=="string"&&/^bottom:/.test(valign)){if(q_pagemode()=="edit"){$("#"+this.id+"-stuff-table-wrapper").css({"position":"absolute","bottom":valign.replace(/^bottom:/,"").replace(/^\s+/,"").replace(/\s+$/,"")});}else{$("#"+this.id+"-stuff-table").css({"position":"absolute","top":"auto","bottom":valign.replace(/^bottom:/,"").replace(/^\s+/,"").replace(/\s+$/,"")});}}}};this.vcenter=function(){var s=get_note_settings();if(s&&s.format&&s.format.customMargins){return s.format.vcenter;}
var formats=Skeleton.formatSection(this.id);if(!formats)return null;var qlub_mepjson={};for(var i=0;i<=formats.length;i++){if(formats[i]){qlub_mepjson=formats[i];break;}}
return qlub_mepjson.vcenter;};this.activateformat=function(){var formats=Skeleton.formatSection(this.id);var qlub_mepjson={};for(var i=0;i<=formats.length;i++){if(formats[i]){qlub_mepjson=formats[i];break;}}
qlub_mepjson.free=false;mep_prepare(qlub_mepjson);var modifiednoteids=[_this.noteid];modifiednoteids=modifiednoteids.concat(xalign_notes());pages_save(modifiednoteids,[]);_this.updateleftcol();};this.setSkeleton=function(json,callback){var s=get_note_settings();if(!s)s=qsn_thenotes[new_note_settings()];json=$.extend(true,{},s.skeleton,json);s.skeleton=json;var modifiednoteids=[];if(_this.noteid||_this.tmpnoteid)modifiednoteids.push(_this.noteid||_this.tmpnoteid);pages_save(modifiednoteids,[],callback);this.manageEmptySection();if(this.id=="p-0"&&$("body").attr("sk-id")=="prehome")Skeleton.renderSection("site",json);else{Skeleton.renderSection(this.id,json);var secrpd=Skeleton.getSectionJSON(this.id,true);if(secrpd["params"]&&secrpd["params"]["imgtosec"])Skeleton.renderSection(secrpd["params"]["imgtosec"],json);}
quomodo.page.sections.render(this.svcid);};this.setSetting=function(json,callback,nosave){var s=get_note_settings();if(!s)s=qsn_thenotes[new_note_settings()];$.extend(true,s,json);var modifiednoteids=[];if(this.noteid||this.tmpnoteid)modifiednoteids.push(this.noteid||this.tmpnoteid);if(!nosave)pages_save(modifiednoteids,[],callback);};this.saveWaitImgLoaded_counter=0;this.saveWaitImgLoaded_callbacks=[];this.saveWaitImgLoaded_inc=function(){if(q_pagemode()!="edit")return;this.saveWaitImgLoaded_counter++;};this.saveWaitImgLoaded_dec=function(){if(q_pagemode()!="edit")return;if(!--this.saveWaitImgLoaded_counter){for(var i=0;i<this.saveWaitImgLoaded_callbacks.length;i++){this.saveWaitImgLoaded_callbacks[0].apply(this,[]);this.saveWaitImgLoaded_callbacks.splice(0,1);}}};this.toolbaroptions=function(){if(/^h-/.test(this.id)){if(!(spacexml.skeleton&&spacexml.skeleton.banner&&spacexml.skeleton.banner.expert_mode)){return["section_bannercontent"];}
var options=["section_addnote","section_image","section_advanced","section_displaybanner"];if(spacexml.memberparams&&spacexml.memberparams.skexpert=="1"){options.push("section_banner");}
return options;}
var options;if(Skeleton.canUseSK()){if(this.isaligned()){options=["section_addnote","section_image","section_grid","section_separator"];}else{options=["section_addnote","section_image","section_grid"];}
if(spacexml.memberparams&&spacexml.memberparams.skexpert=="1")options.push("section_sk");}else{if(this.isaligned()){options=["section_addnote","section_image","section_grid","section_separator","section_mobile","section_advanced"];}else{options=["section_addnote","section_image","section_grid","section_mobile","section_advanced"];}}
return options;};this.toolbar_bannercontent=function(){qlub_loadaddbannercontent();};this.toolbar_addnote=function(){quomodo.page.sections.activate(this.id);qlub_loadsnchooser();};this.toolbar_separator=function(){quomodo.page.sections.activate(this.id);qdyn_snload("qsn_newnote",["pagesep"],"pagesep");};this.toolbar_image=function(){quomodo.page.sections.activate(this.id);if(!/^h-/.test(this.id)&&Skeleton.canUseSK()){quomodo.page.sections.current().toolbar_editimageSK();}else{quomodo.page.sections.current().toolbar_editimage();}};this.toolbar_grid=function(){quomodo.page.sections.activate(this.id);quomodo.page.sections.current().toolbar_editgrid();};this.toolbar_mobile=function(){quomodo.page.sections.activate(this.id);quomodo.page.sections.current().toolbar_editmobile();};this.toolbar_advanced=function(){quomodo.page.sections.activate(this.id);quomodo.page.sections.current().toolbar_editadvanced();};this.toolbar_sk=function(){quomodo.page.sections.activate(this.id);quomodo.page.sections.current().editsettings();};this.toolbar_displaybanner=function(){quomodo.page.sections.activate(this.id);var path="/services/dialogs/webdesign-studio/dialogs/toolbar_displaybanner/index_"+q_lang+".html";quomodo.fsm.loadDialog(path);};this.toolbar_banner=function(){quomodo.page.sections.activate(this.id);var device="md";if(/-sm$/.test(this.id))device="sm";else if(/-xs$/.test(this.id))device="xs";this.customizebanner("edit-"+device);};this.toolbar_background=function(){quomodo.page.sections.activate(this.id);qlub_section_color();};this.customizebanner=function(device){if(/^edit-/.test(device)){var skeletonBannerRule=skeleton&&skeleton.bannerRule&&skeleton.bannerRule[device.replace(/^edit-/,"")];var path="/services/dialogs/webdesign-studio/dialogs/banner_settings/index_"+q_lang+".html";var options={json:{"device":device.replace(/^edit-/,""),"transparent":skeletonBannerRule&&skeletonBannerRule.transparent,"fixed":skeletonBannerRule&&skeletonBannerRule.fixed,"scroll":skeletonBannerRule&&skeletonBannerRule.scroll&&!skeletonBannerRule.scrollDisabled,"bannerScroll":skeletonBannerRule&&skeletonBannerRule.scroll},callback:function(x){if(!x)return;if(x.pageonly){var bannerRule={};if(quomodo.page.noteid){bannerRule=qsn_thenotes[quomodo.page.noteid].skeleton&&qsn_thenotes[quomodo.page.noteid].skeleton.bannerRule;if(!bannerRule)bannerRule={};}
var deviceBannerRule=bannerRule[device.replace(/^edit-/,"")];if(!deviceBannerRule){bannerRule[device.replace(/^edit-/,"")]={};deviceBannerRule=bannerRule[device.replace(/^edit-/,"")];}
deviceBannerRule.transparent=x.transparent;deviceBannerRule.fixed=x.fixed;if(x.scroll){deviceBannerRule.scroll=x.scroll;deviceBannerRule.scrollDisabled=false;}else{deviceBannerRule.scrollDisabled=true;}
if(device.replace(/^edit-/,"")=="md"){bannerRule["lg"]=bannerRule["md"];}
quomodo.page.setSettings({"bannerRule":bannerRule});return;}
var bannerRule=spacexml.skeleton.template&&spacexml.skeleton.template[skeleton.id]&&spacexml.skeleton.template[skeleton.id].bannerRule;if(!bannerRule)bannerRule={"md":{"fixed":(skeletonBannerRule&&skeletonBannerRule.md&&skeletonBannerRule.md.fixed)||false,"transparent":(skeletonBannerRule&&skeletonBannerRule.md&&skeletonBannerRule.md.transparent)||false},"sm":{"fixed":(skeletonBannerRule&&skeletonBannerRule.sm&&skeletonBannerRule.sm.fixed)||false,"transparent":(skeletonBannerRule&&skeletonBannerRule.sm&&skeletonBannerRule.sm.transparent)||false},"xs":{"fixed":(skeletonBannerRule&&skeletonBannerRule.xs&&skeletonBannerRule.xs.fixed)||false,"transparent":(skeletonBannerRule&&skeletonBannerRule.xs&&skeletonBannerRule.xs.transparent)||false}};var deviceBannerRule=bannerRule[device.replace(/^edit-/,"")];deviceBannerRule.transparent=x.transparent;deviceBannerRule.fixed=x.fixed;if(x.scroll){deviceBannerRule.scroll=x.scroll;deviceBannerRule.scrollDisabled=false;}else{deviceBannerRule.scrollDisabled=true;}
var json={};json["bannerRule?id="+skeleton.id]=JSON.stringify(bannerRule);q_ajaxsetppty(json,function(){Skeleton.extendBannerRule(spacexml.skeleton.template&&spacexml.skeleton.template[skeleton.id]&&spacexml.skeleton.template[skeleton.id].bannerRule);});}};quomodo.fsm.loadDialog(path,options);return;}
var _this=this;if(device&&/-(xs|sm)/.test(this.id)){var noteid=this.noteid;var r=qsn_thenotes[noteid];if(r.xsbanner_custom||r.smbanner_custom){if(!confirm("L'ancien mode de personnalisation des bannières xs et sm via HTML est activé. Voulez-vous tout de même poursuivre avec le nouveau mode d'édition ?")){var path="/services/dialogs/customizebanner/index_"+q_lang+".html";var options={json:{"xsbanner_custom":r.xsbanner_custom,"smbanner_custom":r.smbanner_custom,"xsbanner_html":r.xsbanner_custom_html||r.xsbanner_html,"smbanner_html":r.smbanner_custom_html||r.smbanner_html},callback:function(x){if(!x)return;r.xsbanner_custom=x.xsbanner_custom;r.smbanner_custom=x.smbanner_custom;r.xsbanner_custom_html=x.xsbanner_html;r.smbanner_custom_html=x.smbanner_html;var modifiednoteids=[_this.noteid||_this.tmpnoteid];pages_save(modifiednoteids,[]);_this.updateleftcol();}};quomodo.fsm.loadDialog(path,options);return;}
r.xsbanner_custom=false;r.smbanner_custom=false;}}
if(!device)device="md";if(device=="all"){$(".sk-sec-h").show();}else{quomodo.page.sections.activate("banner-"+device);}
if((device=="xs"||device=="all")&&!quomodo.page.sections.expertXsBanner){quomodo.page.sections.defaultContent("h-xs",quomodo.page.shareds["h"]);}else if((device=="sm"||device=="all")&&!quomodo.page.sections.expertSmBanner){quomodo.page.sections.defaultContent("h-sm",quomodo.page.shareds["h"]);}else if((device=="lg"||device=="all")&&!quomodo.page.sections.expertLgBanner){}};this.setDefault=function(callback){if(callback){var s=get_note_settings();if(!s){callback();return;}
s.format.customMargins=null;var formats=Skeleton.formatSection(_this.id);var skeletonFormat=formats[0]||formats[1];var oldWithMargin=isMarginColumn(0);qlub_mepjson=$.extend(true,{},skeletonFormat);mep_prepare(qlub_mepjson);var newWithMargin=isMarginColumn(0);var modifiednoteids=[];if(_this.noteid||_this.tmpnoteid)modifiednoteids.push(_this.noteid||_this.tmpnoteid);modifiednoteids=modifiednoteids.concat(xalign_notes((newWithMargin==oldWithMargin)?"keepcols":null));pages_save(modifiednoteids,[],callback,false);return;}
var path="/services/dialogs/q_confirm-flatdesign/index_"+q_lang+".html";var options={"json":{"msg":'Appliquer les réglages par défaut de Grille (marges et colonnage) à la section active ou à toutes les sections ?',"buttons":{"validate":"section active","altvalidate":"toutes les sections","cancel":common_message["cancel"]},"order":["validate","altvalidate","cancel"]},"callback":function(x){if(!x)return;var todo=[_this.id];if(x!=true){todo=[];$(".sk-sec").each(function(){var id=$(this).attr("id");if(!/^(h|f|sk)-/.test(id))todo.push(id);});}
function restore(){if(todo.length==0){q_fsm_delete(fsm_waitId);_this.updateleftcol();return;}
var id=todo[0];todo.splice(0,1);quomodo.page.sections.get(id).setDefault(restore);}
var fsm_waitId=q_fsm_wait();restore();}};quomodo.fsm.loadDialog(path,options);};this.editmargins=function(){function jsonMargin(margin){if(typeof margin=="number")margin=margin+"px";var tmp=margin.split(" ");if(tmp.length==1){tmp.push(tmp[0]);tmp.push(tmp[0]);tmp.push(tmp[0]);}else if(tmp.length==2){tmp=tmp.concat(tmp);}
return{"top":tmp[0],"right":tmp[1],"bottom":tmp[2],"left":tmp[3],"css":tmp.join(" ")};}
var qlub_mepjson=$.extend({},mep_getformat());var innerMargin=jsonMargin(qlub_mepjson.innerMargin);var outerMargin=jsonMargin(qlub_mepjson.outerMargin);var path="/services/dialogs/mep/dialogs/margins/index_"+q_lang+".html";var options={json:{"margin-top":parseInt(outerMargin.top,10),"margin-bottom":parseInt(outerMargin.bottom,10),"margin-left":parseInt(outerMargin.left,10),"margin-right":parseInt(outerMargin.right,10),"vmargin":parseInt(innerMargin.top,10),"hmargin":parseInt(innerMargin.left,10)},callback:function(x){if(!x)return;if(x=="restore"){var s=get_note_settings();if(!s)return;s.format.customMargins=false;var ncols=s.format.ncols;var formats=Skeleton.formatSection(_this.id);var skeletonFormat=formats[0]||formats[1];var oldWithMargin=isMarginColumn(0);qlub_mepjson=$.extend(true,{},skeletonFormat);qlub_mepjson.ncols=ncols;mep_prepare(qlub_mepjson);var newWithMargin=isMarginColumn(0);var modifiednoteids=[];if(_this.noteid||_this.tmpnoteid)modifiednoteids.push(_this.noteid||_this.tmpnoteid);modifiednoteids=modifiednoteids.concat(xalign_notes());pages_save(modifiednoteids,[]);_this.updateleftcol();return;}
qlub_mepjson.innerMargin=x.vmargin+"px "+x.hmargin+"px";qlub_mepjson.outerMargin=x["margin-top"]+"px "+x["margin-right"]+"px "+x["margin-bottom"]+"px "+x["margin-left"]+"px";qlub_mepjson.rowsmargin=Math.round(parseInt(x.vmargin,10)/2);qlub_mepjson.customMargins=true;mep_prepare(qlub_mepjson);var modifiednoteids=[_this.noteid||_this.tmpnoteid];modifiednoteids=modifiednoteids.concat(xalign_notes());pages_save(modifiednoteids,[]);_this.updateleftcol();}};quomodo.fsm.loadDialog(path,options);};this.toolbar_editimage=function(){var _this=this;var sk_settings=(qsn_thenotes[this.noteid]&&qsn_thenotes[this.noteid].skeleton)||{};var skid=$("body").attr("sk-id")||"default";var secid=this.id;if(/^sk-/.test(secid)&&skeleton.sharedSections&&skeleton.sharedSections[skid]&&skeleton.sharedSections[skid].from&&skeleton.sharedSections[skid].from[secid])secid=skeleton.sharedSections[skid].from[secid];var path="/services/dialogs/webdesign-studio/dialogs/toolbar_image/index_"+q_lang+".html";var json=$.extend({},Skeleton.getSectionJSON((skid=="prehome"&&secid=="p-0"?"site":this.id),true));json.shared=this.shared;if(!json.params)json.params={};if(sk_settings&&!sk_settings.v1){var presetKeys={"colorset":true,"border":true,"shadow":true,"background":true,"image":true,"position":true,"filter":true};for(var k in sk_settings){if(presetKeys[k])json[k]=sk_settings[k];else json.params[k]=sk_settings[k];}
if(sk_settings.formats&&sk_settings.formats.original)json.params["img-url"]=sk_settings.formats.original;}
if(sk_settings&&sk_settings.v1){json.params.parallax=sk_settings.v1.parallax;}
if(!json.params.defaultFormat&&json.formats){for(var i=0;i<json.formats.length;i++){if(typeof json.formats[i]=="object"){json.params.defaultFormat=json.formats[i];break;}}}
json.imgmod=this.imgmod(sk_settings);var options={json:json,callback:function(x){if(!x)return;var imgmod=x["imgsection-mod"];delete x["imgsection-mod"];_this.setSkeleton({"imgsection-mod":imgmod,"v1":x});delete skeleton.render.page[secid];Skeleton.renderSectionV1(secid,qsn_thenotes[_this.noteid].skeleton);}};quomodo.fsm.loadDialog(path,options);};this.toolbar_editimageSK=function(){var _this=this;var sk_settings=(qsn_thenotes[this.noteid]&&qsn_thenotes[this.noteid].skeleton)||{};var skid=$("body").attr("sk-id")||"default";var secid=this.id;if(/^sk-/.test(secid)&&skeleton.sharedSections&&skeleton.sharedSections[skid]&&skeleton.sharedSections[skid].from&&skeleton.sharedSections[skid].from[secid])secid=skeleton.sharedSections[skid].from[secid];var path="/services/dialogs/webdesign-studio/dialogs/toolbar_imagesk/index_"+q_lang+".html";var json=$.extend({},Skeleton.getSectionJSON((skid=="prehome"&&secid=="p-0"?"site":this.id),true));json.shared=this.shared;if(!json.params)json.params={};if(sk_settings&&!sk_settings.v1){var presetKeys={"colorset":true,"border":true,"shadow":true,"background":true,"image":true,"position":true,"filter":true};for(var k in sk_settings){if(presetKeys[k])continue;else json.params[k]=sk_settings[k];}
if(sk_settings.formats&&sk_settings.formats.original)json.params["img-url"]=sk_settings.formats.original;}
json.imgmod=this.imgmod(sk_settings&&sk_settings["imgsection-mod"]!="none"?sk_settings:null);var options={json:json,callback:function(x){if(!x)return;x.v1=null;x.image=null;x.filter=null;_this.setSkeleton(x);}};quomodo.fsm.loadDialog(path,options);};this.toolbar_editgrid=function(){var _this=this;function jsonMargin(margin){if(typeof margin=="number")margin=margin+"px";var tmp=margin.split(" ");if(tmp.length==1){tmp.push(tmp[0]);tmp.push(tmp[0]);tmp.push(tmp[0]);}else if(tmp.length==2){tmp=tmp.concat(tmp);}
return{"top":tmp[0],"right":tmp[1],"bottom":tmp[2],"left":tmp[3],"css":tmp.join(" ")};}
var qlub_mepjson=mep_getformat();if(qlub_mepjson){qlub_mepjson=$.extend({},qlub_mepjson);var innerMargin=jsonMargin(qlub_mepjson.innerMargin==undefined?"50px":qlub_mepjson.innerMargin);var outerMargin=jsonMargin(qlub_mepjson.outerMargin==undefined?"50px":qlub_mepjson.outerMargin);}else{qlub_mepjson={};var formats=Skeleton.formatSection(this.id);for(var i=0;i<=formats.length;i++){if(formats[i]){$.extend(qlub_mepjson,formats[i]);break;}}}
if(qlub_mepjson.free)var ncolsval=0;else var ncolsval=qlub_mepjson.pageformat?((qlub_mepjson.pageformat.length-1)/2):(qlub_mepjson.ncols||3);var maxcols=12;if(this.maxWidth<=400)maxcols=2;if(this.maxWidth>400&&this.maxWidth<=700)maxcols=8;var path="/services/dialogs/webdesign-studio/dialogs/toolbar_grid/index_"+q_lang+".html";var options={json:{"ncols":ncolsval,"maxcols":maxcols,"margin-top":parseInt(outerMargin.top,10),"margin-bottom":parseInt(outerMargin.bottom,10),"margin-left":parseInt(outerMargin.left,10),"margin-right":parseInt(outerMargin.right,10),"vmargin":parseInt(innerMargin.top,10),"hmargin":parseInt(innerMargin.left,10),"fixedHeight":this.fixedHeight!="auto"&&this.fixedHeight!=false,"vcenter":this.vcenter(),"section":this.id},callback:function(x){if(x==null)return;if(x=="restore"){var s=get_note_settings();if(!s)return;s.format.customMargins=false;var formats=Skeleton.formatSection(_this.id);var skeletonFormat=formats[0]||formats[1];var ncols=skeletonFormat.ncols;var vcenter=skeletonFormat.vcenter;var oldWithMargin=isMarginColumn(0);qlub_mepjson=$.extend(true,{},skeletonFormat);qlub_mepjson.free=x.ncols==0;qlub_mepjson.ncols=ncols;if(vcenter==undefined){delete qlub_mepjson.vcenter;}else{qlub_mepjson.vcenter=vcenter;}
if(ncols==0)return mep_resetformat();mep_prepare(qlub_mepjson);var newWithMargin=isMarginColumn(0);var modifiednoteids=[];if(_this.noteid||_this.tmpnoteid)modifiednoteids.push(_this.noteid||_this.tmpnoteid);modifiednoteids=modifiednoteids.concat(xalign_notes());pages_save(modifiednoteids,[]);_this.updateleftcol();return;}
qlub_mepjson.ncols=x.ncols;qlub_mepjson.free=x.ncols==0;qlub_mepjson.innerMargin=x.vmargin+"px "+x.hmargin+"px";qlub_mepjson.outerMargin=x["margin-top"]+"px "+x["margin-right"]+"px "+x["margin-bottom"]+"px "+x["margin-left"]+"px";qlub_mepjson.rowsmargin=Math.round(parseInt(x.vmargin,10)/2);qlub_mepjson.customMargins=true;if(x.vcenter==undefined){delete qlub_mepjson.vcenter;}else{qlub_mepjson.vcenter=x.vcenter;}
if(x.ncols==0)return mep_resetformat();mep_prepare(qlub_mepjson);var modifiednoteids=[_this.noteid||_this.tmpnoteid];modifiednoteids=modifiednoteids.concat(xalign_notes());pages_save(modifiednoteids,[]);}};quomodo.fsm.loadDialog(path,options);};this.toolbar_editmobile=function(){var _this=this;var skid=$("body").attr("sk-id")||"default";var secid=this.id;var json=$.extend({},Skeleton.getSectionJSON((skid=="prehome"&&secid=="p-0"?"site":this.id),true));var path="/services/dialogs/webdesign-studio/dialogs/toolbar_mobile/index_"+q_lang+".html";var options={json:{"display-device":json["display-device"]||"all"},callback:function(x){if(!x)return;_this.setSkeleton({"v1":{"display-device":x}});delete skeleton.render.page[secid];Skeleton.renderSectionV1(secid,qsn_thenotes[_this.noteid].skeleton);}};quomodo.fsm.loadDialog(path,options);};this.toolbar_editadvanced=function(){var _this=this;var skid=$("body").attr("sk-id")||"default";var secid=this.id;var json=$.extend({},Skeleton.getSectionJSON((skid=="prehome"&&secid=="p-0"?"site":this.id),true));var sk_settings=(qsn_thenotes[this.noteid]&&qsn_thenotes[this.noteid].skeleton)||{};if(!json.params)json.params={};if(sk_settings&&!sk_settings.v1){var presetKeys={"colorset":true,"border":true,"shadow":true,"background":true,"image":true,"position":true,"filter":true};for(var k in sk_settings){if(presetKeys[k])json[k]=sk_settings[k];else if(k=="colorsection")json.params["cs-bg"]=sk_settings[k];else json.params[k]=sk_settings[k];}}
var path="/services/dialogs/webdesign-studio/dialogs/toolbar_advanced/index_"+q_lang+".html";var options={json:json,callback:function(x){if(!x)return;_this.setSkeleton({"v1":x});delete skeleton.render.page[secid];Skeleton.renderSectionV1(secid,qsn_thenotes[_this.noteid].skeleton);if(/^h-/.test(secid))Skeleton.prepareBanner();}};quomodo.fsm.loadDialog(path,options);};this.editsettings=function(){var _this=this;var skid=$("body").attr("sk-id")||"default";var secid=this.id;if(/^sk-/.test(secid)&&skeleton.sharedSections&&skeleton.sharedSections[skid]&&skeleton.sharedSections[skid].from&&skeleton.sharedSections[skid].from[secid])secid=skeleton.sharedSections[skid].from[secid];var path="/services/dialogs/webdesign-studio/dialogs/section_settings/index_"+q_lang+".html";var json=$.extend({},Skeleton.getSectionJSON((skid=="prehome"&&secid=="p-0"?"site":this.id),true));json.shared=this.shared;var ncolsOld;if(!json.params)json.params={};if(!json.params.defaultFormat&&json.formats){for(var i=0;i<json.formats.length;i++){if(typeof json.formats[i]=="object"){json.params.defaultFormat=json.formats[i];ncolsOld=json.params.defaultFormat.ncols;break;}}}
var options={json:json,callback:function(x){if(!x)return;if(!x.applytemplate)return alert("not implemented");var customTemplates=spacexml.skeleton.template;if(!customTemplates)customTemplates={};if(!customTemplates[skeleton.id])customTemplates[skeleton.id]={};var customTemplate=customTemplates[skeleton.id].settings;if(!customTemplate){customTemplates[skeleton.id].settings={};customTemplate=customTemplates[skeleton.id].settings;}
var shared=x.shared;delete x.shared;if(/^[hf]-/.test(secid))skid="shared";if(!customTemplate[skid])customTemplate[skid]={};customTemplate[skid][secid]=x.params;if(secid=="p-0"&&skid=="prehome"&&(spacexml.memberparams&&spacexml.memberparams.skexpert))x.params.canDisplaySlideshow=true;if(x.params.image!="img0"&&(spacexml.memberparams&&spacexml.memberparams.skexpert))x.params.canDisplaySlideshow=true;Skeleton.extendClient();q_ajaxobjsetppty("secrpd","id="+secid+"&template="+skeleton.id+"&sk="+skid,{"json":JSON.stringify(x.params)},function(){function finalizeSave(){var s=get_note_settings();function finalizeSave2(){if(/^h-/.test(secid)&&ncolsOld!=x.params.defaultFormat.ncols&&x.params.defaultFormat.ncols==0){return mep_resetformat(function(){});}
if(!s.format.customMargins){var formats=Skeleton.formatSection(_this.id);var skeletonFormat=formats[0]||formats[1];var oldWithMargin=isMarginColumn(0);qlub_mepjson=$.extend(true,{},skeletonFormat);mep_prepare(qlub_mepjson);var newWithMargin=isMarginColumn(0);var modifiednoteids=[];if(_this.noteid||_this.tmpnoteid)modifiednoteids.push(_this.noteid||_this.tmpnoteid);modifiednoteids=modifiednoteids.concat(xalign_notes());pages_save(modifiednoteids,[]);_this.updateleftcol();}}
var color=s&&s.skeleton&&s.skeleton["colorsection"];var v1=s&&s.skeleton&&s.skeleton["v1"];if(color||v1){_this.setSkeleton({"v1":null,"colorsection":null,"colorbackup":null},function(){finalizeSave2();});}else{finalizeSave2();}}
if(shared!=_this.shared){var o={};if(customTemplates[skeleton.id][skid]&&customTemplates[skeleton.id][skid].add)o.add=customTemplates[skeleton.id][skid].add;if(customTemplates[skeleton.id][skid]&&customTemplates[skeleton.id][skid].shared)o.shared=customTemplates[skeleton.id][skid].shared;else o.shared={};o.shared[secid]={"disabled":!shared};q_ajaxobjsetppty("model","id="+skid+"&template="+skeleton.id,{"json":JSON.stringify(o)},function(){finalizeSave();});}else{finalizeSave();}});}};quomodo.fsm.loadDialog(path,options);};this.edit=function(){var formats=Skeleton.formatSection(this.id);var qlub_mepjson={};for(var i=0;i<=formats.length;i++){if(formats[i]){qlub_mepjson=formats[i];break;}}
qlub_mepjson=$.extend(qlub_mepjson,mep_getformat(),true);if(qlub_mepjson.free)var ncolsval=0;else var ncolsval=qlub_mepjson.pageformat?((qlub_mepjson.pageformat.length-1)/2):(qlub_mepjson.ncols||3);var freemep=false;if(formats&&formats.length==2)freemep=true;var _this=this;var maxcols=12;if(this.maxWidth<=400)maxcols=2;if(this.maxWidth>400&&this.maxWidth<=700)maxcols=8;var path="/services/dialogs/mep/index_"+q_lang+".html";var options={json:{"format":ncolsval,"freemep":freemep,"maxcols":maxcols,"section":this.id},callback:function(x){if(x==null||x==ncolsval)return;if(x==0){return mep_resetformat();}else if(x=="default"){qlub_mepjson.ncols=null;qlub_mepjson.free=false;}else{qlub_mepjson.ncols=x;qlub_mepjson.free=false;}
mep_prepare(qlub_mepjson);var modifiednoteids=[_this.noteid||_this.tmpnoteid];modifiednoteids=modifiednoteids.concat(xalign_notes());pages_save(modifiednoteids,[]);_this.updateleftcol();}};quomodo.fsm.loadDialog(path,options);}
this.isover=function(event){var event=event||window.event;if(q_pagemode()!="web"&&quomodo.page.shareds["h"]==this.svcid&&!(spacexml.theme.banner&&spacexml.theme.banner.expert_mode))return false;if(q_pagemode()!="web"&&q_getuserlevel()!="admin"&&(quomodo.page.shareds["h"]==this.svcid||quomodo.page.shareds["f"]==this.svcid)){var svc=q_svcfromid(this.svcid);if(!svc||$.inArray("edit",svc.accessrights)==-1)return false;}
var secTop=$("#"+this.id).offset().top;var secBottom=secTop+$("#"+this.id).height();var secLeft=$("#"+this.id).offset().left;var secRight=secLeft+$("#"+this.id).width();var ex=q_clientX(event);var ey=q_clientY(event);return(ex>=secLeft&&ex<=secRight&&ey>=secTop&&ey<=secBottom);};function setType(){_this.type=({"artemapage":"page","artemadisq":"forum","homepage":"shareboard"})[(_this.svcid||currsvcid).replace(/#[0-9]+#([^@]+)@.*/,"$1")];_this.renderContent=_services.renderContent[_this.type]||_services.renderContent["default"];_this.saveContent=_services.saveContent[_this.type]||_services.saveContent["default"];_this.suppressContent=_services.suppressContent[_this.type]||_services.suppressContent["default"];_this.saveUp=_services.saveUp[_this.type]||_services.saveUp["default"];_this.renderhtml=_services.renderhtml[_this.type]||_services.renderhtml["default"];if(_this.type=="page"&&_this.stuffid!="q_author_stuff")_this.bottomsecuremargin=0;}
function currsvcType(){return({"artemapage":"page","artemadisq":"forum","homepage":"shareboard"})[currsvcid.replace(/#[0-9]+#([^@]+)@.*/,"$1")];}
function mep_upgradeformattov2(noteids){var s=get_note_settings();if(!s)return null;if(s.format)return null;var format=mep_getformatv0();if(!format)return null;if(!format.pageformat)return null;var mincol=_this.maxWidth||990;var left_def=[];left_def.push(0);var ncols;var transformCol=function(col){return col;};if(typeof format.pageformat!="object"){if(format.pageformat=="3")ncols=parseInt(format.ncols,10);else if(format.pageformat=="121"){ncols=4;transformCol=function(col){return col.replace("2","3").replace("1","1-2");};}
else{ncols=3;if(format.pageformat=="12"){transformCol=function(col){return col.replace("1","1-2");};}else if(format.pageformat=="21"){transformCol=function(col){return col.replace("1","2").replace("0","0-1");};}}
for(var i=0;i<ncols;i++){if(i>0)left_def.push(Math.round(990/ncols)+left_def[i-1]);mincol=Math.min(mincol,990/ncols);}}else{for(var i=0;i<format.pageformat.length;i++){if(i>0)left_def.push(Math.round(990*format.pageformat[i-1])+left_def[i-1]);mincol=Math.min(mincol,990*format.pageformat[i]);}
ncols=_this.maxWidth/Math.max(mincol,1);ncols=[1,2,3,4,5,6,7,8,9,10,12].sort(function(a,b){return Math.abs(a-ncols)-Math.abs(b-ncols);})[0];}
var o={ncols:ncols};for(var i=0;i<noteids.length;i++){var id=noteids[i];var r=qsn_thenotes[id];if(!r)continue;if(r.parentid)continue;if(r.parentid&&!qsn_thenotes[r.parentid])continue;if(r.common.duplicate)continue;if(!r.common.col)continue;r.spacedefaults.common.top=r.common.row+"px";r.user.common.top=r.common.row+"px";var left=left_def[parseInt(transformCol(r.common.col).split("-")[0],10)];r.spacedefaults.common.left=left+"px";r.user.common.left=left+"px";delete r.common.col;delete r.common.row;}
return o;}
function init_note_settings(format){var s=get_note_settings();if(s)return;var formats=Skeleton.formatSection(_this.id);s=qsn_thenotes[new_note_settings()];if(format){s.format=format;mep_prepare();return;}
if(!s.format)s.format={};if(formats&&formats[0]){s.format=$.extend(true,{"free":false},formats[0]);}else{s.format.free=true;}
s.format.sk=spacexml.skeleton.id+":"+(q_currsvcjson().sk||"default");mep_prepare();}
function get_note_settings(){var noteid=_this.noteid||_this.tmpnoteid;if(!noteid&&q_pagemode()=="web"){for(var k in qsn_thenotes){if(qsn_thenotes[k]&&qsn_thenotes[k].common&&qsn_thenotes[k].common.notekind=="settings"&&(qsn_thenotes[k].common.sectionid==_this.id||(qsn_thenotes[k].common.sectionid==undefined&&_this.id=="p-0"))){_this.noteid=k;noteid=k;break;}}}
if(!noteid)return null;return qsn_thenotes[noteid];}
function new_note_settings(){var jsonnewnote=qsn_fulljson_template("settings");var savedqsn_isnewnote=qsn_isnewnote;var id=qsn_makenewfulljson("settings",jsonnewnote,true);qsn_isnewnote=savedqsn_isnewnote;if(_this.id!="q_author_stuff")qsn_thenotes[id].common.sectionid=_this.id;_this.tmpnoteid=id;return id;}
function mep_getformatv0(){var s=get_note_settings();if(!s)return null;return s&&s.spacedefaults&&s.spacedefaults.format;}
function mep_getformat(whole){if(whole)return _this.formatProperties;var s=get_note_settings();if(!s)return null;if(q_pagemode()=="web"){if(!s.format)return;var formats=Skeleton.formatSection(_this.id);var skeletonFormat=formats&&(formats[0]||formats[1]);if(skeletonFormat){if(s.format.innerMargin==undefined)s.format.innerMargin=skeletonFormat.innerMargin;if(s.format.outerMargin==undefined)s.format.outerMargin=skeletonFormat.outerMargin;}else if(s.format){delete s.format.innerMargin;delete s.format.outerMargin;}}
return s.format;}
function mep_prepare(xformat,dontSave){var holder=_this;var format=xformat||mep_getformat();if(xformat){var s=get_note_settings();if(!s)s=qsn_thenotes[new_note_settings()];s.format=$.extend(true,s.format,{"free":false},xformat);}
var rawFormat=$.extend({},format);format=_this.applyformat(format);if(!format||!format.pageformat){holder.aligned=false;return;}
holder.formatProperties=format;holder.aligned=true;holder.table_margin=(format.tablemargin!=undefined)?parseInt(format.tablemargin,10):defaulttable_margin;holder.pages_vmargin=(format.rowsmargin!=undefined)?parseInt(format.rowsmargin,10):pages_defaultrowsmargin;var w=maxsectionwidth()-2*holder.table_margin;if(typeof format.pageformat=="object")var x=format.pageformat;else var x=pages_formattowidths[format.pageformat]||pages_ntowidths(format.ncols||format.pageformat,w);holder.col_def=[0];for(var i=0;i<x.length;i++)holder.col_def.push(Math.min(holder.col_def[i]+Math.round(w*x[i]),w));holder.table_margin_left=holder.table_margin-Math.round((holder.col_def[x.length]-w)/2);holder.table_margin_right=2*holder.table_margin-holder.table_margin_left;if(_this.__holder==window&&_this.stuffid)$("#"+_this.stuffid+"-table").css({"margin-left":holder.table_margin_left+"px","margin-right":holder.table_margin_right+"px"});holder.width_def={};var s,x0;for(var i=0;i<holder.col_def.length-1;i++){s=""+i;x0=holder.col_def[i];for(var j=i;j<holder.col_def.length-1;j++){if(i!=j)s+="-"+j;holder.width_def[s]=holder.col_def[j+1]-x0;}}
var s,x0;var imgwidths=[1/12,1/6,1/4,1/3,1/2,2/3,1];var goodwidths=[1,2/3,1/2,1/3,1/4,1/6,1/12];for(var k=1;k<12;k++){goodwidths.push(k+0.5);goodwidths.push(k+1);}
function getImgWidth(i,j,imgw,width_def,col_def){var minwidth=Math.min(width_def[isMarginColumn(0)?"1":"0"]-1,70);var wleft=isMarginColumn(i)?col_def[i+1]-col_def[i]:0;var wright=isMarginColumn(j)?col_def[j+1]-col_def[j]:0;var ncols=j-i+1;if(isMarginColumn(i)){ncols--;i++;}
if(isMarginColumn(j)){ncols--;j--;}
ncols=(ncols+1)/2;var w=ncols*imgw;var x=[].concat(goodwidths).sort(function(a,b){return Math.abs(a-w)-Math.abs(b-w);})[0];var q=Math.floor(x);var r=x-q;q=2*q-1;wleft=wleft+((q>0)?col_def[i+q]-col_def[i]:0)+((r>0&&q>0)?col_def[i+q+1]-col_def[i+q]:0)+((r>0)?Math.round((col_def[i+q+2]-col_def[i+q+1])*r):0);wright=wright+((q>0)?col_def[j+1]-col_def[j+1-q]:0)+((r>0&&q>0)?col_def[j+1-q]-col_def[j-q]:0)+((r>0)?Math.round((col_def[j-q]-col_def[j-1-q])*r):0);return{"left":(wleft>minwidth)?{"k":x,"v":wleft}:null,"right":(wright>minwidth)?{"k":x,"v":wright}:null};}
function makeImgwidthDef(imgwidth_def,width_def,col_def){for(var i=0;i<col_def.length-1;i++){s=""+i;x0=col_def[i];for(var j=i;j<col_def.length-1;j++){if(i!=j)s+="-"+j;imgwidth_def.left[s]=[];imgwidth_def.right[s]=[];if(i==j&&isMarginColumn(i))continue;for(var k=0;k<imgwidths.length;k++){var tmp=getImgWidth(i,j,imgwidths[k],width_def,col_def);if(tmp.left)imgwidth_def.left[s].push(tmp.left);if(tmp.right)imgwidth_def.right[s].push(tmp.right);}}}}
function makeHolder(device){if(device=="md")return holder;var device_format=_this.applyformat(rawFormat,device);var device_holder=$.extend({},holder);var w=Math.round(maxsectionwidth()*devicesDef[device].contentWidth/devicesDef.md.contentWidth)-2*device_holder.table_margin;holder[device+"_maxWidth"]=w;if(typeof device_format.pageformat=="object")var x=device_format.pageformat;else var x=pages_formattowidths[device_format.pageformat]||pages_ntowidths(device_format.ncols||device_format.pageformat,w);device_holder.col_def=[0];for(var i=0;i<x.length;i++)device_holder.col_def.push(Math.min(device_holder.col_def[i]+Math.round(w*x[i]),w));device_holder.table_margin_left=device_holder.table_margin-Math.round((device_holder.col_def[x.length]-w)/2);device_holder.table_margin_right=2*device_holder.table_margin-device_holder.table_margin_left;return device_holder;}
function makeDefs(device){var imgwidth_def,width_def,col_def;holder[(device=="md"?"":(device+"_"))+"width_def"]={};width_def=holder[(device=="md"?"":(device+"_"))+"width_def"];width_def_holder=makeHolder(device);holder[(device=="md"?"":(device+"_"))+"imgwidth_def"]={"left":{},"right":{}};imgwidth_def=holder[(device=="md"?"":(device+"_"))+"imgwidth_def"];col_def=width_def_holder.col_def;var s,x0;for(var i=0;i<width_def_holder.col_def.length-1;i++){s=""+i;x0=width_def_holder.col_def[i];for(var j=i;j<width_def_holder.col_def.length-1;j++){if(i!=j)s+="-"+j;width_def[s]=width_def_holder.col_def[j+1]-x0;}}
makeImgwidthDef(imgwidth_def,width_def,col_def)}
makeDefs("md");makeDefs("sm");makeDefs("lg");}
function mep_redoformat(){var s=get_note_settings();if(!s||!s.format)return;var qlub_mepjson=$.extend(true,{},s.format);qlub_mepjson.free=false;mep_prepare(format);var modifiednoteids=[_this.noteid];modifiednoteids=modifiednoteids.concat(xalign_notes());pages_save(modifiednoteids,[]);hideshowblock("qlub_nomep","qlub_havemep");}
function updateoffsets(){if(spacexml.responsive&&qsn_responsive_mod()=="xs")return;if((_this.fixedHeight||_this.aligned)&&qsn_responsive_mod()=="md"){if(spacexml.responsive){var $stuff=$("#"+_this.id+"-stuff");if(_this.fixedHeight=="screen"){$stuff.css("height",($("#"+_this.id).height()-parseInt($stuff.css("top")||0,10))+"px");}else if(_this.fixedHeight)$stuff.css("height",$("#"+_this.id).css("height")||"100%");else $stuff.css("height",$stuff.hasClass("empty-stuff")?"":"auto");}
return;}
if(q_pagemode()!="edit"){if(!/artemadisq/.test(_this.svcid))_this.setHeight(true);return;}
var pageOffset=qsn_calcpageoffset(_this.stuffid);if(!isNaN(pageOffset.bottom)){var m=12;if(_this.bottomsecuremargin!=undefined)m=_this.bottomsecuremargin;else if(window.pages_bottomsecuremargin)m=pages_bottomsecuremargin;pageOffset.pageheight=pageOffset.bottom+m;}
var s=get_note_settings();if(!s)s=qsn_thenotes[new_note_settings()];for(var k in pageOffset)s.spacedefaults[k]=pageOffset[k];if(!/artemadisq/.test(_this.svcid))_this.setHeight(true);}
function mep_resetformat(callback){var s=get_note_settings();var modifiednoteids=[];if(s&&s.spacedefaults&&s.spacedefaults.format){s.spacedefaults.format.oldpageformat=s.spacedefaults.format.pageformat;s.spacedefaults.format.pageformat=null;}
if(s){s.format.free=true;updateoffsets();modifiednoteids.push(s.common.noteid);}
modifiednoteids=modifiednoteids.concat(mep_freecontent());pages_save(modifiednoteids,[],callback);quomodo.page.sections.render(_this.id);}
function mep_freecontent(){var modifiednoteids=[];qsn_noteidslist=qsn_noteidssortedlist();var stuffmode=_this.stuffid;var id,col,row,r,rghost,ghostid,w,maxcolwidth,tmpid;for(var i=0;i<qsn_noteidslist.length;i++){id=qsn_noteidslist[i];r=qsn_thenotes[id];if(qsn_stuffID(id)!=stuffmode)continue;if(r.common.notekind=="settings"||r.common.notekind=="missing"||r.parentid||isremoved(ge(id)))continue;r.common.row=r.common.col=r.common.richinfos=r.common.ghost=null;r.spacedefaults.common.left=r.user.common.left=Math.max(qsn_trueleft(id),0)+"px";r.spacedefaults.common.top=r.user.common.top=Math.max(qsn_truetop(id),0)+"px";qsn_thenotes[id]=q_cloneObject(r);modifiednoteids.push(id);$("#"+id+"-richtarget").remove();$("#"+id+"-richtarget-before").remove();}
$("#"+stuffmode+"-table").empty().hide();_this.col_def=[];_this.width_def={};return modifiednoteids;}
function maxsectionwidth(){return _this.maxWidth;}
function pages_save(modifiednoteids,removednoteids,callback,withWait){if(q_pagemode()!="edit")return;if(_this.saveWaitImgLoaded_counter!=0){_this.saveWaitImgLoaded_callbacks.push(function(){pages_save(modifiednoteids,removednoteids,callback,withWait)});return;}
var json={};var lnew=[];var lnewparentid=[];json.changednotes=[];if(_this.settings_modified){if(_this.noteid||_this.tmpnoteid)modifiednoteids.push(_this.noteid||_this.tmpnoteid);_this.settings_modified=false;}
var tmp={};for(var i=0;i<modifiednoteids.length;i++){if(removednoteids&&$.inArray(modifiednoteids[i],removednoteids)!=-1)continue;if(tmp[modifiednoteids[i]])continue;tmp[modifiednoteids[i]]=true;var r=qsn_thenotes[modifiednoteids[i]];if(!(/note_/.test(r.common.noteid))){if(r.parentid)lnewparentid.push(r);else lnew.push(r);}else json.changednotes.push(r);}
json.newnotes=lnew.concat(lnewparentid);json.removednotes=removednoteids;if(qsn_userrefreshid.length)json.userrefresh=qsn_updateuserrefresh();var svc=q_svcfromid(_this.svcid);json.upindex=svc.upindex;if(json.newnotes.length)q_fsm_wait();document.mainform.mission.value="alignnotes";qsn_ajaxsubmit(json,function(x,svcid){if(json.newnotes.length||withWait)q_fsm_delete();if(callback==true)(function(x,svcid){qsn_applynoterefresh(x,svcid,true);})(x,svcid);else(callback||function(x,svcid){qsn_applynoterefresh(x,svcid);})(x,svcid);},_this.svcid);}
this.align_notes=function(realignids,callback,skipsave){if(!this.isaligned())return[];var savedscroll=getscroll();var o=preparenotes(realignids);var align_list=o.align_list;maketable(align_list,"align",(realignids)?realignids:[]);window.scrollTo(savedscroll[0],savedscroll[1]);if(!$("#"+this.stuffid).hasClass("empty-stuff"))ge(this.stuffid).style.height="auto";return o.changedids;};function xalign_notes(realignids,callback,skipsave){return _this.align_notes(realignids,callback,skipsave);}
function preparenotes(realignids){var bFitAll=(realignids=="keepcols")?true:!Boolean(realignids);realignids=realignids||[];var align_list=[];var curnotes=qsn_noteidssortedlist();var id,col,row,r,rghost,ghostid,w,maxcolwidth,tmpid,height;pages_alignmodified=false;pages_savedalign=q_cloneObject(qsn_thenotes);var changedids=[];for(var i=0;i<curnotes.length;i++){id=curnotes[i];r=qsn_thenotes[id];if(r.common.notekind=="settings"||r.common.notekind=="missing"||(r.common.notekind=="nws"&&r.imgtosec)||isremoved(ge(id)))continue;if(qsn_stuffID(id)!=_this.stuffid)continue;if(r.parentid&&!r.pagesparent)continue;if(r.pagesparent&&indexOfItem(id,realignids)==-1)continue;if(r.pagesparent&&indexOfItem(id,realignids)!=-1){changedids.push(id);continue;}
if(r.common.col==undefined||r.common.col==null||bFitAll||indexOfItem(id,realignids)!=-1){r.common.ghost=null;row=pages_richnoteoffsets(id).offsetTop;height=pages_richnoteoffsets(id).offsetHeight;col=encode_col(id,(realignids=="keepcols")?"keepcols":true);r.spacedefaults.common.left=r.user.common.left=((r.common.richinfos&&r.common.richinfos.parentLeft)?r.common.richinfos.parentLeft:0)+"px";r.spacedefaults.common.top=r.user.common.top=((r.common.richinfos&&r.common.richinfos.parentTop)?r.common.richinfos.parentTop:0)+"px";r.common.row=row;r.common.col=col;r.common.h=height;align_list.push([id,row,col,height]);changedids.push(id);}else{row=pages_richnoteoffsets(id).offsetTop;height=pages_richnoteoffsets(id).offsetHeight;if(row!=r.common.row||height!=r.common.h){r.common.row=row;r.common.h=height;changedids.push(id);}
align_list.push([id,row,r.common.col,height]);}}
return{align_list:align_list,changedids:changedids};}
function encode_col(id,fittocolumn){var div=ge(id);if(qsn_thenotes[div.id].header&&qsn_thenotes[div.id].header.display=="fold"&&$(".tablenotecontent",div).css("display")=="none"){$(div).css("min-width",qsn_minwidth(div)+"px");}
var bfit=true;var d=pages_richnoteoffsets(id);var stuffID=qsn_stuffID(id);var col_def=_this.col_def;var width_def=_this.width_def;var l=d.offsetLeft-_this.table_margin_left;var w=d.offsetWidth;var json=qsn_thenotes[id];var winfos=qsn_widthinfos(json);if(d.isrichnote){winfos.wfixed=true;pages_alignmodified=pages_alignmodified||!json.common.richinfos||d.offsetTop!=json.common.richinfos.offsetTop||d.offsetHeight!=json.common.richinfos.offsetHeight||d.offsetLeft!=json.common.richinfos.offsetLeft;json.common.richinfos=d;json.common.richinfos.parentLeft=qsn_trueleft(id)-d.offsetLeft;json.common.richinfos.parentTop=qsn_truetop(id)-d.offsetTop;}else if(json.common&&json.common.richinfos){var brichnote=false;for(var i=0;i<qsn_noteidslist.length;i++){var tmpid=qsn_noteidslist[i];var r=qsn_thenotes[tmpid];if(r.parentid==id){brichnote=true;break;}}
if(brichnote){winfos.wfixed=true;d=json.common.richinfos;}else json.common.richinfos=null;}
if(ge("ghost_"+id)&&d.isrichnote)ge("ghost_"+id).style.height=d.offsetHeight+"px";if(fittocolumn=="keepcols"&&json.common.col&&!winfos.wfixed){if(width_def[json.common.col]){json.spacedefaults.common.width=json.user.common.width=(width_def[json.common.col]-qsn_deltawidth(id))+"px";return json.common.col;}}
var r=l+w;var mindist=32000;var c1,c2,x1,x2,xdef,bestside;var n=col_def.length;var fullcol_def=[];for(var i=0;i<n;i++){xdef=col_def[i];var o={x:xdef};o.l=(i<n-1)?(!isMarginColumn(i)):false;o.r=(i>0)?(!isMarginColumn(i-1)):false;fullcol_def.push(o);}
if(json.common.m==true)var avoidMargin={l:false,r:false};else var avoidMargin={l:true,r:true};function extendCol(i,k,bRespectMargin){if(k=="r"&&i==n-1)return(bRespectMargin)?null:i;if(k=="l"&&i==0)return(bRespectMargin)?null:i;var j=i+((k=="r")?1:-1);if(!avoidMargin[k]||fullcol_def[j][k])return j;return extendCol(j,k,bRespectMargin);}
function extendColsToWidth(w,lcol,rcol,k){if(k==undefined){k="r";var lcol2=extendCol(lcol,"l",true);var rcol2=extendCol(rcol,"r",true);if(rcol2==null)k="l";else if(lcol2!=null&&(fullcol_def[lcol].l-fullcol_def[lcol2].l)<(fullcol_def[rcol2].r-fullcol_def[rcol2].r))k="l";}
var o={l:lcol,r:rcol};var t={l:"r",r:"l"};var tmp;var bRespectMargin=true;for(;;true){tmp=extendCol(o[k],k,bRespectMargin);if(tmp==null||tmp==o[k]){k=t[k];tmp=extendCol(o[k],k,bRespectMargin);if(tmp==null||tmp==o[k]){if(!bRespectMargin)break;else{bRespectMargin=false;k=t[k];continue;}}}
o[k]=tmp;if(width_def[format_col(o.l,o.r-1)]>=w)break;}
return o;}
function setMarginFlag(lcol,rcol){if(json.common.m!=-1)return;var f=0;if(!lcol||!fullcol_def[lcol].l)f=f+1;if(!lcol||!fullcol_def[rcol].r)f=f+2;json.common.m=f;}
for(var i=0;i<n;i++){var o=fullcol_def[i];xdef=o.x;if((!avoidMargin.l||o.l)&&Math.abs(l-xdef)<mindist){mindist=Math.abs(l-xdef);c1=i;bestside=1;}
if((!avoidMargin.r||o.r)&&Math.abs(r-xdef)<mindist){mindist=Math.abs(r-xdef);c2=i;bestside=2;}}
if(bestside==1){c1=Math.min(n-2,c1);x1=fullcol_def[c1].x;mindist=32000;for(var i=c1+1;i<n;i++){var o=fullcol_def[i];xdef=o.x;if((!avoidMargin.r||o.r)&&Math.abs(x1+w-xdef)<mindist){mindist=Math.abs(x1+w-xdef);c2=i;}}}
if(bestside==2){c2=Math.max(1,c2);x2=fullcol_def[c2].x;mindist=32000;for(var i=c2-1;i>=0;i--){var o=fullcol_def[i];xdef=o.x;if((!avoidMargin.l||o.l)&&Math.abs(x2-w-xdef)<mindist){mindist=Math.abs(x2-w-xdef);c1=i;}}}
var col=format_col(c1,c2-1);var wcol=w;maxcolwidth=width_def[col];if(winfos.wfixed||((wcol>maxcolwidth)&&!bfit)){if((wcol>maxcolwidth)&&((c2!=n-1)||(c1!=0))){var o=extendColsToWidth(wcol,c1,c2);c1=o.l;c2=o.r;}
col=format_col(c1,c2-1);}
if(winfos.wfixed||!bfit){var originLeft=(d.isrichnote)?json.common.richinfos.parentLeft:0;var originTop=(d.isrichnote)?json.common.richinfos.parentTop:0;if(r>(fullcol_def[c2].x)){json.spacedefaults.common.left=json.user.common.left=(width_def[col]-wcol+originLeft)+"px";pages_alignmodified=true;}else if(l<(fullcol_def[c1].x)){json.spacedefaults.common.left=json.user.common.left=originLeft+"px";pages_alignmodified=true;}else{var targetleft=l-(fullcol_def[c1].x+1);if(parseInt(json.spacedefaults.common.left,10)!=(targetleft+originLeft)){json.spacedefaults.common.left=json.user.common.left=targetleft+originLeft+"px";pages_alignmodified=true;}}
if(parseInt(json.spacedefaults.common.top,10)!=originTop){json.spacedefaults.common.top=json.user.common.top=originTop+"px";pages_alignmodified=true;}
return col;}
if(bfit){if((maxcolwidth<w)&&(maxcolwidth<minwidth(id))){var o;if(bestside==1)o=extendColsToWidth(w,c1,c2,"r");else o=extendColsToWidth(w,c1,c2,"l");c1=o.l;c2=o.r;col=format_col(c1,c2-1);}
json.spacedefaults.common.width=json.user.common.width=maxwidth(json,col)+"px";pages_alignmodified=true;}
return col;}
function maxwidth(r,col){var id=r.common.noteid;var holder=_this;var xcol=(col==undefined||col==null)?r.common.col:col;if(holder==window&&pages_isrichnote(r.common.noteid))return holder.width_def[xcol];var notekind=r.common.notekind;if(holder!=window)id=qsn_template(id);var h=qsn_handler(notekind,"qsn_deltawidth");if(h)return(holder.width_def[xcol]-h(id));return(holder.width_def[xcol]-qsn_deltawidth(id));}
function minwidth(div){return qsn_minwidth(ge(div));div=ge(div);if(!div.style||!div.style.width)return parseInt(div.minWidth||"0",10);var savedwidth=div.style.width;q_changedwidth(div,1);var minwidth=div.offsetWidth;q_changedwidth(div,parseInt(savedwidth,10));if(div.minWidth&&(parseInt(div.minWidth,10)>minwidth))minwidth=parseInt(div.minWidth,10);return minwidth;}
function format_col(c1,c2){c1=parseInt(c1,10);c2=parseInt(c2,10);if(c1==c2)return(""+c1);var s=[];for(var j=c1;j<=c2;j++)s.push(""+j);return s.join("-");}
function isMarginColumn(i){var format=mep_getformat(true);return(format.outerLeftMargin!=0)?((i%2)==0):((i%2)==1);if(format.innerHMargin!=0)return(format.outerLeftMargin!=0)?((i%2)==0):((i%2)==1);if(format.outerLeftMargin==0)return false;if(i==0)return true;if(format.outerRightMargin!=0&&i==(format.pageformat.length-1))return true;return false;}
function maketable(align_list,mode,realignids,toload){if(align_list.length==0)return[];if(mode=="init"&&toload==undefined)return maketable(align_list,mode,realignids,[].concat(align_list))
var svc=q_svcfromid(_this.svcid);var svcLang=(svc.lang=="default")?q_lang:(svc.lang||q_lang);if(mode=="init"&&toload.length>0){var id=toload[0][0];toload.splice(0,1);var notekind=qsn_thenotes[id]&&qsn_thenotes[id].common&&qsn_thenotes[id].common.notekind;if(notekind)return qdyn_snload(function(){maketable(align_list,mode,realignids,toload);},null,notekind,null,svcLang);return maketable(align_list,mode,realignids,toload);}
align_list.sort(function(m1,m2){var v1=m1[1];var v2=m2[1];var id1=m1[0];var id2=m2[0];if(v1==v2){if((/note_/).test(id1)&&(/note_/).test(id2)){if((/note_([0-9]*)/).exec(id1)[1]<(/note_([0-9]*)/).exec(id2)[1])return 1;}
return-1;}
if(v1>v2)return 1;return-1;});function isColOverlay(pattern1,pattern2){if(!pattern1||!pattern2)return false;var l1=pattern1.split("-");var l2=pattern2.split("-");for(var i=0;i<l1.length;i++){for(var j=0;j<l2.length;j++){if(l1[i]==l2[j])return true;}}
return false;}
var realignPage=false;var allblocks=[];var currblocks={};var currbottoms={};var block,r;var ghostids=[];var stuffID=_this.stuffid;for(var i=0;i<align_list.length;i++){block=align_list[i];r=qsn_thenotes[block[0]];if((r.common.ghost)&&(r.common.ghost!="ghost")){ghostids.push(block[0]);continue;}
var h=(block[3]==undefined)?10:block[3];if(block[3]==undefined)realignPage=true;if((currblocks[block[2]])&&(r.common.notekind!=pages_notekindsep)){currblocks[block[2]].ids.push(block[0]);currblocks[block[2]].bottom+=h+_this.pages_vmargin*2;}else{for(var col in currblocks){if(isColOverlay(block[2],col)){allblocks.push(currblocks[col]);var cols=col.split("-");for(var j=0;j<cols.length;j++){currbottoms[cols[j]]=currblocks[col].bottom;}
delete currblocks[col];}}
var maxbottom=0;var cols=block[2].split("-");for(var k=0;k<cols.length;k++){if(currbottoms[cols[k]]&&maxbottom<currbottoms[cols[k]])maxbottom=currbottoms[cols[k]];}
currblocks[block[2]]={top:maxbottom,bottom:maxbottom+h+((r.common.notekind!=pages_notekindsep)?_this.pages_vmargin*2:1),"col":block[2],ids:[block[0]],row:0};}}
var patch_trop_bizarre=[];for(var id in currblocks){if($.inArray(id,patch_trop_bizarre)!=-1)continue;allblocks.push(currblocks[id]);patch_trop_bizarre.push(id);}
var tmp=$.map(allblocks,function(v){return v.top;});tmp.sort(function(a,b){return a-b;});var tops=[];for(var i=0;i<tmp.length;i++){if(tops[tops.length-1]!=tmp[i])tops.push(tmp[i]);}
var jstable=[];var n=_this.col_def.length-1;for(var i=0;i<tops.length;i++){jstable[i]=[];for(var j=0;j<n;j++){jstable[i][j]=-1;}}
for(var i=0;i<allblocks.length;i++){var cols=allblocks[i].col.split("-");cols=$.map(cols,function(x){return parseInt(x,10);});var line=$.inArray(allblocks[i].top,tops);do{for(var j=0;j<cols.length;j++)jstable[line][cols[j]]=i;allblocks[i].row++;line++;}while(tops[line]&&tops[line]<allblocks[i].bottom);}
if((!mode=="init")&&xcompareObject(pages_lastaligntable,jstable,true)&&!alignmodified){return jstable;}
pages_lastaligntable=q_cloneObject(jstable);tableelem=ge(stuffID+"-table");var show_q_table=q_pagemode()=="edit"&&(qlub_getsvctype()=="page"||!_this.shared);tableelem.style.border="solid 0px";tableelem.border="0";tableelem.width=""+(maxsectionwidth()-(_this.table_margin_right+_this.table_margin_left));tableelem.setAttribute("sm-max-width",_this.sm_maxWidth);tableelem.setAttribute("lg-max-width",_this.lg_maxWidth);tableelem.setAttribute("md-max-width",(maxsectionwidth()-(_this.table_margin_right+_this.table_margin_left)));tableelem.style.marginLeft=(_this.table_margin_left)+"px";tableelem.style.marginRight=(_this.table_margin_right)+"px";var tablelength=tableelem.rows.length;var divelem,snelem,divspacer,div,id;var alreadytreated=[];var colors=[];var format=mep_getformat(true);$("#"+stuffID).removeClass("sk-xs-force-padding-top sk-xs-force-padding-bottom");if(format){$("#"+stuffID).attr("format-padding-top",format.outerTopMargin+"px").css("padding-top",format.outerTopMargin+"px").attr("format-padding-bottom",format.outerBottomMargin+"px").css("padding-bottom",format.outerBottomMargin+"px");if(format.outerTopMargin>15)$("#"+stuffID).addClass("sk-xs-force-padding-top");if(format.outerBottomMargin>15)$("#"+stuffID).addClass("sk-xs-force-padding-bottom");var $table=$("#"+stuffID+"-table");Skeleton.updateTop();}
if(show_q_table){var tablebackground=ge(stuffID+"-table-background");for(var i=0;i<tablebackground.rows.length;i++)tablebackground.deleteRow(0);var n=_this.col_def.length-1;trelem=tablebackground.insertRow(-1);function deltaMargin(i){if(isMarginColumn(i)&&(i==0||i==(n-1)))return-4;var delta=Math.max(0,4-_this.formatProperties.innerHMargin);if(isMarginColumn(i))return-4+delta;if(i>1||i<n-2)return-delta;var hdelta=Math.round(delta/2);if(i<2)return-hdelta;return hdelta-delta;}
for(var i=0;i<n;i++){tdelem=trelem.insertCell(-1);tdelem.width=_this.width_def[""+i]+deltaMargin(i);divspacer=document.createElement("DIV");divspacer.className="q_divspacer";divspacer.style.width=Math.max(0,_this.width_def[""+i]+deltaMargin(i))+"px";divspacer.style.height="0px";divspacer.style.margin="0px";divspacer.innerHTML=" ";tdelem.appendChild(divspacer);tdelem.className=isMarginColumn(i)?"margin":"content";}}
for(var i=0;i<tablelength;i++)tableelem.deleteRow(0);for(var i=0;i<jstable.length;i++)colors.push(null);function setBackgroundColor(tdelem,j){var c=colors[j];if(!c)return;var array=qsn_selfclasscolor(c[0],"backgroundColor",Boolean(show_q_table));if(array[0]){if(!isie7()&&!isie8()&&show_q_table)tdelem.style.backgroundColor=array[0].replace(/rgb/,"rgba").replace(/\)/,",0.85)");else tdelem.style.backgroundColor=array[0];}else tdelem.className+=" "+array[1];};for(var i=0;i<jstable.length;i++){tr=jstable[i];trelem=tableelem.insertRow(-1);for(var j=0;j<tr.length;j++){td=tr[j];var block;if(td==-1){tdelem=trelem.insertCell(-1);tdelem.className="q_table";setBackgroundColor(tdelem,j);continue;}else if($.inArray(td,alreadytreated)!=-1)continue;alreadytreated.push(td);tdelem=trelem.insertCell(-1);block=allblocks[td];div=block.ids;tdelem.style.padding=tdelem.style.margin="0px";var blocklength=block.col.split("-").length;tdelem.colSpan=blocklength;var c1=colors[j]&&colors[j][0];var c2=colors[j+blocklength-1]&&colors[j+blocklength-1][0];if(c1!=c2){if(c1){var tmp=colors[j][1];for(var k=j-1;k>=0;k--){if(colors[k]&&colors[k][1]==tmp)colors[k]=null;else break;}}
if(c2){var tmp=colors[j+blocklength-1][1];for(var k=j+blocklength;k<jstable.length;k++){if(colors[k]&&colors[k][1]==tmp)colors[k]=null;else break;}}
for(var k=0;k<blocklength;k++){colors[j+k]=null;}}
var note=qsn_thenotes[div[0]];if(note.common.notekind==pages_notekindsep&&note.backgroundcolor&&note.backgroundcolor!=-2){var c=note.backgroundcolor;if(note.backgroundcolor=="-1"||note.backgroundcolor=="transparent")c=null;for(var k=0;k<blocklength;k++)colors[j+k]=(c==null)?null:[c,note.common.noteid];}
setBackgroundColor(tdelem,j);tdelem.rowSpan=block.row;tdelem.vAlign="top";tdelem.height="";if(tdelem.className)tdelem.className+=" "+"q_table";else tdelem.className="q_table";var firstdivissep=false;if(div.length==0)tdelem.innerHTML=" ";for(var k=0;k<div.length;k++){if((k>0)&&(qsn_thenotes[div[k]].common.notekind!=pages_notekindsep)&&(qsn_thenotes[div[k-1]].common.notekind!=pages_notekindsep)){divspacer=document.createElement("DIV");divspacer.className="q_divspacer";divspacer.style.height="0px";divspacer.innerHTML=" ";tdelem.appendChild(divspacer);}
var id=div[k];if(qsn_thenotes[id].common.notekind==pages_notekindsep&&k==0)firstdivissep=true;divelem=document.createElement("DIV");divelem.id="ghost_"+id;divelem.style.position="relative";divelem.style.margin=((qsn_thenotes[id].common.notekind==pages_notekindsep)?"0":_this.pages_vmargin)+"px 0";if(qsn_thenotes[id].common.notekind==pages_notekindsep&&window.pagesep_sepheight)divelem.style.height=pagesep_sepheight(qsn_thenotes[id])+"px";divelem.style.width=Math.max(0,_this.width_def[block.col])+"px";var ghostClasses=["maincontainerdiv"];if(qsn_thenotes[id].common.notekind==pages_notekindsep){if(qsn_thenotes[id].hiddenxs)ghostClasses.push("hidden-xs");if(qsn_thenotes[id].onlyxs)ghostClasses.push("only-xs");if(qsn_thenotes[id].hiddenmd)ghostClasses.push("hidden-md");if(qsn_thenotes[id].onlymd)ghostClasses.push("only-md");}
if(qsn_thenotes[id].common.ghostClass){if(typeof qsn_thenotes[id].common.ghostClass=="object")ghostClasses=ghostClasses.concat(qsn_thenotes[id].common.ghostClass);else ghostClasses.push(qsn_thenotes[id].common.ghostClass);}
divelem.className=ghostClasses.join(" ");divelem=tdelem.appendChild(divelem);if(qsn_thenotes[id].common.notekind==pages_notekindsep&&q_pagemode()!="edit"){qsn_common_css_note(id);continue;}
qsn_thenotes[id].common.appendtarget=divelem;if(qsn_thenotes[id].common.richinfos)divelem.style.height=qsn_thenotes[id].common.richinfos.offsetHeight+"px";rm(id);$("#"+id+"-richtarget").remove();$("#"+id+"-richtarget-before").remove();if(mode=="init")qdyn_snload("qsn_relativeinitnote",[id],qsn_thenotes[id].common.notekind,null,svcLang);else qdyn_snload("qsn_relativeaddnote",[id],qsn_thenotes[id].common.notekind,null,svcLang);}}}
trelem=tableelem.insertRow(-1);$(trelem).addClass("ghost_row_md");for(var i=0;i<n;i++){tdelem=trelem.insertCell(-1);tdelem.width=_this.width_def[""+i];if(_this.width_def[""+i]!=0){divspacer=document.createElement("DIV");divspacer.className="q_divspacer";divspacer.style.width=Math.max(0,_this.width_def[""+i])+"px";divspacer.style.height="0px";divspacer.style.margin="0px";divspacer.innerHTML=" ";tdelem.appendChild(divspacer);}}
sm_trelem=tableelem.insertRow(-1);$(sm_trelem).addClass("ghost_row_sm");for(var i=0;i<n;i++){tdelem=sm_trelem.insertCell(-1);tdelem.width=_this.sm_width_def[""+i];if(_this.sm_width_def[""+i]!=0){divspacer=document.createElement("DIV");divspacer.className="q_divspacer";divspacer.style.width=Math.max(0,_this.sm_width_def[""+i])+"px";divspacer.style.height="0px";divspacer.style.margin="0px";divspacer.innerHTML=" ";tdelem.appendChild(divspacer);}}
if(spacexml.lgresponsive){var lg_trelem=tableelem.insertRow(-1);$(lg_trelem).addClass("ghost_row_lg");for(var i=0;i<n;i++){tdelem=lg_trelem.insertCell(-1);tdelem.width=_this.lg_width_def[""+i];if(_this.lg_width_def[""+i]!=0){divspacer=document.createElement("DIV");divspacer.className="q_divspacer";divspacer.style.width=Math.max(0,_this.lg_width_def[""+i])+"px";divspacer.style.height="0px";divspacer.style.margin="0px";divspacer.innerHTML=" ";tdelem.appendChild(divspacer);}}}
for(var j=0;j<ghostids.length;j++){var id=ghostids[j];if((qsn_thenotes[id].common.notekind==pages_notekindsep)&&((document.mainform.pagemode.value!="edit")))continue;if(!qsn_thenotes[id].parentid)qsn_thenotes[id].common.appendtarget=ge("ghost_"+qsn_thenotes[id].common.ghost);if(mode=="init")qdyn_snload("qsn_inghostinitnote",[id],qsn_thenotes[id].common.notekind,null,svcLang);else qdyn_snload("qsn_inghostaddnote",[id],qsn_thenotes[id].common.notekind,null,svcLang);}
qsn_noteidslist=qsn_noteidssortedlist();var noteids=[]
for(var i=0;i<qsn_noteidslist.length;i++){var id=qsn_noteidslist[i];if(qsn_stuffID(id)!=stuffID)continue;var r=qsn_thenotes[id];if(!r.pagesparent)continue;if(!r.parentid)continue;if(!qsn_thenotes[r.parentid])continue;rm(id);noteids.push(id);}
noteids=noteids.sort(function(a,b){var a_left=parseInt(qsn_thenotes[a].spacedefaults.common.left,10);var a_top=parseInt(qsn_thenotes[a].spacedefaults.common.top,10);var b_left=parseInt(qsn_thenotes[b].spacedefaults.common.left,10);var b_top=parseInt(qsn_thenotes[b].spacedefaults.common.top,10);if(a_top<b_top)return-1;else if(a_top==b_top){if(a_left<b_left)return-1;return 1;}
else return 1;});for(var i=0;i<noteids.length;i++){var id=noteids[i];var r=qsn_thenotes[id];if(mode=="init")qsndyn_initnote(id);else qdyn_snload("qsn_safeaddnote",[id],r.common.notekind,null,svcLang);}
if(format){var $tr=$table.find("tr").last();var ncols;for(;;){var trClass=$tr.attr("class");if(/ghost_row_/.test(trClass)){$tr=$tr.prev();ncols=$tr.find(">td").length;}else{break;}}
var ncolsdone=0;var step=1;var $td;for(;;){if($tr.length==0)break;if(step==1){$td=$tr.find(">td");}else{$td=$tr.find(">td[rowspan='"+step+"']");}
$td.each(function(){ncolsdone+=parseInt($(this).attr("colspan")||"1",10);}).find(">div:last-child").filter(function(){return this.id.match(/^ghost/);}).css("margin-bottom","0px");if(ncolsdone==ncols)break;step++;$tr=$tr.prev();}
$table.find("tr").first().find(">td>div:first-child").filter(function(){return this.id.match(/^ghost/);}).css("margin-top","0px");}
$table.find(".note.only-xs").each(function(){var $this=$(this);var $container=$this.parents(".maincontainerdiv");$container.css("margin-top","0px").css("margin-bottom","0px");$container.prevAll(".maincontainerdiv").eq(0).css("margin-bottom","0px");$container.nextAll(".maincontainerdiv").eq(0).css("margin-top","0px");});_this.on_vcenter();return jstable;}
function maxwidthpage(){var key=(_this.isaligned())?"aligned":"free";var w=_this.maxWidth-pages_margin();if(!window.pages_adsdimensions)return w;var x=pages_adsdimensions();if(!x.inpage)return w;return w-x.width-x.paddingleft-x.paddingright;}
function pages_margin(stuffID,key){stuffID=stuffID||_this.stuffID;key=key||(_this.isaligned())?"aligned":"free";var m=(window.quomodoclient&&quomodoclient.page&&quomodoclient.page[stuffID]&&quomodoclient.page[stuffID].margin&&quomodoclient.page[stuffID].margin[key]);if(!m&&stuffID=="q_author_stuff")m=(window.quomodoclient&&quomodoclient.page&&quomodoclient.page.margin&&quomodoclient.page.margin[key]);return m||0;}
function maxsnX(){if(_this.col_def.length>0)return maxwidthpage()-_this.table_margin_right;return maxwidthpage();}
function sectionDragLimits(elem){if(!elem)return{xmin:0,xmax:maxsnX()};var id=elem.id;var r=qsn_thenotes[id];var limits={xmin:0,ymin:0,xmax:maxsnX()+((elem.dragOffsetWidth)?elem.dragOffsetWidth:0)};var section=_this;if(section.fixedHeight)limits.ymax=$("#"+section.id).height();if(r.common.notekind=="pimg"&&!(section.isaligned()&&!r.pagesparent)&&r.freeimg)limits={xmin:-$("#"+section.id+"-stuff").offset().left,ymin:-$("#"+section.id+"-stuff").offset().top};if(r.freemove)limits={xmin:-$("#"+section.id+"-stuff").offset().left,ymin:-$("#"+section.id+"-stuff").offset().top};if(r.common.row==undefined&&!r.pagesparent&&!pages_isrichnote(id))return limits;var d=pages_richnoteoffsets(id);var pseudowidth=d.offsetWidth;var xorigin=0;if(_this.isaligned()){var pagemaxX=_this.width_def[format_col(((r.pagesparent)?qsn_thenotes[r.parentid]:r).common.col.split("-")[0],""+(_this.col_def.length-2))];var pageminX=pagemaxX-_this.width_def[format_col("0",""+(_this.col_def.length-2))];}else{var pageminX=0;var pagemaxX=maxsnX();}
if(r.pagesparent){var parentelem=ge(r.parentid);var xorigin=parentelem.offsetLeft+parseInt(gcs(parentelem,"borderWidth")||gcs(parentelem,"borderLeftWidth")||"0",10);var limits={xmin:pageminX-xorigin,ymin:parseInt(qsn_top(id,true),10)-d.offsetTop,xmax:pagemaxX-xorigin+((elem.dragOffsetWidth)?elem.dragOffsetWidth:0),xwmax:pagemaxX-xorigin+((elem.style.marginLeft)?parseInt(elem.style.marginLeft,10):0)};if(section.fixedHeight)limits.ymax=$("#"+section.id).height()-parseInt($(elem).parent().css("top"),10);return limits;}
if(d.isrichnote){var deltaLeft=qsn_trueleft(id)-d.offsetLeft;var limits={xmin:pageminX+deltaLeft,ymin:parseInt(qsn_top(id,true),10)-d.offsetTop,xmax:pagemaxX-pseudowidth+deltaLeft+elem.offsetWidth+((elem.dragOffsetWidth)?elem.dragOffsetWidth:0),xwmax:pagemaxX+((elem.style.marginLeft)?parseInt(elem.style.marginLeft,10):0)};if(section.fixedHeight){limits.ymax=$("#"+section.id).height();if(parseInt($("#"+elem.id+"-richtarget .note").css("top"),10)+$("#"+elem.id+"-richtarget .note").height()>$(elem).height())limits.ymax-=$("#"+elem.id+"-richtarget .note").height()+(parseInt($("#"+elem.id+"-richtarget .note").css("top"),10)-$(elem).height());if(parseInt($("#"+elem.id+"-richtarget .note").css("top"),10)<0)limits.ymin=-parseInt($("#"+elem.id+"-richtarget .note").css("top"),10);}
return limits;}
var limits={xmin:pageminX,ymin:parseInt(qsn_top(id,true),10)-d.offsetTop,xmax:pagemaxX+((elem.dragOffsetWidth)?elem.dragOffsetWidth:0),xwmax:pagemaxX+((elem.style.marginLeft)?parseInt(elem.style.marginLeft,10):0)};if(section.fixedHeight)limits.ymax=$("#"+section.id).height()+parseInt(qsn_top(id,true),10)-d.offsetTop;return limits;}
function prepareDrag(elem){if(!elem)return;if(qsn_edittarget!=null)return false;if(!/artemapage/.test(_this.svcid))return;var id=elem.id;var imgs=elem.getElementsByTagName("IMG");var savedwidth,img;var stuffmode=_this.stuffid;if(_this.isaligned()){var richid=pages_richparentid(id);var d=pages_richnoteoffsets(richid);ge(richid).style.position="absolute";var parentdiv=ge(richid).parentNode;if((!parentdiv.id)||parentdiv.id!=stuffmode)parentdiv.style.height=d.offsetHeight+"px";}
var r=qsn_thenotes[id];if(r.pagesparent||pages_isrichnote(id)){var richid=pages_richparentid(id);var d=pages_richnoteoffsets(richid);var richparentelem=ge(stuffmode+"-richparent");var richelem=ge(stuffmode+"-richelem");if(r.pagesparent){richparentelem.style["zIndex"]=""+(zindexmax+1);richparentelem.style.top=qsn_truetop(r.parentid)-2+"px";richparentelem.style.left=qsn_trueleft(r.parentid)-2+"px";richparentelem.style.width=ge(r.parentid).offsetWidth+"px";richparentelem.style.height=ge(r.parentid).offsetHeight+"px";}
richelem.style["zIndex"]=""+(zindexmax+1);richelem.style.top=d.offsetTop-2+"px";richelem.style.left=d.offsetLeft-2+"px";richelem.style.width=d.offsetWidth+"px";richelem.style.height=d.offsetHeight+"px";showblock(richelem);visibleblock(richparentelem,r.pagesparent);elem.parentid=richid;}}
function emptyMessage(id){var key=id.split("-")[0]+"-emptysection";return common_message[id+"-emptysection"]||common_message[key]||common_message["emptysection"];}
var webMode=options&&options.mode=="web";if(webMode){this.svcid=$("#"+this.id+"-stuff").attr("svcid");this.noteid=$("#"+this.id+"-stuff").attr("noteid");}
setType();if(!webMode&&this.id!="q_author_stuff"){var withToolbar=(q_pagemode()=="edit"&&currsvcType()=="page");if(q_pagemode()=="edit"&&currsvcType()=="page"){$divSec.html('<div class="active-wrapper"><div class="active-border"></div><div class="active-border2"></div></div><div id="'+this.stuffid+(this.svcid?('" svcid="'+this.svcid):'')+(this.shared?('" shared-content="'+this.id):'')+'" class="stuff-content empty-stuff"></div><div class="mask-wrapper"><div class="mask-border"></div><div class="mask-border2"></div></div><div class="emptysection">'+(this.id!="p-0"&&this.id!="c-0"?'<div class="msg"><span>'+emptyMessage(this.id)+'</span></div>':'')+'</div>');if(Skeleton.fixedHeight(this.id,null))$(".emptysection .msg",$divSec).append('<span onclick="qlub_loadsnchooser(); return false;" class="qlub_snchooser_sm font-q-i" style="margin-left:10px"></span>');else $(".emptysection",$divSec).append('<div class="msg" onclick="qlub_loadsnchooser(); return false;" style="cursor:pointer"><span><span class="qlub_snchooser_sm font-q-i"></span><span>'+escapeHTML(common_message["addcontent"])+'</span></span></div>');}else{$divSec.html('<div id="'+this.stuffid+(this.svcid?('" svcid="'+this.svcid):'')+(this.shared?('" shared-content="'+this.id):'')+'" class="stuff-content empty-stuff"></div>');}
if(!$divSec.hasClass("sk-sec-md"))$divSec.addClass("sk-sec-rwd");$divSec.get(0).prepared=false;$divSec.removeAttr("ResizeSensor");$divSec.unbind("click mouseenter mouseleave").click(function(){var $this=$(this);if($this.hasClass("sk-sec-xs")||$this.hasClass("sk-sec-sm"))return;_parent.activate(_this.id);}).hover(function(){if(withToolbar){this.over=true;qsn_showtoolbar(ge(_this.id),true);}
var $this=$(this);if($this.hasClass("sk-sec-xs")||$this.hasClass("sk-sec-sm"))return;if(_this.shared&&q_getuserlevel(memberid)!="admin")return;$(this).removeClass("sk-over").removeClass("sk-out").addClass("sk-over");$("body").removeClass("sk-hover").addClass("sk-hover");},function(){if(withToolbar){this.over=false;qsn_showtoolbar(ge(_this.id),false);}
var $this=$(this);if($this.hasClass("sk-sec-xs")||$this.hasClass("sk-sec-sm"))return;if(_this.shared&&q_getuserlevel(memberid)!="admin")return;$(this).removeClass("sk-over");$("body").removeClass("sk-hover");});qsn_prepareStuff(this.stuffid);}
if(currsvcType()=="shareboard"){var h1title='<table class="rpd-h1 note qsn_note container" cellspacing="0" cellpadding="0" style="width:100% ; padding: 0px 60px"><tr><td class="td-headericon"><div style="position:relative"><div class="headericon font-q-sn"></div></div></td><td class="tdcontainer showPaddingBottom"><div class="notewrap"><div class="notebackground"></div><div class="richtarget" style="position : relative ; top : 0px ; left : 0px ; z-index : 1"><div class="qlubcontainer_secorner"></div><table class="tablenote rpd-h1" width="100%" cellspacing="0" cellpadding="0" border="0" style="position : relative ; top : 0px ; left : 0px ; z-index: 1"><tr><td class="rpdheader"><div class="qlubcontainer_noteheader"><div class="hr hr_top"><div class="inhr"></div></div><h1 class="header-container"><div class="icon-ruban font-q-sn"></div><div class="header-ruban"></div><div class="qlubcontainer_headertext"><span class="headericon-in font-q-sn"></span><div class="headertext-inner">'+q_currsvcname()+'</div></div></h1><div class="hr hr_bottom"><div class="inhr"></div></div></div></td></tr></table></div></div></td></tr></table>';var bph1=$("#ph-1-stuff").length>0;if(bph1){$("#ph-1-stuff").empty();var sech=$("#ph-1-stuff").height();$("#ph-1-stuff").append('<div class="rpdp-pagetitle1">'+h1title+'</div>').find(".rpdheader").css({"height":sech+"px","vertical-align":"bottom"});}
$(".mask-wrapper, .active-wrapper").hide();}
if(webMode){var imgmod=this.noteid&&qsn_thenotes[this.noteid]&&qsn_thenotes[this.noteid]["skeleton"]&&qsn_thenotes[this.noteid]["skeleton"]["imgsection-mod"];if(imgmod)Skeleton.setSecVersion(this.id,imgmod);this.fixedHeight=Skeleton.fixedHeight(this.id);this.maxWidth=Skeleton.width(this.id);Skeleton.renderSection(this.id);if(spacexml.responsive&&$divSec.attr("vcenter")=="1")this.on_vcenter();mep_prepare();}else{this.renderSection();this.inactivate();}}
var settings_json_template={version:1,spacedefaults:{format:{}}};var settings_addnote_done=false;var settings_noteid={};var settings_changedhandlers=[];function settings_addchangedhandler(h){if(indexOfItem(h,settings_changedhandlers)==-1)settings_changedhandlers.push(h);if(settings_addnote_done)settings_changedone(h);}
function settings_changedone(h){try{eval(h).apply(this,[settings_getnote()]);}catch(err){}}
function settings_updateandsave(json){xpages_savesetting(null,json);pages_changednotes=[];pages_newnotes=[];pages_savedghost=[];pages_confirm_align();}
function settings_changedall(stuffID){stuffID=stuffID||q_stuffmode;if(!settings_noteid[stuffID])return;for(var i=0;i<settings_changedhandlers.length;i++){try{eval(settings_changedhandlers[i]).apply(this,[qsn_thenotes[settings_noteid[stuffID]]]);}catch(err){}}}
function settings_addnote(noteid){qsn_thenotes[noteid].user.common.zindex="0";settings_renderhtml(noteid);return true;}
function settings_renderhtml(noteid){var stuffID=qsn_stuffID(noteid);settings_noteid[stuffID]=noteid;var s=qsn_thenotes[noteid];if(stuffID==quomodo.page.sections.current().stuffid)quomodo.page.sections.current().updateleftcol();settings_addnote_done=true;settings_changedall(stuffID);quomodo.events.trigger("page.settings",s);}
function settings_displaysettings(){}
var artema_message={"newgroup":"nouveau groupe...","newsubgroup":"nouveau sous-groupe...","newpage":"Nouvelle page","newdisq":"Nouvelle discussion","pages":"page interactive","disqs":"page de discussion","otherpages":"Navigation","nootherpage":"(Pas d'autre page)","otherdisqs":"Discussions","nootherdisq":"(Pas de discussion)","hrefpages":"quomodo:ouvrir_la_page","hrefdisqs":"quomodo:ouvrir_la_discussion","newnameprompt":"Indiquez un nom pour la nouvelle %s :","taken":"Le nom \"%s\" est déjà pris, vous pouvez en choisir un autre :","musteditinvitedmembers":"Cliquez sur 'modifier la liste' pour ajouter ou supprimer un membre de cette liste de discussion.","badlink":"Liens visiteurs : la page \"%s\" n'existe pas, aucun lien ne sera créé.\n\nVoulez-vous continuer la publication ?","thedate":"le ","pagenameempty":"La page doit avoir un nom !","myself":"moi-même","titleinstall":"Cliquez pour créer la smartnote dans la page","groupname":"Groupe %","switchtopublic":"passer en mode public","switchtoadmin":"revenir en mode admin","publicmode":"mode public","adminmode":"mode admin","pageremove":"Attention, vous avez décidé de supprimer cette page. Ni vous ni les autres membres de cet espace ne pourrez désormais y accéder.\n\nÊtes-vous certain de vouloir supprimer cette page ?","invalidefrommail":"L'adresse e-mail de l'expéditeur n'est pas valide.","emptyobjectmail":"L'objet du message est vide. L'envoyer malgré tout ?","emptymessage":"Le message est vide !","mailalertgroupsize":"(%s1 membres sur %s2 ont un e-mail)","mailalertsent":"L'alerte e-mail a bien été envoyée. Une note récapitulative va être créée sur la page.","mailalertnotsent":"L'alerte e-mail n'a pas été envoyée. Vérifiez que les membres ont fourni une adresse e-mail valide.","newemailalert":"Nouvelle alerte e-mail","currstateedit":"Veuillez valider ou annuler les modifications en cours avant de changer de mode.","pagewidthbadvalue":"La valeur indiquée pour la largeur est non valide. Vous devez indiquer une valeur comprise entre 800 et 2048.","pagewidthtitle":"Largeur de la page","pagewidthprompt":"Veuillez indiquer la largeur de page souhaitée (en pixels).","pagewidthlink":"Largeur de la page (%s px)","pages_ncolstitle":"Nombre de colonnes pour l'alignement","pages_ncolsprompt":"Veuillez indiquer un nombre de colonnes compris entre 1 et 8.","pages_ncolsbadentry":"Le nombre de colonnes que vous avez indiqué n'est pas correct.\n\nIl faut indiquer un nombre de colonnes compris entre 1 et 8.","confirmalign":"Cet alignement vous convient-il ?","pagepublishedformembers":"Votre page a bien été publiée pour les membres de votre site.","pagepublishedforweb":"Votre page a bien été publiée sur internet.","todatepublishbuttonname":"Page à jour","nottodatepublishbuttonname":"Publier la page","todatepublishstatus":"(Page publiée)","nottodatepublishstatus":"Cette page n'est pas publiée","memberpublishbuttonname":"Publier la page","webpublishbuttonname":"Publier sur le web","dragstop":"Déplacez le taquet pour redimensionner les colonnes","restoreok":"La page est revenue telle qu'elle était lors de la dernière publication.","restoreconfirm":"Voulez-vous vraiment revenir à la dernière version publiée ? Vos dernières modifications seront alors définitivement perdues.","restorefailed":"Impossible de revenir à la dernière version publiée. La page n'avait probablement pas encore été publiée."};var artema_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("artema_msgs_fr_js_loaded");rights_record['spaceright']={"qorp":{"homepage":"#artemapage@intl","tmhorizon":"1900","maxmb":"1000","price":"0","maxspaces":"15","promo":{"fr":"","id":"qorp0","en":"Profit 2 months free"},"maxpages":"30","maxsn":"1000000","services":{"#artemapage@intl":{"filename":"index.html"},"#artemadisq@intl":{"filename":"index.html"},"#homepage@intl":{"filename":"index_qorp.html"}},"maxboards":"10"},"q2bpm":{"homepage":"q2bpm@intl","tmhorizon":"1900","maxmb":"1000","price":"0","maxspaces":"15","maxpages":"30","maxsn":"1000000","services":{},"maxboards":"10"},"qlub":{"homepage":"#artemapage@intl","tmhorizon":"1900","maxmb":"1000","price":"0","maxspaces":"15","maxpages":"30","maxsn":"1000000","services":{"#artemapage@intl":{"filename":"index_qlub.html"},"#artemadisq@intl":{"filename":"index_qlub.html"},"#homepage@intl":{"filename":"index_qlub.html"}},"maxboards":"10"},"rugby":{"homepage":"#clubpage@intl","tmhorizon":"1900","maxmb":"1000","price":"0","maxspaces":"15","maxpages":"30","maxsn":"1000000","services":{"#clubpage@intl":{"filename":"index.html"},"#artemadisq@intl":{"filename":"called@index_clubpage.html"},"#pm@intl":{"filename":"index.html"},"homepage@intl":{"filename":"index_clubpage.html"}},"maxboards":"10"},"family":{"homepage":"homepage@intl","tmhorizon":"1900","maxmb":"1000","price":"0.02","maxspaces":"15","promo":{"fr":"Bénéficiez de 2 mois gratuits","id":"family0","en":"Profit 2 months free"},"maxpages":"30","maxsn":"1000000","services":{"#artemadisq@intl":{"filename":"index_qmdfamily.html"},"#homepage@intl":{"filename":"fopage_free.html"},"#pm@intl":{"filename":"index_qmdfamily.html"},"homepage@intl":{"filename":"qmdfamily.html"},"#schooltt@intl":{"filename":"index_qmdfamily.html"}},"maxboards":"30"},"liberty":{"homepage":"homepage@intl","tmhorizon":"30","maxmb":"100","price":"0","maxspaces":"1","maxpages":"30","maxsn":"0","services":{"gallery@intl":{"filename":"gallery.html"},"#artemadisq@intl":{"filename":"index_homepage.html"},"#homepage@intl":{"filename":"index.html"},"#pm@intl":{"filename":"index.html"},"homepage@intl":{"filename":"index.html"}},"maxboards":"10"},"libertyself":{"homepage":"homepage@intl","tmhorizon":"30","maxmb":"100","price":"0","maxspaces":"1","maxpages":"30","maxsn":"0","services":{"gallery@intl":{"filename":"gallery.html"},"#artemadisq@intl":{"filename":"index_homepage.html"},"#homepage@intl":{"filename":"index.html"},"#pm@intl":{"filename":"index.html"},"homepage@intl":{"filename":"index.html"}},"maxboards":"10"},"ultimateself":{"homepage":"homepage@intl","tmhorizon":"1900","maxmb":"1000","price":"0.01","maxspaces":"15","maxpages":"30","maxsn":"1000000","services":{"gallery@intl":{"filename":"gallery.html"},"#artemadisq@intl":{"filename":"index_homepage.html"},"#familyplanning@intl":{"filename":"index.html"},"#homepage@intl":{"filename":"index.html"},"homepage@intl":{"filename":"index.html"},"#pm@intl":{"filename":"index.html"}},"maxboards":"10"},"ultimate":{"homepage":"homepage@intl","tmhorizon":"1900","maxmb":"1000","price":"0.01","maxspaces":"15","promo":{"fr":"Bénéficiez de 2 mois gratuits","id":"ultimate0","en":"Profit 2 months free"},"maxpages":"30","maxsn":"1000000","services":{"gallery@intl":{"filename":"gallery.html"},"#artemadisq@intl":{"filename":"index_homepage.html"},"#familyplanning@intl":{"filename":"index.html"},"#homepage@intl":{"filename":"index.html"},"homepage@intl":{"filename":"index.html"},"#pm@intl":{"filename":"index.html"}},"maxboards":"10"},"family_ended":{"homepage":"homepage@intl","tmhorizon":"1900","maxmb":"1000","price":"0","maxspaces":"15","maxpages":"30","maxsn":"1000000","services":{"homepage@intl":{"filename":"qmdfamily_ended.html"}},"maxboards":"10"}};var rights_spacerights_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded('rights_spacerights_js_loaded');var qorp_message={"newgroup":"nouveau groupe...","newsubgroup":"nouveau sous-groupe...","newpage":"Nouvelle page","newdisq":"Nouvelle discussion","editpage_tab":"Édition","editpage_new":"nouvelle page","editpage":"page","disq_tab":"Forum","disq_new":"nouvelle discussion","disq":"discussion","pages":"page interactive","disqs":"page de discussion","otherpages":"Navigation","nootherpage":"(Pas d'autre page)","otherdisqs":"Discussions","nootherdisq":"(Pas de discussion)","hrefpages":"quomodo:ouvrir_la_page","hrefdisqs":"quomodo:ouvrir_la_discussion","newnameprompt":"Indiquez un nom pour la nouvelle %s :","taken":"Le nom \"%s\" est déjà pris, veuillez en choisir un autre :","musteditinvitedmembers":"Cliquez sur 'modifier la liste' pour ajouter ou supprimer un membre de cette liste de discussion.","badlink":"Liens visiteurs : la page \"%s\" n'existe pas, aucun lien ne sera créé.\n\nVoulez-vous continuer la publication ?","thedate":"le ","pagenameempty":"La page doit avoir un nom !","myself":"moi-même","titleinstall":"Cliquez pour ajouter le bloc dans la page","groupname":"%","new":"du nouveau !","newgrouplinks":"nouvelle rubrique","webzinepage":"Pages webzine","delete":"supprimer","selectanimage":"Veuillez choisir une image sur votre ordinateur:","uploadtitle":"Modifier la photo de mon profil"};var tabs_message={"info_tab":"le site","info_new":"Nouvelle page","info_name":"Page","page_tab":"le site","page_new":"Nouvelle page","page_name":"Page","gonewildtab":"Autres","disq":"Forums","disq_tab":"mes forums","disq_new":"Nouveau forum","disq_name":"Forum","shareboard":"Libres-échanges","shareboard_tab":"mes libres-échanges","shareboard_new":"Nouveau libre-échange","shareboard_name":"Libre-échange","new_new":"Nouveau...","new_page":"Nouvelle page web","new_member":"Nouvelle page membre","new_disq":"Nouveau forum","new_shareboard":"Nouveau libre-échange","new_menu":"Nouveau menu déroulant"};var memberprofile_message={"username":"Nom : ","firstname":"Prénom : ","sex":"Sexe : ","gender":"Sexe : ","fgender":"Féminin","mgender":"Masculin","pict":"Photo :","lang":"Langue de l'affichage : ","fr":"Français","en":"Anglais","langinfo":"Déconnectez et reconnectez-vous pour mettre à jour la langue","address":"Adresse : ","addressextra":"<br/><div style='color : gray ; font-size : 10px ; margin-top : 0.5em ; padding-left : 0.5em ; border-left : solid 1px gray'>si vous appartenez à un organisme<br/>(Club, Comité, Ligue, Fédération)<br/>merci de l'indiquer ici.<br/>N'oubliez pas votre code postal !</div>","mobile":"N° tél. portable : ","email":"Mail : ","birthdate":"Date de naissance : ","category":"Catégorie : ","licensenumber":"(Licenciés) Numéro de licence : ","subscriptiondate":"Date d'inscription : ","emptyfirstname":"Veuillez indiquer votre prénom.","emptyusername":"Veuillez indiquer votre nom de famille.","emptypict":"Aucune photo"};var qlub_message={"notool":"Outil non disponible","website":"Gestion de l'offre et des options","diflistmgr":"Gestion des listes de diffusion","sitemap":"Gestion des pages et des menus","uploads":"Gestion des fichiers du site","events":"Gestion du calendrier du club","infoclub":"Personnalisation de la bannière","custompages":"Gestion de l'habillage du site","sponsors":"Gestion des emplacements de publicité","palette":"Palette","noname":"(sans nom)","delete":"supprimer","youhavetosignin":"Accès réservé aux membres. Si vous êtes membre, entrez vos identifiants en haut de cette page.","restrictedpage_title":"Accès réservé aux membres","restrictedpage_message":"L'accès à cette partie du site est reservé aux membres. Identifiez-vous ou créez un compte pour y accéder.","webzinepage":"Le Club","missinghelp":"Cette page d'aide n'est pas disponible actuellement. Veuillez nous excuser.","snnotavailable-comment-offer":"light","snnotavailable-comment-name":"smartnote commentaire","snnotavailable-poll-offer":"light","snnotavailable-poll-name":"smartnote sondage","snnotavailable-contact-offer":"light","snnotavailable-contact-name":"smartnote contact","snnotavailable-matchnext-offer":"light","snnotavailable-matchnext-name":"smartnote match","snnotavailable-video-offer":"premium","snnotavailable-video-name":"smartnote vidéo","snnotavailable-fv-offer":"premium","snnotavailable-fv-name":"smartnote vidéo","snnotavailable-slide-offer":"premium","snnotavailable-slide-name":"smartnote diaporama","snnotavailable-offer":"premium","snnotavailable-name":"(inconnu)","titleinstall":"Cliquez pour ajouter le bloc dans la page","changeofferok":"Votre changement d'offre s'est bien déroulé. La page va être rechargée.","fr":"Français","en":"Anglais","default":"Langue par défaut","othersmartnotes":"Les autres blocs","mepoptions":"Options de mise en page","mepactivate":"Activer","mepreactivate":"Réactiver","currstateedit":"Veuillez valider ou annuler les modifications en cours avant de changer de mode.","popupLinkTitle":"Popup d'accueil","confirmDelete":"Etes-vous sûr de vouloir supprimer le popup d'accueil ?","back":"retour","Results":"Résultats : ","Results2":"Résultats : %values sur ","Resultpagename":"Résultats de la recherche","login":"Connexion/Inscription","logintitle":"Cliquez pour fermer le panneau de connexion","loginname":"Identifiant : ","loginpassword":"Mot de passe : ","loginbtn":"Connexion au site","forgotten":"oublié","forgottenv2":"Identifiant / Mot de passe oublié ?","forgottenlink":"Cliquez ici pour les recevoir par mail.","click2identify":"Connectez-vous à votre site :","subscribe2space":"Vous n'êtes pas membre du site ?","subscribe2spacev2":"Pas encore inscrit sur le site ? Créez vos identifiants !","subscribe2spacelink":"Démarrer l'inscription","subscribe2quomodo":"Vous aussi vous voulez votre site web ?","subscribe2quomodolink":"Créer un site Quomodo.","accesspw":"Code d'accès : ","accessbadpw":"Le code d'accès est incorrect.","accesspwmsg":"Vous n'avez pas le code d'accès ? Demandez-le au responsable du site.","sponsors_contactform_title":"Demande d'affichage de publicité","members_title":"Membres et accès","members_desc":"Membres - groupes - profils - droits d'accès - code d'accès...","sitemap_title":"Ouvrir le panneau Pages/Menus","sitemap_desc":"Pages - menus - droits d'accès - forums - page d'accueil - popups...","infos_title":"Coordonnées, Domaine et Référencement","infos_desc":"Adresse (URL) du site - stats - responsable - localisation - référencement...","account_title":"Offre, services, et options","account_desc":"Pack Domaine - options payantes - parrainage - factures - paiement en ligne...","events_title":"Événements du site","events_desc":"Événements - matchs - anniversaires.","uploads_title":"Fichiers chargés sur le site","uploads_desc":"Espace de stockage - suppression de fichiers - dossiers...","diflist_title":"Listes de diffusion mail","diflist_desc":"Listes pour les envois groupés de mails et newsletters.","theme_title":"Habillage du site","theme_desc":"Designs - polices - bannière - couleurs et images de fond...","results_more":"Elargir la recherche","sponsors_title":"Affichage de la publicité","sponsors_desc":"Mini-régie publicitaire - sponsors - partenaires...","charlie_title":"Afficher un brassard","charlie_desc":"Je suis Charlie - brassard Noir","privateuploads_title":"Statistique des téléchargements","adminbar_admin":"Menu Admin","adminbar_sitemap":"Pages / Menus","adminbar_sitemapv2":"Page : ","adminbar_custom":"Habillage","adminbar_help":"Centre d'aide","adminbar_viewmenu":"Aperçu","adminbar_agence":"Confier le site à un expert","adminbar_gotosite":"Voir le site","adminbar_annu":"Annuaire","adminbar_logoutbtn":"Se déconnecter","adminbar_logouttitle":"Cliquez pour modifier votre profil","adminbar_profile":"Mon profil","adminbar_node_custom":"Design","adminbar_node_help":"Assistance","adminbar_node_logoutbtn":"Déconnexion","adminbar_stats":"Stats de visite","adminbar_shop":"Boutique","adminbar_shop-products":"Produits","adminbar_shop-payments":"Paiement","adminbar_shop-shippings":"Livraison & retrait","adminbar_shop-new-shipping":"Ajouter un moyen de livraison","adminbar_shop-new-pickup":"Ajouter une modalité de retrait","adminbar_shop-new-scheduled-shipping":"Ajouter un moyen de livraison planifiée","adminbar_shop-edit-shipping":"Modifier les moyens de livraison","adminbar_shop-marketing":"Marketing","adminbar_shop-facebook":"Boutique Facebook","adminbar_shop-instagram":"Boutique Instagram","adminbar_shop-orders":"Commandes","adminbar_seo":"Référencement","adminbar_marketing":"E-mailing","adminbar_settings":"Réglages","adminbar_phone":"01 46 15 92 92","adminbar_account":"Mon compte","adminbar_subscription":"Mon abonnement","adminbar_uploads":"Mes fichiers","adminbar_emails":"Mes boîtes mail","adminbar_domains":"Mon nom de domaine","help_title":"Rechercher sur l'aide de Quomodo","help_searchdesc":"Rechercher :","help_desc":"Une seule adresse : http://aide.quomodo.com !","help_search":"Votre recherche","qwiz_title":"Prise en main rapide","qwiz_desc":"Ce qu'il y a à connaître pour se lancer","invitemembers_title":"Inviter des membres","invitemembers_desc":"Pour qu'ils accèdent aux contenus privés du site.","stats_title":"Voir les statistiques du site","stats_desc":"Statistiques détaillées de votre site : visiteurs, pages consultées, liens référents...","news_title":"Consulter les News Quomodo","news_desc":"Pour se tenir au courant des dernières nouveautés.","gallery_title":"Visiter l'annuaire des sites Quomodo","gallery_desc":"Pour s'inspirer d'exemples.","sendpressrelease_title":"Envoyer un article de presse","sendpressrelease_desc":"Pour diffuser vos articles de presse sur l'espace presse Quomodo.","ods_title":"Publier une manifestation","ods_desc":"Faites connaître vos manifestations dans la région.","sponsornewclub_title":"Parrainer un ami chez Quomodo","sponsornewclub_desc":"Pour faire découvrir Quomodo à d'autres clubs ou à des amis.","contactsupport_title":"Contacter le support","contactsupport_desc":"Pour adresser une demande à l'équipe Quomodo, ou pour fermer le site.","mode_admin_title":"Voir la page en tant qu'Admin","mode_admin_desc":"C'est le mode dans lequel vous pouvez ajouter et modifier des contenus","mode_admin_html":"Mode <br/><b>ADMIN</b>","mode_members_title":"Voir la page en tant que Membre","mode_members_desc":"Permet de voir la page telle que les membres inscrits sur le site la voient","mode_members_html":"Mode <br/><b>MEMBRE</b>","mode_web_title":"Mode WEB","mode_web_desc":"Pour voir la page telle que les visiteurs Internet la voient","mode_web_html":"Mode <br/><b>WEB</b>","viewmenu_gotosite":"Mode web","viewmenu_admin_quitview":"Mode admin","viewmenu_default_quitview":"Mode animateur","viewmenu_default_quitviewother":"Mode animateur","viewmenu_admin_quitedit":"Mode membre","viewmenu_default_quitedit":"Mode membre","viewmenu_default_quiteditother":"Mode membre","admin_quitview":"Passer en mode admin","default_quitview":"Modifier la page","default_quitviewother":"Animer mes pages","intranet_quitview":"Modifier la page","intranet_quitviewother":"Animer mes pages","wiki_quitview":"Modifier la page","wiki_quitviewother":"Animer mes pages","admin_quitedit":"Passer en mode membre","default_quitedit":"Zone membres","intranet_quitedit":"Intranet","wiki_quitedit":"Retour","wiki_publish":"Publier les modifications","wiki_restore":"Restaurer la version publiée","q_select_members":"Choisissez des membres","q_select_member":"Choisissez un membre","q_select_groups":"Choisissez des groupes","q_select_group":"Choisissez un groupe","q_select_pages":"Choisissez des pages","q_select_page":"Choisissez une page","q_select_menu":"Choisissez un menu","q_select_folders":"Choisissez un dossier","q_select_emptyselection":"Vous devez choisir un élément.","q_select_dest":"Choisissez un groupe de destinataires ou une liste de diffusion","q_select_diflists":"Choisissez une liste de diffusion","q_select_newdiflist":"Ajouter, modifier une liste","q_select_sites":"Choisissez des sites du Portail","q_select_sitespage":"Choisissez une page du site","live_manager_title":"Gestion des messages du Direct","live_new":"Nouveau message","live_new_prompt":"Tapez le nouveau message à faire apparaître sur le Direct","live_new_title":"Nouveau message pour le Direct","live_new_done":"Message enregistré","live_delete":"Supprimer la sélection","live_deleteandsave":"Supprimer + archiver","live_nomsgselected":"Aucun message à supprimer","live_deleteonemsg_confirm":"Souhaitez-vous réellement supprimer le message sélectionné ?","live_deletemsgs_confirm":"Souhaitez-vous réellement supprimer les %s messages sélectionnés ?","live_deletedone":"Opération effectuée avec succès","contact":"Contact","member":"Membre","animator":"Animateur","admin":"Administrateur","folders":"Vos dossiers","nofolder":"(aucun dossier)","createpage_title":"Nouvelle page","createpage_prompt":'Menu : %s <br/><br/><span style="white-space: nowrap">Veuillez indiquer le nom de la nouvelle page :</span>',"createpage_musthavename":"Attention : la page doit avoir un nom.","createpage_error":"Erreur pendant la création de la page","renamepage_done":"La page a bien été renommée","createshareboard_title":"Nouveau libre-échange","createshareboard_prompt":'Rubrique : %s <br/><br/><span style="white-space: nowrap">Veuillez indiquer le nom du nouveau libre-échange :</span>',"createshareboard_musthavename":"Attention : le libre-échange doit avoir un nom.","createshareboard_error":"Erreur pendant la création du libre-échange","renameshareboard_done":"La libre-échange a bien été renommé","createdisq_title":"Nouveau forum","createdisq_musthavename":"Attention : le forum doit avoir un nom.","createdisq_error":"Erreur pendant la création du forum","renamedisq_done":"La forum a bien été renommé","search_rubricname":"(page web)","noaccesstoadmindrawer":"Vous ne disposez pas des droits suffisants pour accéder aux panneaux de gestion. Contactez votre administrateur.","group":"Groupe","group_removed":"(groupes supprimés)","group_allmembers":"Tous les membres","group_admins":"Les administrateurs","snchooser_content":"Blocs de contenu","snchooser_events":"Blocs pour les événements","snchooser_multimedia":"Blocs multimédia","snchooser_navigation":"Blocs pour la navigation","snchooser_services":"Blocs pour intégrer d'autres services","snchooser_interaction":"Blocs pour interagir","snchooser_decor":"Blocs pour décorer","snchooser_switch_cat":"Catégories","snchooser_switch_list":"Liste","givingupdomain":"<h2>Attention !</h2>L'adresse que vous utilisez :<br/><a href='%host%' target='_blank'>%host%</a><br/>est en cours d'abandon.<br/><br/>Elle ne fonctionnera bientôt plus, et il faudra alors utiliser :<br/><a href='%privatedomain%' target='_blank'>%privatedomain%</a><br/><br/>D'ores et déjà recopiez cette adresse dans vos favoris.","givingupdomain_title":"Attention","external_links_desactivated":"En mode administrateur, les liens vers des sites extérieurs sont désactivés dans les menus.","qwizpage_desactivated":"Impossible de lancer l'Assistant de Création de Page. La page ne doit contenir aucune Smartnote pour pouvoir lancer l'assistant.","signin":"authentifiez-vous pour accéder à l'administration et aux pages réservées","yourprofile":"Votre profil","newshared-h":"Bannière %date","newshared-f":"Pied de page %date","newshared-sk":"Maquette %date","promptnew_menu":"Nouvelle menu déroulant","promptnew_menu_desc":"nom du nouveau menu déroulant","promptnew_shareboard":"Nouveau libre-échange","promptnew_shareboard_desc":"nom du nouveau libre-échange"};var qlub_message_pros={"account_title":"Services et Prestations","account_desc":"Demande de mise à jour - création de nouvelle page - factures..."}
var qlub_help_pages={"intro":"aide.quomodo.com/","g_smartnotes":"aide.quomodo.com/je_cree_mon_site/je_cree_des_smartnotes_dans_ma_page","g_pagelayout":"aide.quomodo.com/je_cree_mon_site/la_mise_en_page_auto","g_publication":"aide.quomodo.com/je_cree_mon_site/je_publie_ma_premiere_page","g_alert":"aide.quomodo.com/aller_plus_loin/j_envoie_une_alerte_aux_membres","g_newsletter":"www.quomodo.com/guide/communiquer_via_le_site/envoyer_une_newsletter","m_forum":"aide.quomodo.com/aide_membres/vos_pages_pour_discuter_en_prive","m_shareboard":"aide.quomodo.com/aide_membres/vos_pages_pour_echanger_en_prive","a_members":"aide.quomodo.com/menu_admin/membres_et_acces","a_groups":"aide.quomodo.com/menu_admin/membres_et_acces","a_forums":"aide.quomodo.com/menu_admin/gerer_les_forums_et_libres-echanges","a_shareboards":"aide.quomodo.com/menu_admin/gerer_les_forums_et_libres-echanges","a_sitemap":"aide.quomodo.com/menu_admin/pages_et_menus","a_website":"aide.quomodo.com/menu_admin/offre_abonnements_et_options","a_banner":"aide.quomodo.com/menu_admin/apparence_generale_du_site","a_themes":"aide.quomodo.com/menu_admin/apparence_generale_du_site","a_events":"aide.quomodo.com/menu_admin/evenements_du_club","a_uploads":"aide.quomodo.com/menu_admin/fichiers_charges_sur_le_site","a_wsg":"aide.quomodo.com/les_smartnotes/la_smartnote_billet","a_pmtxt":"aide.quomodo.com/les_smartnotes/la_smartnote_titre","a_image":"aide.quomodo.com/les_smartnotes/la_smartnote_image","a_poll":"aide.quomodo.com/les_smartnotes/la_smartnote_sondage","a_table":"aide.quomodo.com/les_smartnotes/la_smartnote_tableau","a_video":"aide.quomodo.com/les_smartnotes/la_smartnote_video","a_contact":"aide.quomodo.com/les_smartnotes/la_smartnote_contact"};var profile_message={"none":"(aucun)","idmissing":"SVP veuillez d'abord fournir un identifiant Quomodo.","pwmissing":"SVP veuillez d'abord fournir un mot de passe.","pwconfirmationfailed":"Les deux mots de passe que vous avez indiqués sont différents, veuillez recommencer.","wrongpassword":"Mot de passe erroné","desc":"(...)"};var qlub_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("qlub_msgs_fr_js_loaded");var qlub_ads_cmd=qlub_ads_cmd||[];function qlub_ads_init(){if(qlub_ads_cmd.splice){for(var i=0;i<qlub_ads_cmd.length;i++)qlub_ads_cmd[i]();qlub_ads_cmd={};qlub_ads_cmd.push=function(x){x();};}}
function qlub_ads_checkadd(site,excludePagemodeCheck){var sitekey=site;if(qsn_responsive_mod()=="xs")sitekey+="xs";excludePagemodeCheck=excludePagemodeCheck||[];function checkPageMode(mode){for(var i=0;i<excludePagemodeCheck.length;i++){if(mode==excludePagemodeCheck[i])return false;}
return q_pagemode()==mode;}
if(checkPageMode("makeweb"))return false;var spaceads=q_spaceparam("ads");if(!spaceads||!spaceads.active||spaceads.active=="false")return false;return true;}
function qlub_init_adshandler(){return{"top":qlub_init_topads,"right":qlub_init_rightads,"bottom":qlub_init_bottomads};}
function qlub_init_siteads(site,option){var sitekey=site;if(qsn_responsive_mod()=="xs")sitekey+="xs";var spaceads=q_spaceparam("ads");var h=qlub_init_adshandler();var key=site+((option&&(typeof option)!="boolean")?("_"+option):"");return h[key].apply(this,[spaceads&&spaceads[sitekey]]);}
function qlub_ads_checkandinitadd(site){var b=qlub_ads_checkadd(site);if(b==false){if(q_pagemode()!="makeweb")$("#sk-ad-"+site).empty().addClass("noad");return false;}
if(q_pagemode()!="makeweb")$("#sk-ad-"+site).removeClass("noad");return qlub_init_siteads(site,b);}
function qlub_ads_addtop(){qlub_ads_cmd.push(function(){if(!qlub_ads_checkandinitadd("top")&&q_pagemode()!="makeweb"){$("#sk-ad-top").empty().addClass("noad");}
if(q_pagemode()!="makeweb"){window.quomodo&&quomodo.events.trigger("topads.loaded");}});}
function qlub_ads_addbottom(){qlub_ads_cmd.push(function(){if(!qlub_ads_checkandinitadd("bottom")&&q_pagemode()!="makeweb")$("#sk-ad-bottom").empty().addClass("noad");});}
function qlub_ads_addright(){qlub_ads_cmd.push(function(){if(!qlub_ads_checkandinitadd("right")){if(q_pagemode()!="makeweb"){$("#qlub_ads_addright_elem").remove();$("#sk-ad-right").hide();}}});}
function qlub_ads_slotdim(slot,dim,options){var scale=(options&&options.scale)?options.scale:1;var d=(slot.type=="textlink")?-2:0;return Math.round(scale*parseInt(slot[dim],10))+d;}
function qlub_ads_autoad(){q_fsm_reveal({src:{id:"qlub_sponsor_form",urls:[qlubdir+"scripts/qlub_sponsors_contactform.js",qlubdir+"scripts/qlub_sponsors_contactform_msgs_"+q_lang+".js",qlubdir+"qlub_sponsors_contactform_"+q_lang+".html"]},title:qlub_message["sponsors_contactform_title"],reveal_callback:"qlub_sponsors_contactform_reveal"});}
function qlub_ads_increment_onclick(adlink){if(q_pagemode()=="view"||q_pagemode()=="web"){var slotid=$(adlink).parents(".qlub_ads_slot").attr("slotid");xq_ajaxcount("binincrement","#"+slotid.replace("s","")+"#adsclick@intl");}}
function qlub_ads_slotHTML(slot,options){if(!slot||slot.type=="none")return "";if(slot.type=="imgwithhttp")return true;if(slot.type=="version")return 1;var scale=(options&&options.scale)?options.scale:1;var slotwidth=Math.round(scale*parseInt(slot.width,10));var slotheight=Math.round(scale*parseInt(slot.height,10));var withlink=!options||!options.nolink;var s='<div class="qlub_ads_slot qlub_ads_'+slot.type+'" '+((slot.id)?('slotid="'+slot.id+'" '):'')+'style="'+((options&&options.style)?(options.style+';'):((withlink)?'':'position: relative ; top: 0px ; left : 0px ; '))+'width:'+qlub_ads_slotdim(slot,"width",options)+'px ; height:'+qlub_ads_slotdim(slot,"height",options)+'px ;'+((slot.type=="multi")?'border: solid 1px #666 ;':'')+'">';switch(slot.type){case("editad"):s+='<a href="#" onclick="qlub_editad_open( \'img-'+slot.site+'\' ) ; return false" >';s+='<img class="qlub_ads_img" src="/bundles/qlub/images/ads/editad_'+slot.width+'x'+slot.height+'.png" style="width:'+slotwidth+'px ; height:'+slotheight+'px" />';s+='</a>';if(slot.site=="top")s+='</div><div class="qlub_editad_btnwrapper"><div class="btn" onclick="qlub_editad_open( \'btn-'+slot.site+'\' ) ; return false">'+common_message["removeAds"]+'</div>';if(slot.site=="right")s+='</div><div class="qlub_editad_btnwrapper right"><div class="btn" onclick="qlub_editad_open( \'btn-'+slot.site+'\' ) ; return false">'+common_message["removeAds-right"]+'</div>';break;case("autoad"):if(withlink)s+='<a href="#" onclick="qlub_ads_autoad() ; return false" >';s+='<img class="qlub_ads_img" src="/bundles/qlub/images/ads/autoad_'+slot.width+'x'+slot.height+'.jpg" style="width:'+slotwidth+'px ; height:'+slotheight+'px" />';if(withlink)s+='</a>';break;case("quomodo"):if(withlink)s+='<a href="http://www.quomodo.com?ad='+encodeURIComponent(window.location.host+(((/club[0-9]+.quomodo.com/).test(window.location.host))?window.location.pathname.replace(/^(\/[^\/]+).*/,"$1"):""))+'" target="_blank">';s+='<img class="qlub_ads_img" src="/bundles/qlub/images/ads/quomodo_'+slot.width+'x'+slot.height+'.png" style="width:'+slotwidth+'px ; height:'+slotheight+'px" />';if(withlink)s+='</a>';break;case("imglink"):var thelink=slot.link.replace(/^https?:\/\//,"");var thehttp=slot.link.replace(/^(https?:\/\/).*/,"$1")||"http://";if(withlink&&thelink)s+='<a href="'+thehttp+escapeattribute(thelink)+'" target="_blank" onclick="qlub_ads_increment_onclick( this );" oncontextmenu="qlub_ads_increment_onclick( this );">';s+='<img class="qlub_ads_img" src="'+(((/^(https?:\/)?\//).test(slot.img))?slot.img:escapeattribute(q_spaceabsoluteurl(memberid,slot.img)))+'" style="width:'+slotwidth+'px ; height:'+slotheight+'px" />';if(withlink&&thelink)s+='</a>';break;case("textlink"):var thelink=slot.link.replace(/^https?:\/\//,"");var thehttp=slot.link.replace(/^(https?:\/\/).*/,"$1")||"http://";s+='<div class="qlub_ads_textlinkcontents">';s+=((withlink&&thelink)?('<a class="qlub_ads_texttitle" href="'+thehttp+escapeattribute(thelink)+'" target="_blank" onclick="qlub_ads_increment_onclick( this );" oncontextmenu="qlub_ads_increment_onclick( this );" '+((scale==1)?'':('style="font-size:'+Math.round(scale*16)+'px" '))+'>'):'<span class="qlub_ads_texttitle" '+((scale==1)?'':('style="font-size:'+Math.round(scale*16)+'px" '))+'>')+escapeHTML(slot.title)+((withlink&&thelink)?'</a>':'</span>');if(slot.desc)s+='<div class="qlub_ads_textdesc"'+((scale==1)?'':('style="font-size:'+Math.round(scale*13)+'px" '))+'>'+escapeHTML(slot.desc)+'</div>';s+='</div>';break;case("flash"):var swf=((/^(https?:\/)?\//).test(slot.swf))?slot.swf:escapeattribute(q_spaceabsoluteurl(memberid,slot.swf));var thelink=slot.link.replace(/^https?:\/\//,"");var thehttp=slot.link.replace(/^(https?:\/\/).*/,"$1")||"http://";if(withlink&&thelink)s+='<a href="'+thehttp+escapeattribute(thelink)+'" target="_blank"  onclick="qlub_ads_increment_onclick( this );" oncontextmenu="qlub_ads_increment_onclick( this );">';s+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" type="application/x-shockwave-flash" data="'+swf+'" width="'+slotwidth+'" height="'+slotheight+'">';s+='<param name="movie" value="'+swf+'" />';s+='<param value="transparent" name="wmode"/>';s+='<param name="allowFullScreen" value="true" />';s+='<param name="allowScriptAccess" value="never" />';s+='<embed src="'+swf+'" wmode="transparent" allowfullscreen="true" width="'+slotwidth+'" height="'+slotheight+'" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer"/>';s+='</object>';if(withlink&&thelink)s+='</a>';break;case("iframe"):var thesrc=slot.src.replace(/^https?:\/\//,"");var thehttp=slot.src.replace(/^(https?:\/\/).*/,"$1")||"http://";s+='<iframe frameborder="0" scrolling="no" width="'+slotwidth+'" height="'+slotheight+'" src="'+thehttp+escapeattribute(thesrc)+'"></iframe>';break;case("multi"):var url="/bundles/qlub/images/ads/multislots_72.jpg";if(slotheight<60)url="/bundles/qlub/images/ads/multislots_32.jpg";else if(slotheight<84)url="/bundles/qlub/images/ads/multislots_48.jpg";s+='<img class="qlub_ads_img" src="'+url+'"/><br/>'+(sponsorsmgr_message["span_multislots"]||"%n").replace(/%n/g,slot.n);break;}
if(!withlink)s+='<div " style="position: absolute ; top: 0px ; left : 0px ; width:'+qlub_ads_slotdim(slot,"width",options)+'px ; height:'+qlub_ads_slotdim(slot,"height",options)+'px ;"></div>';s+='</div>';return s;}
function qlub_slotfromid(slotid,slot){if(slotid=="none"||slotid=="autoad"||slotid=="quomodo"){var x=q_cloneObject(slot);x.type=slotid;return x;}
if(!spacexml.ads||!spacexml.ads.slots)return null;for(var i=0;i<spacexml.ads.slots.length;i++){if(spacexml.ads.slots[i].id==slotid)return spacexml.ads.slots[i];}
return null;}
function qlub_getoneslot(slot,bDisplayMultiSlots){if(slot.ids==undefined)return slot;function validslotid(slotid){if(slotid=="none"||slotid=="autoad"||slotid=="quomodo")return true;if(!spacexml.ads||!spacexml.ads.slots)return false;for(var i=0;i<spacexml.ads.slots.length;i++){if(spacexml.ads.slots[i].id==slotid)return true;}
return false;}
function validslotids(){var validids=[];var tmpids=slot.ids.split(" ");for(var i=0;i<tmpids.length;i++){if(validslotid(tmpids[i]))validids.push(tmpids[i]);}
return validids;}
var ids=validslotids();if(slot.ids==""||ids.length==0){var x=q_cloneObject(slot);x.type="none";return x;}
if(ids.length>1&&bDisplayMultiSlots){var x=q_cloneObject(slot);x.type="multi";x.n=ids.length;return x;}
return qlub_slotfromid(ids[Math.floor(Math.random()*ids.length)],slot);}
var ads_randomnumber=Math.floor(Math.random()*1000000);function qlub_getonead(siteads){if(!siteads.ads)return siteads;var activeads=[];for(var i=0;i<siteads.ads.length;i++)if(siteads.ads[i].active!=false)activeads.push(siteads.ads[i]);if(activeads.length==0)return null;return activeads[ads_randomnumber%activeads.length];}
function qlub_addTarget(id){var $target=$("#"+id);if($target.length==0&&id=="qlub_rightads")$target=$("#qlub_ads_addright_elem");for(;$target.children().length>0;){var $tmp=$target.children().eq(0);if($tmp.get(0).tagName.toLowerCase()=="script")break;$target=$tmp;}
return $target;}
function qlub_init_topads(siteads){if(!siteads)return false;var ad=qlub_getonead(siteads);if(!ad)return false;var s='<table id="qlub_init_topads_elem" cellspacing="0" cellpadding="0" border="0"><tr>';for(var i=0;i<ad.slots.length;i++){if(ad.slots.length==5&&i>0)s+='<td style="width: 7px"> </td>';s+='<td align="center">'+qlub_ads_slotHTML(qlub_getoneslot(ad.slots[i]))+'</td>';}
s+='</tr></table>';$("#qlub_init_topads_elem").remove();var $target=qlub_addTarget("qlub_topads");$target.append(s);return true;}
function qlub_init_bottomads(siteads){if(!siteads)return false;var ad=qlub_getonead(siteads);if(!ad)return false;var s='<table id="qlub_init_bottomads_elem" cellspacing="0" cellpadding="0" border="0"><tr>';for(var i=0;i<ad.slots.length;i++)s+='<td align="center" style="padding-bottom : 8px">'+qlub_ads_slotHTML(qlub_getoneslot(ad.slots[i]))+'</td>';s+='</tr></table>';$("#qlub_init_bottomads_elem").remove();var $target=qlub_addTarget("qlub_bottomads");$target.append(s);return true;}
function qlub_init_rightads(siteads){if(!siteads)return false;var ad=qlub_getonead(siteads);if(!ad)return false;var elem=document.getElementById("qlub_ads_addright_elem");if(elem){var div=elem.getElementsByTagName("DIV")[0];if(div)div.style.height="760px";}
var s='<div id="qlub_init_rightads_elem">';for(var i=0;i<ad.slots.length;i++)s+=qlub_ads_slotHTML(qlub_getoneslot(ad.slots[i]),{style:"margin-bottom: 8px"});s+='</div>';$("#qlub_init_rightads_elem").remove();var $target=qlub_addTarget("qlub_rightads");$target.append(s);return true;}
var members_descfields=[{key:"username",type:"text",validator:{required:true}},{key:"firstname",type:"text",validator:{required:true}},{key:"gender",type:"select",values:["fgender","mgender"],validator:{required:true}},{key:"address",type:"textarea"},{key:"birthdate",type:"date"},{key:"email",type:"email",validator:{required:true,email:true}},{key:"mobile",type:"tel"},{key:"category",type:"text",displayColInSelect:["rich"]},"licensenumber",{"key":"lang","type":"select",values:["fr","en"],onchange:function(){if(q_lang!=this.value)q_alert(memberprofile_message["langinfo"]);}}];function q_getmembers(callback){if(q_pagemode()!="web")
q_ajaxgetppty("members?svcid=all&svcmode=pict",function(x){callback(x["members?svcid=all&svcmode=pict"]);});else
callback(spacexml.publicmembers);}
function q_members_descfields(){var desc={key:"",type:"",display:"",displayColon:"",values:[],displays:{},onchange:"",validator:{required:false}}
var options;var descfields=members_descfields;if(window.quomodoclient&&quomodoclient.members&&quomodoclient.members.descfield)descfields=quomodoclient.members.descfield;var newdescfields={keys:[],descs:{}};for(var i=0;i<descfields.length;i++){options={};var val=descfields[i];if(typeof val=="string"){options.key=val;options.type="text";var display=(memberprofile_message[val]||val).replace(/( | )*:( | )*$/,"");options.display=display;options.displayColon=display+common_message[":"];}else{options.key=val.key;options.type=val.type;var display=(val.display||memberprofile_message[val.key]||val.key).replace(/( | )*:( | )*$/,"");options.display=display;options.displayColon=display+common_message[":"];options.validator=val.validator;if(val.type=="select"){options.values=val.values||[];options.displays={};for(var j=0;j<options.values.length;j++){var v=options.values[j];options.displays[v]=memberprofile_message[v]||val.values[j];}}}
newdescfields.keys.push(options.key);newdescfields.descs[options.key]=$.extend({},desc,options);}
newdescfields.displayedCols={"rich":["username","firstname","category"]};if(window.quomodoclient&&quomodoclient.members&&quomodoclient.members.descfieldOptions){if(quomodoclient.members.descfieldOptions.displayedCols)newdescfields.displayedCols=quomodoclient.members.descfieldOptions.displayedCols;newdescfields.summaryHTML=quomodoclient.members.descfieldOptions.summaryHTML;}
return newdescfields;}
var qlubpagewidth=1024;var qlubdir="/bundles/qlub/";var pagesdir="/services/artemapage@"+q_lang+"/";var newelems={"membermgr":{id:"qlub_membermgr",urls:["/styleauto/auto_admin-2.0.css",qlubdir+"scripts/qlub_membermgr.js",qlubdir+"scripts/qlub_membermgr_msgs_"+q_lang+".js",qlubdir+"qlub_membermgr_"+q_lang+".html"],target:"q_fullscreenmask"},"siteloader":{id:"siteloader",urls:["/services/qorg/siteloader_"+q_lang+".html","/services/qorg/scripts/siteloader.js"],target:"q_fullscreenmask"},"emailalert":{id:"qlub_emailalert",urls:[qlubdir+"scripts/qlub_ema.js",qlubdir+"scripts/qlub_ema_msgs_"+q_lang+".js",qlubdir+"qlub_ema_"+q_lang+".html"]}};if(!window.q_elems)q_elems={};$.extend(q_elems,newelems);var qlub_iconsref={1:{icon:"basketball",file:"1_basket"},2:{icon:"rugby",file:"2_rugby"},3:{icon:"football",file:"4_football"},4:{icon:"boxing",file:"3_boxe"},5:{icon:"target",file:"cible"},6:{icon:"dog",file:"animaux"},7:{icon:"chrono",file:"920_chrono"},8:{icon:"love",file:"coeur"},9:{icon:"billard",file:"9_billard"},10:{icon:"pingpong",file:"914_pingpong"},11:{icon:"",file:"boussole"},12:{icon:"motorbike",file:"916_moto"},13:{icon:"theater",file:"masques"},14:{icon:"photo",file:"photo"},15:{icon:"bike",file:"915_velo"},16:{icon:"usfootball",file:"5_football_us"},17:{icon:"baseball",file:"6_baseball"},18:{icon:"bowling",file:"7_bowling"},19:{icon:"",file:"8_bowling2"},20:{icon:"",file:"910_billard2"},21:{icon:"",file:"911_crosse"},22:{icon:"",file:"912_palet"},23:{icon:"gym",file:"913_gym"},24:{icon:"car",file:"917_voiture"},25:{icon:"",file:"918_compteur"},26:{icon:"",file:"919_chaussures"},27:{icon:"",file:"casier"},28:{icon:"",file:"casier2"},29:{icon:"",file:"casier3"},30:{icon:"",file:"damiers"},31:{icon:"blueflag",file:"drapeau_bleu"},32:{icon:"yellowflag",file:"drapeau_jaune"},33:{icon:"blackflag",file:"drapeau_noir"},34:{icon:"redflag",file:"drapeau_rouge"},35:{icon:"greenflag",file:"drapeau_vert"},36:{icon:"star",file:"etoile"},37:{icon:"cup",file:"prix"},38:{icon:"",file:"prix2"},39:{icon:"",file:"prix3"},40:{icon:"",file:"prix4"},41:{icon:"",file:"whistle"},42:{icon:"",file:"stopwatch"}};var clubopenselects=null;var clubevents=null;var events_types=["match","birthday","general"];var events_prototypes={"match":{"kind":"event","properties":[{"date":{"mandatory":"true","mode":"full"}},"time",{"localteam":{"mandatory":"true"}},{"vsteam":{"mandatory":"true"}},"competition","step","home","location","homescore","vsscore",{"comment":{"textarea":"true"}}],"color":"darkred"},"general":{"kind":"event","properties":[{"date":{"mandatory":"true"}},"icon",{"title":{"mandatory":"true"}},"category",{"description":{"textarea":"true"}},"image","registeredMembers"],"color":"darkgreen"},"birthday":{"kind":"event","properties":[{"day":{"mandatory":"true"}},{"member":{"mandatory":"true"}},"firstname","category"],"color":"purple"},"home":{"kind":"closedselect","properties":[["0","homeY"],["1","homeN"]]},"localteam":{"kind":"openselect","tostring":function(id,json){return json.name;},"properties":[{"name":{"mandatory":"true"}},"gender","logo"]},"vsteam":{"kind":"openselect","tostring":function(id,json){return json.name;},"properties":[{"name":{"mandatory":"true"}},"logo"]},"gender":{"kind":"closedselect","properties":[["0","genderM"],["1","genderF"],["2","genderMF"]]},"date":{"kind":"calendar"},"day":{"kind":"calendar"},"location":{"kind":"openselect","tostring":function(id,json){return json.name+" - "+json.city;},"properties":[{"name":{"mandatory":"true"}},"city"]},"category":{"kind":"openselect","tostring":function(id,json){return json.name;},"properties":[{"name":{"mandatory":"true"}},"color"]},"logo":{"kind":"openselect","tostring":function(id,json){return json.name;},"properties":[{"name":{"mandatory":"true"}},"logourl"]},"image":{"kind":"choosefile"},"logourl":{kind:"choosefile",options:{formats:"square33 square100",ratio:1,validimgformat:"square33"}},"icon":{"kind":"icon"},"color":{"kind":"color"},"matchselector":{"kind":"matchselector"}};quomodo.events.addListener("finish_init.page",function(eventDesc,eventName){if(q_pagemode()=="edit")return;$("#jesuischarlie").remove();if(quomodo.page&&quomodo.page.isPopup)return;if(!spacexml.infos||!spacexml.infos.charlie||!spacexml.infos.charlie.url)return;var url=spacexml.infos.charlie.url;if(spacexml.https)url=url.replace(/https?:\/\//,"https://");var link=spacexml.infos.charlie.link;var charlieHTML='<img src="'+url+'"/>';if(link)charlieHTML='<a href="'+link+'">'+charlieHTML+'</a>';$("body").prepend('<div id="jesuischarlie" style="position: fixed ; top: '+(q_pagemode()=="view"?44:0)+'px ; left: 0px ; z-index: 1000000">'+charlieHTML+'</div>');});var qlub0_checked=0;function check_qlub0(callback){try{if(qlub0_checked>1)return true;if(window.spacexml&&spacexml.skeleton&&spacexml.skeleton.id)return true;if(window.club_menubariconsize!=undefined)return true;var b=$("#sk-content").length>0;var f=function(){qlub0_checked++;if(b){if(qlub0_checked<2&&window.spacexml==undefined)return check_qlub0(callback);}else{if(qlub0_checked<2&&window.club_menubariconsize==undefined)return check_qlub0(callback);}
q_apply(callback);};if(b){$.getScript(q_spacebaseurl("")+"custom/scripts/qlub1.js",f).error(f);}else{$.getScript(q_spacebaseurl("")+"custom/scripts/qlub0.js",f).error(f);}
return false;}catch(err){return true;}}
function qlub_menupaneposition_maxwidth(){return $(window).width();}
function qlub_initmenupaneposition($target){var menupanewidth=300;if(!$target)$target=$("#qlub_menuonlybar");$target.find(">td:has(.qlub_menupane)").each(function(i,td){var $td=$(td);$td.find("div:first").css("z-index","0");$td.find(">div:has(.qlub_menupane)").css("position","relative");var panewidth=$td.find("ul:eq(0)").show().width();$td.find("ul:eq(0)").hide();if(($(td).offset().left+(panewidth||menupanewidth))>qlub_menupaneposition_maxwidth())$td.find(".qlub_menupane:first").css({right:"-10px",left:"auto"});});}
function qlub_maxmenuwidth(){var maxwidth=1002;var x=ge("qlub_header_nav");x=(x&&x.offsetLeft)||0;return(q_pagemode()=="edit")?Math.min(q_windowInnerWidth()-x+6,maxwidth):maxwidth;}
function qlub_menus_sizeinit(wantDefault){if(!wantDefault&&window.quomodoclient&&quomodoclient.qlub_menus_sizeinit)return quomodoclient.qlub_menus_sizeinit();var trid="qlub_menubar";var trmenu=ge(trid);if(!trmenu){trid="web_leftcollinks";trmenu=ge(trid);}
if(!trmenu)return;var x=trmenu.cells[trmenu.cells.length-1];var tabs=$("#"+trid+" .qlub_tab_title");var maxfont=Math.max(Math.round(parseInt((spacexml&&spacexml.theme&&spacexml.theme.menuheight)||36,10)/2.5),13);if(window.client_menusSize)tabs.css("font-size",client_menusSize);else tabs.css("font-size",maxfont+"px");var wref=qlub_maxmenuwidth();if((x.offsetWidth+x.offsetLeft)<=wref)return qlub_initmenupaneposition();$("#qlub_disqmenulink, #qlub_shareboardmenulink").hide();if((x.offsetWidth+x.offsetLeft)<=wref)return qlub_initmenupaneposition();for(var j=maxfont-1;j>6;j--){tabs.each(function(){$(this).css("font-size",j+"px");if(this.tagName.toLowerCase()=="div")$(this).css("padding","0 "+Math.max(4,Math.round(j*0.6))+"px");});if((x.offsetWidth+x.offsetLeft)<=wref)return qlub_initmenupaneposition();}
qlub_initmenupaneposition();}
function getAffiliationProperties(){if(window.club_hideaffiliation)return null;var a=window.club_affiliation;switch(a){case "ufolep":return{"url":"http://www.ufolep.org","src":"/bundles/qlub/images/ufoleplogo.png"};case "ffbb":return{"url":"http://www.ffbb.com","src":"/bundles/qlub/images/ffbblogo.png"};case "fffcda":return{"url":"http://www.fffcda.com","src":"/bundles/qlub/images/fffcdalogo.png"};case "fftri":return{"url":"http://www.fftri.com","src":"/bundles/qlub/images/fftrilogo.png"};case "ffsavate":return{"url":"http://www.ffsavate.com","src":"/bundles/qlub/images/ffsavatelogo.png"};case "cfkb":return{"url":"http://www.cfkb-da.com","src":"/bundles/qlub/images/cfkblogo.png"};case "aeromodelisme":return{"url":"http://www.ffam.asso.fr","src":"/bundles/qlub/images/aeromodelismelogo.png"};case "halterophilie":return{"url":"http://www.ffhmfac.fr","src":"/bundles/qlub/images/halterophilielogo.png"};case "athletismetmp":return{"url":"http://www.athle.fr","src":"/bundles/qlub/images/athletismetmplogo.png"};default:return null;}}
function qlub_pagetitle_init(){var x=$.extend({sitebgimageanchor:"scroll",sitebgimageposition:"center",menudisplay:"horizontal",titlecontent:"title",titlealign:"left",titlefont:"Arial",titletextstyles:"",facebookbutton:"false",twitterbutton:"false"},((spacexml&&spacexml.theme)||{}));$("#qlub_menubartable").toggle(x.menudisplay!="none"||q_pagemode()=="edit");var t=x.titletextstyles.split(" ");$("#currservicename").attr("align",x.titlealign).css("font-family",x.titlefont).css("font-weight",($.inArray("bold",t)!=-1)?"bold":"normal").css("font-style",($.inArray("italic",t)!=-1)?"italic":"none").css("text-transform",($.inArray("uppercase",t)!=-1)?"uppercase":"none").html(q_currsvcname()).toggle(x.titlecontent!="none");$("body > div.qlub_sitebgimage").remove();if(x.sitebgimageanchor=="fixed")$("body").removeClass("qlub_sitebgimage").prepend('<div class="qlub_sitebgimage fixed" style="top: 0px; left: 0px; width: 100%; height: 100%;"></div>');else $("body").addClass("qlub_sitebgimage");}
function qlub_menus_construct_without_submenus($menutarget,menupanes_id,limitsize,$reftarget,options,menusiblings){menupanes_id=menupanes_id.replace(/-/g,"_");var ul=$("ul:eq(0)",$menutarget);ul.wrap('<div style="position: relative"></div>');ul.wrap('<div class="colbreak-wrapper qlub_menupane"></div>');ul.wrap('<div class="colbreak-column"></div>');var wrapper=ul.parent();for(;wrapper.find(".colbreak").length>0;){var clone=wrapper.clone();wrapper.before(clone);clone.find(".colbreak").first().nextAll().remove();wrapper.find(".colbreak").first().prevAll().addBack().remove();}
$("li[rel='page'], li[rel='link'], li.clickable[rel='menu'], li[rel='menu'][svcid] > a",$menutarget).hover(function(){var $this=$(this);$this.addClass("over");},function(){var $this=$(this);$this.removeClass("over");});return $("ul:eq(0)",$menutarget).get(0);}
function qlub_menus_construct($menutarget,menupanes_id,limitsize,$reftarget,options,menusiblings){if($("ul:eq(0)",$menutarget).hasClass("with-colbreak"))return qlub_menus_construct_without_submenus($menutarget,menupanes_id,limitsize,$reftarget,options,menusiblings);menupanes_id=menupanes_id.replace(/-/g,"_");function get_panebyid(id){return id+"-pane";}
function setIndexes(ul,base){var i=0;$(ul).children("li").each(function(){var index=((base)?(base+"-"):"")+i;var id=menupanes_id+"_limenu-"+index;$(this).attr("id",id);if($(this).hasClass("active")){var tmp=id.split("-");var currid=tmp[0];for(var j=1;j<tmp.length;j++){currid+="-"+tmp[j];$("#"+currid).addClass("active");}}
var originalpane=$(this).find("ul:eq(0)");if(originalpane.length==1){$(this).attr("rel","menu");var pane=$('<div class="qlub_menupane_wrapper"></div>').appendTo("#"+menupanes_id).attr("id",get_panebyid(id));if(limitsize)$(pane).append('<div id="'+menupanes_id+'_limenu-'+index+'-up" class="up_longmenu font-q-i" style="display:none;"></div>');$(pane).append(originalpane.addClass("menupane_content"));if(limitsize)$(pane).append('<div id="'+menupanes_id+'_limenu-'+index+'-down" class="down_longmenu font-q-i" style="display:none;"></div>');setIndexes(pane.find("ul:eq(0)").get(0),index);}
i++;});}
var log=[];var logEnabled=false;function setEvents(ul){var X,Y;function setOver(id,over){var tmp=id.split("-");var currid=tmp[0];$(ul).attr("__over",over);for(var i=1;i<tmp.length;i++){currid+="-"+tmp[i];$("#"+currid).attr("__over",over);}}
function q_tostring(x){return "[ "+x.toString()+" ]";}
function addLog(s,x){if(!logEnabled)return;var tmp=[];for(var i=0;i<x.length;i++)tmp.push(x[i].join(" = "));log.push(s+" : "+tmp.join(" - "));}
function isCurrentASiblingMenu(id){var $current=$("#"+ul.__current);var currid=$current.attr("id");return currid!=id&&$current.attr("rel")=="menu"&&$current.attr("__over")=="0"&&id.split("-").length==currid.split("-").length;}
function mouseenter(event){var em=event||window.event;X=q_clientX(em);Y=q_clientY(em);var $this=$(this);var id=$this.attr("id");setOver(id,"1");ul.__enter=id;var $current=$("#"+ul.__current);if(ul.__leaveTimeout){clearTimeout(ul.__leaveTimeout);ul.__leaveTimeout=null;}
if(isCurrentASiblingMenu(id)){timeoutDoenter(50);addLog("mouseenter with timeout",[["__enter",id],["__current",ul.__current],["X",X],["Y",Y]]);}else{doenter();addLog("mouseenter",[["__enter",id],["__current",ul.__current],["X",X],["Y",Y]]);}}
function moveHandler(ee){var em=ee||window.event;X=q_clientX(em);Y=q_clientY(em);addLog("moveHandler",[["X",X],["Y",Y]]);}
function norm(v){return Math.sqrt(v[0]*v[0]+v[1]*v[1]);}
function scalar(v1,v2){var n1=norm(v1);var n2=norm(v2);if(n1==0||n2==0)return 0;return(v1[0]*v2[0]+v1[1]*v2[1])/(n1*n2);}
function checkVectors(v,v1,v2,dt){var n=norm(v)/(dt/1000);if(n<3){return{b:false,desc:"norm : "+n};}
var s0=scalar(v1,v2);var s1=scalar(v,v1);var s2=scalar(v,v2);return{b:!(s1<s0||s2<s0),desc:"bad direction : s0 = "+s0+" - s1 = "+s1+" - s2 = "+s2};}
function timeoutDoenter(delay){if(ul.__enterTimeout)return;ul.__enterTimeout=setTimeout(function(){doenter();},delay);}
function doenter(){var id=ul.__enter;addLog("doenter",[["__enter",id],["__current",ul.__current]]);var $current=$("#"+ul.__current);if(isCurrentASiblingMenu(id)){var current=$current.get(0);var currentX=X;var currentY=Y;var v1=[current.targetX-current.outX,current.targetY1-current.outY];var v2=[current.targetX-current.outX,current.targetY2-current.outY];var v=[currentX-current.outX,currentY-current.outY];var tmp=checkVectors(v,v1,v2,(new Date()).getTime()-current.time);if(tmp.b&&(current.lastX==undefined||norm([currentX-current.lastX,currentY-current.lastY])>2)){addLog("doenter menu timeout",[["outX",current.outX],["outY",current.outY],["currentX",currentX],["currentY",currentY]]);current.lastX=currentX;current.lastY=currentY;$current.attr("__waitOut","1");ul.__enterTimeout=null;timeoutDoenter(50);return;}else{addLog("doenter menu abort",[["desc",tmp.desc],["params",q_tostring([q_tostring(v),q_tostring(v1),q_tostring(v2),currentX,currentY,current.lastX,current.lastY])]]);}}
ul.__enterTimeout=null;$current.attr("__waitOut","0");var $this=$("#"+id);if($this.attr("__over")=="0")return;ul.__current=id;var elem=$this.get(0);$this.addClass("over");if(options&&options.mouseenter)options.mouseenter.apply($this.get(0),[]);if($this.attr("rel")=="menu"){var paneid=get_panebyid(id);var p=$this.offset();var pul=$(ul).offset();var w=$this.outerWidth();$("#"+paneid).show().css({"top":(p.top-pul.top)+"px","left":(0)+"px","height":"auto","overflow":"visible","box-shadow":"0 0 9px #aaa"});var paneref=$("#"+paneid).parent().offset();if(options&&options.noshadow)$("#"+paneid).css("box-shadow","");if(p.left+w+$("#"+paneid).width()>$(window).width()&&((p.left-$("#"+paneid).width())>=0)){$("#"+paneid).css("left",(p.left-$("#"+paneid).width()+2-paneref.left)+"px");}else $("#"+paneid).css("left",(p.left+w-2-paneref.left)+"px");var div=$("#"+paneid).get(0);if(div.updown_interval){clearInterval(div.updown_interval);div.updown_interval=null;}
$(".down_longmenu, .up_longmenu",div).hide();$("ul",div).css("top","0px");var topref=$reftarget?$reftarget.offset().top:0;var maxBottom=0,offsetBottom=0;var offsetTop=$(div).offset().top;if($reftarget){maxBottom=$(window).height()-($reftarget?(topref-$(window).scrollTop()):0)-10;offsetBottom=p.top-topref+$(div).outerHeight();}else{maxBottom=$(window).scrollTop()+$(window).height();offsetBottom=offsetTop+$(div).outerHeight();}
if(offsetBottom>maxBottom&&limitsize){var diff_bottom=(offsetBottom-maxBottom);var divtop;if(!$reftarget)divtop=p.top-pul.top-Math.min(diff_bottom,offsetTop-(55+$(window).scrollTop()));else divtop=Math.max(p.top-pul.top-diff_bottom,topref-pul.top+10);$(div).css({"top":divtop+"px"});offsetBottom=divtop+pul.top-topref+$(div).outerHeight();if(offsetBottom>maxBottom&&$reftarget){var new_height=maxBottom-10;$(div).css({"height":new_height+"px","overflow":"hidden","width":$(div).width()+"px"});$(".down_longmenu",div).show();$(".down_longmenu",div).css("top",(new_height-20)+"px").show().hover(function(){$(".up_longmenu",div).fadeIn("fast");if(div.updown_interval){clearInterval(div.updown_interval);div.updown_interval=null;}
div.updown_interval=setInterval(function(){var offsetbottom=$("ul",div).offset().top+$("ul",div).height()-20;var offsettop_down=$(div).offset().top+new_height-20;var tmp=offsetbottom-offsettop_down;var step=tmp<20?tmp:20;if((offsetbottom)>offsettop_down){$("ul",div).css("top",($("ul",div).position().top-step)+"px");}else{$(".down_longmenu",div).fadeOut("fast");if(div.updown_interval){clearInterval(div.updown_interval);div.updown_interval=null;}}},100);},function(){if(div.updown_interval){clearInterval(div.updown_interval);div.updown_interval=null;}});$(".up_longmenu",div).hover(function(){$(".down_longmenu",div).fadeIn("fast");if(div.updown_interval){clearInterval(div.updown_interval);div.updown_interval=null;}
div.updown_interval=setInterval(function(){if($("ul",div).offset().top<$(div).offset().top){var tmp=$(div).offset().top-$("ul",div).offset().top;var step=tmp<20?tmp:20;$("ul",div).css("top",($("ul",div).position().top+step)+"px");}else{$(".up_longmenu",div).fadeOut("fast");if(div.updown_interval){clearInterval(div.updown_interval);div.updown_interval=null;}}},100);},function(){if(div.updown_interval){clearInterval(div.updown_interval);div.updown_interval=null;}});}}
p=$("#"+paneid).offset();var X1=p.left;var X2=X1+$("#"+paneid).width();elem.targetY1=p.top;elem.targetY2=p.top+$("#"+paneid).height();elem.targetX=X1;if(scalar([X1-X,elem.targetY1-Y],[X1-X,elem.targetY2-Y])>scalar([X2-X,elem.targetY1-Y],[X2-X,elem.targetY2-Y])){elem.targetX=X2;}}
doleave();if(!options||!options.resize_conflict)document.onmousemove=null;}
function mouseleave(event){var em=event||window.event;var $this=$(this);var id=$this.attr("id");setOver(id,"0");var ids=ul.leaveids||[];ids.push(id);ul.leaveids=ids;X=q_clientX(em);Y=q_clientY(em);this.outX=X;this.outY=Y;this.lastX=null;this.lastY=null;this.time=(new Date()).getTime();if($this.attr("rel")=="menu"&&(!options||!options.resize_conflict)){document.onmousemove=moveHandler;}
timeoutDoleave(500);addLog("mouseleave",[["elem",id],["__current",ul.__current],["X",X],["Y",Y]]);}
function timeoutDoleave(delay){if(ul.__leaveTimeout)clearTimeout(ul.__leaveTimeout);ul.__leaveTimeout=setTimeout(function(){doleave();},delay);}
function doleave(justme){if(!justme&&ul.menusiblings){for(var i=0;i<ul.menusiblings.length;i++){if(ul.menusiblings[i]==ul)continue;else ul.menusiblings[i].doleave(true);}}
ul.__leaveTimeout=null;var ids=ul.leaveids||[];addLog("doleave",[["ids",q_tostring(ids)]]);var waitId;for(var j=0;j<ids.length;j++){var id=ids[j];var tmp=id.split("-");var currid=tmp[0];for(var i=1;i<tmp.length;i++){currid+="-"+tmp[i];if(currid==ul.__current&&$("#"+currid).attr("__waitOut")=="1"){waitId=id;timeoutDoleave(50);}else if($("#"+currid).attr("__over")=="0"){$("#"+currid).removeClass("over");if(options&&options.mouseleave)options.mouseleave.apply($("#"+currid).get(0),[]);var paneid=get_panebyid(currid);$("#"+paneid).hide()}}}
if($(ul).attr("__over")=="0"&&(!options||!options.resize_conflict))document.onmousemove=null;ul.leaveids=(waitId)?[waitId]:[];}
$("li",ul).mouseenter(mouseenter);$("li",ul).mouseleave(mouseleave);$("#"+menupanes_id+" li, #"+menupanes_id+" .up_longmenu, #"+menupanes_id+" .down_longmenu, #"+menupanes_id+" .qlub_menupane_wrapper").mouseenter(mouseenter);$("#"+menupanes_id+" li, #"+menupanes_id+" .up_longmenu, #"+menupanes_id+" .down_longmenu, #"+menupanes_id+" .qlub_menupane_wrapper").mouseleave(mouseleave);ul.doleave=doleave;if(menusiblings){menusiblings.push(ul);ul.menusiblings=menusiblings;}}
$("ul:eq(0)",$menutarget).wrap('<div style="position:relative"></div>').after('<div id="'+menupanes_id+'" class="menupanes"></div>');if($("ul:eq(0)",$menutarget).length>0)setIndexes($("ul:eq(0)",$menutarget).get(0));if($("ul:eq(0)",$menutarget).length>0)setEvents($("ul:eq(0)",$menutarget).get(0));return $("ul:eq(0)",$menutarget).get(0);}
function qlub_menus_menuisvisible(menu,xsmode){if(q_pagemode()=="edit")return true;if(spacexml.mode=="wiki")return true;if(menu.visibility=="hidden"||(menu.visibility=="mobile"&&!xsmode))return false;return true;}
function qlub_menus_svcisinhiddenmenu(svcid,xsmode){var path=q_sitemap_getpath(svcid);var hidden=false;var node=spacexml.sitemap;for(var i=0;i<path.length-1;i++){node=node[path[i]];if(node.visibility=="hidden"||(node.visibility=="mobile"&&!xsmode))hidden=true;node=node.items;}
return hidden;}
function qlub_menus_linkisvisible(item,xsmode){if(q_pagemode()=="edit"&&q_getuserlevel(memberid)!="admin")return false;if(spacexml.mode=="wiki"&&q_getuserlevel(memberid)!="admin")return false;if((item&&item.visibility)=="mobile"&&!xsmode)return false;return true;}
function qlub_menus_siteisvisible(spaceid){return true;}
function qlub_menus_svcisvisible(svcid,xsmode){if(!svcid)return false;var pagemode=q_pagemode(true);var userlevel=q_getuserlevel(memberid);function shopRestrictedAccess(svcid){var shopId=q_svcfromid(svcid)["shop-id"];if(!shopId)return false;if(spacexml.memberparams&&spacexml.memberparams.skexpert)return false;if(shopId=="cart")return true;if(shopId=="search")return true;if(shopId=="anyproduct")return true;return false;}
if(pagemode=="edit"){if(shopRestrictedAccess(svcid)){q_svcfromid(svcid)["shopRestrictedAccess"]=true;}}
if(pagemode=="edit"&&(userlevel=="admin"||(q_svcfromid(svcid)&&$.inArray("edit",q_svcfromid(svcid).accessrights)!=-1)))return true;if(pagemode=="edit"&&userlevel!="admin")return false;if(pagemode=="view"&&userlevel!="admin"&&spacexml.mode=="intranet"&&q_svcisweb(svcid))return false;if(pagemode=="view"&&userlevel!="admin"&&spacexml.mode=="wiki"&&$.inArray("edit",q_svcfromid(svcid).accessrights)!=-1)return true;if(pagemode=="view"&&userlevel!="admin"&&spacexml.mode=="wiki"&&q_svcisweb(svcid))return false;if(!q_sitemap_getnode(svcid))return false;if(qlub_menus_svcisinhiddenmenu(svcid,xsmode))return false;var v=q_sitemap_getnode(svcid).visibility;if(v=="hidden"||(v=="mobile"&&!xsmode))return false;else if(v=="forcevisible")return true;else if(v=="forcevisiblemobile"&&xsmode)return true;return(q_svcisweb(svcid)||$.inArray(q_pagemode(),["edit","view"])!=-1);}
function qlub_menus_submenu(sm,path,options){var xoptions=$.extend({svcfromid:function(svcid){if(q_pagemode()!="web")return q_svcfromid(svcid);var svc=q_svcfromid(svcid)||q_web_svcfromid(svcid);return svc;},svcisvisible:function(svcid){return qlub_menus_svcisvisible(svcid,options&&options.xsmode);},siteisvisible:function(spaceid){return qlub_menus_siteisvisible(spaceid);},linkisvisible:function(){return qlub_menus_linkisvisible(options&&options.xsmode);},menuisvisible:function(menu){return qlub_menus_menuisvisible(menu,options&&options.xsmode);},enablenewsvc:function(){return q_pagemode()=="edit"&&q_getuserlevel(memberid)=="admin";}},options);var li=$('<li class="menu"></li>').attr({"rel":"menu","menuindex":q_tostring(path)}).html('<span class="menuname" style="padding-right:11px;">'+(sm.before?sm.before:'')+escapeHTML(sm.name)+(sm.after?sm.after:'')+'</span><span class="font-q-i" style="position:absolute; right:0px;padding-right:9px;"></span>');var ul=$('<ul class="qlub_menu_content"></ul>').appendTo(li);var currenthtml='';for(var i=0;i<sm.items.length;i++){if(!sm.items[i].items&&sm.items[i].id){if(xoptions.svcisvisible(sm.items[i].id)){ul.append(qlub_menus_page(xoptions.svcfromid(sm.items[i].id),sm.items[i].icon));}else if(window.q_makeweb){var svc=xoptions.svcfromid(sm.items[i].id);if(svc&&(q_pagemode()=="web"||svc.viewaccess=="web")&&svc.weblink&&/(^|\/)index_?$/.test(svc.weblink)){li.attr("svcid",sm.items[i].id).find(".menuname").before((sm.before?sm.before:'')+'<a href="'+q_canonicalurl(svc.weblink,true)+'">'+escapeHTML(sm.name)+'</a>'+(sm.after?sm.after:'')).remove();if(sm.items[i].id==currsvcid){li.addClass("active");}}}}else if(!sm.items[i].items&&sm.items[i].qorpid){if(xoptions.siteisvisible(sm.items[i].qorpid))ul.append(qlub_menus_site(sm.items[i]),options);}else if(!sm.items[i].items&&sm.items[i].href){if(xoptions.linkisvisible())ul.append(qlub_menus_link(sm.items[i],options));}else if(sm.items[i].items){if(xoptions.menuisvisible(sm.items[i])){if(currenthtml){ul.append(currenthtml);currenthtml='';}
ul.append(qlub_menus_submenu(sm.items[i],path.concat([i]),options));}}}
if(currenthtml){ul.append(currenthtml);currenthtml='';}
if(xoptions.enablenewsvc())qlub_menus_addgroupnewsvclink(ul);if($("li",ul).length==0)return null;return li;}
function qlub_menus_page(svc,icon){var li=$('<li></li>').attr({"svcid":svc.id,"rel":"page"});if(svc.id==currsvcid)li.addClass("active");if(svc.filename)li.attr("filename",svc.filename);if(svc.shopRestrictedAccess)li.addClass("shop-restricted-access");if(icon)li.append($('<ins></ins>').attr("class",icon));li.append($('<a></a>').html(escapeHTML(q_svcname(svc))).attr("href",((window.q_makeweb)?q_canonicalurl(svc.weblink,true):"#")));return li;}
function qlub_menus_pageHTML(svc,icon){var li='<li svcid="'+escapeattribute(svc.id)+'" rel="page"';if(svc.id==currsvcid)li+=' style="font-weight: bold"';if(svc.filename)li+=' filename="'+escapeattribute(svc.filename)+'"';li+='>';if(icon)li+='<ins class="'+icon+'"></ins>';li+='<a href="'+((window.q_makeweb)?escapeattribute(q_canonicalurl(svc.weblink,true)):"#")+'">'+escapeHTML(q_svcname(svc))+'</a>';li+='</li>';return li;}
function qlub_menus_site(item,options){var site=q_spaceid2svcinfo(item.qorpid);if(!site)return null;var li=$('<li></li>').attr({"svcid":item.qorpid,"rel":"site"});if(item.icon)li.append($('<ins></ins>').attr("class",icon));li.append($('<a></a>').html(escapeHTML(item.name)).attr("href",(q_pagemode()=="makeweb")?q_canonicalurl(site.weblink,true):"#").attr("target",item.target?item.target:"_self"));return li;}
function qlub_menus_link(sm,options){var li=$('<li></li>').attr({"rel":"link"});if(sm.icon)li.append($('<ins></ins>').attr("class",sm.icon));var href=sm.href;var htmlcontent=sm.name;var url=(sm.kind&&sm.kind=="2")?"#":sm.href;var $a=$('<a></a>',{"target":((sm.target)?sm.target:"_self"),"href":url}).append(escapeHTML(htmlcontent));if(sm.kind&&sm.kind=="2"){li.attr("svcid",sm.href);url="#";var svcid=sm.href;if(q_pagemode()=="makeweb"){var svc=q_svcfromid(svcid);if(!svc){qpromise_svcfromid(svcid).callback(function(promise){if(!promise||!promise.weblink)return;if(!q_svcisweb(promise))return;$a.attr("href",q_canonicalurl(promise.weblink,true));});}else url=q_svcisweb(svcid)?q_canonicalurl(svc.weblink,true):"#";}else if(q_pagemode()=="web"){var svc=q_web_svcfromid(svcid);if(svc)url=q_canonicalurl(svc.weblink,true);}
$a.attr("href",url);}
li.append($a);return li;}
function qlub_menus_linkHTML(item,options){var li='<li rel="link" target="'+item.target+'"';var href=item.href;if(item.kind&&item.kind=="2"){href="#";if(q_pagemode()=="makeweb"){var svcid=item.href;if(!options||!options.svcfromid){var svc=q_svcfromid(svcid);if(!svc){qpromise_svcfromid(svcid).callback(function(promise){if(!promise||!promise.weblink)return;if(!q_svcisweb(promise))return;$('#qlub_menuonlybar li[svcid="'+svcid+'" ] a').attr("href",q_canonicalurl(promise.weblink,true));});}else href=(q_svcisweb(svcid))?q_canonicalurl(svc.weblink,true):"#";}else{var svc=options.svcfromid(svcid);href=(q_svcisweb(svc))?q_canonicalurl(svc.weblink,true):"#";}}
li+=' svcid="'+escapeattribute(item.href)+'"';}
li+='>';if(item.icon)li+='<ins class="'+item.icon+'"></ins>';li+='<a href="'+href+'">'+escapeHTML(item.name)+'</a>';li+='</li>';return li;}
function qlub_menus_setmarker($target,wantDefault){if(!wantDefault&&window.client_menus_setmarker)return client_menus_setmarker($target);$target.prepend('<div class="qlub_tab_marker"></div>');$target.addClass('active');}
function qlub_menus_click_svclink(x,event){var id=$(x).attr("svcid");var filename=$(x).attr("filename");if(event&&((BrowserDetect.OS=="Mac"&&event.metaKey)||(BrowserDetect.OS!="Mac"&&event.ctrlKey)))tabopenservice(id,filename);else openservice(id,filename);return false;}
function hasCurrrights(righttype){if(!spacexml.currrights)return false;var currobject;for(currobject in spacexml.currrights)if(spacexml.currrights[currobject].name==righttype)return true;return false;}
function qlub_mouseoverbutton(x){var t=x.getElementsByTagName("TABLE")[0];if(headertabsbuttontype=="old")autowbtn_mover(t,{"lineHeight":"30px","ie6":{"marginTop":"3px"}});else{var td=t.getElementsByTagName("TD");var x0=td[0].getElementsByTagName("DIV")[0];var x1=td[1].getElementsByTagName("DIV")[0];q_mouseoverbutton(x0,"left bottom");q_mouseoverbutton(x1,"right bottom");}}
function qlub_mouseoutbutton(x,pos){var t=x.getElementsByTagName("TABLE")[0];if(headertabsbuttontype=="old")autowbtn_mout(t,{lineHeight:"24px","ie6":{"marginTop":"0px"}});else{var td=t.getElementsByTagName("TD");var x0=td[0].getElementsByTagName("DIV")[0];var x1=td[1].getElementsByTagName("DIV")[0];q_mouseoutbutton(x0,"left top");q_mouseoutbutton(x1,"right top");}}
function qorp_tabsleftori(){return 210;}
function qlub_mainmenumouseover(ee){var target=getElementFromEvent(ee);var container=getContainer(target);if(target.className&&(/divimg/.test(target.className)))target=target.parentNode;if(container&&container.className&&(/qlub_menutab/.test(container.className))){qlub_mouseovermenutab(container);}else if(target.id&&target.id=="qlub_openleftcolbutton"){if(!isfirefox())q_mouseoverbutton(target);}else if(container&&container.className&&(/qlub_menuitem_link/.test(container.className))){qlub_mouseovermenupane(getContainer(container.parentNode));container.className=container.className.replace(/qlub_menuitem_link(over)?/,"qlub_menuitem_linkover");}else if(container&&container.className&&(/qlub_menupane_link/.test(container.className))){qlub_mouseovermenupane(getContainer(container.parentNode));q_mouseoverbutton(container,"bottom left");}else if(container&&container.className&&(/qlub_menubutton/.test(container.className))){qlub_mouseovermenubutton(container);}else if(container&&container.className&&(/qlub_menupane/.test(container.className))){qlub_mouseovermenupane(container);}}
function qlub_mainmenumouseout(ee){var target=getElementFromEvent(ee);var container=getContainer(target);if(target.className&&(/divimg/.test(target.className)))target=target.parentNode;if(container&&container.className&&(/qlub_menutab/.test(container.className))){qlub_mouseoutmenutab(container);}else if(target.id&&target.id=="qlub_openleftcolbutton"){if(!isfirefox())q_mouseoutbutton(target);}else if(container&&container.className&&(/qlub_menuitem_link/.test(container.className))){qlub_mouseoutmenupane(getContainer(container.parentNode));container.className=container.className.replace(/qlub_menuitem_link(over)?/,"qlub_menuitem_link");}else if(container&&container.className&&(/qlub_menupane_link/.test(container.className))){qlub_mouseoutmenupane(getContainer(container.parentNode));q_mouseoutbutton(container,"top left");container.getElementsByTagName("A")[0].style.color="#FFF";}else if(container&&container.className&&(/qlub_menubutton/.test(container.className))){qlub_mouseoutmenubutton(container);}else if(container&&container.className&&(/qlub_menupane/.test(container.className))){qlub_mouseoutmenupane(container);}}
function qlub_mouseovermenutab(x){var td=getContainer(x,"qlub_tdmenutab(over)?");td.className=td.className.replace(/qlub_tdmenutab\b/,"qlub_tdmenutabover");td.style.zIndex="1";$(".qlub_menupane",td).show();}
function qlub_mouseoutmenutab(x){var td=getContainer(x,"qlub_tdmenutab(over)?");td.className=td.className.replace(/qlub_tdmenutabover/,"qlub_tdmenutab");td.style.zIndex="0";$(".qlub_menupane",td).hide();}
function qlub_svclinkonclick(x){openservice(x.id,x.filename);return false;}
function qlub_mainmenuonclick(ee){var target=getElementFromEvent(ee);var container=getContainer(target);if(target.className&&(/divimg/.test(target.className)))target=target.parentNode;if(target.id&&target.id=="qlub_openleftcolbutton"){if(!isfirefox())q_mouseoutbutton(target);if(target.className=="closed")qlub_closeleftcol();else qlub_openleftcol();}else if(container&&container.className&&((/qlub_menuitem_link/).test(container.className))&&(!(/fo_tabsmenu_newlink/).test(container.className))){qlub_svclinkonclick(container);}else if(container&&container.className&&((/qlub_menupane_link/).test(container.className))){qlub_svclinkonclick(container);}}
function qlub_mouseovermenubutton(x){if(x.tagName=="TABLE"){var n=x.rows.length;hideshowblock(x.rows[n-2],x.rows[n-1]);}else q_mouseoverbutton(x);x.parentNode.style.zIndex="1";showblock(gebcn(x.parentNode,"qlub_menupane"));x.style.color="white";}
function qlub_mouseoutmenubutton(x){if(x.tagName=="TABLE"){var n=x.rows.length;hideshowblock(x.rows[n-1],x.rows[n-2]);}else q_mouseoutbutton(x);x.parentNode.style.zIndex="0";hideblock(gebcn(x.parentNode,"qlub_menupane"));x.style.color="";}
function qlub_mouseovermenupane(x){x.style.display="block";var b=gebcn(x.parentNode,"qlub_menutab");if(b)return qlub_mouseovermenutab(b);var b=gebcn(x.parentNode,"qlub_menubutton");if(b.tagName=="TABLE"){var n=b.rows.length;hideshowblock(b.rows[n-2],b.rows[n-1]);}else q_mouseoverbutton(b);b.parentNode.style.zIndex="1";b.style.color="white";}
function qlub_mouseoutmenupane(x){x.style.display="none";var b=gebcn(x.parentNode,"qlub_menutab");if(b)return qlub_mouseoutmenutab(b);var b=gebcn(x.parentNode,"qlub_menubutton");if(b.tagName=="TABLE"){var n=b.rows.length;hideshowblock(b.rows[n-1],b.rows[n-2]);}else q_mouseoutbutton(b);b.parentNode.style.zIndex="0";b.style.color="";}
var qlub_loadevents_queue=[];var qlub_loadevents_loading=false;function qlub_loadevents(callback,args){q_include({urls:["/scriptsauto/sports_db_"+q_lang+".js"]},function(){if(!clubopenselects||!clubevents){qlub_loadevents_queue.push([callback,args]);if(qlub_loadevents_loading)return;qlub_loadevents_loading=true;document.mainform.mission.value="getxmlwithxpath";var r={servicename:"",xmlname:"events",xpath:"//root",version:1,defaultxml:"<?xml version=\"1.0\" encoding=\"UTF-8\"?><root v=\"1\"><events nextid=\"0\"/><openselects/></root>"};q_xmlajaxsubmitwithservice("common@"+q_lang,r,qlub_loadevents_callback,[callback,args]);}else qlub_loadevents_callback3(callback,args);});}
function qlub_loadevents_callback(x,callback,args){clubevents=$("events",x).get(0);clubopenselects=$("openselects",x).get(0);for(var i in qlub_loadevents_queue){qlub_loadevents_callback3(qlub_loadevents_queue[i][0],qlub_loadevents_queue[i][1]);}
qlub_loadevents_queue=[];qlub_loadevents_loading=false;}
function qlub_loadevents_callback3(callback,args){if(!args)args=[];eval(callback).apply(null,args);}
function club_verify_login(ee){var e=ee||window.event;if(q_keycode(e)==13){club_login_submit();return false;}}
function club_get_logintable(){var s='<div id="club_logindiv" style="padding:5px 20px;"><table cellspacing="0" cellpadding="3" border="0" width="665"><tr><td colspan="3" id="club_logintable_prompt" style="padding-bottom:10px;"/></tr><tr><td valign="top"><form id="js_authenticate" name="js_authenticate" class="zero" method="post" action="http:/'+'/localhost/err_nocgi.html" enctype="multipart/form-data" accept-charset="utf-8" onsubmit="jsvalidateauth( handleauthresultopenhomepageorservice ) ; return false ;"><input type="submit" style="position: absolute ; left: -4000px; top: -4000px;display:none;" value="submit"/><table cellspacing="0" cellpadding="3" border="0"><tr><td colspan="2" style="padding-right:5px;height:30px;" class="club_login_bold clubcolor2">'+qlub_message["click2identify"]+'</td></tr><tr><td width="120" align="right" valign="middle" class="club_login_inputtitle">'+qlub_message["loginname"]+'</td><td align="left" style="height:28px ; padding-right:12px"><input name="canuserid" id="edituserid" type="text" maxlength="100" class="club_login_input" onkeyup="filterinputfm( this ) ; return true" onkeypress="club_verify_login( event );" onmousedown="q_stopPropagation( event )" tabindex="1"/></td></tr><tr><td align="right" valign="middle" class="club_login_inputtitle">'+qlub_message["loginpassword"]+'</td><td align="left" style="height:28px"><input name="canpassword" id="editpassword" type="password" maxlength="100" class="club_login_input" onkeypress="club_verify_login( event );" onmousedown="q_stopPropagation( event )" tabindex="2"/></td></tr><tr><td colspan="2" align="center" valign="top" style="padding:10px;"><div class="club_login_btn" onclick="club_login_submit() ; return false" title="'+qlub_message["click2identify"]+'" onmousedown="q_stopPropagation( event )">'+qlub_message["loginbtn"]+'</div><div style="padding-top:4px;"><a href="#" onclick="launchforgottenpw(); return false" style="color:blue; font-size:11px">'+qlub_message["forgottenv2"]+'</a><br/></div></td></tr></table></form></td><td width="1" style="border-left:solid 1px #CCC;"/><td valign="top"><table cellspacing="0" cellpadding="3" border="0"><tr><td colspan="2" style="padding-left:5px;height:30px;" class="club_login_bold clubcolor2">'+qlub_message["subscribe2spacev2"]+'</td></tr><tr class="club_login_inputaccesspw"><td width="120" align="right" valign="middle" class="club_login_inputtitle">'+qlub_message["accesspw"]+'</td><td align="left" style="height:28px"><input name="canaccesspw" id="editaccesspw" type="text" maxlength="100" class="club_login_input" onmousedown="q_stopPropagation( event )" tabindex="3"/></td></tr><tr class="club_login_inputaccesspw"><td colspan="2" valign="top" align="center" style="height:28px"><div style="font-size:11px;font-style:italic;width:230px;">'+qlub_message["accesspwmsg"]+'</div></td></tr><tr><td colspan="2" align="center" valign="top" style="padding:10px;"><div class="club_login_btn" onclick="club_login_subscribe( ge(\'editaccesspw\').value ); return false" title="'+qlub_message["subscribe2spacelink"]+'" onmousedown="q_stopPropagation( event )">'+qlub_message["subscribe2spacelink"]+'</div></td></tr></table></td></tr><tr><td colspan="3" style="height:1px; border-top:solid 1px #CCC;"/></tr><tr><td align="left" class="club_login_bold clubcolor2">'+qlub_message["subscribe2quomodo"]+'</td><td></td><td align="center"><div class="club_login_btn" onclick="window.open(\'http:/'+'/www.quomodo.com/inscription-sport?refererpage=loginblock\'); return false" title="'+qlub_message["subscribe2quomodolink"]+'" onmousedown="q_stopPropagation( event )">'+qlub_message["subscribe2quomodolink"]+'</div></td></tr></table></div>';return s;}
function club_login_submit(){$("#js_authenticate input[type='submit']").click();}
function club_login_block(p,b){if(!b&&window.quomodoclient&&quomodoclient.club_login_block)return quomodoclient.club_login_block(p);var o={lang:q_lang,url:document.location.href};if(window.currsvcid)o.svc=currsvcid;if(p!=undefined&&p.svcid)o.wantedsvc=p.svcid;if(p&&p.wantPopup)quomodo.fsm.popup(web_baseurl()+q_privateurl(o));else quomodo.page.href(web_baseurl()+q_privateurl(o));}
function club_login_subscribe(pw){q_fsm_wait();var savedspaceid=document.mainform.q_space.value;if(spacexml.parentspace)document.mainform.q_space.value=spacexml.parentspace;document.mainform.mission.value="checkaccesspw";q_ajaxsubmitwithservice("subscribe@"+q_lang,{accesspw:pw},function(x){q_fsm_delete();if(x.check){if(spacexml.parentspace)document.mainform.q_space.value=spacexml.parentspace;q_form_editmember({action:"new",accesspw:pw},function(){if(spacexml.parentspace)q_alert(qorp_message["newsubscription_on_childspace"]);else{document.mainform.mission.value="openhomepage";q_submit();}});if(spacexml.parentspace)document.mainform.q_space.value=savedspaceid;}else q_alert(qlub_message["accessbadpw"]);});if(spacexml.parentspace)document.mainform.q_space.value=savedspaceid;}
function club_closelogin_block(){$("#club_logintable").remove();$("#q_fullscreenmask").hide();}
var search_submitted=false;var search_data={maxhits:20};function launchsearchinspace(){search_data.text=ge("searchtext").value;document.mainform.mission.value="searchinspace";q_ajaxsubmitwithservice("common@"+q_lang,search_data,search_callback);}
var search_results=null;function search_callback(x){search_results=x;window.open("/bundles/qlub/qlub_search_fr.html");return;ge("searchout_number").innerHTML=x.hits;var div=ge("searchout");if(x.hits){table.style.display="table";var n=table.rows.length;for(var i=1;i<n;i++)table.deleteRow(1);for(var i=0;i<x.hits;i++){var r=table.insertRow(i+1);var a=create_elem("A",{"href":x.listf[i]});a.innerHTML=x.listf[i];r.insertCell(0).appendChild(a);var c=r.insertCell(1);c.className="search_pertinence";c.align="right";c.innerHTML=x.listp[i];var c=r.insertCell(2);c.className="search_size";c.align="center";c.innerHTML=x.sizes[i];}}else table.style.display="none";}
function qlub_getprivatedomain(){return clubprivatedomain.replace(/:.*$/,"");}
function qlub_search_submit(xform,xinput){var theform=xform||"searchform";var theinput=xinput||"searchtext";if(search_submitted)return false;search_submitted=true;document[theform].privatedomain.value=qlub_getprivatedomain();var d=new Date();window.location.href="search?searchtext="+encodeURIComponent(ge(theinput).value)+"&privatedomain="+qlub_getprivatedomain()+"&lang="+document[theform].lang.value+"&searchentriesperpage="+document[theform].searchentriesperpage.value+"&searchstartnumber="+document[theform].searchstartnumber.value+"&mission="+document[theform].mission.value+"&time="+d.getTime();}
function qlub_preparedata_groups(x){if(!x)x=spacexml.groups;var rslt=[];var itemname,itemid;var i=0;for(var g in x){if(g=="newgroupid")continue;if(g=="g-all")continue;rslt.push({id:g,name:x[g].name,type:"group",members:x[g].members});i++;}
return rslt;}
function qlub_openemailalert(type,options){if(isiniframe()&&quomodo.page.isPopup&&parent.qlub_openemailalert)return parent.qlub_openemailalert(type,options);type=type||"emailalert";q_fsm_reveal({src:q_elems["emailalert"],revealid:"qlub_emailalert",title:function(){return(options&&options.title)||qlub_ema_message[type];},reveal_callback:function(div,json){qlub_ema_reveal(div,json,type,options);}});}
function q_form_editmember(action,h,args,member,title){q_fsm_reveal({src:q_elems["membermgr"],fsmsrc:"membermgr_template",title:function(){return title?title:(member)?qlub_membermgr_message["infos_edit"]:qlub_membermgr_message["infos_new"];},reveal_callback:"membermgr_prepare",reveal_args:[action,h,args,member],delete_callback:"membermgr_delete"});}
function qlub_launchPopup(){if(/\/search(\.|\?|$)/.test(window.location.pathname)||window.__emptymode)return;if(q_pagemode()=="makeweb")return;if(spacexml&&spacexml.popups&&spacexml.popups[currsvcid]&&quomodo.fsm.addStartupPopup(spacexml.popups[currsvcid]))openservice(spacexml.popups[currsvcid],null,null,true);}
quomodo.extend("message",function(){this.rpdpresets=function(id){var z=(window.skeleton&&skeleton.zen)||"z100";if(window.skeleton_message&&skeleton_message.rpdpresets&&skeleton_message.rpdpresets[id])return skeleton_message.rpdpresets[id];if(common_message.rpdpresets[z+"-"+id])return common_message.rpdpresets[z+"-"+id];else if(common_message.rpdpresets[id])return common_message.rpdpresets[id];if(/-/.test(id))return this.rpdpresets(id.split("-")[0])+", "+id.split("-")[1];return undefined;};this.sectionpresets=function(id){return common_message.sectionpresets[id];};this.pagemodel=function(key){if(window.skeleton_message&&skeleton_message.pagemodel&&skeleton_message.pagemodel[key])return skeleton_message.pagemodel[key];if(common_message.pagemodel&&common_message.pagemodel[skeleton.zen+"-"+key])return common_message.pagemodel[skeleton.zen+"-"+key];if(common_message.pagemodel&&common_message.pagemodel[key])return common_message.pagemodel[key];return key;};this.template=function(key){if(window.skeleton_message&&skeleton_message.template&&skeleton_message.template[key])return skeleton_message.template[key];if(common_message.template&&common_message.template[key])return common_message.template[key];return key;};this.rpds=function(id,mode){if(!id)return common_message.rpds["unknown-"+mode||"theme"];if(typeof id!="string")return common_message.rpds["unknown-"+mode||"theme"];var tmp=(spacexml&&spacexml.skeleton&&spacexml.skeleton.rpds)||[];for(var i=0;i<tmp.length;i++){if(tmp[i].id==id)return tmp[i].name;}
if(window.skeleton_message){if(skeleton_message.rpds[id])return skeleton_message.rpds[id];for(var i=0;i<skeleton.rpds.length;i++){if(skeleton.rpds[i].id==id){var rpd=skeleton.rpds[i].rpd;break;}}
var cs_message;if(rpd){if(rpd.colorset){cs_message=this.rpdpresets(rpd.colorset.split("-")[0]);if(cs_message)cs_message=cs_message.split(" - ")[0];}}
if(cs_message)return cs_message;}
return common_message.rpds[id];};this.styles=function(id,notekind){if(window.skeleton_message&&skeleton_message.styles&&skeleton_message.styles[notekind]&&skeleton_message.styles[notekind][id])return skeleton_message.styles[notekind][id];if(window.skeleton_message&&skeleton_message.styles&&skeleton_message.styles["default"]&&skeleton_message.styles["default"][id])return skeleton_message.styles["default"][id];if(common_message&&common_message.styles&&common_message.styles[notekind]&&common_message.styles[notekind][id])return common_message.styles[notekind][id];if(common_message&&common_message.styles&&common_message.styles["default"]&&common_message.styles["default"][id])return common_message.styles["default"][id];return;};this.menutheme=function(id,notekind){if(window.skeleton_message&&skeleton_message.menutheme&&skeleton_message.menutheme[notekind]&&skeleton_message.menutheme[notekind][id])return skeleton_message.menutheme[notekind][id];if(window.skeleton_message&&skeleton_message.menutheme&&skeleton_message.menutheme["default"]&&skeleton_message.menutheme["default"][id])return skeleton_message.menutheme["default"][id];if(common_message&&common_message.menutheme&&common_message.menutheme[notekind]&&common_message.menutheme[notekind][id])return common_message.menutheme[notekind][id];if(common_message&&common_message.menutheme&&common_message.menutheme["default"]&&common_message.menutheme["default"][id])return common_message.menutheme["default"][id];return;};this.variants=function(id,notekind,withoutUsage){if(window.skeleton){var rpd=RPD.getRPDById(id);var str=common_message.variants["default"];if(rpd.desc)str=common_message.variants["desc"][rpd.desc];if(!withoutUsage&&rpd.usage&&common_message.variants["usage"][rpd.usage]["short"])str+=" ("+common_message.variants["usage"][rpd.usage]["short"]+")";return str;}
return;};this.titlevariants=function(id,notekind){if(window.skeleton){var rpd=RPD.getRPDById(id);if(rpd.usage)return common_message.variants["titleusage"]+common_message.variants["usage"][rpd.usage]["title"];}
return;};this.secrpds=function(id){return(window.skeleton_message&&skeleton_message.secrpds[id])||common_message.secrpds[id];};this.menuh_presets=function(id){if(common_message.menupresets[id])return common_message.menupresets[id];else return "";};this.defaultbanner=function(key){if(q_ispros()&&common_message.bannerLabels_e[key])return common_message.bannerLabels_e[key];else return common_message.bannerLabels[key];};});function qlub_xs_phone_click(phone){var path="/services/dialogs/q_confirm-flatdesign/index_"+q_lang+".html";var options={"json":{"msg":'<div style="text-align:center; font-weight:bold; font-size:18px">'+phone+'</div>',"buttons":{"validate":common_message["call"],"cancel":common_message["cancel"]}},"callback":function(x){if(!x)return;window.location.href="tel:"+phone;}};quomodo.fsm.loadDialog(path,options);}
function qlub_xs_address_click(address){speciallink_map(address);}
function qlub_make_xsmenu($target){if($("#xs_pushmenu").length==0){if($("body").attr("sk-id")=="prehome"){$("#p-0").append('<div id="xs_pushmenu" style="top: 0px"><div id="xs_pushmenu_wrapper"></div></div>');}else{$("#h-0-xs").append('<div id="xs_pushmenu"><div id="xs_pushmenu_wrapper"></div></div>');}
$("#xs_pushmenu").css("font-family",quomodoFonts.get("f1")["css"]).height($(window).height());qlub_menus_create_xs();}
qlub_menus_events_xs($target);}
function qlub_menus_create_xs(){var $target=$('#xs_pushmenu');var v2=$("#xs_pushmenu_wrapper").length>0;if(v2)$target=$("#xs_pushmenu_wrapper");$target.html("");var menu=$('<ul class="qlub_menu_content"></ul>').show();var ul=menu;var currenthtml='';function svcfromid(svcid){if(q_pagemode()!="web")return q_svcfromid(svcid);var svc=q_svcfromid(svcid)||q_web_svcfromid(svcid);return svc;}
function process_sitemap(sm){for(var i=0;i<sm.items.length;i++){if(typeof sm.items[i]=="string"){ul.append('<li>'+sm.items[i]+'</li>');}else if(!sm.items[i].items&&sm.items[i].section){ul.append('<li rel="section" target="'+sm.items[i]["section"]+'"><a href="#'+sm.items[i]["section"]+'">'+sm.items[i]["name"]+'</a></li>');}else if(!sm.items[i].items&&sm.items[i].id){if(qlub_menus_svcisvisible(sm.items[i].id,true))ul.append(qlub_menus_page(svcfromid(sm.items[i].id),sm.items[i].icon));}else if(!sm.items[i].items&&sm.items[i].site){sm.items[i].qorpid=sm.items[i].site;if(qlub_menus_siteisvisible(sm.items[i].qorpid))ul.append(qlub_menus_site(sm.items[i]));}else if(!sm.items[i].items&&sm.items[i].qorpid){if(qlub_menus_siteisvisible(sm.items[i].qorpid))ul.append(qlub_menus_site(sm.items[i]));}else if(!sm.items[i].items&&sm.items[i].href){if(qlub_menus_linkisvisible(sm.items[i],true))ul.append(qlub_menus_link(sm.items[i]));}else if(sm.items[i].items){if(qlub_menus_menuisvisible(sm,true)){if(currenthtml){ul.append(currenthtml);currenthtml='';}
ul.append(qlub_menus_submenu(sm.items[i],[i],{"xsmode":true}));}}}}
var onepage=(window.quomodoclient&&quomodoclient.onepage);if(onepage&&onepage.length>0){var sm={items:onepage};}else if(window.quomodoclient&&quomodoclient.customxsmenu){var xslinks=[];for(var i=0;i<quomodoclient.customxsmenu.length;i++){var xslinks_item=qsn_get_customxsmenu(quomodoclient.customxsmenu[i]);if(xslinks_item=="wait")return;xslinks=xslinks.concat(xslinks_item);}
var sm={items:xslinks};}else{var sm={items:spacexml.sitemap};}
process_sitemap(sm);if(currenthtml){ul.append(currenthtml);currenthtml='';}
$target.append(ul);$('.whiteline').hide();$(".submenu li.active",$target).parentsUntil($(".submenu"),'li[rel="menu"]').addClass("active");$target.find("li.menu > span.font-q-i").css("padding-right","6px");$target.find("li.menu > a").css("padding-right","24px");$target.find("ul.qlub_menu_content:eq(0)").addClass("currentpane").prepend('<li rel="paneclose"><a href="#">'+common_message["paneclose"]+'</a><span class="font-q-i" style="position:absolute; right:0px;padding-right:17px;font-weight:bold"></span></li>');$target.find("ul.qlub_menu_content ul.qlub_menu_content").prepend('<li rel="paneback"><span class="font-q-i" style="position:absolute; left:0px;padding-left:9px;"></span><a href="#">'+common_message["paneback"]+'</a></li>');$target.find('li[rel="paneback"]').each(function(){$("a",this).text($(this).parents("li.menu:eq(0)").find("> a:eq(0)").text());});if(v2){$("#xs_pushmenu ul").eq(0).find("ul").each(function(){var $this=$(this);var menuindex=$this.parent().attr("menuindex");$this.attr("menuindex",menuindex).appendTo($target);});}}
function qlub_menus_events_xs($button){qlub_menus_events_xs_button($button);if(!$button)$button=$("#h-0-xs .bmenu, #h-1-xs .bmenu, #h-0-sm .bmenu, #h-1-sm .bmenu, #h-0-xs .menuh_note, #h-1-xs .menuh_note, #h-0-sm .menuh_note, #h-1-sm .menuh_note");var $target=$('#xs_pushmenu');if(q_pagemode()=="web"){$target.find('li.active').removeClass("active");$target.find('li[svcid="'+currsvcid+'"]').addClass("active");}
var starting_top=0;if(q_pagemode()=="view"&&qsn_responsive_mod()!="xs")starting_top+=$("#qlub_adminbar").height();$("#xs_pushmenu").height($(window).height());$("#xs_pushmenu ul.qlub_menu_content").height($(window).height()-starting_top);$("#xs_pushmenu ul.qlub_menu_content").css("top",starting_top+"px");$target.find("li[rel='paneback']").unbind("click").on("click",function(event){q_stopPropagation(event);$(this).parents("ul.qlub_menu_content:eq(0)").removeClass("currentpane");});qlub_menus_events_xs_button($target.find("li[rel='paneclose']"),true);var v2=$("#xs_pushmenu_wrapper").length>0;$target.find("li[rel='menu']").unbind("click").on("click",function(){var $this=$(this);if($this.parents(".currentpane").length==0)$this.parents("#xs_pushmenu").find(".qlub_menu_content.currentpane").removeClass("currentpane");if(v2){var menuindex=$this.attr("menuindex");$target.find("ul.qlub_menu_content[menuindex='"+menuindex+"']").addClass("currentpane");}else{$this.find("ul.qlub_menu_content:eq(0)").addClass("currentpane");}
return false;});$target.find("li[rel='paneback'] > a, li[rel='menu'] > a, li[rel='paneclose'] > a").unbind("click").on("click",function(event){event.preventDefault();});$target.find("li").on("mousedown touchstart",function(){$(this).css("background","#fafafa");});$target.find("li").on("mouseup touchend",function(){var _this=this;setTimeout(function(){$(_this).css("background","");},500);});var activecolor=quomodoColors.richColor("c1-graylight").c;$target.find("li.active a").css({"color":activecolor,"font-weight":"bold"}).parents("li.menu").find("> a").css({"color":activecolor,"font-weight":"bold"});$target.find("li[rel='page']").unbind("click").on("click",function(){return qlub_menus_click_svclink(this);});$target.find("li[rel='site']").unbind("click").on("click",function(){return qlub_menus_click_svclink(this);});$target.find("li[rel='link'] a").parent().unbind("click").on("click",function(event){if($(this).attr("href")!="#")return event.stopPropagation();return qlub_menus_click_svclink(this);});$target.find("li[rel='section'] a").parent().unbind("click").on("click",function(event){var starting_top=0;if(q_pagemode()=="view")starting_top+=$("#qlub_adminbar").height();var o=(function(that){var $target=$("#"+$(that).attr("target"));if(!$target.is(":visible"))$target=$target.next();return $target.offset();})(this);if(o)$("html,body").animate({"scrollTop":(o.top-starting_top-Skeleton.startingTop(null,true))+"px"});$("#xs_pushmenu").attr("closed","1");$("body").css("overflow","");$("#sk-content_closemenu").remove();$("#xs_pushmenu").css({"left":"-270px"});$("#sk-content, body > .sk-bw-bg, body > .sk-bw-mask").css({"left":"0"});$("#xs_pushmenu").find(".qlub_menu_content.currentpane").removeClass("currentpane");$("#xs_pushmenu").find(".qlub_menu_content:eq(0)").addClass("currentpane");$("#sk-content").css("box-shadow","none");var fixedSections=$("#xs_pushmenu").data("fixedSections")||[];for(var i=0;i<fixedSections.length;i++){$("#"+fixedSections[i]+" > .sk-bw-mask").find(".image, .image2, .image3").css("left","");}
if(window.quomodoclient&&quomodoclient.useBannerRule&&skeleton.bannerRule&&skeleton.bannerRule["xs"]&&skeleton.bannerRule["xs"].fixed&&$("#hk-0").css("position")=="fixed"){$("#hk-0").css({"left":"0"});}else if($("#h-1-xs").css("position")=="fixed"){$("#h-1-xs").css({"left":"0"});}
quomodo.events.trigger("windowscroll");return false;});}
function qlub_menus_xs_closeMenu(checkClosed){if(checkClosed&&$("#xs_pushmenu").attr("closed")=="1")return;$("#xs_pushmenu").attr("closed","1");$("body").css("overflow","");$("#sk-content_closemenu").remove();$("#xs_pushmenu").animate({"left":"-270px"},500,function(){quomodo.events.trigger("windowscroll");});$("#sk-content, body > .sk-bw-bg, body > .sk-bw-mask").animate({"left":"0"},500,function(){$("#xs_pushmenu").find(".qlub_menu_content.currentpane").removeClass("currentpane");$("#xs_pushmenu").find(".qlub_menu_content:eq(0)").addClass("currentpane");$("#sk-content").css("box-shadow","none");var fixedSections=$("#xs_pushmenu").data("fixedSections")||[];for(var i=0;i<fixedSections.length;i++){$("#"+fixedSections[i]+" > .sk-bw-mask").find(".image, .image2, .image3").css("left","");}
quomodo.events.trigger("windowscroll");});if(window.quomodoclient&&quomodoclient.useBannerRule&&skeleton.bannerRule&&skeleton.bannerRule["xs"]&&skeleton.bannerRule["xs"].fixed&&$("#hk-0").css("position")=="fixed"){$("#hk-0").animate({"left":"0"},500,function(){quomodo.events.trigger("windowscroll");});}else if($("#h-1-xs").css("position")=="fixed")$("#h-1-xs").animate({"left":"0"},500,function(){quomodo.events.trigger("windowscroll");});}
function qlub_menus_events_xs_button($button,closeButton){if(!$button)$button=$("#h-0-xs .bmenu, #h-1-xs .bmenu, #h-0-sm .bmenu, #h-1-sm .bmenu, #h-0-xs .menuh_note, #h-1-xs .menuh_note, #h-0-sm .menuh_note, #h-1-sm .menuh_note");var $tmp=$button;if(!closeButton)$tmp=$tmp.find("a");$tmp.on("click",function(event){q_stopPropagation(event);event.preventDefault();if($("#xs_pushmenu").parent().attr("id")=="h-0-xs"){if($("body > .sk-bw-mask").length>0)$("#xs_pushmenu").insertAfter($("body > .sk-bw-mask"));else $("#xs_pushmenu").prependTo($("body"));}
function closeMenu(){$("body").css("overflow","");$("#sk-content_closemenu").remove();$("#xs_pushmenu").animate({"left":"-270px"},500,function(){quomodo.events.trigger("windowscroll");});$("#sk-content, body > .sk-bw-bg, body > .sk-bw-mask").animate({"left":"0"},500,function(){$("#xs_pushmenu").find(".qlub_menu_content.currentpane").removeClass("currentpane");$("#xs_pushmenu").find(".qlub_menu_content:eq(0)").addClass("currentpane");$("#sk-content").css("box-shadow","none");var fixedSections=$("#xs_pushmenu").data("fixedSections")||[];for(var i=0;i<fixedSections.length;i++){$("#"+fixedSections[i]+" > .sk-bw-mask").find(".image, .image2, .image3").css("left","");}
quomodo.events.trigger("windowscroll");});if(window.quomodoclient&&quomodoclient.useBannerRule&&skeleton.bannerRule&&skeleton.bannerRule["xs"]&&skeleton.bannerRule["xs"].fixed&&$("#hk-0").css("position")=="fixed"){$("#hk-0").animate({"left":"0"},500,function(){quomodo.events.trigger("windowscroll");});}else if($("#h-1-xs").css("position")=="fixed")$("#h-1-xs").animate({"left":"0"},500,function(){quomodo.events.trigger("windowscroll");});}
if($("#xs_pushmenu").offset().left<0){$("#xs_pushmenu").attr("closed","0");if(!$("#xs_pushmenu").data("fixedSections")){var fixedSections=[];$(".sk-wra, .sk-sec").each(function(){if(!this.id)return;var tmp=Skeleton.getSectionJSON(this.id,"prepare");if(tmp["img-params"]&&tmp["img-params"]["img-fixed"])fixedSections.push(this.id);});$("#xs_pushmenu").data("fixedSections",fixedSections);}
$("#sk-content").css("box-shadow","-5px 0px 9px rgba(0,0,0,0.1)");$("body").css("overflow","hidden");$("#xs_pushmenu").animate({"left":"0"},500);$("#sk-content, body > .sk-bw-bg, body > .sk-bw-mask").animate({"left":"270px"},500,function(){quomodo.events.trigger("windowscroll");var fixedSections=$("#xs_pushmenu").data("fixedSections");for(var i=0;i<fixedSections.length;i++){$("#"+fixedSections[i]+" > .sk-bw-mask").find(".image, .image2, .image3").css("left","270px");}});if(window.quomodoclient&&quomodoclient.useBannerRule&&skeleton.bannerRule&&skeleton.bannerRule["xs"]&&skeleton.bannerRule["xs"].fixed&&$("#hk-0").css("position")=="fixed"){$("#hk-0").animate({"left":"270px"},500,function(){quomodo.events.trigger("windowscroll");});}else if($("#h-1-xs").css("position")=="fixed")$("#h-1-xs").animate({"left":"270px"},500,function(){quomodo.events.trigger("windowscroll");});if($("#sk-content_closemenu").length==0)$("body").append('<div id="sk-content_closemenu"></div>');$("#sk-content_closemenu").on("click",function(event){qlub_menus_xs_closeMenu();});}else{qlub_menus_xs_closeMenu();}});}
function relaunchupdates(){return false;}
function spacetabalert(){return false;}
function qsn_beginDrag(elem,ee,wantdefault){return false;}
function qsn_beginDragOnly(elem,ee,wantdefault){return false;}
function qsn_mouseover(elem,ee,wantdefault){return false;}
function qsn_mouseout(elem,ee,wantdefault){return false;}
function qsn_notechanged(id,action,callBack){if(/_static/.test(qsn_thenotes[id].common.notekind))return;if(q_isstaticpage())return;if(callBack===undefined)callBack=qsn_applynoterefresh;var r={json:qsn_thenotes[id]};if(qsn_userrefreshid.length)r.userrefresh=qsn_updateuserrefresh(id);r.upindex=document.mainform.upindex.value;document.mainform.mission.value=(action=="notechanged")?"viewnotechanged":action;q_ajaxsubmit(r,callBack);}
var bbase=false;try{bbase=document.getElementsByTagName("head")[0].getElementsByTagName("base").length!=0;}catch(err){};if(!bbase)document.write('<base href="'+web_baseurl()+'"></base>');var web_js_loaded=true;function settings_getnote(){for(var x in qsn_thenotes){if(!qsn_thenotes[x])continue;if(qsn_stuffID(x)!=q_stuffmode)continue;if(qsn_thenotes[x].common.notekind!="settings")continue;return qsn_thenotes[x];}
return null;}
function initcustomstyle(){var params=q_geturlparams();if(!params.privatedomain)return;var custombaseurl=((isrealserver())?"http://club.quomodo.com/":"http://club2.quomodo.com/")+params.privatedomain+"/custom/";loadcss(custombaseurl+"style/qlub0.css");loadscript(custombaseurl+"scripts/qlub0.js");}
function initweb_menumarker(){$("#qlub_menuonlybar .qlub_tab_marker").remove();qlub_menus_setmarker($("#qlub_menuonlybar li[svcid='"+currsvcid+"']").parents("td.qlub_tab_td:first"));qlub_menus_setmarker($("#qlub_menuonlybar td[svcid='"+currsvcid+"']"));}
function ecwidInit(){if(!window.ecwidID)return;if(window.quomodoclient&&quomodoclient.ecwidInit)return quomodoclient.ecwidInit();quomodo.shop.initWeb();}
function instagramWarning(){if(window.quomodoclient&&quomodoclient.noInstagramWarning)return;if(navigator&&navigator.userAgent&&/instagram/i.test(navigator.userAgent)&&(BrowserDetect.OS=="iPhone"||BrowserDetect.OS=="iPad")){q_alert(common_message["instagram-warning"].replace("%btnhref",window.location.href).replace("%btnname",escapeHTML(q_httpsiteurl(true).replace(/^www\./,""))),null,true);}}
function initweb(b){if(!check_qlub0(function(){initweb(b);}))return;$("#bodyfooterbody table td:eq(2)").toggle((spacexml&&spacexml.ads&&(spacexml.ads.enabled||(spacexml.ads.top&&spacexml.ads.top.enabled)||(spacexml.ads.right&&spacexml.ads.right.enabled)||(spacexml.ads.bottom&&spacexml.ads.bottom.enabled)))?false:true);if((window.hostinsteadclub&&spacexml&&spacexml.infos&&spacexml.infos.unshippinghost)||(spacexml&&spacexml.infos&&spacexml.infos.unshippinghost2)){q_alert(qlub_message["givingupdomain"].replace(/%host%/g,"http://"+window.location.host).replace(/%privatedomain%/g,"http://club.quomodo.com/"+spacexml.infos.privatedomain),{title:qlub_message["givingupdomain_warning"],icon:"q_alert_warning"});}
$.datepicker.setDefaults($.datepicker.regional[q_lang||"fr"]);if(!b&&window.client_initweb)return client_initweb();instagramWarning();if(spacexml&&spacexml["closed-popup"])q_alert(spacexml["closed-popup"],{},true);var bSalesInit=window.quomodo&&quomodo.sales&&q_geturlparams().sales_id;if(bSalesInit){var sales_id=q_geturlparams().sales_id;quomodo.sales._initWeb_fsm_waitId=q_fsm_wait();if(sales_id=="error")quomodo.sales.initweb("error");else if(sales_id=="preprod")quomodo.sales.initweb("preprod");else{var params=q_geturlparams();var o={"sales_id":params.sales_id};if(params.preprod=="1")o.preprod=true;document.mainform.mission.value="merchant_getact";q_ajaxsubmitwithservice("sales@"+q_lang,o,function(x){quomodo.sales.initweb(x,params.preprod=="1");});}}
ecwidInit();if(window.client_initwebFn){for(var i=0;i<client_initwebFn.length;i++){client_initwebFn[i]();}}
var bPopup=quomodo&&quomodo.page&&quomodo.page.isPopup;if(!bPopup){if(spacexml.responsive)qlub_menus_events_xs();qlub_pagetitle_init();}
$(function(){if(!bSalesInit)qlub_launchPopup();quomodo.page.sections=new QuomodoSections({mode:"web"});quomodo.events.trigger("finish_init.page",{mode:"web"});if(window.initfooter)initfooter();finish_initweb();if(bSalesInit)quomodo.sales.initweb(true);if(ge("qlub_free_pub")&&!(/webmode/).test(document.body.className))ge("q_author_stuff").style.marginTop="280px";web_fixoldbrowsers();setTimeout(increment_web_counter,2000);try{templatesiteprepare();}catch(err){};if(window.launchanims)launchanims();if(window.logcookies)logcookies();});}
function finish_initweb(wantDefault){if(!wantDefault&&window.quomodoclient&&quomodoclient.finish_initweb)return quomodoclient.finish_initweb();qlub_loadlogin();web_qsninit();if(window.qlub_ads_init)qlub_ads_init();}
var webLoader_counter=0;function webLoader_inc(){if(q_pagemode()!="web")return;webLoader_counter++;}
function webLoader_dec(){if(q_pagemode()!="web")return;if(!--webLoader_counter){if($("#q_fullscreenmask #q_loadscreenmask").length>0){if($("#q_fullscreenmask div[popupid]").length==0){$("#q_fullscreenmask .q_fullscreenmask").css("opacity",0);$("#q_fullscreenmask").fadeOut(1000,function(){$("#q_fullscreenmask .q_fullscreenmask").css("opacity","");$("#q_loadscreenmask").remove();});}else{$("#q_loadscreenmask").fadeOut(1000,function(){$("#q_loadscreenmask").remove();});}}else{$("#q_loadscreenmask").fadeOut(1000,function(){$("#q_loadscreenmask").remove();});}}}
function web_qsninit(){webLoader_inc();if(!quomodo.page.sections){quomodo.page.sections=new QuomodoSections({mode:"web"});quomodo.events.trigger("finish_init.page",{mode:"web"});}
var id,h;zindexmax=0;var list=qsn_noteidssortedlist();var tmpsections=[];for(var i=0;i<list.length;i++){id=list[i];var div=ge(id);if(!div)continue;var r=qsn_thenotes[id];qsn_doupgradejson(id);var sc=r.spacedefaults.common;var uc=r.user.common;var zindex=parseInt((uc.zindex!=undefined)?uc.zindex:((sc.zindex!=undefined)?sc.zindex:"0"),10);zindexmax=Math.max(zindex,zindexmax);var stuffid=$(div).parents(".stuff-content").attr("id");if(stuffid&&r.common.stuffID&&r.common.stuffID!=stuffid)r.common.stuffID=stuffid;var stuffid=qsn_stuffID(div.id);if($.inArray(stuffid,tmpsections)==-1)tmpsections.push(stuffid);h=false;try{h=qsn_handler(qsn_thenotes[id].common.notekind,"qsn_initforweb",false);}catch(err){}
if(!h){if(q_pagemode()=="web"){try{h=qsn_handler(qsn_thenotes[id].common.notekind+"2","qsn_initforweb",false);if(h){qsn_thenotes[id].common.notekind=qsn_thenotes[id].common.notekind+"2";var rpd=RPD.qsnUpgrade.common(qsn_thenotes[id]);qsn_thenotes[id].rpd=rpd;}}catch(err){}}}
if(h){try{h(id);}catch(err){}}
(function(div){var section=quomodo.page.sections.get(qsn_stuffID(div.id));if(!section){try{console.log("section undefined in web_qsninit",div.id,qsn_stuffID(div.id));}catch(err){}}
section.updateoffsets();if(spacexml.responsive&&qsn_responsive_mod()!="md"){Skeleton.manageAltMask(section.id);}
qsn_ResizeNoteEvent(div);})(div);}
if(!quomodo.page.sections){quomodo.page.sections=new QuomodoSections({mode:"web"});quomodo.events.trigger("finish_init.page",{mode:"web"});}
for(var i=0;i<tmpsections.length;i++){var section=quomodo.page.sections.get(tmpsections[i]);if(section&&section.id&&$("#"+section.id+"-stuff-table > tbody > tr").length==0)section.updateoffsets();}
set_phtitle();$("form#search").on("submit",function(){speciallink_search();return false;});if(spacexml.responsive)qsn_makeResponsive();else $(".sk-sec-xs, .sk-sec-sm").remove();webLoader_dec();}
function set_phtitle(title){title=title||$("#ph-1").attr("pagetitle");if(!title){title=$("#ph-1-title").text();$("#ph-1-title").remove();}
if(!title)return;var h1title='<table class="rpd-h1 note qsn_note container" cellspacing="0" cellpadding="0" style="width:100% ; padding: 0px 60px"><tr><td class="td-headericon"><div style="position:relative"><div class="headericon font-q-sn"></div></div></td><td class="tdcontainer showPaddingBottom"><div class="notewrap"><div class="notebackground"></div><div class="richtarget" style="position : relative ; top : 0px ; left : 0px ; z-index : 1"><div class="qlubcontainer_secorner"></div><table class="tablenote rpd-h1" width="100%" cellspacing="0" cellpadding="0" border="0" style="position : relative ; top : 0px ; left : 0px ; z-index: 1"><tr><td class="rpdheader"><div class="qlubcontainer_noteheader"><div class="hr hr_top"><div class="inhr"></div></div><h1 class="header-container"><div class="icon-ruban font-q-sn"></div><div class="header-ruban"></div><div class="qlubcontainer_headertext"><span class="headericon-in font-q-sn"></span><div class="headertext-inner"><span class="firstcolor">'+escapeHTML(title)+'</span></div></div></h1><div class="hr hr_bottom"><div class="inhr"></div></div></div></td></tr></table></div></div></td></tr></table>';var bph1=$("#ph-1-stuff").length>0;if(bph1){$("#ph-1").show();$("#ph-1-stuff").empty();var sech=$("#ph-1-stuff").height();$("#ph-1-stuff").append('<div class="rpdp-pagetitle1">'+h1title+'</div>').find(".rpdheader").css({"height":sech+"px","vertical-align":"middle"});}}
function writetitleandname(){writecurrsvcname();}
function qlub_loadlogin(options,wantDefault){if(!wantDefault&&window.client_loadlogin)return client_loadlogin(options);if($("#qlub_login").length>0)return;if(window.custom_loadlogin)return custom_loadlogin();var searchform=(spacexml.theme&&spacexml.theme.searchform)?spacexml.theme.searchform:"true";var loginbtn=(spacexml.theme&&spacexml.theme.loginbtn)?spacexml.theme.loginbtn:"true";var x=$.extend({searchform:"true",loginbtn:"true",facebookbutton:"false",twitterbutton:"false"},((spacexml&&spacexml.theme)||{}));x=$.extend({list:["facebook","twitter","login","search"],target:$("#web_headertable_elem tr:first")},options,x);function httpsiteurl(){if(spacexml&&spacexml.infos){if(spacexml.infos.host){var re=new RegExp("/[^/]+$");return "http://"+spacexml.infos.host.replace(re,"");}
return "http://"+window.location.host+"/"+spacexml.infos.privatedomain;}
return "http://"+((window.clubhost)?clubhost:window.location.host+"/"+window.clubprivatedomain);}
var appendbtn={"facebook":{display:function(){return(x.facebookbutton=="true");},appendTo:function($td){$td.attr("align","right").addClass("facebookbutton").css("padding","0px 2px").append('<iframe src="http:/'+'/www.facebook.com/plugins/like.php?href='+encodeURIComponent(httpsiteurl())+'&amp;send=false&amp;layout=button_count&amp;width=100&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font=lucida+grande&amp;height=21&amp;appId=248280301880468" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:100px; height:21px;" allowTransparency="true"></iframe>');}},"twitter":{display:function(){return(x.twitterbutton=="true");},appendTo:function($td){$td.attr("align","right").addClass("twitterbutton").css("padding","0px 2px").append('<div style="width:110px;position:relative;z-index:0;white-space:nowrap"><a rel="nofollow" href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-lang="fr">Tweeter</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script></div>');}},"login":{display:function(){return(!window.custom_nologinbutton&&x.loginbtn!="false");},appendTo:function($td){$td.attr("width","1%").addClass("loginbutton").html(create_button({icon:"adminmenu sprite_key_16",label:(window.client_qlub_message&&client_qlub_message["login"])?client_qlub_message["login"]:qlub_message["login"],notext:window.client_login_notext,title:qlub_message["signin"],onclick:function(){club_login_block();}}));}},"search":{display:function(){return(x.searchform=="true");},appendTo:function($td){try{$("#searchtext").val(searchres_json.searchtext||"");}catch(err){}
$td.attr("width","1%").addClass("searchbutton").html(create_button({icon:"adminmenu sprite_search_16",html:(window.client_search_notext)?null:'<form id="searchform" name="searchform" class="zero" method="post" action="rien" enctype="multipart/form-data" accept-charset="utf-8" style="margin: 0; padding: 0" onsubmit="qlub_search_submit() ; return false;"><input type="text" name="searchtext" id="searchtext" maxlength="200" onfocus="focusoptional(this, \'Rechercher...\');" onblur="bluroptional(this,\'Rechercher...\');" value="Rechercher..." style="color:#AAA;position:relative;top:1px;height:15px;" onmousedown="q_stopPropagation( event );" onclick="q_stopPropagation( event );"/><input name="q_method" value="cgi" type="hidden" /><input name="mission" value="search" type="hidden" /><input name="service" value="search@fr" type="hidden" /><input name="lang" value="fr" type="hidden" /><input name="privatedomain" value="" type="hidden" /><input name="searchentriesperpage" value="50" type="hidden" /><input name="searchstartnumber" value="0" type="hidden" /></form>',notext:window.client_search_notext,onclick:function(){if(window.client_search_notext)window.location.href="search.html";else qlub_search_submit();}}));}}};for(var i=0;i<x.list.length;i++){var btn=appendbtn[x.list[i]];if(!btn.display())continue;btn.appendTo(x.target.append('<td width="1%">').find("td:last"));}
if(!options||!options.target)$("#web_headertable_elem tr:first > td:last").css("padding-right",(window.quomodoclient&&quomodoclient.titleBarPaddingRight)||"10px");if(window.qlub_login_nosubscribe)return $("#qlub_login_notsubscribed").remove();try{$("#qlub_login_notsubscribed").attr("href","default_index.html?step=subscribe&backurl="+window.location.pathname);}catch(err){}}
function q_spacebaseurl(ownerid){return web_baseurl();var re=new RegExp("[^/]*$");return window.location.href.replace(re,"");}
function q_fsbaseurl(ownerid,withhttp,relativeurl){var re=new RegExp("uploads/(shared/|images/|videos/)?[0-9]+/","i");if(ownerid=="quomodo"||(relativeurl&&!re.test(relativeurl))||!spacexml||!spacexml.fileserver)return web_baseurl();return window.location.protocol+"//"+spacexml.fileserver+"/"+spacexml.id.replace(/-.*/,"")+"/";}
function q_svcisweb(svcid){if(typeof svcid=="object")return(svcid.name)?true:false;var svc=q_web_svcfromid(svcid);if(!svc)return false;return(svc.name)?true:false;}
function q_web_svcweblink(svc){var splittedsvc=svc.split("/");if(splittedsvc.length>1){if(!window.webqorp_svctopages||!webqorp_svctopages[splittedsvc[0]])return null;function getsubhost(pseudohost){var re=new RegExp("^[^/]+(/)?([^/]+)?$");return pseudohost.replace(/club[0-9]*\.quomodo\.com\//,"").replace(/localhost\/club\//,"").replace(re,"$2$1");}
var svcs=webqorp_svctopages[splittedsvc[0]].services;for(var i=0;i<svcs.length;i++)if(splittedsvc[1]==svcs[i].id&&svcs[i].name)return((getsubhost(spacexml.infos.host||spacexml.infos.privatedomain)=="")?"":"../")+getsubhost(webqorp_svctopages[splittedsvc[0]].host||webqorp_svctopages[splittedsvc[0]].privatedomain)+svcs[i].name;return null;}
for(var i in web_svctopages)if(svc==web_svctopages[i].id&&web_svctopages[i].name)return web_svctopages[i].name;var weblink=q_spaceid2svcinfo(svc);return weblink;}
function openservice(svc,filename1,forcedefault,nologinblock){return xopenservice(false,svc,filename1,forcedefault,nologinblock);}
function tabopenservice(svc,filename1,forcedefault,nologinblock){return xopenservice(true,svc,filename1,forcedefault,nologinblock);}
function xopenservice(newTab,svc,filename1,forcedefault,nologinblock){if(window.quomodo&&quomodo.page&&quomodo.page.isPopup)return parent.xopenservice(newTab,svc,filename1,forcedefault,nologinblock);if($("#accept-cookies").length>0)q_acceptCookies(true);if(!forcedefault&&window.client_openservice)return client_openservice(svc,filename1);var spaceidRe=new RegExp("^[0-9a-fA-F-]+$");var popupRe=new RegExp("^popup:");var hashRe=new RegExp(":#");var wantPopup=(popupRe).test(svc);svc=svc.replace(popupRe,"");var hash=svc.match(/:(#.*)/);hash=(hash&&hash[1])||"";svc=svc.replace(/:#.*/,"");function gethref(){if(/#artema(page|disq)/.test(svc)){if(window.web_svctopages){var weblink=q_web_svcweblink(svc);if(weblink){var thehref=web_baseurl()+weblink.replace(/\.html$/,"")+".html";thehref=thehref.replace(/\/(index_?)?\.html$/,"");return{status:true,href:thehref+hash};}
return{title:qlub_message["restrictedpage_title"],message:qlub_message["restrictedpage_message"],svcid:svc};}else return{href:web_baseurl()+"__src/"+svc.replace(/#([0-9]+)#artemapage@intl/,"_$1_page.html")};}else if((spaceidRe).test(svc)){var weblink=q_web_svcweblink(svc);if(weblink&&!weblink.noaccess){return{status:true,href:web_baseurl()+weblink.weblink.replace(/\/$/,"")+hash};}
return{title:qlub_message["restrictedpage_title"],message:qlub_message["restrictedpage_message"],svcid:svc};}else return{title:qlub_message["restrictedpage_title"],message:qlub_message["restrictedpage_message"],svcid:svc};}
var href=gethref();if(href.href){if(wantPopup){quomodo.fsm.popup(href.href);return false;}
quomodo.page.href(href.href,newTab);return(href.status)?true:false;}
if(!nologinblock)club_login_block($.extend({wantPopup:wantPopup},href));return false;}
function wsg_windowopen(elem){var x=decodeURI(elem.href);var relativeurl=x.replace(/^.*uploads\//,"uploads/");window.open(q_fsbaseurl(memberid,null,relativeurl)+relativeurl);}
function wsg_openfile(elem){return q_openfile(elem);}
function mhp_upload(f){var url=q_fsbaseurl(memberid)+f.replace(/&apos;/g,"'");window.open(url);}
function handlenewuser(x){if(document.mainform.sessionid.value!="")return;var sid=x["q_newsessionid"];if(x.authresult){document.mainform.sessionid.value=sid;return;}
if(!sid)return;document.mainform.sessionid.value=sid;document.mainform["q_space"].value=(x["q_newspace"])?x["q_newspace"]:((document.mainform["q_space"].value)?document.mainform["q_space"].value:sid);if(document.cookie){if((!getcookie("uid"))||(getcookie("uid")!="member")){setcookie("uid",sid,15);setcookie("known",true,60000);}}}
function web_fixoldbrowsers(){if(!isie55())return;var links=document.body.getElementsByTagName("A");var a;for(var i=0;i<links.length;i++){a=links[i];if(!a.href)continue;if(!(/_page($|\?)/.test(a.href)))continue;a.href=a.href.replace(/_page($|\?)/,"_page.html$1");}}
function increment_web_counter(){if(!window.clubprivatedomain)return;var currentcounters=[currsvcid];if(q_pagemode()=="view"||q_pagemode()=="web"){$("#qlub_topads div[slotid], #qlub_ads_addright_elem div[slotid], #qlub_bottomads div[slotid]").each(function(){currentcounters.push("#"+$(this).attr("slotid").replace("s","")+"#adsview@intl");});}
xq_ajaxcount("binincrement",currentcounters);}
function count_ajaxsubmit(q_data,callBackFunction,params){var req=null;if(window.XMLHttpRequest){req=new XMLHttpRequest();if(req.overrideMimeType){req.overrideMimeType('text/xml');}}else if(window.ActiveXObject){try{req=new ActiveXObject("Msxml2.XMLHTTP");}
catch(e){try{req=new ActiveXObject("Microsoft.XMLHTTP");}
catch(e){}}}
req.open("POST","/cgi-bin/cgicounter",true);req.setRequestHeader("Content-type","application/x-www-form-urlencoded");req.onreadystatechange=function(){if(req.readyState!=4)return;if(req.status==undefined)return badrequest();if(req.status==200)req=null;};req.send(reqAddData("data",q_toplist(q_data)));}
function templatesiteprepare(){if(!window.opener||window.opener.closed||!window.opener.opentemplatesite)return;var templatesitehref=window.opener.opentemplatesite(window);var re=new RegExp("^"+templatesitehref,"i");if(!(re.test(window.location.href)))return;window.qlub_editsitemap_newpagefromsite=function(){var mainw=window.opener;if(!mainw||mainw.closed)return;var tab={id:"info",svcid:"#artemapage@intl",newaccess:"admin","newh":"qlub_newinfo"};var servicename=mainw.tabs_message[tab.id+"_name"];var s=mainw.qorp_message["newnameprompt"];qprompt_newpage(s.replace(/%s/,servicename),mainw.defaultpagename(servicename),"qlub_editsitemap_newpagefromsite_promptdone",[tab,{q_space:document.mainform.q_space.value,currsvcid:currsvcid}]);};window.qlub_editsitemap_newpagefromsite_promptdone=function(newname,tab,templatedata){var mainw=window.opener;if(!mainw||mainw.closed)return;var div=gebcn(ge("qlub_header"),"qlub_header_content");mainw.qlub_editsitemap_newpage_promptdone(newname,tab,templatedata);};}
function qlub_webclickinmenu(elem,ee){window.location.href=gebtn(elem,"A").href;}
var broll_message={"defaultimagesourceurl":"Coller ici l'adresse de l'image qui peut être fixe (graphique, photo...) ou animée (webcam...).","newnoteprompt":"cliquez ici pour écrire votre message, puis cliquez sur ok","notextscroll":"( pas de texte )","newreplyprompt":"cliquez ici pour rédiger une nouvelle réponse","pclocalnotvalidate":"Vous n'avez pas validé le choix de votre image.\n\nCelle-ci ne va pas être enregistrée.","bagimgextension":"Le fichier image que vous avez choisi n'a pas la bonne extension.\n\nVeuillez choisir un autre fichier.","fermer":"fermer","validateimage":"Veuillez valider l'image","inviteusername":"Veuillez indiquer un nom pour signer votre message.","plug":"Texte déroulant_Mettez vos messages en valeur en les faisant défiler.","selectanimage":"Veuillez choisir une image sur votre ordinateur:","uploadtitlenew":"Affichez une image dans la note","uploadtitleedit":"Changez l'image à afficher","tabscroll":"Défilement ","broll_direction":"Direction","broll_direction0":"vers le haut","broll_direction1":"vers la droite","broll_direction2":"vers le bas","broll_direction3":"vers la gauche","broll_speed":"Vitesse","broll_speed0":"lent","broll_speed1":"normal","broll_speed2":"rapide","broll_speed3":"très rapide","desc":"(...)","customcolor":"couleur personnalisée","titlecolor":"Couleur de texte","titlesize":"Taille de texte","textsizedefault":"taille par défaut"};var sky=["Partagez des images et des messages dans un espace Quomodo !","Chaque membre peut supprimer une note ou une réponse","Chaque membre peut répondre à un message","Chaque membre peut modifier les messages ou les réponses qu\'il a rédigées"];var broll_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("broll_msgs_fr_js_loaded");var broll_json_template={version:6,text:"",textheight:"200",showsignature:"false",align:"0",direction:"0",speed:"1",header:{display:"true",text:"",icon:""},"customcolor":"false","titlecolor":"default","titlesize":"default"};var broll_oldjson_template={"4":{version:4,text:"",textheight:"200",textsize:"13",textfont:"-1",textstyles:{bold:"false",uppercase:"false",italic:"false",align:"0"},color:"rgb(100%,100%,100%)",textmargin:2,textcolor:-1,showsignature:"false",direction:"0",speed:"1",header:{display:"true",text:"",icon:""}},"5":{version:5,text:"",textheight:"200",textsize:"13",margin:10,textfont:"-1",textstyles:{bold:"false",uppercase:"false",italic:"false",align:"0"},color:"rgb(100%,100%,100%)",textcolor:-1,showsignature:"false",direction:"0",speed:"1",header:{display:"true",text:"",icon:""}}};function broll_upgradejson(r){if(!r.version)r.version=1;if(r.version==broll_json_template.version)return r;if(r.version<2)r=broll_upgradejsontov2(r);if(r.version<3)r=broll_upgradejsontov3(r);if(r.version<4)r=broll_upgradejsontov4(r);if(r.version<5)r=broll_upgradejsontov5(r);if(r.version<6)r=broll_upgradejsontov6(r);r.version=broll_json_template.version;return r;}
function broll_upgradejsontov2(r){return r;}
function broll_upgradejsontov3(r){r.color="1";return r;}
function broll_upgradejsontov4(r){r["textstyles"]={bold:String(r.textbold!=0),uppercase:"false",italic:String(r.textitalic!=0),align:(r.textcenter=="1")?"2":"0"};delete r.textbold;delete r.textcenter;delete r.textitalic;r.textcolor=-1;r.showsignature="false";r.direction="0";r.speed="0";r.textmargin=2;r.textsize=[9,11,14][parseInt(r.textsize,10)-1];if(r.noteheight=="1")r.textheight="85";else if(r.noteheight=="2")r.textheight="175";else if(r.noteheight=="3")r.textheight="265";delete r.noteheight;r.header={display:"false",text:"",icon:"pushpin"};return r;}
function broll_upgradejsontov5(r){r.margin=parseInt(qsn_definepaddings(r.common.notekind)[r.textmargin],10);delete r.textmargin;return r;}
function broll_upgradejsontov6(r){if(r.textstyles&&r.textstyles.align)r.align=r.textstyles.align;else r.align="0";var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function broll_version(notekind){return{margin:1,rpd:1};}
var broll_timers=[];var broll_scroll_suspended=false;var broll_scroll_clock=16;var broll_nominal_speed=1/50/13;function broll_initforweb(id){var div=ge(id);var r=qsn_thenotes[id];q_addwindowblurhandlers("broll_pauseall");q_addwindowfocushandlers("broll_resumeall");if(r.header&&r.header.display=="fold"&&$(".tablenotecontent",div).css("display")=="none"){var haveto_fold=true;qsn_foldclick(div.id,null,true,true);}
broll_preparescroll(id);broll_launch(id);if(haveto_fold)qsn_foldclick(div.id,null,false,true);$(div).on("mouseenter",function(){this.paused=true;});$(div).on("mouseleave",function(){this.paused=false;this.lasttime=new Date().getTime();broll_run(this);});$(".defile_container",div).on("touchstart",function(){$(div).trigger("mouseenter");});$(".defile_container",div).on("touchend",function(){$(div).trigger("mouseleave");});}
function broll_launch(id){broll_init_note(id);if(q_pagemode()=="makeweb")return broll_fakedisplay(id);var d=new Date();ge(id).lasttime=d.getTime();if(!broll_timers[id].timer)broll_timers[id].timer=setTimeout(function(){broll_run(ge(id));},broll_scroll_clock);}
function broll_init_note(noteid){if(broll_timers[noteid])broll_cleartimer(noteid);else broll_timers[noteid]={timer:null,launcher:null,accelere:0,sens:1};}
function broll_preparescroll(noteid){var elem=gebcn(noteid,"text");var r=qsn_thenotes[noteid];elem.parentNode.h=elem.parentNode.offsetHeight+"px";elem.style.whiteSpace="nowrap";var table=gebcn(noteid,"broll_measuretext");if(r.titlesize&&r.titlesize!="default")$(".broll_measuretext",div).css("font-size",r.titlesize);else $(".broll_measuretext",div).css("font-size","");var $tmp=$(table).clone(true);$tmp.css("position","absolute").appendTo("body").show();$tmp.addClass("default_font");var $td=$tmp.find("td:eq(0)");$td.html(elem.innerHTML);elem.w=$td.width();$tmp.remove();if(r.direction=="1"||r.direction=="3"){elem.style.whiteSpace="nowrap";elem.parentNode.style.height=$(elem).height()+"px";elem.parentNode.style.lineHeight=$(elem).height()+"px";$(elem).css("width","");}else{elem.style.whiteSpace="normal";elem.parentNode.style.height=elem.parentNode.h;}
if(r.direction==0)elem.style.top=(elem.parentNode.offsetHeight-elem.offsetHeight)+"px";if(r.direction==3)elem.style.left=(elem.parentNode.offsetWidth-4)+"px";var div=ge(noteid);div.speed=broll_pixelspeed(r);}
function broll_run(div){if(broll_scroll_suspended)return;if(isremoved(div))return broll_cleartimer(div&&div.id);var id=div.id;if(!id||!qsn_thenotes[id])return;if(div.paused)return;var r=qsn_thenotes[id];if(!r)return broll_cleartimer(id);if(qsn_currstate!="edit"&&!q_fsmpresent()){var value=r.direction;var div=ge(id);var elem=gebcn(div,"text");var v=parseInt(r.speed,10)+1;var d=new Date();var now=d.getTime();var timeinterval=(div.lasttime)?(now-div.lasttime):broll_scroll_clock;var pixelgap=Math.round(div.speed*timeinterval);if(pixelgap!=0){div.lasttime=now;switch(value){case "0":broll_vmove(elem,-pixelgap);break;case "1":broll_hmove(elem,pixelgap);break;case "2":broll_vmove(elem,pixelgap);break;case "3":broll_hmove(elem,-pixelgap);break;}}}
setTimeout(function(){broll_run(div);},broll_scroll_clock);}
function broll_hmove(elem,value){if(qsn_currstate=="edit")return;var x=elem.offsetLeft+value;var welem=parseInt(elem.w,10);var wparent=elem.parentNode.offsetWidth;if(value>0){if(x>wparent)x=-welem-5;}else{if(x+welem<0)x=wparent+5;}
elem.style.left=x+"px";}
function broll_vmove(elem,value){if(qsn_currstate=="edit")return;var y=elem.offsetTop+value;var helem=elem.offsetHeight;var hparent=elem.parentNode.offsetHeight;if(value>0){if(y>hparent)y=-helem-5;}else{if(y+helem<0)y=hparent+5;}
elem.style.top=y+"px";}
function broll_pixelspeed(r){var v=parseInt(r.speed,10)+1;var d=(parseInt(r.direction,10)%2)+1;var s=parseInt(RPD.textsize(r.rpd),10);if(s<10)s=10;return d*v*((d==1)?13:s)*broll_nominal_speed;}
function broll_cleartimer(id){if(!id)return;if(!broll_timers[id])return false;if(broll_timers[id].timer)clearInterval(broll_timers[id].timer);broll_timers[id].timer=null;}
function broll_pauseall(){broll_scroll_suspended=true;return;for(var id in broll_timers){broll_cleartimer(id);broll_clearlauncher(id);}}
function broll_resumeall(){broll_scroll_suspended=false;for(var id in broll_timers)if(ge(id))broll_launch(id);}
function broll_clearlauncher(id){if(!broll_timers[id])return false;if(broll_timers[id].launcher)clearTimeout(broll_timers[id].launcher);broll_timers[id].launcher=null;}
var btn_json_template={version:4,text:"",textalign:"2",header:{display:"false",text:"",icon:"false"},linkdata:{kind:0,address:"",pagelink:"",filename:"",js:"",mailto:"",note:""}};function btn_upgradejson(r){if((r.version)&&(r.version==btn_json_template.version))return r;if(r.version<2)r=btn_upgradejsontov2(r);if(r.version<3)r=btn_upgradejsontov3(r);if(r.version<4)r=btn_upgradejsontov4(r);r.version=btn_json_template.version;return r;}
function btn_upgradejsontov2(r){if(!r.iconpos)r.iconpos=btn_json_template.iconpos;r.btncolor=r.color;delete r.color;return r;}
function btn_upgradejsontov3(r){var sizes=qsn_definefontsizes(r.common.notekind);r.textsize=parseInt(sizes[r.textstyles.size],10);delete r.textstyles.size;return r;}
function btn_upgradejsontov4(r){r.btncolor=String(r.btncolor);if(!r.style)r.style=0;var rpd=RPD.qsnUpgrade.common(r);rpd.button={"id":["shadow","glossy","relief"][r.style],"color":r.btncolor,"padding":"0.7em 1.6em","margin":"0.5em","hideicon":false};r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);delete r.size;delete r.btncolor;delete r.style;delete r.iconpos;return r;}
function btn_changealign(noteid){function getalign(textalign){if(qsn_responsive_mod()=="xs")return "center";switch(textalign){case "0":return "left";break;case "1":return "right";break;case "2":return "center";break;case "3":return "center";break;default:return "left";break;}}
var div=ge(noteid);var r=qsn_thenotes[noteid];if(r.textalign=="3")$(".btn_text_container .btn_v4_text",div).css({"width":"100%","padding-left":"0","padding-right":"0"});else $(".btn_text_container .btn_v4_text",div).css({"width":"","padding-left":"","padding-right":""});$(div).find(".btn_text_container").css({"text-align":getalign(r.textalign)});}
function btn_get_customxsmenu(noteid){var r=qsn_thenotes[noteid];var div=ge(noteid);var $link=$("<div></div>").append($("a.btn_v4_text",div).clone().removeAttr("class style").css({"width":"100%","box-sizing":"border-box"}));$("span",$link).remove();return[$link.html()];}
var btn_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("btn_js_loaded");var clock_message={"plug":"Clock_Affichez simplement l'heure de manière graphique sur votre page.","displayDate":"Afficher la date","displayTime":"Afficher l'heure","selectanimage":"Veuillez choisir une image sur votre ordinateur:","uploadtitle":"Nouvelle image de fond","taboptions":"Options d'affichage","displaydate":"Afficher la date","displayseconds":"Afficher les secondes","tabimage":"Image de fond","image":"Image : ","otherimage":"une autre image"};var clock_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("clock_msgs_fr_js_loaded");var clock_json_template={version:3,text:"",header:{display:"false",text:"",icon:""},displaydate:"true",displayseconds:"false",img:{kind:"icon",src:"bckg/globe"}};function clock_upgradejson(r){if((r.version)&&(r.version==clock_json_template.version))return r;if(r.version<2)r=clock_upgradejsontov2(r);if(r.version<3)r=clock_upgradejsontov3(r);r.version=clock_json_template.version;return r;}
function clock_upgradejsontov2(r){if(!r.color)r.color=clock_json_template.color;if(!r.header)r.header=clock_json_template.header;if(!r.textstyles)r.textstyles=q_cloneObject(clock_json_template.textstyles);r.textstyles.font=({"-1":"0","1":"0","2":"1","3":"3"})[r.textfont];delete r.textfont;r.displaydate=(r.displaydate=="1")?"true":"false";r.displayseconds=(r.displayseconds=="1")?"true":"false";return r;}
function clock_upgradejsontov3(r){var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function clock_version(notekind){return{margin:1,rpd:1};}
var clock_timer={timer:0,ids:[]};function clock_initforweb(id){clock_renderdisplayseconds(id);}
function clock_renderdisplayseconds(noteid){var div=ge(noteid);if(!div)return;clock_rendertextsize(div);if(qsn_currstate!="edit")quomodo.events.addTimerListener("clocktimer",function(eventData,eventName){clock_refreshdateandtime(this,eventData.now)},div);else clock_refreshdateandtime(div);}
function clock_rendertextsize(div,imgSize){var r=qsn_thenotes[div.id];var img=gebcn(div,"clock_bckgimage");var h=(qsn_thenotes[div.id].displayseconds=="true")?5:3.5;var wimg=img.offsetWidth;var himg=wimg;if(imgSize)himg=Math.round(imgSize.height*wimg/imgSize.width);else if(r.img.src&&r.img.kind!="icon"){if(!r.img.h)return q_waitimgloaded($("#"+div.id+" .clock_bckgimage img:eq(0)").attr("src"),function(imgSize){clock_rendertextsize(div,imgSize)},[],true);himg=Math.round(r.img.h*wimg/r.img.w);}
var w=Math.floor(wimg/h);var ddate=gebcn(div,"clock_date");var dtime=gebcn(div,"clock_time");$(dtime).css({"font-size":w+"px","line-height":w+"px"});var x=(r.displayseconds=="true")?2:3;$(ddate).css({"font-size":Math.floor(w/x)+"px","line-height":Math.floor(w/x)+"px"});gebcn(div,"clock_table").style.height=himg+"px";}
function clock_refreshdateandtime(div,thedate){var t=thedate||new Date();var secInteger=t.getSeconds();var sec=twodigs(secInteger);var sep1=(secInteger%2)?":":" ";var sDate=twodigs(t.getDate())+"."+twodigs(t.getMonth()+1)+"."+t.getFullYear();var sTime=twodigs(t.getHours())+sep1+twodigs(t.getMinutes());var id=div.id;var r=qsn_thenotes[id];gebcn(div,"clock_date").innerHTML=sDate;var spans=gebcn(div,"clock_time").getElementsByTagName("SPAN");if(spans.length){spans[0].innerHTML=twodigs(t.getHours());spans[2].innerHTML=twodigs(t.getMinutes());spans[4].innerHTML=sec;spans[1].style.visibility=(secInteger%2)?"visible":"hidden";spans[3].style.visibility=(secInteger%2)?"visible":"hidden";spans[3].style.display=(r&&r.displayseconds=="true")?"inline":"none";spans[4].style.display=(r&&r.displayseconds=="true")?"inline":"none";}else{gebcn(div,"clock_time").innerHTML=sTime+((r&&r.displayseconds=="true")?sep1+sec:"");}}
function clock_xs_resize(div){q_changedwidth(div,qsn_width_xs(div.id));clock_rendertextsize(div);}
function clock_sm_resize(div){q_changedwidth(div,qsn_width_sm(div.id));clock_rendertextsize(div);}
function clock_lg_resize(div){q_changedwidth(div,qsn_width_lg(div.id));clock_rendertextsize(div);}
function clock_md_resize(div){q_changedwidth(div,parseInt(qsn_width(div.id),10));clock_rendertextsize(div);}
var calendar2_message={"plug":"Calendrier_Visualisez les événements du club","desc":"(...)","today":"aujourd'hui","ok":"ok","tabstyle":"Style","taboptions":"Options du calendrier","size":"Taille du calendrier","size0":"très petit","size1":"petit","size2":"moyen","size3":"grand","size4":"très grand","chooseeventstype":"Sélectionner","eventstype":"Événements à afficher","birthdays":"Les anniversaires","birthday":"Anniversaire","generals":"Les événements généraux","general":"Événement","event":"Événement","matchs":"Les matchs","match":"Match","localteam":"les matchs des équipes","category":"les événements généraux","preview":"Afficher un résumé des événements de la journée","preview_title":"Aperçu","eventscolor":"Chaque journée prend la couleur de ses événements","eventscolor_title":"Couleurs des événements","eventslist":"Mode Liste","eventslist_title":"Afficher la liste des événements","month_1":"Jan","month_2":"Fev","month_3":"Mar","month_4":"Avr","month_5":"Mai","month_6":"Juin","month_7":"Jui","month_8":"Aou","month_9":"Sep","month_10":"Oct","month_11":"Nov","month_12":"Dec","birthdayhtml":"Anniversaire de : ","step":"Match n°","time":"Heure :","comment":"Commentaire :","competition":"Competition :","location":"Lieu :","home":"(match à domicile)","nothome":"(match à l'extérieur)","viewothers":"voir tous les événements (%s de plus)"};var calendar2_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("calendar2_msgs_fr_js_loaded");var calendar2_json_template={version:2,eventstype:[{kind:"match"},{kind:"general"},{kind:"birthday"}],preview:"false",eventscolor:"true",displaylist:"false",header:{display:"true",text:"",icon:"false"}};var calendar2_oldjson_template={"1":{version:1,color:"c1",textfont:"-1",margin:10,eventstype:[{kind:"match"},{kind:"general"},{kind:"birthday"}],preview:"false",eventscolor:"true",displaylist:"false",header:{display:"true",text:"",icon:"false"},template:"aqua"}};function calendar2_getheadericon(noteid){var r=qsn_thenotes[noteid];if(r.header.icon=="false")return "";return "/services/calendar2/images/calendar48.png";}
var calendar2_thsizes=["9","12","15","20","26"];var calendar2_thheights=["12","24","36","48","60"];var calendar2_textsize=["11","16","20","28","40"];var calendar2_sizes=[20,40,60,80,100];function calendar2_upgradejson(r){if((r.version)&&(r.version==calendar2_json_template.version))return r;if(r.version<2)r=calendar2_upgradejsontov2(r);r.version=calendar2_json_template.version;return r;}
function calendar2_upgradejsontov2(r){var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function calendar2_version(notekind){return{margin:1,rpd:1};}
function calendar2_renderhtml(noteid){var div=ge(noteid);qsn_setresponsive_note(div);var r=qsn_thenotes[noteid];if(r.template=="flat-white"){div.className+=" flat-white";$("table.calendar2_month:eq(0), .calendar2_eventslist:eq(0)",div).removeClass("bd_bw");}
qsn_container_renderhtml(div,r);qsn_jcssmanagerapply(div,r);$(".calendar2_loading:eq(0)",div).show();$(".calendar2_month:eq(0), .calendar2_eventslist:eq(0), .calendar2_v7_month:eq(0), .calendar2_v7_eventslist:eq(0)",div).hide();div.resized=function(elem,w){$(div).data("w",w);calendar2_rendersize(div,r);};div.growingupdone=function(){calendar2_updatestyle(div,r)};if(q_pagemode()=="makeweb")calendar2_renderhtml_callback(noteid);else calendar2_request(noteid);$(".qlubcontainer_content",div).css("padding","0");calendar2_updatestyle(div,r)
if(window.quomodoclient&&quomodoclient.calendarNoSubscribe)$(".cal_subscribe",div).remove();}
function calendar2_device_resize(device,div){q_changedwidth(div,qsn_responsive_width(div.id,device));if(device=="xs"){if(qsn_isTouchDevice()&&$(".calendar2_v7_eventslistdiv .q_event",div).length>0)calendar2_resize_events(div);}}
function calendar2_resize_events(div){if(!qsn_isTouchDevice())return;if(qsn_responsive_mod()!="xs")return;$(".calendar2_viewothers",div).remove();var targetHeight=0;var initHeight=0;$(".calendar2_v7_eventslistdiv > div > div",div).each(function(index){initHeight+=$(this).outerHeight();if(index<=6)targetHeight+=$(this).outerHeight();});if(initHeight<=targetHeight)return;var maxheight=Math.min(initHeight,450);$(".calendar2_v7_eventslistdiv",div).css({"height":targetHeight+"px","overflow":"hidden"}).after('<div class="calendar2_viewothers rpd-p3 rpd-action rpd-ipt" style="text-align:center">'+calendar2_message["viewothers"].replace("%s",$(".calendar2_v7_eventslistdiv .q_event",div).length-3)+'</div>');$(".calendar2_viewothers",div).unbind("click").on("click",function(){$(this).fadeOut();$(".calendar2_v7_eventslistdiv",div).css({"overflow":"auto"}).animate({"height":maxheight+"px"},450);});}
function calendar2_request(noteid){var div=ge(noteid);var $div=$(div);var r=qsn_thenotes[noteid];if(!$div.data("date")){var d=new Date();$div.data("date",{month:d.getMonth(),year:d.getFullYear()});}
var e=[].concat(r.eventstype);if(e[0]){var curryear=$div.data("date").year;var currmonth=$div.data("date").month;var startdate=new Date(curryear,currmonth,1,11,0,0);var enddate;for(var i=0;i<4;i++){enddate=new Date(curryear,currmonth,31-i,11,0,0);if(enddate.getMonth()==currmonth)break;}
e[0].date=$.datepicker.formatDate("dd-mm-yy",startdate)+"/"+$.datepicker.formatDate("dd-mm-yy",enddate);}
if(window.snchoosersample||window.demosample){div.calendar=make_calendarsample();calendar2_makevolatileevents(noteid,"calendar2_renderhtml_callback");return;}
q_events_request(function(x){if(!isremoved(div)){div.calendar=x;calendar2_makevolatileevents(noteid,"calendar2_renderhtml_callback");if(r.showFirstEvent&&!div.showFirstEventDone){div.showFirstEventDone=true;if(!x.events||x.events.length==0){for(var i=0;i<e.length;i++){e[i].date="td/end";}
q_events_request(function(x){if(!x.events||x.events.length==0)return;var m=x.events[0]["sel:date"].match(/^(\d+)_(\d+)/);if(m){$div.data("date",{month:parseInt(m[2],10)-1,year:parseInt(m[1],10)});calendar2_request(noteid);}},{"events":e,"from":1,"to":10,"order":"ascending"});}}}},{events:e});}
function calendar2_makevolatileevents(noteid,callback){var events=ge(noteid).calendar.events;var eventsjson={};for(var i=0;i<events.length;i++){var dayid=events[i]["sel:date"];if(dayid){if(!eventsjson[dayid])eventsjson[dayid]=[];eventsjson[dayid].push(events[i]);}}
$('#'+noteid).data("events",eventsjson);if(callback)eval(callback+"('"+noteid+"')");}
function calendar2_eventslistsize(div,r){if(r.displaylist=="right"){if(qsn_responsive_mod()=="xs"){$(div).find(".calendar2_v7_eventslist").css("margin-top","");$(div).find(".calendar2_v7_eventslistdiv").css("max-height","");}else{var h=$(div).find(".calendar2_month2").parent().outerHeight();var noteh=$(div).height();$(div).find(".calendar2_v7_eventslist").css("margin-top",h+"px");$(div).find(".calendar2_v7_eventslistdiv").css("max-height",(noteh-h)+"px");}}}
function calendar2_renderhtml_callback(noteid){var div=$("#"+noteid);var d=new Date();if(div.data("changemonth")){if(!div.data("date"))div.data("date",{month:d.getMonth(),year:d.getFullYear()});}else div.data("changemonth",true);calendar2_rendermonth(noteid);calendar2_displaylist(noteid);$(".calendar2_loading:eq(0)",div).hide();$(".calendar2_month:eq(0), .calendar2_v7_month:eq(0)",div).show();calendar2_eventslistsize(div,qsn_thenotes[noteid]);}
function calendar2_rendermonth(noteid){var div=$("#"+noteid);var r=qsn_thenotes[noteid];var curryear=(div.data("date"))?div.data("date").year:new Date().getFullYear();var currmonth=(div.data("date"))?div.data("date").month:new Date().getMonth();var dref=new Date(curryear,currmonth,1,11,0,0);var d=new Date();var today=new Date(d.getFullYear(),d.getMonth(),d.getDate(),11,0,0).getTime();var d1=dref.getDay();if(d1==0)d1=7;var daydate=new Date();var daytime,dayid;var n=0;for(var j=1;j<8;j++){daydate.setTime(dref.getTime());daydate.setDate((j>=d1)?dref.getDate()+(n++):dref.getDate()-(d1-j));daytime=daydate.getTime();dayid=calendar2_dayidfromtime(daytime);calendar2_renderday(div,1,j,dayid,daydate.getMonth()==currmonth,daytime==today);}
for(var i=2;i<6;i++){for(var j=1;j<8;j++){daydate.setTime(dref.getTime());daydate.setDate(dref.getDate()+(n++));daytime=daydate.getTime();dayid=calendar2_dayidfromtime(daytime);calendar2_renderday(div,i,j,dayid,daydate.getMonth()==currmonth,daytime==today);}}
if(new Date(daydate.getTime()+86400000).getMonth()==currmonth){for(var j=1;j<8;j++){daydate.setTime(dref.getTime());daydate.setDate(dref.getDate()+(n++));daytime=daydate.getTime();dayid=calendar2_dayidfromtime(daytime);calendar2_renderday(div,6,j,dayid,daydate.getMonth()==currmonth,daytime==today);}
$(".calendar2_lastweek",div).show();}else $(".calendar2_lastweek",div).hide();var date=div.data("date");$('.calendar2_button, .calendar2_v7_button',div).css("visibility",(!date||!((date.month==d.getMonth())&&(date.year==d.getFullYear())))?"visible":"hidden");var monthname=(mname[currmonth].split('').length)<7?mname[currmonth]:mshortname[currmonth]+".";$(".calendar2_monthandyear",div).html(monthname+" "+curryear);div.data("date",{year:curryear,month:currmonth});calendar2_rendersize(div,r);}
function calendar2_renderday(div,i,j,dayid,iscurrmonth,istoday){var cal=$(".calendar2_month, .calendar2_v7_month",div).get(0);var td=cal.rows[i+1].cells[j-1];var dayevents=calendar2_dayevents($(div).attr("id"),dayid);var hasevent;if(!dayevents.length)hasevent="false";else{function formatevent(e){var eventkind=e.kind;if((eventkind=="general"||eventkind=="birthday")&&e.category&&e.category.color&&e.category.color!="null"&&e.category.color!="undefined")eventkind+="-"+e.category.color;return eventkind;}
hasevent=formatevent(dayevents[0]);for(var i=0;i<dayevents.length;i++){if(formatevent(dayevents[i])==hasevent)continue;else hasevent="true";}}
$(td).html(parseInt(dayid.split("_")[2],10)).attr({"dayid":dayid,"currmonth":(iscurrmonth)?"true":"false","currday":(istoday)?"true":"false","hasevent":hasevent,"currmonth-hasevent":(hasevent!="false"&&iscurrmonth)?"true":"false","title":""});}
function calendar2_rendersize(div,r){calendar2_updatestyle(div,r);}
function calendar2_updatestyle(div,r){var calendar=$(div).find(".calendar2_v7_month:eq(0)");if(calendar.attr("q_size")){var calendarwidth=7*calendar2_sizes[parseInt(calendar.attr("q_size"),10)];}else{var notew=$(div).data("w")||$(div).width();var calendarwidth=notew-(parseInt(RPD.contentMargin(r.rpd).margin,10)*2+2);var renderRight=(r.displaylist=="right"&&qsn_responsive_mod()!="xs");if(renderRight){var m=quomodo.page.sections.get(qsn_stuffID(div.id)).formatProperties.innerHMargin;var cm=parseInt(RPD.contentMargin(r.rpd).margin,10)*2+2;calendarwidth=Math.round((notew-m)/2)-cm;}
calendarwidth=Math.max(105,Math.min(987,calendarwidth));if(renderRight){$(div).find(".calendar2_eventslist_col").width(notew-calendarwidth-cm-m);}}
var cell_width=Math.floor(calendarwidth/7);var nb_cells=7;function fontsize(w){return Math.floor(w*(1-Math.min(0.15+0.015*w,0.6)));}
var hasBgimg=!r.template||r.template!="flat-white";var hasColor=hasBgimg;calendar.find("td").attr("class","").css({"color":"","background-color":""});calendar.find("tr").each(function(index,value){if(index>0){var nb_cells=7;var nb_cells_1=calendarwidth%7;$(this).find("td, th.calendar2_day").each(function(){var $this=$(this);$this.removeClass("w0").removeClass("w1");if($this.is("td")){$this.height(cell_width).css({"font-size":fontsize(cell_width)+"px","color":""}).unbind();}else{$this.height(Math.floor(cell_width*0.6)).css({"font-size":fontsize(cell_width*0.6)+"px","background-position":((nb_cells_1>0)?-3*cell_width:0)+"px "+"0px"});}
if(nb_cells_1>0){$this.addClass("w1").width(cell_width+1);--nb_cells_1;}else
$this.addClass("w0").width(cell_width);});}});$(div).find(".calendar2_headerth").height(Math.floor(cell_width*0.6)).css({"font-size":fontsize(cell_width*0.6)+"px","line-height":Math.floor(cell_width*0.6)+"px"});$(div).find(".calendar2_headerth a").css({"font-size":fontsize(cell_width*0.6)+"px","line-height":Math.floor(cell_width*0.6)+"px"});var nb_cells_1=calendarwidth%7;$(div).find(".calendar2_v7_actions").height(Math.floor(cell_width*0.6)).css({"font-size":fontsize(cell_width*0.6)+"px","line-height":Math.floor(cell_width*0.6)+"px"});calendar.find('td[currmonth="false"]').css("color","#cbcbcb");calendar.find('td.w1[hasevent="false"][currmonth="true"], td.w0[hasevent="false"][currmonth="true"]').hover(function(){$(this).css("color","#000");},function(){$(this).css("color","#444");});calendar.find('td[currmonth="true"][currday="true"]').css({"border":"1px solid #444 "});calendar.find('td[currmonth="true"][currday="false"]').css("border","0");calendar.find('td[currmonth="true"][hasevent!="false"]').mousedown(function(event){q_stopPropagation(event);}).click(function(){calendar2_alert($(this).attr("dayid"),$(div).attr("id"));});if(q_pagemode()=="edit"&&/artemapage/.test(currsvcid)&&(q_getuserlevel(memberid)=="admin"||hasCurrrights("events"))){calendar.find('td[currmonth="true"][hasevent="false"]').mousedown(function(event){q_stopPropagation(event);}).click(function(){var callback=function(){calendar2_renderhtml($(div).attr("id"));};var dayid=$(this).attr("dayid");if(q_ispros()||(window.quomodoclient&&quomodoclient.buildingmod)){q_events_new_dialog("general",dayid,callback);}else{var path_event_type="/scripts/q_event_smartnote_dialog/add/index_"+q_lang+".html";var options_event_type={"callback":function(x){if(!x)return;q_events_new_dialog(x,dayid,callback);}};quomodo.fsm.loadDialog(path_event_type,options_event_type);}});}
$('.calendar2_v7_month td[currmonth="true"][hasevent!="false"]',div).each(function(){var bgcolor={"birthday":"#9B3CE8","match":"#FC3B37","general":"#008320","true":"#0064DA"};var h=(r.eventscolor=="true")?$(this).attr("hasevent"):"true";var finalbgcolor;if((/general-/).test(h))finalbgcolor=h.replace(/general-/,"");else if((/birthday-/).test(h))finalbgcolor=h.replace(/birthday-/,"");else finalbgcolor=bgcolor[h];if(!finalbgcolor)return;finalbgcolor=quomodoColors.projectedColor(finalbgcolor,true,true).selectedid.replace(/\+.*/,"");if($.inArray(finalbgcolor,["white","graylight","graydark","black"])!=-1)finalbgcolor="graymedian";$(this).css({"color":quomodoColors.richColor("bww-"+finalbgcolor).c,"background-color":quomodoColors.richColor(finalbgcolor).c});}).hover(function(){if(r.preview=="true")calendar2_preview_over(this,$(div).attr("id"));},function(){if(r.preview=="true")calendar2_preview_out(this);});calendar.find(".calendar2_day").css("color","#444");calendar2_eventslistsize(div,r);}
function calendar2_dayevents(noteid,dayids,wantdefault){if(!wantdefault&&window.quomodoclient&&quomodoclient.calendar2_dayevents)return quomodoclient.calendar2_dayevents(noteid,dayids);var e=$("#"+noteid).data("events");if(!e)return[];if(typeof dayids=="string")dayids=[dayids];var events=[];for(var i in dayids){events=events.concat(q_args(e[dayids[i]]));events=events.concat(q_args(e[dayids[i].replace(/^[0-9]{4}/,"*")]));}
return events;}
function calendar2_preview_over(elem,noteid){if(qsn_isTouchDevice()||qsn_responsive_mod()=="xs")return;var dayid=$(elem).attr("dayid");var events=calendar2_dayevents(noteid,dayid);if(!events.length)return;var recap={};for(var i in events){if(!recap[events[i].kind])recap[events[i].kind]=1;else recap[events[i].kind]++;}
var msg=[];for(var j in recap){var iconfont="";switch(j){case "birthday":iconfont='<span class="calendar2_iconpreview" style="color:#9B3CE8" ></span>';break;case "general":iconfont='<span class="calendar2_iconpreview" style="color:#008320" ></span>';break;case "match":iconfont='<span class="calendar2_iconpreview" style="color:#FC3B37" ></span>';break;}
msg.push(iconfont+" ("+recap[j]+")");}
msg=(msg.length>1)?msg.join("  "):msg[0];var calendar2_preview_div='<div class="calendar2_v7_preview">';$(calendar2_preview_div).append($('<div>').html(msg)).appendTo($(elem));}
function calendar2_preview_out(elem){$(".calendar2_preview, .calendar2_v7_preview",elem).remove();}
function calendar2_alert(dayid,noteid,options){var events=calendar2_dayevents(noteid,dayid);var datearray=dayid.split("_");var year=parseInt(datearray[0],10);var month=parseInt(datearray[1],10);var day=parseInt(datearray[2],10);var options={"pagemode":(q_pagemode()=="edit"&&/artemapage/.test(currsvcid)&&(q_getuserlevel(memberid)=="admin"||hasCurrrights("events")))?"edit":q_pagemode(),"callback":function(){if(q_pagemode()=="edit"&&/artemapage/.test(currsvcid)&&(q_getuserlevel(memberid)=="admin"||hasCurrrights("events")))calendar2_renderhtml(noteid);}};q_events_smartnote_dialog(events,new Date(year+"/"+month+"/"+day),options);}
function calendar2_alert_foldall(elem,status){var div=$(elem).parents(".q_fsm_alertevent:first");if(status=="fold"){var ediv=$(".q_event",div);$(".q_event_toggle",ediv).html("►");$(".q_event_content",ediv).slideUp();}else{var ediv=$(".q_event",div);$(".q_event_toggle",ediv).html("▼");$(".q_event_content",ediv).slideDown();}}
function calendar2_displaylist(noteid){var div=$("#"+noteid);var r=qsn_thenotes[noteid];var eventsdiv=$(".calendar2_eventslistdiv:eq(0), .calendar2_v7_eventslistdiv:eq(0)",div).show().empty();var eventslist=$(".calendar2_eventslist:eq(0), .calendar2_v7_eventslist:eq(0)",div).toggle(r.displaylist=="true"||r.displaylist=="right");if(r.displaylist!="true"&&r.displaylist!="right")return;if(r.displaylist=="right"){if(div.find(".calendar2_eventright").length==0){div.find(".calendar2_notebody").append('<table class="calendar2_eventright" cellspacing="0" cellpadding="0" style="width: 100%"><tr><td valign="top" class="calendar2_viewpane_col"></td><td valign="top" class="calendar2_eventslist_col"></td><tr>'+(qsn_currstate=="edit"?'<tr><td class="calendar2_chooseevents_col" colspan="2"></td><tr>':'')+'</table>');div.find(".calendar2_eventright .calendar2_eventslist_col").append(div.find(".calendar2_notebody .calendar2_v7_eventslist"));div.find(".calendar2_eventright .calendar2_viewpane_col").append(div.find(".calendar2_notebody .calendar2_viewpane"));if(qsn_currstate=="edit")div.find(".calendar2_eventright .calendar2_chooseevents_col").append(div.find(".calendar2_notebody .calendar2_chooseevents"));}
var m=quomodo.page.sections.get(qsn_stuffID(noteid)).formatProperties.innerHMargin;div.find(".calendar2_eventright .calendar2_eventslist_col").css("padding-left",m+"px");}
var curryear=(div.data("date"))?div.data("date").year:new Date().getFullYear();var currmonth=(div.data("date"))?div.data("date").month:new Date().getMonth();var dref=new Date(curryear,currmonth,1,11,0,0);var dayids=q_events_yearselect_getdays("m",dref)
var theevents=calendar2_dayevents(noteid,dayids);if(!theevents.length)return eventslist.hide();var mode=(q_pagemode()=="edit"&&/artemapage/.test(currsvcid)&&(q_getuserlevel(memberid)=="admin"||hasCurrrights("events")))?"edit":q_pagemode();q_events_renderevents(eventsdiv,theevents,{mode:mode,displaydate:true,withdetails:false,displaytype:false,callback:function(){calendar2_renderhtml(noteid);}});div.find(".calendar2_v7_eventslistdiv .q_event").find(".q_event_title").addClass("rpd-p1");div.find(" .calendar2_v7_eventslistdiv .q_event").addClass("rpd-list-item").last().addClass("last");div.find(" .calendar2_v7_eventslistdiv .rpd-list-item:first-child").addClass("first").before('<div class="hr"></div>');div.find(" .calendar2_v7_eventslistdiv .rpd-list-item").after('<div class="hr"></div>');div.find(".calendar2_v7_eventslistdiv span.q_events_date").addClass("rpd-p2");qsn_jcssmanagerapply(div,r);calendar2_updatestyle(div,r);$(".qlubcontainer_content",div).css("padding","0");calendar2_resize_events(div);}
function calendar2_nextmonth(x){var div=$(x).parents(".container:first");var date=div.data("date")
if(date.month==11){div.data("date",{month:0,year:date.year+1});}else div.data("date",{month:date.month+1,year:date.year});calendar2_request(div.attr("id"));}
function calendar2_prevmonth(x){var div=$(x).parents(".container:first");var date=div.data("date")
if(date.month==0){div.data("date",{month:11,year:date.year-1});}else div.data("date",{month:date.month-1,year:date.year});calendar2_request(div.attr("id"));}
function calendar2_currmonth(x){var d=new Date();var div=$(x).parents(".container:first").data("date",{month:d.getMonth(),year:d.getFullYear()});calendar2_request(div.attr("id"));}
function calendar2_dayidfromtime(t){var d=new Date();d.setTime(t);var dayid=d.getFullYear()+"_"+twodigs(d.getMonth()+1)+"_"+twodigs(d.getDate());return dayid;}
function calendar2_datefromdayid(x){var y=x.split("_");var d=new Date(y[0],parseInt(y[1],10),parseInt(y[2],10),12,0,0);return d;}
function calendar2_initforweb(id){calendar2_renderhtml(id);}
function calendar2_icalsubscribe(){quomodo.fsm.loadDialog("/services/calendar2/ical/dialog_link_flat/index_"+q_lang+".html",{});}
var carousel_message={"newnoteprompt":"Cliquez ici pour créer une nouvelle note Diapo Photos","notetitleprompt":"Cliquez ici pour ajouter un titre.","notedescprompt":"Entrez ici votre description","plug":"Carrousel_Créez un bandeau de photos ou de logos défilants.","desc":"La note Carrousel permet de créer un bandeau défilant contenant des photos ou des logos de partenaires","upload_title":"Importer des photos","upload_prompt":"Cliquez sur OK pour sélectionner les photos à importer","thefile":"Cliquez ici pour ouvrir le fichier ","nofiles":"Vous devez sélectionner au moins une image avant de valider.","toomanyfiles":"Trop de fichiers ! Afin de limiter le temps de chargement de la note, le nombre d'images est limité à %s. Merci d'enlever quelques images...","confirmdelete":"Êtes-vous sûr de vouloir enlever cette image ?","deletefilealt":"Supprimer cette image","tabdiapooptions":"Diaporama","autostart":"Lecture automatique","downloadlinks":"Remplir automatiquement les commentaires et liens avec ceux des images originales","loop":"Lecture en boucle","phototimer":"Délai entre les images : ","width":"Taille","widthmin":"petit","widthmax":"grand","direction":"Orientation du carrousel","imgonly":"Images seules, sans titre ni fond"};var carousel_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("carousel_msgs_fr_js_loaded");var carousel_json_template={version:5,text:"",header:{display:"true",text:"",icon:"false"},images:[],imgratio:"2",options:{phototimer:"1000",width:100},"center":"false","imgonly":false};var carousel_oldjson_template={"1":{version:1,text:"",color:"rgb(100%,100%,100%)",header:{display:"true",text:"",icon:"false"},textstyles:{size:"1",font:"-1",bold:"false",italic:"false",center:"false"},images:[],sortoptions:{target:"rank",order:"down"},imgratio:"2",options:{phototimer:"1000",width:100},textmargin:2},"2":{version:2,text:"",color:"rgb(100%,100%,100%)",header:{display:"true",text:"",icon:"false"},textstyles:{size:"1",font:"-1",bold:"false",italic:"false",center:"false"},images:[],sortoptions:{target:"rank",order:"down"},imgratio:"2",options:{phototimer:"1000",width:100},margin:10},"3":{version:3,textsize:12,text:"",color:"rgb(100%,100%,100%)",header:{display:"true",text:"",icon:"false"},textstyles:{font:"-1",bold:"false",italic:"false",center:"false"},images:[],sortoptions:{target:"rank",order:"down"},imgratio:"2",options:{phototimer:"1000",width:100},margin:10},"4":{version:4,text:"",header:{display:"true",text:"",icon:"false"},images:[],sortoptions:{target:"rank",order:"down"},imgratio:"2",options:{phototimer:"1000",width:100},"center":"false"}}
function carousel_upgradejson(r){if(!r.version)r.version=1;if(r.version==carousel_json_template.version)return r;if(r.version<2)r=carousel_upgradejsontov2(r);if(r.version<3)r=carousel_upgradejsontov3(r);if(r.version<4)r=carousel_upgradejsontov4(r);if(r.version<5)r=carousel_upgradejsontov5(r);r.version=carousel_json_template.version;return r;}
function carousel_upgradejsontov2(r){var carousel_textmargins=["0px","5px","11px","21px","31px"];r.margin=parseInt(carousel_textmargins[r.textmargin],10);delete r.textmargin;return r;}
function carousel_upgradejsontov3(r){var sizes=qsn_definefontsizes(r.common.notekind);r.textsize=parseInt(sizes[r.textstyles.size],10);delete r.textstyles.size;return r;}
function carousel_upgradejsontov4(r){if(r.textstyles&&r.textstyles.center)r.center=(r.textstyles&&r.textstyles.center)||"false";var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function carousel_upgradejsontov5(r){if(q_pagemode()=="web")return r;if(!r.sortoptions||!r.sortoptions.target||!r.sortoptions.order){delete r.sortoptions;return r;}
r.images=qsn_filestable_coregetsorted(r.images,r.sortoptions.target,r.sortoptions.sortorder);delete r.sortoptions;return r;}
function carousel_version(notekind){return{margin:1,rpd:1};}
function carousel_initforweb(id){q_addwindowblurhandlers("carousel_pauseall");q_addwindowfocushandlers("carousel_resumeall");carousel_launch(id);}
function carousel_ulprepare(div,r){var ul=$(".carousel_div ul",div).get(0);if(!ul||ul.prepared)return;if(!$(ul).attr("all_elts_size"))carousel_prepare(div,r);var o=carousel_params(r);ul.step=o.step;ul.speed=o.speed;ul.allEltsSize=parseInt($(ul).attr("all_elts_size"),10);ul.startpos=ul.curr=0;ul.prepared=true;}
function carousel_params(r){var ref=r.options.width||100;var step=2;var speed=Math.ceil(step*parseInt(r.options.phototimer,10)/ref);var maxspeed=20;if(speed>maxspeed){step=1;speed=Math.ceil(step*parseInt(r.options.phototimer,10)/ref);};return{step:step,speed:speed};}
function carousel_prepare(div,r){var cardiv=$(".carousel_div",div).eq(0);var o={visible:cardiv.width()+"px",margin:parseInt(RPD.contentMargin(r.rpd).margin,10),start:0};function css(el,prop){return parseInt($.css(el[0],prop))||0;}
function width(el){return el[0].offsetWidth+css(el,'marginLeft')+css(el,'marginRight');}
function height(el){return el[0].offsetHeight+css(el,'marginTop')+css(el,'marginBottom');}
var animCss="left",sizeCss="width";var ul=$("ul",cardiv),tLi=$("li",ul),tl=tLi.size(),v=o.visible;var cssU=(v.toString().indexOf("%")!=-1?'%':(v.toString().indexOf("px")!=-1)?'px':'el');var divSize,cssSize,cssUnity;if(cssU=='%'){divSize=0;cssSize=parseInt(v);cssUnity="%";}
else if(cssU=='px'){divSize=parseInt(v);cssSize=parseInt(v);cssUnity="px";}else{divSize=liSize*parseInt(v);cssSize=liSize*parseInt(v);cssUnity="px";}
var allEltsSize=0;tLi.each(function(i,x){allEltsSize+=$("img",x).width()+o.margin;});var liSizeV=height($("li img",ul));var circularSize=0;for(i=0;circularSize<divSize;i++){var li=$("li:eq("+i+")",ul);ul.append(li.clone());circularSize+=$("img",li).width()+o.margin;}
var ulSize=allEltsSize+circularSize;var li=$("li",ul);cardiv.css("visibility","visible");li.css("overflow","hidden").css("float",o.vertical?"none":"left").css("margin","0").css("padding","0").children().css("overflow","hidden");li.css("display","inline");if(li.children().get(0).tagName.toLowerCase()=='a')li.children().css('float','left');ul.css("margin","0").css("padding","0").css("position","absolute").css("list-style-type","none").css("z-index","1");cardiv.css("overflow","hidden").css("position","relative").css("z-index","2").css("left","0px");var liSize=width(li);var curr=o.start;var nbAllElts=li.size();var nbElts=tl;var eltsSize=nbElts*liSize;o.start+=(liSize*tl);ul.css(sizeCss,ulSize+"px").css(animCss,-(o.start));if(divSize===0)divSize=cardiv.width();cardiv.css('height',liSizeV+'px');ul.css('height',liSizeV+'px');li.css("margin","0px").css("margin-right",o.margin+"px");if(cssU=='%'){v=divSize/li.width();if(v%1!==0){v+=1;}
v=parseInt(v);}
var divVSize=cardiv.height();ul.hide().show();ul.attr("all_elts_size",allEltsSize);}
var carousel_timers={};var carousel_scroll_suspended=false;function carousel_launch(id){if(!carousel_timers[id]||!carousel_timers[id].timer){var div=ge(id);carousel_ulprepare(div,qsn_thenotes[id]);carousel_forward(id,$(".carousel_div ul",div).get(0));}}
function carousel_cleartimer(id){if(!id)return;if(!carousel_timers[id])return false;if(carousel_timers[id].timer)clearTimeout(carousel_timers[id].timer);carousel_timers[id].timer=null;}
function carousel_pauseall(){carousel_scroll_suspended=true;for(var id in carousel_timers)carousel_cleartimer(id);}
function carousel_resumeall(){carousel_scroll_suspended=false;for(var id in carousel_timers)if(ge(id))carousel_launch(id);}
function carousel_forward(id,ul){if(carousel_scroll_suspended)return;if(isremoved(ul))return carousel_cleartimer(id);var s=ul.step;ul.style.left=-(ul.curr+s)+"px";ul.curr+=s;if(ul.curr>=ul.allEltsSize){ul.style.left=ul.startpos+"px";ul.curr=ul.startpos;}
if(!carousel_timers[id])carousel_timers[id]={};carousel_timers[id].timer=setTimeout(function(){carousel_forward(id,ul);},ul.speed);}
var comment_message={"displayoptions":"Options d'affichage","comment":"commentaire","comments":"commentaires","newnoteprompt":"Cliquez ici pour rédiger le message d'invitation des commentaires.","onecomment":"Un commentaire sur ce sujet","severalcomments":"Déjà %s commentaires sur ce sujet","nocomment":"(aucun)","showonecomment":"Voir le premier commentaire","showcomments":"Voir les %s commentaires","hidecomments":"Revenir à la page","firstcomment":"Soyez le premier à réagir !","lastcomment-unknown":"Dernier commentaire","lastcomment":"%member a dit il y a %duration","lastcommentless1minute":"%member a dit il y a moins d'une minute","morethanoneyear":"%member a dit il y a plus d'un an","day":"jour","hour":"heure","minute":"minute","days":"jours","hours":"heures","minutes":"minutes","commentsadministration":"Administration des commentaires","deletecomment":"supprimer","deletethiscomment":"supprimer ce message","confirmdeletecomment":"Voulez-vous vraiment supprimer ce message ?","shownewcomment":"Ajouter un commentaire","hidenewcomment":"Masquer le formulaire","nameinput":"obligatoire","emailinput":"obligatoire, ne sera pas affichée","commentinput":"rédigez votre commentaire ici","website":"Cliquez pour accéder au site de %s","missingname":"Entrez votre nom svp.","missingemail":"Entrez votre adresse mail svp.\n\nElle ne sera pas affichée sur le site mais elle sera transmise à l'admin.","missingcomment":"Entrez votre commentaire svp.","order0":"Affichage du plus ancien au plus récent","order1":"Affichage du plus récent au plus ancien","invalidemailaddress":"Cette adresse e-mail n'est pas valide. Veuillez entrer une adresse valide svp.\n\nVotre adresse ne sera pas affichée sur le site mais elle est requise pour la transmettre à l'admin qui validera votre contribution","snname":"Note Commentaire","plug":"Commentaire_Proposez à vos visiteurs de s'exprimer sur un sujet, une photo, une actualité de votre site.","desc":"(...)","mailobject":"[Quomodo] - Un commentaire sur la page %p","headericontitle":"Icône","mailbody":"Un internaute a laissé un commentaire sur la page %p (%a) de votre site %s. Voici les informations qu'il a fournies.\r\r--\rNom: %n\rAdresse e-mail: %e\rSite web: %w\rCommentaire: %c\r--\r\rEn tant qu'administrateur du site, vous pouvez si vous le souhaitez supprimer ce commentaire en vous connectant sur la page.\r\rL'équipe Quomodo\r\rPour toute question ou suggestion, rendez-vous sur l'aide de Quomodo:\rhttp://aide.quomodo.com\rVous pouvez également nous contacter en envoyant un mail à:\rcontact@quomodo.com\r","none":"sans","gray":"gris","color":"couleur","pagetitle":"Commentaires de la page %s","messageregistered":"Merci !\n\nVotre commentaire a bien été enregistré.","viewothers":"afficher les %s commentaires restants","standard":"simple","last":"avec dernier commentaire","form":"avec formulaire"};var comment_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("comment_msgs_fr_js_loaded");function comment_renderlastcommentdate(div){var $div=$(div);var lascommentcontext=$(div).find(".comment_last_context:eq(0), .comment_v6_last_context:eq(0)");var lastcommentDate=$div.attr("lastcommentdate");var lastcommentName=$div.attr("lastcommentname");if(!lastcommentDate||!lastcommentName){lascommentcontext.text(comment_message["lastcomment-unknown"]);return;}
function convertMS(ms){var d,h,m,s;s=Math.floor(ms/1000);m=Math.floor(s/60);s=s%60;h=Math.floor(m/60);m=m%60;d=Math.floor(h/24);h=h%24;return{day:d,hour:h,minute:m};}
var timeLaps=convertMS(new Date()-new Date(lastcommentDate));var timeLapsString="";var array=["day","hour","minute"];for(var i=0;i<array.length;i++){if(timeLaps[array[i]]==0)continue;timeLapsString+=timeLaps[array[i]]+" ";if(timeLaps[array[i]]<=1)timeLapsString+=comment_message[array[i]];else timeLapsString+=comment_message[array[i]+"s"];break;}
if(timeLapsString==""){lascommentcontext.text(comment_message["lastcommentless1minute"].replace("%member",lastcommentName));}else if(timeLaps.day>365){lascommentcontext.text(comment_message["morethanoneyear"].replace("%member",lastcommentName));}else{lascommentcontext.text(comment_message["lastcomment"].replace("%member",lastcommentName).replace("%duration",timeLapsString));}}
function comment_initforweb(id){var r=qsn_thenotes[id];var div=ge(id);if(r.displaymod=="form"){$(".comment_viewothers",div).unbind("click").on("click",function(){$(this).fadeOut();$(".comment_withform_lasts",div).css({"overflow":"auto"}).animate({"height":$(this).attr("maxheight")+"px"},450);});$(".comment_inputline",div).each(function(){$(this).find(".watermark").remove();$(".comment_inputarea",this).unwrap().removeAttr("data-jq-watermark-text data-jq-watermark");$(".comment_inputarea",this).watermark($(".comment_fieldtitle",this).text());});}else comment_renderlastcommentdate(div);}
function comment_newcommentfocusdefault(x,v){focusdefault(x,comment_message[v],"black");}
function comment_newcommentblurdefault(x,v){blurdefault(x,comment_message[v],"#999","black");}
function comment_renderwithform(div){var noteid=div.id;var r=qsn_thenotes[noteid];qsn_jcssmanagerapply(div,r);$(".comment_v6_last_wrapper",div).hide();$(".comment_withform_wrapper",div).show();$(".comment_inputline",div).each(function(){$(".comment_inputarea",this).watermark($(".comment_fieldtitle",this).text());});$(".comment_count_v2",div).hide();if(q_pagemode()=="makeweb"&&window.ASresumepause_inc)ASresumepause_inc();document.mainform.mission.value="getComment";qsn_ajaxsubmit({noteid:noteid},function(x){var lastcommentdiv=$(".comment_withform_lasts",div);$(".comment_viewothers",div).remove();lastcommentdiv.empty().css({"height":"","overflow":""});$(".commentbtn",div).attr("onclick",'comment_withform_addcomment( "'+noteid+'" ) ; return false;');if(x.comments.length<=0){lastcommentdiv.text(comment_message["nocomment"]);lastcommentdiv.css({"filter":"alpha(opacity=25)","opacity":"0.25"});if(q_pagemode()=="makeweb"&&window.ASresumepause_dec)ASresumepause_dec();return false;}
lastcommentdiv.css({"filter":"","opacity":""});lastcommentdiv.append('<div class="hr"></div>');function removeItem(comment){if(q_pagemode()!="edit")return "";return '<div class="comment_renderform_remove"><a class="rpd-link" href="#" onclick="comment_deletecomment( this ) ; return false" commentindex="'+comment.id+'" target="'+noteid+'">'+escapeHTML(comment_message["deletethiscomment"])+'</a></div>';}
for(var i=x.comments.length-1;i>=0;i--){lastcommentdiv.append('<div class="rpd-list-item">'+removeItem(x.comments[i])+'<div class="comment_renderform_name"><span>'+x.comments[i].name+'</span>'+(x.comments[i].website!=""?'<span><span class="comment_bullet font-q-sn rpd-gbw2"></span><a target="_blank" href="'+x.comments[i].website+'">Voir le site</a></span>':'')+'</div><div class="comment_renderform_date rpd-p2">'+q_isot2string(x.comments[i].date.toString())+'</div><div class="comment_renderform_msg">'+x.comments[i].comment+'</div></div>');lastcommentdiv.append('<div class="hr"></div>');}
if(x.comments.length>3){var targetHeight=0;var initHeight=0;$(".comment_withform_lasts > div",div).each(function(index){initHeight+=$(this).outerHeight();if(index<=6)targetHeight+=$(this).outerHeight();});var maxheight=Math.min(initHeight,450);lastcommentdiv.css({"height":targetHeight+"px","overflow":"hidden"}).after('<div class="comment_viewothers rpd-p3 rpd-action rpd-halfpt" style="text-align:center">'+comment_message["viewothers"].replace("%s",x.comments.length-3)+'</div>');$(".comment_viewothers",div).attr("maxheight",maxheight).unbind("click").on("click",function(){$(this).fadeOut();$(".comment_withform_lasts",div).css({"overflow":"auto"}).animate({"height":maxheight+"px"},450);});}
if(q_pagemode()=="makeweb"&&window.ASresumepause_dec)ASresumepause_dec();},qsn_svcid(noteid));}
function comment_withform_addcomment(noteid){var div=ge(noteid);var d=$(".comment_withform_form",div).get(0);var inp=getElementsByClassName(d,"comment_inputarea");var j=(q_pagemode()=="edit")?3:0;var ref=["name","email","website","comment"];for(i=j;i<4;i++){if(i==2||i==1)continue;var v=inp[i].value;if((v=="")||(v==comment_message[ref[i]+"input"])){return q_alert(comment_message["missing"+ref[i]],{"callback":function(){focusandselect(inp[i]);}},true);}}
var name=inp[0].value;var email=inp[1].value.replace(/(^[ ]*)|([ ]*$)/g,"");var website=inp[2].value;var comment=inp[3].value;var date=q_date2isot(new Date());q_fsm_wait();var isadmin=(q_isadmin(window.memberid))?1:0;var emaildata={};emaildata["objectmail"]=comment_message["mailobject"].replace("%p",q_currsvcname()).replace("%s",q_spacename());emaildata["bodymail"]=comment_message["mailbody"].replace("%n",name).replace("%e",email).replace("%w",website).replace("%c",comment).replace("%p",q_currsvcname()).replace("%s",q_spacename()).replace("%a",window.location.href);if(!q_ispros("account"))emaildata.bccquomodo=false;document.mainform.mission.value="addComment";qsn_ajaxsubmit({noteid:noteid,name:name,email:email,date:date,comment:comment,isadmin:isadmin,website:website,emaildata:emaildata},function(){$(".comment_inputarea",div).val("");q_fsm_delete();q_alert(comment_message["messageregistered"],null,true);comment_renderwithform(div);},qsn_svcid(noteid));return true;}
function q_isadmin(x){if(window.web_js_loaded)return false;if(!members[x])return false;if(members[x].userlevel=="admin")return true;else return false;}
var contact2_message={"redirect":"Page de destination après envoi","currentlink":"Actuellement :","currentlink0":"(aucune)","newnoteprompt":"Indiquez ici les instructions pour les visiteurs.","notetitleprompt":"Cliquez ici pour donner un titre au formulaire.","labelprompt":"(sans titre)","selectprompt":"Cliquez ici pour ajouter vos options.","addressprompt":"(tous les admins)","validationprompt":"Ex : j'accepte les conditions...","priceprompt":"Prix de l'article",":":" : ","input":"texte sur une ligne","email":"adresse mail","textarea":"texte sur plusieurs lignes","select":"liste de choix","condselect":"listes de choix liées","checkboxes":"cases à cocher","validationbox":"case à valider","comment":"commentaire","title":"titre","file":"fichier","date":"date","saleitem":"article à vendre","mandatory":"champ obligatoire","defaultfirst":"première valeur par défaut","optional":"réponse facultative","choose":"Faire un choix","expemail":"utiliser comme expéditeur","expemailinfo":"Le mail envoyé aux administrateurs aura cette adresse comme Expéditeur.","expemailnotunique":"Vous ne pouvez pas utiliser plusieurs adresses mail comme expéditeur.\n\nSi vous désirez demander plusieurs adresses mail, l'une d'elles seulement peut servir d'adresse d'expédition du message aux administrateurs.","name_label":"Nom","firstname_label":"Prénom","email_label":"Adresse mail","textarea_label":"Texte sur plusieurs lignes","deleteentry":"Supprimer ce champ","confirmdeleteentry":"Voulez-vous vraiment supprimer ce champ ?","addentry":"Ajouter un champ","editlabel":"Modifier le titre du champ","missinglabel":"Information\n\nLe champ %s n'a pas de titre. Cela peut être plus clair de lui en donner un.","missingemailaddress":"Il faut indiquer une adresse mail pour l'envoi des demandes de contact.","invalidemailaddress":"L'adresse mail d'envoi des demandes de contact ne semble pas valide. Veuillez indiquer une adresse valide (sans accent ni espace).","oneinvalidemailaddress":"Envoi des demandes de contact : la %s adresse mail ne semble pas valide. Veuillez indiquer une adresse valide (sans accent ni espace).","tomuchemailaddress":"Vous ne pouvez pas envoyer le message à plus de 3 adresses mail. Veuillez supprimer %s adresse(s).","emailad1":"première","emailad2":"deuxième","emailad3":"troisième","missingoptions":"Vous n'avez pas indiqué de choix pour le champ \"%s\". Vous devez proposer au moins un choix.","missingprice":"Vous n'avez pas indiqué le prix pour l'article \"%s\".","invalidprice":"Le prix indiqué pour l'article \"%s\" n'est pas conforme.","sales_invalid_quantity":"Erreur de saisie : la quantité ne doit comporter que des chiffres.","missinganswer":"Le champ \"%s\" est obligatoire pour pouvoir valider le formulaire.","missingvalidation":"Vous devez cocher la case \"%s\" pour pouvoir valider le formulaire.","objectmail":"[Quomodo] - Message de la page \"%p\" de votre site \"%s\"","objectmail-white-label":"Message de la page \"%p\" de votre site \"%s\"","bodyheader":"Un internaute prend contact depuis la page \"%p\" de votre site :\r%pageurl","bodyheaderself":"Vous trouverez ci-dessous une copie de la prise de contact que vous venez d'effectuer.\r\rVous avez pris contact sur la page \"%p\" du site :\r%pageurl","bodytitle":"Titre : ","bodydesc":"Présentation : ","bodyalertreplyok":"\rNE PAS RÉPONDRE DIRECTEMENT À CE MAIL. Pour contacter l'internaute, écrivez-lui à : %s","bodyalertreplyokself":"\rVoici les infos que vous avez indiquées :","bodyalertdonoreply":"\rNE PAS RÉPONDRE DIRECTEMENT À CE MAIL.","bodyfooter":"\r\rL'équipe Quomodo\r\rPour toute question ou suggestion, rendez-vous sur l'aide de Quomodo:\rhttp://aide.quomodo.com\rVous pouvez également nous contacter en envoyant un mail à:\rcontact@quomodo.com\r","noanswer":"(aucune réponse)","nofile_displayed":"(aucun fichier)","file_displayed":"voir fichier joint %s","mailsent":"Votre demande a été correctement envoyée.","mailnotsent":"Un problème est survenu. La demande de contact n'a pas pu être envoyée.","blocked":"Désolé, c'est complet.","snname":"Note Contact","plug":"Contact_Proposez un formulaire de contact, d'inscription, de commande, etc. à vos visiteurs.","emptylabel":"champ","nodatatoexport":"Aucune donnée à exporter.","twocolumns":"Présentation sur deux colonnes","export_btn":"Exporter","reset_btn":"Remettre à zéro","export_reset_title":"Export vers Excel ou Remise à zéro","export_reset_desc":'<div style="text-align: left ; padding: 8px">Vous pouvez :<ul><li>exporter le fichier Excel des réponses</li><li>ou le remettre à zéro</li></ul></div>',"confirm_reset":"Ceci supprime définitivement toutes les données enregistrées dans le formulaire. Merci de confirmer.","copytosender":"m'adresser une copie","pick_date":"Choisir une date","sales_btn":"commander","desc":"(...)"};var contact2_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("contact2_msgs_fr_js_loaded");var contact2_json_template={version:3,text:"",center:"false",header:{display:"true",text:"",icon:"false"},showsignature:"false",form:[],"private":{"emails":[]},twocolumns:"false",common:{left:20,top:0,width:450}};var contact2_formtypes=["input","textarea","select","checkboxes","email","validationbox","title","comment","file","date"];function contact2_upgradejson(r){if((r.version)&&(r.version==contact2_json_template.version))return r;if(r.version<2)contact2_upgradejsontov2(r);if(r.version<3)contact2_upgradejsontov3(r);r.version=contact2_json_template.version;return r;}
function contact2_upgradejsontov2(r){if(r.textstyles&&r.textstyles.center)r.center=(r.textstyles&&r.textstyles.center)||"false";var rpd=RPD.qsnUpgrade.common(r);rpd.p2={"bold":(r.textstyles.bold=="true"),"italic":(r.textstyles.italic=="true")};rpd.p3={"italic":"true","textsize":"90%","bold":(r.textstyles.bold=="true")};rpd.h5={"bold":"true","italic":(r.textstyles.italic=="true"),"textsize":"117%"};r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function contact2_upgradejsontov3(r){if(q_pagemode()!="edit")return r;if(!r.private)r.private={};r.private.emails=r.emails;delete r.emails;return r;}
function contact2_version(notekind){return{margin:1,rpd:1};}
function contact2_datepicker(td){var date=$("input",td).val();if(date)date=$.datepicker.parseDate("dd/mm/yy",date);else date=new Date();var options={"json":{"date":date},"callback":function(x){if(x==null)return;$("input",td).val($.datepicker.formatDate("dd/mm/yy",x.date));$("div",td).html($.datepicker.formatDate("dd.mm.yy",x.date));}};quomodo.fsm.loadDialog("/services/dialogs/datepicker-flatdesign/index_"+q_lang+".html",options);}
function contact2_greyValue(c){var b=rgb2brightness(c)/100;var gamma=1.9;var gb=Math.exp(gamma*Math.log(b));if(gb>0.5)gb=Math.max(0,gb-0.5);else gb=Math.min(1,gb+0.5);var level=Math.exp(Math.log(gb)/gamma);var rgbLevel=Math.round(255*level);return "rgb("+[rgbLevel,rgbLevel,rgbLevel].join(",")+")";}
function contact2_initforweb(id){var r=qsn_thenotes[id];if(r.trackingId&&window.gtag){var gtagId=r.trackingId.split("/")[0];if(!window.__gtagLoadedIds)window.__gtagLoadedIds={};if(!window.__gtagLoadedIds[gtagId]){gtag("config",gtagId);window.__gtagLoadedIds[gtagId]=true;}}
var div=ge(id);var havetohide=$(".tablenotecontent",div).css("display")=="none";if(havetohide)$(".tablenotecontent",div).css("display","table");$("#"+id+" .contact2_form:eq(0) [data-jq-watermark]").watermark(true,{"rpd":"rpd-p1"});$(".watermark",div).css("color","#666666");$(".custom-form-select",div).on("click",function(){var id=$(this).attr("id").replace("label_","");contact2_openselect($("#"+id));});$("select",div).each(function(){this.selectedIndex=0;});$(div).customForm({"enableWrapper":true,"eventClass":{"out":"rpd-gbw2-border","over":"rpd-gbw2-border-over","checked":"rpd-funcolor"}});$(".custom-form-wrapper",div).each(function(){var $this=$(this);var h=$this.find(".custom-form-select").outerHeight()+"px";$this.css("height",h);$this.find("select").css("height",h).css("margin","0");});if(r.quomodoclient&&window.quomodoclient&&quomodoclient.contact2_finalize)quomodoclient.contact2_finalize("initforweb",div,r);if(havetohide)$(".tablenotecontent",div).css("display","none");}
function contact2_getform(r){var f0=[].concat(r.form);var f=[];for(var i=0;i<f0.length;i++){ff=f0[i];if(ff.type!="condselect"){f.push(ff);continue;}
var selects=ff.label.split(">>");var menu=contact2_condselect_menu(ff.options);for(var j=0;j<selects.length;j++){var o={"label":$.trim(selects[j]),"mandatory":ff.mandatory,"options":[],"type":"select","condselectlevel":j};if(j<(selects.length-1))o.onchange="condselect";if(j==0){o.condselect=i;o.condselectlevels=selects.length;o.options=menu.selectmenu;}
if(ff.bdid)o.bdid=ff.bdid+"-"+j;f.push(o);}}
return f;}
function contact2_renderform_view(div,r){if(!r)r=qsn_thenotes[div.id];$(".contact2_form_form",div).attr("id","form_"+div.id).attr("name","form_"+div.id);var t=$(".contact2_form",div).eq(0);var tr,td,ff,d,e,ft;var displaymandatory=false;var expemail=false;$(div).addClass("contact2_v2");var twocolumns=r.twocolumns=="true";var oneline=r.twocolumns=="oneline";if(twocolumns)$(div).removeClass("twocolumn").addClass("twocolumn");else if(r.twocolumns=="oneline")$(div).removeClass("oneline").addClass("oneline");else $(div).removeClass("onecolumn").addClass("onecolumn");var f=contact2_getform(r);for(var i=0;i<f.length;i++){var id=div.id+"_field_"+i;ff=f[i];if(!oneline||i==0){tr=$('<tr></tr>').attr("type",ff.type).attr("mandatory",ff.mandatory).appendTo(t);}
if(ff.type=="email"&&ff.expemail)expemail=true;var textInputLike=$.inArray(ff.type,["input","textarea","email","saleitem"])!=-1;if($.inArray(ff.type,["title","comment"])==-1){var textField=$.trim(ff.label).replace(new RegExp("[ \t]*:$"),"");if(textField&&!(/\?$/).test(textField))textField+=contact2_message[":"];if(twocolumns){if(spacexml.responsive&&q_pagemode()!="edit"){if(!textInputLike&&textField!=""){if($.inArray(ff.type,["checkboxes","textarea"])==-1)td=$('<td valign="middle"></td>').appendTo(tr);else td=$('<td valign="top"></td>').appendTo(tr);tr.append('<td valign="top" align="center" style="width:14px"><span class="contact2_mandatorysign rpd-p3">'+(ff.mandatory?"*":" ")+'</span></td>');tr.addClass("contact2_xs_show");td.append($('<label class="contact2_formelem contact2_v6_formlabel rpd-p1" for="'+id+'" ></label>').html(textField));tr=$('<tr></tr>').attr("type",ff.type).attr("mandatory",ff.mandatory).appendTo(t);}}
if($.inArray(ff.type,["checkboxes","textarea"])==-1){if(ff.type=="saleitem")td=$('<td colspan="2" valign="top"></td>').appendTo(tr);else td=$('<td class="contact2_xs_hide" valign="middle" width="30%"></td>').appendTo(tr);}else{td=$('<td class="contact2_xs_hide" valign="top" width="30%"></td>').appendTo(tr);}}else{if(!oneline&&!textInputLike&&textField!=""){if($.inArray(ff.type,["checkboxes","textarea"])==-1)td=$('<td valign="middle"></td>').appendTo(tr);else td=$('<td valign="top"></td>').appendTo(tr);tr.append('<td valign="top" align="center" style="width:14px"><span class="contact2_mandatorysign rpd-p3">'+(ff.mandatory?"*":" ")+'</span></td>');tr=$('<tr></tr>').attr("type",ff.type).attr("mandatory",ff.mandatory).appendTo(t);}else
td=$([]);}
td.append($('<label class="contact2_formelem contact2_v6_formlabel rpd-p1" for="'+id+'" ></label>').html(textField));if(twocolumns){$(td).css("padding-bottom","1em");if(ff.type!="saleitem")td=$('<td valign="top" style="padding-bottom: 1em"></td>').appendTo(tr);tr.attr("qtype",ff.type);}else{if(oneline){td=$('<td valign="middle" colspan="2" style="padding-right: 1em"></td>').appendTo(tr);td.attr("qtype",ff.type);}else{td=$('<td valign="top" colspan="2" style="padding-bottom: 1em"></td>').appendTo(tr);}
tr.attr("qtype",ff.type);if(textInputLike){td.append('<div class="contact2_input_text_td"><span class="contact2_mandatorysign rpd-p3">'+(ff.mandatory?"*":" ")+'</span></div>');td=td.find("div");}}
if(ff.type=="select"){if(ff.condselect!=undefined){var selecthtml='<select class="contact2_formelem contact2_v6_forminput rpd-p1 rpd-bg cform" id="'+id+'">';var options=[];selecthtml+='<option value="" disabled="disabled">'+escapeHTML(contact2_message["choose"])+'</option>';for(var j=0;j<ff.options.length;j++){var item=ff.options[j];selecthtml+='<option value="'+escapeattribute(item)+'">'+escapeHTML(item)+'</option>';}
selecthtml+='</select>';var $select=$(selecthtml).appendTo(td);$select.get(0).selectedIndex=0;if(ff.onchange&&ff.onchange=="condselect")$select.attr("condselect","1");$select.attr("condselect",""+ff.condselect).attr("condselectlevels",""+ff.condselectlevels);if(ff.condselectlevel!=undefined)$select.attr("condselectlevel",""+ff.condselectlevel);}else{var $select=$('<select class="contact2_formelem contact2_v6_forminput rpd-p1 rpd-bg cform" id="'+id+'"></select>').appendTo(td).options((ff.defaultfirst?[]:[{name:contact2_message["choose"],value:"",disabled:true}]).concat($.map(ff.options,function(v){return{name:v,value:v};})));}}else if(ff.type=="checkboxes"){$.each(ff.options,function(i,v){if($.trim(v)=="")v=" ";td.append($('<input type="checkbox" id="'+id+i+'" name="'+id+i+'" style="margin-right:6px;" class="cform" />').val(v)).append($('<label for="'+id+i+'" class="contact2_formelem rpd-p1" style="vertical-align:middle"></label>').html(v)).append('<br for="'+id+i+'"/>');});}else if(ff.type=="textarea")td.append('<textarea rows="5" class="contact2_formelem contact2_v6_forminput rpd-p1"></textarea>');else if((ff.type=="input")||(ff.type=="email"))td.append('<input type="text" class="contact2_formelem contact2_v6_forminput rpd-p1" id="'+id+'" />');else if(ff.type=="validationbox"){if($.trim(ff.validationtext)==""||ff.validationtext==contact2_message["validationprompt"])ff.validationtext=" ";td.append('<input type="checkbox" id="'+id+'" name="'+id+'" style="margin-right:6px;" value="valid" class="cform" />').append('<label for="'+id+'" class="rpd-p1" style="vertical-align:middle">'+ff.validationtext+'</label>');}else if(ff.type=="file"){td.append('<input type="file" id="file_'+id+'" name="file_'+id+'" style="margin-right:6px;border:0" class="contact2_v6_forminput" value="valid"/>');}else if(ff.type=="date"){td.append('<div class="contact2_formdatev2 rpd-p1 rpd-input"><span style="color:#b4b4b4">'+contact2_message["pick_date"]+'</span></div><input type="hidden" class="contact2_formelem" value="" />');if(q_pagemode()=="makeweb")td.get(0).setAttribute("onclick","contact2_datepicker( this )");else td.unbind("click").click(function(){contact2_datepicker(this);});}else if(ff.type=="saleitem"){if(twocolumns){td.empty();td.append('<div class="contact2_input_text_td"></div>');td=td.find("div");}
td.append('<span class="contact2_formsaleitem rpd-p1'+(twocolumns?' contact2_v6_formlabel':'')+'">'+textField+'</span><span class="contact2_formsaleitem_quantity"><input type="text" class="contact2_saleelem contact2_v6_forminput rpd-p1" id="'+id+'" /></span>');}}else{if(ff.type=="comment"){$('<td valign="top" type="comment" colspan="2" class="rpd-p3" style="padding-bottom:1em"></td>').html(ff.label).appendTo(tr);}else if(ff.type=="title"){var padding=(!twocolumns)?"padding-top : 0.5em; padding-bottom:1em":"padding-top : 1em; padding-bottom:1em";$('<td valign="top" colspan="2" style="'+padding+'"></td>').append($('<h3 style="border-bottom-style:solid; border-bottom-width: 1px;" class="rpd-h5"></h3>').html(ff.label)).appendTo(tr);}
tr.attr("qtype",ff.type);}
if(!twocolumns||(spacexml.responsive&&q_pagemode()!="edit")){tr.find("input").css("padding-left","");if(textInputLike){if($(".tablenotecontent",div).css("display")=="none"){$(".tablenotecontent",div).css("display","table");td.find(".contact2_formelem").watermark(ff.label,{"rpd":"rpd-p1"});td.find(".contact2_saleelem").watermark("0",{"rpd":"rpd-p1"});$(".tablenotecontent",div).css("display","none");}else{td.find(".contact2_formelem").watermark(ff.label,{"rpd":"rpd-p1"});td.find(".contact2_saleelem").watermark("0",{"rpd":"rpd-p1"});}}}
$(":input",tr).mousedown(function(event){q_stopPropagation(event);});if(ff.onchange){$("select",tr).attr("onchange","contact2_condselect_onchange( this )");}
if(twocolumns)tr.append('<td class="contact2_xs_hide" valign="top" align="center" style="width:14px"><span class="contact2_mandatorysign rpd-p3">'+(ff.mandatory?"*":" ")+'</span></td>');if(ff.mandatory)displaymandatory=true;}
$(".contact2_showmandatory",div).eq(0).toggle(displaymandatory==true);if(expemail&&!r.forcecopytosender){$("input.contact2_copytosender:eq(0)",div).attr("id",div.id+"_cts");$("label.contact2_copytosender:eq(0)",div).attr("for",div.id+"_cts").html(contact2_message["copytosender"]);}else $("label.contact2_copytosender:eq(0), input.contact2_copytosender:eq(0)",div).remove();if($(".contact2_form tr:eq(0)",div).attr("qtype")=="title")$(".contact2_form tr:eq(0) td",div).css("padding-top","0");if(r.quomodoclient&&window.quomodoclient&&quomodoclient.contact2_finalize)quomodoclient.contact2_finalize("renderform_view",div,r);if(oneline){tr.find("td:last").addClass("oneline-last");$(".rpd-button",div).parent().addClass("button-form-wrapper");td=$('<td valign="middle" align="right" style="width: 1px" class="button-oneline-wrapper"></td>').appendTo(tr);$(".rpd-button",div).eq(0).clone().appendTo(td);}
if(r.sales)$(".rpd-button",div).text(contact2_message["sales_btn"]);if(r.buttonname)$(".rpd-button",div).text(r.buttonname);}
function contact2_condselect_menu(options){var menu=[];var selectmenu=[];var context=menu;var currpath=[-1];var currlevel=0;var pattern=/^(>*)\s*(.*)/;for(var j=0;j<options.length;j++){var m=options[j].match(pattern);var level=m[1].length;if(level>currlevel){context[currpath[currpath.length-1]]={"name":context[currpath[currpath.length-1]],"menu":[]};context=context[currpath[currpath.length-1]].menu;currpath.push(0);currlevel=level;}else if(level<currlevel){currpath.splice(currpath.length-(currlevel-level),currlevel-level);context=menu;for(var k=0;k<currpath.length-1;k++){context=context[currpath[k]];if(context.menu)context=context.menu;}
currpath[currpath.length-1]=currpath[currpath.length-1]+1;currlevel=level;}else{currpath[currpath.length-1]=currpath[currpath.length-1]+1;}
context.push($.trim(m[2]));if(currlevel==0)selectmenu.push($.trim(m[2]));}
return{"menu":menu,"selectmenu":selectmenu};}
function contact2_condselect_onchange(select){var $select=$(select);var id=$select.attr("id");var condselectlevel=parseInt($select.attr("condselectlevel"),10);var m=id.match(/(.*)(\d+)$/);var prefix=m[1];var nid=parseInt(m[2],10)-condselectlevel;var $parent=$s(0);function $s(i){return $("#"+prefix+(nid+i));}
var form=qsn_thenotes[getContainer(select).id].form;var index=parseInt($parent.attr("condselect"),10);var menu=contact2_condselect_menu(qsn_thenotes[getContainer(select).id].form[index].options).menu;var levels=parseInt($parent.attr("condselectlevels"),10);var values=[];for(var i=0;i<condselectlevel;i++){values.push($s(i).val());}
values.push($select.val());for(var i=0;i<values.length;i++){for(var j=0;j<menu.length;j++){if(menu[j].name==values[i]){menu=menu[j].menu;break;}}}
var options=[];options.push('<option value="" disabled="disabled">'+escapeHTML(contact2_message["choose"])+'</option>');for(var j=0;j<menu.length;j++){var item=menu[j];if(typeof item=="object")item=item.name;options.push('<option value="'+escapeattribute(item)+'">'+escapeHTML(item)+'</option>');}
var $tmp=$s(condselectlevel+1);$tmp.empty().html(options.join(""));$tmp.get(0).selectedIndex=0;$tmp.trigger("changeSelectValue");for(var i=condselectlevel+2;i<levels;i++){$tmp=$s(i);$tmp.empty().html('<option value="" disabled="disabled">'+escapeHTML(contact2_message["choose"])+'</option>');$tmp.get(0).selectedIndex=0;$tmp.trigger("changeSelectValue");}}
function contact2_order(div,r){var savedScrollTop=$(window).scrollTop();var targetSection=$(($("#c-0").length>0)?"#p-1":"#p-0");var targetSectionId=targetSection.attr("id");var trs=$(".contact2_form:eq(0) tr[qtype]",div);var validEmails=[];var itemstitle;var items=[];function itemLine(desc,q,price){return '<tr class="item"><td class="desc">'+escapeHTML(desc)+'</td><td class="quantity">'+q+'</td><td class="unit-price">'+parseFloat(price).toFixed(2)+' €</td><td class="price">'+(q*parseFloat(price)).toFixed(2)+' €</td></tr>';}
if(r.sales.price&&parseFloat(r.sales.price)!=0){var tmpdesc=r.sales.desc;if(!tmpdesc&&r.header&&r.header.text)tmpdesc=r.header.text.replace(/__/g,"");items.push({"desc":tmpdesc||"Votre article","q":1,"price":r.sales.price});}else{itemstitle=r.sales.desc;if(!itemstitle&&r.header&&r.header.text)itemstitle=r.header.text.replace(/__/g,"");}
var moreinfo='';var moreinfomail='';var billing={};var billingDefaultDict={"facturation_name":/^nom$/,"facturation_firstname":/^pr[eé]nom$/,"facturation_address":/^adresse$/,"facturation_zip":/^code +postal$/,"facturation_city":/^(ville|localit[eé])$/,"facturation_email":/^(adresse )?e?-?mail$/};function updateBilling(label,value){label=label.toLowerCase();for(var k in billingDefaultDict){var key=k.replace("facturation_","");var pattern=r.sales[k]||billingDefaultDict[k];if(typeof pattern=="string")pattern=new RegExp(pattern.toLowerCase());if(pattern.test(label)){if(billing[key])return;billing[key]=value;return;}}}
var expemail=null;var f,tr,e,v,vdisplayed,vformdisplayed;var withmandatory=false;var savedvalues=[];var formobj={version:r.common.date,items:[]};var obj=formobj.items;var currobj=obj;var form=contact2_getform(r);for(var i=0;i<form.length;i++){vdisplayed=vformdisplayed=null;f=form[i];var datalabel=label=$.trim(f.label.replace(":",""));tr=trs.eq(i);e=$(":input",tr);if(f.type=="select"){v=e.val();savedvalues.push(v);label+=" ("+contact2_message["select"]+")";if(!v||!v.length)v=(f.mandatory)?"":contact2_message["noanswer"];}else if(f.type=="textarea"){v=e.val();savedvalues.push(v);}else if(f.type=="checkboxes"){v=$(":input:checkbox:checked",tr).map(function(i,va){if($(va).next("span").length)return $(va).next().html();return $(va).val();}).toArray();savedvalues.push(v);v=v.join(", ");if(!v)v=contact2_message["noanswer"];}else if(f.type=="validationbox"){savedvalues.push(null);v=vformdisplayed=$(":input:checkbox:checked",tr).map(function(i,va){return $(va).val();}).toArray().join(", ");datalabel=f.validationtext||label;if(v)v+=" -> \""+f.validationtext+"\"";else vformdisplayed="no";}else if($.inArray(f.type,["title","comment"])!=-1){savedvalues.push(null);v="";}else if(f.type=="file"){savedvalues.push(null);var re=new RegExp(".*[:/\\\\]([^:/\\\\]+)$");v=$.trim(e.val().replace(re,"$1"));if(v=="")vdisplayed=contact2_message["nofile_displayed"];else vdisplayed=contact2_message["file_displayed"].replace(/%s/,v);}else if(f.type=="saleitem"){v=e.val();if(v=="")v="0";if(/[^\d]/.test(v)){q_alert(contact2_message["sales_invalid_quantity"].replace("%s",f.label),{"callback":function(){e.focus();e.select();}},true);return e.focus();}
var q=parseInt(v,10);if(q!=0||!(r.sales&&r.sales.hideemptyitem))items.push({"desc":label,"q":q,"price":f.price});}else{v=e.val();savedvalues.push(v);}
updateBilling(datalabel,v);if(f.type=="saleitem"){if(r.sales&&r.sales.hideemptyitem&&q==0)continue;}
moreinfo+='<div class="line">';if(f.mandatory){if(v==""){if(f.type=="validationbox")q_alert(contact2_message["missingvalidation"].replace("%s",f.validationtext),{},true);else q_alert(contact2_message["missinganswer"].replace("%s",f.label),{},true);return e.focus();}
withmandatory=true;moreinfo+='<span class="label">'+escapeHTML(label+contact2_message[":"])+'</span>';moreinfomail+=label+contact2_message[":"];}else{moreinfo+='<span class="label">'+escapeHTML(label+((label!=""&&$.inArray(f.type,["title","comment"])==-1)?contact2_message[":"]:""))+'</span>';moreinfomail+=label+((label!=""&&$.inArray(f.type,["title","comment"])==-1)?contact2_message[":"]:"");}
if(f.type=="email"){if((v!="")&&(!verbosevalidemail(v)))return e.focus();validEmails.push(v);if(f.expemail==true)expemail=v;}
if(f.type=="title"){var k=datalabel||(contact2_message["emptylabel"]+obj.length);currobj={};currobj[k]=[];obj.push(currobj);currobj=currobj[k];}else if(f.type!="comment"){var o={};o[datalabel]=vformdisplayed||vdisplayed||v;currobj.push(o);}
if(vdisplayed||v){moreinfo+='<span class="value">'+escapeHTML(vdisplayed||v)+'</span>';moreinfomail+=(vdisplayed||v);}
moreinfo+='</div>';moreinfomail+='\n';}
var order={"items":items,"moreinfo":moreinfo,"moreinfo_mail":moreinfomail,"billing":billing,"rawdata":obj};if(itemstitle)order.itemstitle=itemstitle;if(r.quomodoclient&&window.quomodoclient&&quomodoclient.contact2_finalizorder)order=quomodoclient.contact2_finalizorder(order);quomodo.sales.order(order);}
function contact2_sendmessage(x,skipCheck){var div=getContainer(x);var r=qsn_thenotes[div.id];if(r.sales)return contact2_order(div,r);if(!q_readytosubmit())return false;var validEmails=[];var trs;if(r.twocolumns=="oneline")trs=$(".contact2_form:eq(0) td[qtype]",div);else trs=$(".contact2_form:eq(0) tr[qtype]",div);var body="";var expemail=null;var f,tr,e,v,vdisplayed,vformdisplayed;var withmandatory=false;var savedvalues=[];var formobj={version:r.common.date,items:[]};var obj=formobj.items;var currobj=obj;var form=contact2_getform(r);for(var i=0;i<form.length;i++){vdisplayed=vformdisplayed=null;f=form[i];var datalabel=label=$.trim(f.label.replace(":",""));tr=trs.eq(i);e=$(":input",tr);if(f.type=="select"){v=e.val();savedvalues.push(v);label+=" ("+contact2_message["select"]+")";if(!v||!v.length)v=(f.mandatory)?"":contact2_message["noanswer"];}else if(f.type=="textarea"){v=e.val();savedvalues.push(v);}else if(f.type=="checkboxes"){v=$(":input:checkbox:checked",tr).map(function(i,va){if($(va).next("span").length)return $(va).next().html();return $(va).val();}).toArray();savedvalues.push(v);v=v.join(", ");if(!v)v=contact2_message["noanswer"];}else if(f.type=="validationbox"){savedvalues.push(null);v=vformdisplayed=$(":input:checkbox:checked",tr).map(function(i,va){return $(va).val();}).toArray().join(", ");datalabel=f.validationtext||label;if(v)v="[ √ ] \""+f.validationtext+"\"";else vformdisplayed="no";}else if($.inArray(f.type,["title","comment"])!=-1){savedvalues.push(null);v="";}
else if(f.type=="file"){savedvalues.push(null);var re=new RegExp(".*[:/\\\\]([^:/\\\\]+)$");v=$.trim(e.val().replace(re,"$1"));if(v=="")vdisplayed=contact2_message["nofile_displayed"];else vdisplayed=contact2_message["file_displayed"].replace(/%s/,v);}else{v=e.val();savedvalues.push(v);}
if(f.mandatory){if(v==""){if(f.type=="validationbox")q_alert(contact2_message["missingvalidation"].replace("%s",f.validationtext),{},true);else q_alert(contact2_message["missinganswer"].replace("%s",f.label),{},true);return e.focus();}
withmandatory=true;if(f.type=="validationbox"){if(label)body+=label+contact2_message[":"];}else{body+=label+"*"+contact2_message[":"];}}else{if(f.type=="title"){body+="\n-- "+label+"\n\n"}else if(f.type=="comment"){}else{body+=label+((label!="")?contact2_message[":"]:"");}}
if(f.type=="email"){if((v!="")&&(!verbosevalidemail(v)))return e.focus();validEmails.push(v);if(f.expemail==true)expemail=v;}
if(f.type=="title"){var k=datalabel||(contact2_message["emptylabel"]+obj.length);currobj={};currobj[k]=[];obj.push(currobj);currobj=currobj[k];}else if(f.type!="comment"){var o={};if(f.bdid){o[datalabel]={"id":f.bdid,"value":vformdisplayed||vdisplayed||v};}else{o[datalabel]=vformdisplayed||vdisplayed||v;}
currobj.push(o);}
if($.inArray(f.type,["title","comment"])==-1)body+=(vdisplayed||v)+"\n";}
body+="\n";if(!skipCheck&&window.quomodoclient&&quomodoclient.contact2_checkform){if(!quomodoclient.contact2_checkform(div,function(){contact2_sendmessage(x,true);}))return;}
if(r.quomodoclient&&window.quomodoclient&&quomodoclient.contact2_finalizeform){var tmp=quomodoclient.contact2_finalizeform(body,formobj,r);if(tmp){body=tmp.body;formobj=tmp.formobj;}}
if(!expemail&&validEmails.length==1)expemail=validEmails[0];var club_url=q_httpsiteurl()+"/";var pagename="";if(q_pagemode()=="web"){for(var i in web_svctopages)if(currsvcid==web_svctopages[i].id)pagename=web_svctopages[i].name;}else pagename=q_currsvcjson().weblink;function objectmail(){var res;if(window.quomodoclient&&quomodoclient["white-label"]){res=contact2_message["objectmail-white-label"];}else if(spacexml.custommails&&spacexml.custommails.subject){res=spacexml.custommails.subject.replace("%s",contact2_message["objectmail-white-label"]);}else if(spacexml.id=="8A831BE2-6ECE-4A62-9BF9-37EA12C3FB84"||spacexml.parentspace=="8A831BE2-6ECE-4A62-9BF9-37EA12C3FB84"){res="[SDN] - %s".replace("%s",contact2_message["objectmail-white-label"]);}else{res=contact2_message["objectmail"];}
return res.replace("%p",q_currsvcname()).replace("%s",q_spacename());}
var m={frommail:((window.quomodoclient&&quomodoclient["white-label-email"])||expemail||(spacexml.custommails&&spacexml.custommails.email)||"nepasrepondre-form@quomodo.com"),objectmail:objectmail(),bodymail:contact2_message["bodyheader"].replace("%p",q_currsvcname()).replace("%pageurl",club_url+pagename)
+(!expemail?contact2_message["bodyalertdonoreply"]:"")
+((r.header.text||r.text)?"\n\n------\n":"")
+((r.header.text)?(contact2_message["bodytitle"]+r.header.text):"")
+((r.header.text&&r.text)?"\n\n":"")
+((r.text)?(contact2_message["bodydesc"]+r.text):"")
+"\n\n------\n"
+body
+"------"
+((withmandatory)?("\n* = ("+contact2_message["mandatory"]+")\n"):"\n"),tomail:r.nomail?"nomail":r.emails&&(r.emails.length?r.emails:"svcadmins"),svcid:currsvcid,noteid:div.id,form:formobj};if(spacexml.custommails){if(spacexml.custommails.email){if(m.frommail!=spacexml.custommails.email){m.sentfrom=spacexml.custommails.email;if(spacexml.custommails.viafromv)m.sentvia=spacexml.custommails.viafromv;}else{m.sentvia=spacexml.custommails.viafromq||common_message["viafromq"];}
m.sentfromq=spacexml.custommails.email
m.sentviaq=spacexml.custommails.viafromq||common_message["viafromq"];}}
if(expemail&&($("input.contact2_copytosender:eq(0):checked",div).length>0||r.forcecopytosender)){m.ccmail=expemail;m.frommailself=r.frommailself||(spacexml.custommails&&spacexml.custommails.email)||"nepasrepondre-form@quomodo.com";if(r.objectmailself)m.objectmailself=r.objectmailself;if(r.custommailself)m.custommailself=r.custommailself;var headerself;if(r.bodyheaderself){headerself=r.bodyheaderself.replace("%p",q_currsvcname()).replace("%pageurl",club_url+pagename);}else{headerself=contact2_message["bodyheaderself"].replace("%p",q_currsvcname()).replace("%pageurl",club_url+pagename)+contact2_message["bodyalertreplyokself"];}
m.bodymailself=headerself
+((r.header.text||r.text)?"\n\n------\n":"")
+((r.header.text)?(contact2_message["bodytitle"]+r.header.text):"")
+((r.header.text&&r.text)?"\n\n":"")
+((r.text)?(contact2_message["bodydesc"]+r.text):"")
+"\n\n------\n"
+body
+"------"
+((withmandatory)?("\n* = ("+contact2_message["mandatory"]+")\n"):"\n");}
if(!q_ispros("account"))m.bccquomodo=false;if(r.quomodoclient&&window.quomodoclient&&quomodoclient.contact2_finalizemail)quomodoclient.contact2_finalizemail(m,r,body,withmandatory,formobj);q_fsm_wait();var callback=function(x){q_fsm_delete();var trackingFn=function(callback){if(r.trackingId&&window.gtag){gtag("event","conversion",{"send_to":r.trackingId,"event_callback":callback});return;}
callback();};var redirectFn=r.linkdata&&q_link_getproperties(r.linkdata);redirectFn=redirectFn&&redirectFn.onclick;if(x.blocked){var msg=contact2_message["blocked"];if(r.quomodoclient&&window.quomodoclient&&quomodoclient.contact2_blockedmessage)msg=quomodoclient.contact2_blockedmessage(x,div,r,m);return q_alert(msg,{},true);}
if(x.mailsent==0)return q_alert(contact2_message["mailnotsent"],{},true);if(quomodo&&quomodo.page&&quomodo.page.isPopup){parent.q_bubble(contact2_message["mailsent"]);return trackingFn(function(){if(redirectFn)return redirectFn();return quomodo.page.close();});}
if(redirectFn)return trackingFn(function(){redirectFn();});trackingFn(function(){});$("*[for='contact2_restore']",div).show();$(".contact2_restore:eq(0)",div).show().unbind("click").bind("click",function(){var trs;if(r.twocolumns=="oneline")trs=$(".contact2_form:eq(0) td[qtype]",div);else trs=$(".contact2_form:eq(0) tr[qtype]",div);for(var i=0;i<form.length;i++){f=form[i];if(savedvalues[i]==null)continue;tr=trs.eq(i);e=$(":input",tr);if(f.type=="checkboxes"){$(":input:checkbox",tr).each(function(){var $this=$(this);var v=($this.next("span").length)?$this.next().html():$this.val();if($.inArray(v,savedvalues[i])!=-1)$this.prop("checked",true);});}else if(f.type=="date"){e.val(savedvalues[i]);e.prev("div").html(savedvalues[i]);}else e.val(savedvalues[i]);}
$("#"+r.common.noteid+" .contact2_form:eq(0) [data-jq-watermark]").each(function(){if($(this).val())$(this).parent().find(".watermark").hide();});});$(".contact2_form",div).eq(0).empty();contact2_renderform_view(div,r);qsn_jcssmanagerapply(div,r);$(div).find(".contact2_v6_formlabel").css("font-weight","bold");$(div).customForm({"enableWrapper":true,"eventClass":{"out":"rpd-gbw2-border","over":"rpd-gbw2-border-over","checked":"rpd-funcolor"}});$(".custom-form-select",div).addClass("rpd-p1").on("click",function(){var id=$(this).attr("id").replace("label_","");contact2_openselect($("#"+id));});$(".custom-form-wrapper",div).each(function(){var $this=$(this);var h=$this.find(".custom-form-select").outerHeight()+"px";$this.css("height",h);$this.find("select").css("height",h).css("margin","0");});$(".watermark",div).css("color","#666666");q_bubble(contact2_message["mailsent"]);};var langsvc=qsn_svcid(div.id).replace(/@intl/,"@"+q_lang);if($("input:file",div).map(function(){return $(this).val()||null;}).length){if($(".contact2_form_form input[name=data]",div).length==0)$(".contact2_form_form",div).append('<input type="hidden" name="data" id="data"/>');$(".contact2_form_form input[name=data]",div).val(q_toplist(m));q_remote_uploadwithoptions({service:langsvc,mission:"newcontact"},$(".contact2_form_form",div).attr("id"),callback);}else{document.mainform.mission.value="newcontact";q_ajaxsubmitwithservice(langsvc,m,callback);}}
function contact2_openselect(elem){if(document.createEvent){var e=document.createEvent("MouseEvents");e.initMouseEvent("mousedown",true,true,window,0,0,0,0,0,false,false,false,false,0,null);elem[0].dispatchEvent(e);}else if(element.fireEvent){elem[0].fireEvent("onmousedown");}}
var countdown2_message={"plug":"Compte à rebours_Décomptez le temps qu'il reste avant un prochain événement.","defaultEvent":"Nouvel Événement","defaultEventTitle":"Réunion","dayDoesntExist":"Ce jour n'existe pas","afterYear3000":"Cette date est trop éloignée dans le temps !","lateDate":"Cette date est déjà passée","validDate":"Cette date est valide !","screen_WrittenOn":"Le ","screen_WrittenAt":" à ","screen_WrittenHour":"h","remainingDays":" jours","remainingDay":" jour","remainingHours":"heures","remainingHour":"heure","remainingMinutes":"minutes","remainingMinute":"minute","remainingSeconds":"secondes","remainingSecond":"seconde","remaining":"Il reste :","elapsed":"...passé depuis :","tip_displayLogo":"afficher le logo","tip_hideLogo":"masquer le logo","displayLogo":"afficher le logo","hideLogo":"masquer le logo","logo":"Logo : ","alerts":"Cloche","announcements":"Mégaphone","around_the_clock":"Autour du cadran","calendar_events":"Calendrier","countdown2_logo":"Montre","hour_glass":"Sablier","launch":"Fusée","sos":"Girophare","stopwatch":"Chronometre","symbol_clock":"Horloge","symbol_error":"Important","traffic_light_green":"Feu Vert"};var countdown2_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("countdown2_msgs_fr_js_loaded");var countdown2_json_template={version:2,header:{display:"true",text:"",icon:""},text:"",common:{width:340},logoIsHidden:0,logo:"hour_glass"};function countdown2_upgradejson(r){if(!r.version)r.version=1;if(r.version==countdown2_json_template.version)return r;if(r.version<2)r=countdown2_upgradejsontov2(r);r.version=countdown2_json_template.version;return r;}
function countdown2_upgradejsontov2(r){if(r.textstyles&&r.textstyles.center)r.center=(r.textstyles&&r.textstyles.center)||"false";var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function countdown2_version(notekind){return{margin:1,rpd:1};}
function countdown2_isv6(div){return $(".countdown2_v6_view_titreEvenement",div).length>0;}
function countdown2_initforweb(id){countdown2_renderevent(id);}
function countdown2_renderevent(noteid){var div=ge(noteid);var r=qsn_thenotes[noteid];var eventDate=new Date(r.timestampEvenement);var annee=eventDate.getFullYear();var mois=eventDate.getMonth();var jour=eventDate.getDate();var heure=eventDate.getHours();var minute=eventDate.getMinutes();$(".countdown2_view_titreEvenement:eq(0), .countdown2_v6_view_titreEvenement:eq(0)",div).html(r.text);$(".countdown2_view_dateEvenement:eq(0), .countdown2_v6_view_dateEvenement:eq(0)",div).html(countdown2_message["screen_WrittenOn"]+jour+"."+(mois+1)+"."+annee+countdown2_message["screen_WrittenAt"]+twodigs(heure)+countdown2_message["screen_WrittenHour"]+twodigs(minute)+"<br /><br />");if(qsn_currstate!="edit"){if(q_pagemode()=="makeweb")countdown2_update(noteid);else quomodo.events.addTimerListener("clocktimer",function(eventData,eventName){countdown2_update(this.id,eventData.now);countdown2_override_rpdcss(noteid);},div);}}
function countdown2_update(noteid,thedate){if(!countdown2_isv6(ge(noteid)))return countdown2_old_update(noteid,thedate);var t=thedate||new Date();var petitMessage=countdown2_message["remaining"];var remainingSeconds=Math.floor((qsn_thenotes[noteid].timestampEvenement-t.getTime())/1000);if(remainingSeconds<=0){petitMessage=countdown2_message["elapsed"];}
$(".countdown2_v6_view_compteur:eq(0) .countdown2_v6_message",ge(noteid)).html(petitMessage);countdown2_timestring(Math.abs(remainingSeconds),noteid);}
function countdown2_old_update(noteid,thedate){var t=thedate||new Date();var petitMessage="<span>"+countdown2_message["remaining"]+"</span><br /><span>";var remainingSeconds=Math.floor((qsn_thenotes[noteid].timestampEvenement-t.getTime())/1000);if(remainingSeconds<=0){petitMessage="<span style=\"font-size: 15px;color: rgb(255,255,255);\">"+countdown2_message["elapsed"]+"</span><br /><span style=\"font-size: 20px;color: rgb(255,255,255);\">";var oldc=qsn_thenotes[noteid].color;qsn_thenotes[noteid].color="rgb(255,0,0)";qsn_setcolors(noteid,["button","text","countdown2_view_titreEvenement","countdown2_view_dateEvenement","countdown2_view_compteur"]);qsn_thenotes[noteid].color=oldc;}
return $(".countdown2_view_compteur:eq(0)",ge(noteid)).html(petitMessage+countdown2_timestring(Math.abs(remainingSeconds))+"</span>");}
function countdown2_timestring(t,noteid){if(!countdown2_isv6(ge(noteid)))return countdown2_timestring(t);var div=ge(noteid);var nbs=twodigs(t%60);t=Math.floor(t/60);var nbm=twodigs(t%60);t=Math.floor(t/60);var nbh=twodigs(t%24);t=Math.floor(t/24);var nbd=t;$(div).find(".countdown2_times").html(nbs);$(div).find(".countdown2_timem").html(nbm);$(div).find(".countdown2_timeh").html(nbh);$(div).find(".countdown2_timed").html(nbd);$(div).find(".countdown2_legends").html(((nbs>1)?countdown2_message["remainingSeconds"]:countdown2_message["remainingSecond"]));$(div).find(".countdown2_legendm").html(((nbm>1)?countdown2_message["remainingMinutes"]:countdown2_message["remainingMinute"]));$(div).find(".countdown2_legendh").html(((nbh>1)?countdown2_message["remainingHours"]:countdown2_message["remainingHour"]));$(div).find(".countdown2_legendd").html(((nbd>1)?countdown2_message["remainingDays"]:countdown2_message["remainingDay"]));}
function countdown2_old_timestring(t){var s=twodigs(t%60)+"s";t=Math.floor(t/60);if(t==0)return s;s=twodigs(t%60)+"mn "+s;t=Math.floor(t/60);if(t==0)return s;s=twodigs(t%24)+"h "+s;t=Math.floor(t/24);if(t==0)return s;s=""+(t)+((t>1)?countdown2_message["remainingDays"]:countdown2_message["remainingDay"])+" "+s;return s;}
function countdown2_override_rpdcss(noteid){if(!countdown2_isv6(ge(noteid)))return '';var div=ge(noteid);$(div).find(".countdown2_v6_view_titreEvenement").css("font-weight","bold");$(div).find(".countdown2_v6_view_dateEvenement").css({"font-weight":"bold","font-size":"1.39em"});var t=new Date();var remainingSeconds=Math.floor((qsn_thenotes[noteid].timestampEvenement-t.getTime())/1000);if(remainingSeconds<=0)$(div).find(".countdown2_v6_view_compteur table td").not(".countdown2_timeseparator").find(".countdown2_time").css("color","red");}
var dropbox_message={"snname":"Note Dépôt Photos","plug":"Dépôt Photos_Invitez les membres à déposer des photos sur le site, et faites-en une nouvelle page.","desc":"(...)","newnoteprompt":"Invitez ici les membres du site à déposer leurs photos dans cette note.","login_title":"Le dépôt de photos est réservé aux membres de l'espace.","login_prompt":"Si vous êtes membre du site, connectez-vous avec votre identifiant et votre mot de passe. Sinon inscrivez-vous pour devenir membre de ce site.","objectmail":"[Quomodo] - Dépôt de photos sur votre site \"%s\"","bodymail":"%u a déposé de nouvelles photos sur la page %p du site.\r\rAttention : les photos ne sont pas encore en ligne, c'est à vous qu'il revient de les publier.\r\rPour cela, connectez-vous en admin sur la page %p, puis cliquez le lien \"Voir les dépôts\" qui se présente sur la smartnote Dépôt photos.\r\rL'équipe Quomodo\r--\rGuide d'utilisation : http://www.quomodo.com/guide\rQuestions fréquentes : http://www.quomodo.com/faq\rNews : http://news.quomodo.com\rQuomodo : http://www.quomodo.com\r\r","objectmail_firstfile":"[Quomodo] - Dépôt de photos en cours sur votre site \"%s\"","bodymail_firstfile":"%u commence à déposer de nouvelles photos sur la page %p du site.\r\rUne fois le dépôt terminé, vous recevrez un mail pour vous en informer. Cela peut prendre plusieurs dizaines de minutes, la durée varie en fonction du nombre et de la taille des photos déposées.\r\rSi vous ne recevez pas le mail, cela signifie que le dépôt a été interrompu. Dans ce cas, les photos sont tout de même accessibles depuis la note Dépôt Photos de la page %p\r\rL'équipe Quomodo\r--\rGuide d'utilisation : http://www.quomodo.com/guide\rQuestions fréquentes : http://www.quomodo.com/faq\rNews : http://news.quomodo.com\rQuomodo : http://www.quomodo.com\r\r","mailsent":"Votre dépôt a bien été enregistré. Les administrateurs du site ont reçu un mail pour les en informer.","mailnotsent":"Un problème est survenu en envoyant le mail. Les administrateurs du site n'ont pas pu être informés de votre dépôt.","objectmail_cancel":"[Quomodo] - Dépôt de photos annulé sur votre site \"%s\"","bodymail_cancel":"%u a annulé le dépôt de photos qu'il avait commencé sur la page %p du site.\r\rAucun fichier n'a été chargé sur le site.\r\rL'équipe Quomodo\r--\rGuide d'utilisation : http://www.quomodo.com/guide\rQuestions fréquentes : http://www.quomodo.com/faq\rNews : http://news.quomodo.com\rQuomodo : http://www.quomodo.com\r\r","label_upload_desc":"Photos d'un événement du club","qutitle":"Dépôt de photos","quprompt":"Cliquez sur le bouton ci-dessous, puis sélectionnez une ou plusieurs images.","no_file":"Vous devez ajouter au moins une image pour créer un dépôt","qutitlewatermark":"titre de l'ensemble de photos"};var dropbox_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("dropbox_msgs_fr_js_loaded");var dropbox_json_template={version:4,text:"",center:"false",header:{display:"true",text:"",icon:"false"},uploads:[]};function dropbox_initforweb(id){$("#"+id+" .dropbox_viewlink:eq(0)").remove();}
function dropbox_qwiz(x){if(!window.web_js_loaded){window.qsn_disableupdate=true;var note=getContainer(x);var noteid=note.id;note.dropid=undefined;var r=qsn_thenotes[note.id];var d=new Date();var folderdate=twodigs(d.getDate())+twodigs(1+d.getMonth())+twodigs(d.getFullYear()-2000)+'-'+twodigs(d.getHours())+'h'+twodigs(d.getMinutes());var username=members[memberid].username;var album_name=folderdate+"_"+username;var uploadids=[];var first_time=true;var options_file={"callerid":"","uploadkind":"image","title":dropbox_message["qutitle"],"prompt":dropbox_message["quprompt"],"promptmultiple":dropbox_message["quprompt"],"multiple":true,"extensions":["jpg","jpeg","png","gif","tiff","tif"],"namingdata":{"wantalbum":false,"newalbumname":album_name,"wanttitle":true,"titlewatermark":dropbox_message["qutitlewatermark"]},"formats":"screen halfscreen quarterscreen","multiple_extensions":["image"],"reveal":{"anim":true},"resize":true,"web":false,"fromquomodo":false,"newalbumname":"","resize_option":{"ratio":"image"},"transparency":"image","firstfile_callback":function(callback){if(first_time){dropbox_firstfile(noteid,album_name,callback);first_time=false;}else callback();},"addfile_callback":function(uploadid,callback){if(uploadid){dropbox_addonefile(noteid,uploadid,dropbox_message["label_upload_desc"],callback);}else callback();},"removefile_callback":function(uploadid,callback){if(uploadid){dropbox_removeonefile(noteid,uploadid,callback);}else callback();},"callback":function(pdata){if(!pdata){if(note.dropid){document.mainform.mission.value="dropbox_removedrops";q_ajaxsubmit({"noteid":note.id,"dropsids":[note.dropid]},function(){var emaildata={frommail:"nepasrepondre-depot@quomodo.com",tomail:"svcadmins",noteid:note.id,svcid:currsvcid};emaildata["objectmail"]=dropbox_message["objectmail_cancel"].replace(/%s/g,q_spacename());emaildata["bodymail"]=dropbox_message["bodymail_cancel"].replace(/%p/g,q_currsvcname()).replace(/%u/g,q_username(memberid));document.mainform.mission.value="sendemailtoto";q_ajaxsubmitwithservice("common@"+q_lang,emaildata);});}
window.qsn_disableupdate=false;return;}
for(var i=0;i<pdata.files.length;i++){uploadids.push(pdata.files[i].newuploadid);}
var d=new Date();var uploads={"desc":null,"date":q_date2isot(d),"from":"","email":"","ids":[]};if(pdata.uploadtitle)uploads.desc=pdata.uploadtitle;uploads.from=q_displayedusername((members[memberid])?{"username":members[memberid].username,"firstname":members[memberid].firstname}:null);uploads.email=(members[memberid]&&members[memberid].email)?members[memberid].email:"";uploads.ids=uploadids;dropbox_registerdrop(note.id,uploads);window.qsn_disableupdate=false;}};q_choosefile(options_file,true,true);return;var path="/services/dropbox/dialogs/dropbox_add/index_"+q_lang+".html";var options={"json":{"noteid":note.id,"album_name":folderdate+"_"+username},"callback":function(x){if(!x){var rmfiles=[];for(var i=0;i<(r.images||[]).length;i++){var chaine=r.images[i].src;var id=chaine.match(/\d+/);rmfiles.push({"newuploadid":id,"filename":r.images[i].src});}
delete r.images;if(note.dropid){document.mainform.mission.value="dropbox_removedrops";q_ajaxsubmit({"noteid":note.id,"dropsids":[note.dropid]},function(){var emaildata={frommail:"nepasrepondre-depot@quomodo.com",tomail:"svcadmins",noteid:note.id,svcid:currsvcid};emaildata["objectmail"]=dropbox_message["objectmail_cancel"].replace(/%s/g,q_spacename());emaildata["bodymail"]=dropbox_message["bodymail_cancel"].replace(/%p/g,q_currsvcname()).replace(/%u/g,q_username(memberid));if(rmfiles.length==0)return;document.mainform.mission.value="sendemailtoto";q_ajaxsubmitwithservice("common@"+q_lang,emaildata,function(){q_remote_remove(rmfiles,"");});});}
window.qsn_disableupdate=false;return;}
var d=new Date();var uploads={"desc":null,"date":q_date2isot(d),"from":"","email":"","ids":[]};if(x.desc)uploads.desc=x.desc;uploads.from=q_displayedusername((members[memberid])?{"username":members[memberid].username,"firstname":members[memberid].firstname}:null);uploads.email=(members[memberid]&&members[memberid].email)?members[memberid].email:"";uploads.ids=x.ids;delete r.images;dropbox_registerdrop(note.id,uploads);window.qsn_disableupdate=false;}};quomodo.fsm.loadDialog(path,options);}else{club_login_block({title:dropbox_message["login_title"],message:dropbox_message["login_prompt"]});}}
var eqr_message={"defaultimagesourceurl":"Coller ici l'adresse de l'image qui peut être fixe (graphique, photo...) ou animée (webcam...).","pclocalnotvalidate":"Vous n'avez pas validé le choix de votre image.\n\nCelle-ci ne va pas être enregistrée.","badimgextension":"Le fichier image que vous avez choisi n'a pas la bonne extension.\n\nVeuillez choisir un autre fichier.","fermer":"fermer","validateimage":"Veuillez valider l'image","plug":"Equipe_L'annuaire de l'équipe, avec plein de fonctions très web.","desc":"(...)","title":"Titre","lastname":"Nom","forename":"Prénom","surname":"Surnom","birthday":"Anniversaire","birthday_type":"Né(e) le :","date":"jj/mm/aaaa","posteequipe":" ","numerojoueur":" ","poidsjoueur":"(en kg)","taillejoueur":"(en m)","specif_type":"Spécificités :","specifjoueur":" ","parcours_type":"Parcours :","parcoursjoueur":" ","poste_type":"Poste :","numero_type":"N° :","poids_type":"Poids :","taille_type":"Taille :","type":"Type","personname":"Nom","of":"sur","suppressmember":"Êtes-vous certain de vouloir supprimer ce membre?","selectanimage":"Sélectionnez une image de l'équipe:","uploadtitlemembernew":"Ajout d'une image du membre","uploadtitlememberedit":"Changement de l'image du membre","uploadtitlenew":"Ajout d'une image de l'équipe","uploadtitleedit":"Changement de l'image de l'équipe","nomequipe":"Nom de l'équipe","description":"Description de l'équipe","nomember":"Aucune fiche membre.","emptyItem":"Veuillez renseigner le nom ou le prénom du membre."};var eqr_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("eqr_msgs_fr_js_loaded");var eqr_json_template={version:1,nomequipe:"Liste des membres",description:"",color:"",img:{kind:""}};var eqr_json_templatereply={version:1,img:{kind:""},items:{name:{lastname:"",forename:""},surname:"",birthday:{type:"text",date:""},poste:{type:"text",posteequipe:""},numero:{type:"text",numerojoueur:""},poids:{type:"text",poidsjoueur:""},taille:{type:"text",taillejoueur:""},specif:{type:"text",specifjoueur:""},parcours:{type:"text",parcoursjoueur:""}}};var eqr_mynotes={};var eqr_notesload={};var eqr_magnetism=60;var eqr_prepared=false;function eqr_upgradejson(r){if((r.version)&&(r.version==eqr_json_template.version))return r;return r}
function eqr_additem(itemid){var template=(qsn_currstate=="edit")?"eqr_replytemplate_edit":"eqr_replytemplate";var parid=qsn_thenotes[itemid].parentid;var parentdiv=getelement(parid);if(!parentdiv)return null;parentdiv=getElementsByClassName(parentdiv,"eqr_preview")[0];for(var i=0;i<parentdiv.childNodes.length;i++)parentdiv.removeChild(parentdiv.childNodes[i]);var div=qsn_clonetemplate(itemid,template,parentdiv);qsn_renderhtml(itemid);if(!qsn_isnewnote){qsn_thenotes[parid].user["lastitem"]=itemid;}
return div;}
function eqr_beginResize(elem,ee,movecallBack,upcallBack){if(pages_mode()!="edit")return false;if(members[memberid].userlevel!="admin")return false;if(qsn_edittarget)return false;var dragbutton=getElementsByClassName(elem,"eqr_dragbutton")[0];dragbutton.style.cursor="col-resize";var e=ee||window.event;if(!window.qsn_currstate)var qsn_currstate="view";if((((new Date()).getTime()-latestclick.time)<700)&&(Math.abs(q_clientX(e)-latestclick.x)<2)&&(Math.abs(q_clientY(e)-latestclick.y)<2)&&(elem==latestclick.target)&&(!(/(edit|new)/.test(qsn_currstate))))return false;latestclick.time=(new Date()).getTime();latestclick.x=q_clientX(e);latestclick.y=q_clientY(e);latestclick.target=elem;var dw=q_clientX(e)-elem.offsetWidth;var clientX0=q_clientX(e);var clientY0=q_clientY(e);function moveHandler(ee){var em=ee||window.event;if(qsn_currstate=="tm")return;var ew=q_clientX(em)-dw;movecallBack(elem,ew);q_stopPropagation(em);q_preventDefault(em);}
function upHandler(ee){var eu=ee||window.event;document.onmouseup=null;document.onmousemove=null;var ew=q_clientX(eu)-dw;var isMove=((parseInt(clientX0,10)==parseInt(q_clientX(eu),10)));upcallBack(elem,ew);elem=null;q_stopPropagation(eu);q_preventDefault(eu);}
document.onmousemove=moveHandler;document.onmouseup=upHandler;q_stopPropagation(e);if((window.getSelection)&&(window.getSelection()==""))q_preventDefault(e);if(!window.getSelection)q_preventDefault(e);}
function eqr_moveResizeHandler(elem,ew){var leftcolwidth=Math.max(420,ew);var containerwidth=getContainer(elem).offsetWidth-22;eqr_switchlistitem(getContainer(elem),true);if((containerwidth-eqr_magnetism)<=leftcolwidth){leftcolwidth=containerwidth;eqr_switchlistitem(getContainer(elem),false);}
var leftcolmargin=containerwidth-leftcolwidth;var preview=getElementsByClassName(getContainer(elem),"eqr_preview_container")[0];elem.style.width=leftcolwidth+"px";preview.style.width=leftcolmargin+"px";}
function eqr_upResizeHandler(elem,ew){elem.style.cursor="auto";var y=getContainer(elem);var theid=y.id;var sc=qsn_thenotes[theid].spacedefaults.common;var uc=qsn_thenotes[theid].user.common;if(!uc){qsn_thenotes[theid].user.common={};uc=qsn_thenotes[theid].user.common;}
var isselected=((qsn_currstate=="view")||(qsn_currstate=="tm"));if(qsn_currstate=="tm")isselected=tmswitchSelected(elem);if(isselected)qsn_puttofront(theid);if(qsn_currstate=="tm")return false;var isowner=(members[memberid].userlevel=="admin");if(ew==parseInt(uc.leftcolwidth)){var containerwidth=getContainer(elem).offsetWidth-22;var preview=getElementsByClassName(getContainer(elem),"eqr_preview_container")[0];if(containerwidth>ew){eqr_switchlistitem(getContainer(elem),false);elem.style.width=containerwidth+"px";preview.style.width="0px";uc.leftcolwidth=""+elem.offsetWidth+"px";if(isowner)sc.leftcolwidth=""+elem.offsetWidth+"px";}
else{if(ew==420)getContainer(elem).style.width=parseInt(getContainer(elem).style.width)+300+"px";ew=Math.max(420,ew-300);eqr_switchlistitem(getContainer(elem),true);elem.style.width=ew+"px";containerwidth=getContainer(elem).offsetWidth-22;preview.style.width=containerwidth-ew+"px";uc.leftcolwidth=""+ew+"px";uc.width=""+containerwidth+"px";if(isowner){sc.leftcolwidth=""+ew+"px";sc.width=""+containerwidth+"px";}}}
else{ew=Math.max(420,ew);var containerwidth=getContainer(elem).offsetWidth-22;if((containerwidth-eqr_magnetism)<=ew)ew=containerwidth;uc.leftcolwidth=""+ew+"px";if(isowner)sc.leftcolwidth=""+ew+"px";}
if(qsn_edittarget!=null)return false;if(isowner){qsn_adduserrefreshid(theid);qsn_spacedefaultsnotechanged(theid);}else{qsn_usernotechanged(theid);}}
function eqr_beginDrag(elem,e){xqsn_beginDrag(elem,e,eqr_moveHandler,eqr_upHandler);}
function eqr_moveHandler(elem,ex,ey,ew,isGrow,xylimits){qsn_moveHandler(elem,ex,ey,ew,isGrow,xylimits);if(isGrow){var preview=getElementsByClassName(getContainer(elem),"eqr_preview_container")[0];var leftcol=getElementsByClassName(getContainer(elem),"eqr_leftcontent")[0];ew=Math.max(420,ew);eqr_switchlistitem(elem,true);if(ew<=(leftcol.offsetWidth+eqr_magnetism)){ew=leftcol.offsetWidth;eqr_switchlistitem(elem,false);}
var xmax=((xylimits)&&(xylimits.xmax!=undefined))?xylimits.xmax:null;if((xmax!=null)&&(elem.offsetLeft+ew>xmax))ew=xmax-elem.offsetLeft;elem.style.cursor="e-resize";elem.style.width=ew+"px";preview.style.width=(ew-leftcol.offsetWidth)+"px";}}
function eqr_upHandler(elem,ex,ey,ew,isGrow,isMove,xylimits){elem.style.cursor="auto";var y=getContainer(elem);var theid=y.id;var sc=qsn_thenotes[theid].spacedefaults.common;var uc=qsn_thenotes[theid].user.common;if(!uc){qsn_thenotes[theid].user.common={};uc=qsn_thenotes[theid].user.common;}
var isselected=((qsn_currstate=="view")||(qsn_currstate=="tm"));if(qsn_currstate=="tm")isselected=tmswitchSelected(elem);if(isselected)qsn_puttofront(theid);if(qsn_currstate=="tm")return false;var isowner=(members[memberid].userlevel=="admin");if(isGrow){var leftcol=getElementsByClassName(getContainer(elem),"eqr_leftcontent")[0];ew=Math.max(420,ew);ew=Math.max(leftcol.offsetWidth,ew);var xmax=((xylimits)&&(xylimits.xmax!=undefined))?xylimits.xmax:null;if((xmax!=null)&&(elem.offsetLeft+ew>xmax))ew=xmax-elem.offsetLeft;if(ew>leftcol.offsetWidth&&ew<=(leftcol.offsetWidth+eqr_magnetism))ew=leftcol.offsetWidth;uc.width=""+ew+"px";if(isowner)sc.width=""+ew+"px";}else{if(ex<0)ex=2;if(ey<0)ey=0;uc.left=""+ex+"px";uc.top=""+ey+"px";if(isowner){sc.left=""+ex+"px";sc.top=""+ey+"px";}}
if(qsn_edittarget!=null)return false;if(isowner){qsn_adduserrefreshid(theid);qsn_spacedefaultsnotechanged(theid);}else{qsn_usernotechanged(theid);}}
function eqr_selectItem(div){if(qsn_edittarget&&qsn_currstate=="edit"){if(qsn_edittarget!=div){return;}}
var selecteditems=getElementsByClassName(getContainer(div.parentNode),"eqr_selectedItem");if(selecteditems.length>0){for(var i=0;i<selecteditems.length;i++){if(selecteditems[i]!=div)selecteditems[i].className=selecteditems[i].className.replace(/\beqr_selectedItem\b/g,"");}}
div.className=div.className+" eqr_selectedItem";eqr_additem(div.className.split(" ")[0].split("__")[0]);}
function eqr_selectedItem(div){var selecteditems=getElementsByClassName(getContainer(div.parentNode),"eqr_selectedItem");if(selecteditems.length>0){return selecteditems[0].className.split(" ")[0].split("__")[0]}
else return false;}
function eqr_selectItemimport(div){var memb=div.id.split("__")[1];var container=getContainer(div);var membercontainer=getElementsByClassName(div,"eqr_membercontent")[0];if(members[memb].username){var name=members[memb].username;var namecontainer=getElementsByClassName(container,"eqr_lastname")[0];namecontainer=getElementsByClassName(namecontainer,"eqr_editfield")[0];namecontainer.value=name;eqr_focusdefaultitem(namecontainer);eqr_updateEdit(namecontainer);}
if(members[memb].firstname){var name=members[memb].firstname;var namecontainer=getElementsByClassName(container,"eqr_forename")[0];namecontainer=getElementsByClassName(namecontainer,"eqr_editfield")[0];namecontainer.value=name;eqr_focusdefaultitem(namecontainer);eqr_updateEdit(namecontainer);}
if(members[memb].birthdate){var name=members[memb].birthdate;var namecontainer=getElementsByClassName(container,"eqr_date")[0];namecontainer=getElementsByClassName(namecontainer,"eqr_editfield")[0];namecontainer.value=name;eqr_focusdefaultitem(namecontainer);eqr_updateEdit(namecontainer);}
if(members[memb].pict){var name=members[memb].pict;var namecontainer=getElementsByClassName(container,"eqr_imgcol")[0];if(!getElementsByClassName(namecontainer,"eqr_noteimage")[0]){var img=document.createElement("img");img.className="eqr_noteimage";img.alt=eqr_message["validateimage"];var imgperso=getElementsByClassName(namecontainer,"eqr_imgperso")[0];imgperso.appendChild(img);}
namecontainer=getElementsByClassName(namecontainer,"eqr_noteimage")[0];namecontainer.src=q_spaceabsoluteurl(null,name);qsn_thenotes[container.id].img.src=name;}
rm(div.parentNode);}
function eqr_notesupdate(noteid,vartoupdate){var notes;if(vartoupdate=="mynotes")notes=eqr_mynotes;if(vartoupdate=="load")notes=eqr_notesload;if(vartoupdate!="mynotes"&&vartoupdate!="load")return;if(vartoupdate=="mynotes"){if(notes[noteid]!=null)notes[noteid]=null;notes[noteid]=new Array();}
else{if(notes[noteid]==null)notes[noteid]={};}
for(var itemid in qsn_thenotes){if(qsn_thenotes[itemid]!=null){if(qsn_thenotes[itemid].parentid&&qsn_thenotes[itemid].common.notekind=="eqr"){if(qsn_thenotes[itemid].parentid==noteid){if(vartoupdate=="mynotes")notes[noteid].push(itemid);else{if(notes[noteid][itemid]==null)notes[noteid][itemid]=false;}}}}}}
function eqr_addnote(noteid){var div=document.getElementById("q_author_stuff");if(qsn_thenotes[noteid].parentid){var parid=qsn_thenotes[noteid].parentid;if(qsn_thenotes[parid]==null){qsn_thenotes[noteid]=null;}
else{if(eqr_notesload[parid]==null){if(getelement(parid))rm(getelement(parid));qsn_addnote(parid);}
else{if(eqr_notesload[parid][noteid]!=null){if(eqr_notesload[parid][noteid]==false)eqr_notesload[parid][noteid]=true;else{if(getelement(parid))rm(getelement(parid));qsn_addnote(parid);}}
else{if(getelement(parid))rm(getelement(parid));qsn_addnote(parid);}}}}
else{var template=(qsn_currstate=="edit")?"eqr_notetemplate_edit":"eqr_notetemplate";if(qsn_currstate!="edit"){eqr_notesupdate(noteid,"load");eqr_notesupdate(noteid,"mynotes");eqr_sortlistitem(noteid);}
var itemlist=eqr_mynotes[noteid];div=qsn_clonetemplate(noteid,template);if(qsn_isnewnote){div.style.left=qsn_thenotes[noteid].spacedefaults.common.left;div.style.top=qsn_thenotes[noteid].spacedefaults.common.top;div.style.width=qsn_thenotes[noteid].spacedefaults.common.width;var leftcol=gebcn(div,"eqr_leftcontent");var preview=gebcn(div,"eqr_preview_container");leftcol.style.width=qsn_thenotes[noteid].spacedefaults.common.leftcolwidth;preview.style.width=parseInt(qsn_thenotes[noteid].spacedefaults.common.width)-parseInt(qsn_thenotes[noteid].spacedefaults.common.leftcolwidth)+"px";div.style.zindex=qsn_thenotes[noteid].spacedefaults.common.zindex;var colors=getsncontextualbackgroundcolors(7);var i=Math.round(6*Math.random());qsn_thenotes[div.id].color=colors[i];div.style.backgroundColor=colors[i];}
qsn_renderhtml(noteid);}
return div;}
function eqr_renderhtml(noteid){var div=getelement(noteid);var r=qsn_thenotes[noteid];eqr_rendertext(div,r);if(!r.parentid){if(qsn_currstate!="edit"){eqr_renderlistitem(div,true);qsn_setnotecolors(noteid,["linkinnote","eqr_nomequipe","eqr_description"]);var buttons=getElementsByClassName(div,"eqr_buttonsleft")[0];buttons.style.display="none";}
else{eqr_renderlistitem(div,false);qsn_setnotecolors(noteid,["linkinnote"]);}}
else{if(qsn_currstate=="edit"){var x=getElementsByClassName(div,"eqr_items")[0];var fields=getElementsByClassName(x,"eqr_editfield");var n_fields=fields.length;var i=0;for(i=0;i<n_fields;i++){eqr_blurdefaultitem(fields[i]);}}}
eqr_renderimg(div,r);if(!r.parentid){if(qsn_currstate!="edit"){if(r.user.lastitem&&qsn_thenotes[r.user.lastitem])eqr_additem(r.user.lastitem);else if(eqr_mynotes[noteid].length>0)eqr_additem(eqr_mynotes[noteid][0]);}}}
function eqr_rendertext(div,r){if(r.parentid){if(r.items==undefined)return;if(qsn_currstate=="edit"){var linkadd=getElementsByClassName(div,"eqr_imgmembadd")[0];var linkmodif=getElementsByClassName(div,"eqr_imgmembmodif")[0];var linkdelete=getElementsByClassName(div,"eqr_imgmembdelete")[0];if(!r.img.src||r.img.src==""){linkmodif.style.display="none";linkdelete.style.display="none";}
else linkadd.style.display="none";}
var x=getElementsByClassName(div,"eqr_items")[0];var field=getElementsByClassName(x,"eqr_field")[0];var containfield=getElementsByClassName(field,"eqr_containfield")[0];if(qsn_currstate=="edit")var inputfield=getElementsByClassName(containfield,"eqr_editfield")[0];var rr=r.items;var rrr=eqr_json_templatereply.items;for(var tag in rrr){var clone=q_CloneFromNode(field);clone.className="eqr_"+tag+" "+clone.className;if(qsn_currstate=="edit"){var editfield=getElementsByClassName(clone,"eqr_editfield")[0];editfield.className="eqr_"+tag+" "+editfield.className;}
var item=x.appendChild(clone);item.style.display="none";for(var i=0;i<item.childNodes.length;i++)item.removeChild(item.firstChild);if(rrr[tag]instanceof Object){for(var tag2 in rrr[tag]){var clonefield=q_CloneFromNode(containfield);clonefield.className="eqr_"+tag2+" eqr_containfield_"+tag2+" "+clonefield.className;var duplicatedfield=item.appendChild(clonefield);if(qsn_currstate!="edit"){var renderfield=getElementsByClassName(duplicatedfield,"eqr_renderfield")[0];if(tag2!="type"){var content=rr[tag][tag2];if(tag=="poids"&&content!="")content=rr[tag][tag2]+" kg";if(tag=="taille"&&content!="")content=rr[tag][tag2]+" m";if(content!="")renderfield.innerHTML=wiqi_text2HTML(content);else if(tag!="address")renderfield.innerHTML="&nbsp;";}
else{renderfield.innerHTML=eqr_message[tag+"_type"];}}
else{var inputfield_bis=getElementsByClassName(duplicatedfield,"eqr_editfield")[0];if(tag2!="type"){inputfield_bis.className="eqr_"+tag2+" "+inputfield_bis.className;inputfield_bis.value=rr[tag][tag2];}
else{rm(inputfield_bis);var renderfield=document.createElement("div");renderfield.className="eqr_"+tag2+" eqr_renderfield eqr_relative";renderfield.innerHTML=eqr_message[tag+"_type"];duplicatedfield.appendChild(renderfield);}}}}
else{var clonefield=q_CloneFromNode(containfield);clonefield.className="eqr_"+tag+" eqr_containfield_"+tag+" "+clonefield.className;var duplicatedfield=item.appendChild(clonefield);if(qsn_currstate!="edit"){var renderfield=getElementsByClassName(duplicatedfield,"eqr_renderfield")[0];var content=rr[tag];if(tag=="surname"&&content!="")content='"'+rr[tag]+'"';if(content!="")renderfield.innerHTML=wiqi_text2HTML(content);else renderfield.innerHTML="&nbsp;";}
else{var inputfield_bis=getElementsByClassName(duplicatedfield,"eqr_editfield")[0];inputfield_bis.className="eqr_"+tag+" "+inputfield_bis.className;inputfield_bis.value=rr[tag];}}
item.style.display="block";}
x.removeChild(field);}
else{var leftcol=gebcn(div,"eqr_leftcontent");var preview=gebcn(div,"eqr_preview_container");var rr=r.spacedefaults.common;leftcol.style.width=rr.leftcolwidth;preview.style["width"]=parseInt(rr.width)-parseInt(rr.leftcolwidth)+"px";if(qsn_currstate!="edit"){var linkadd=getElementsByClassName(div,"eqr_imgadd")[0];var linkmodif=getElementsByClassName(div,"eqr_imgmodif")[0];var linkdelete=getElementsByClassName(div,"eqr_imgdelete")[0];if(!r.img.src||r.img.src==""){linkmodif.style.display="none";linkdelete.style.display="none";}
else linkadd.style.display="none";var nomequipe=getElementsByClassName(div,"eqr_nomequipe")[0];nomequipe.innerHTML=wiqi_text2HTML(r.nomequipe);var description=getElementsByClassName(div,"eqr_description")[0];description.innerHTML=wiqi_text2HTML(r.description);}
else{var nomequipe=getElementsByClassName(div,"eqr_nomequipe")[0];var inputfield=getElementsByClassName(nomequipe,"eqr_editfield")[0];inputfield.value=r.nomequipe;var description=getElementsByClassName(div,"eqr_description")[0];var inputfield2=getElementsByClassName(description,"eqr_editfield")[0];if(r.description)inputfield2.value=r.description;else eqr_blurdefaultitem(inputfield2);}}}
function eqr_renderimg(div,r){if(!div)div=qsn_edittarget;if(!r)r=qsn_thenotes[div.id];var img;var cnode;if(r.parentid){img=div.getElementsByTagName("img")[0];if((r.img)&&(r.img.src)){if(!img){cnode=getElementsByClassName(div,"eqr_img")[0];img=document.createElement("img");img.className="eqr_noteimage";img.alt=eqr_message["validateimage"];if(pages_mode()=="edit"){img.onclick=function(){eqr_editimg(this);return false;};img.style.cursor="pointer";}
img=cnode.appendChild(img);cnode=null;}
img.src=q_spaceabsoluteurl(null,r.img.src);}
else{rm(img);}}
else{var leftcont=getElementsByClassName(div,"eqr_leftcontent")[0];img=leftcont.getElementsByTagName("img")[0];if((r.img)&&(r.img.src)){if(!img){cnode=getElementsByClassName(div,"eqr_imgequip")[0];img=document.createElement("img");img.className="eqr_noteimage";img.alt=eqr_message["validateimage"];if(pages_mode()=="edit"){img.onclick=function(){eqr_editimg(this);return false;};img.style.cursor="pointer";}
img=cnode.appendChild(img);cnode=null;}
img.src=q_spaceabsoluteurl(null,r.img.src);}
else{rm(img);}}}
function eqr_displaysettings(){if(!eqr_prepared&&!qsn_thenotes[qsn_edittarget.id].parentid){eqr_prepared=true;qsn_colorblock(true,false,eqr_setnotecolor);}
if(eqr_prepared&&qsn_thenotes[qsn_edittarget.id].parentid){eqr_prepared=false;var elem=ge("eqr_colorblock");elem.innerHTML="";}}
function eqr_setnotecolor(x,c){var r=qsn_thenotes[qsn_edittarget.id];r.color=c?c:x.style.backgroundColor;qsn_setnotecolors(qsn_edittarget.id,["linkinnote"]);}
function eqr_canceledit(id){if(qsn_isnewnote){if(qsn_thenotes[id].parentid){if(eqr_selectedItem(ge(id))!=false)var selectedId=eqr_selectedItem(ge(id));}}
var zindex=qsn_getzindex(id);var div=getelement(id);rm(div);if(qsn_isnewnote){qsn_thenotes[id]=null;if(selectedId){qsn_currstate="view";eqr_additem(selectedId);}}
else{var newdiv;qsn_thenotes[id]=q_cloneObject(qsn_thenotes[qsn_backupid(id)]);qsn_thenotes[qsn_backupid(id)]=null;qsn_currstate="view";if(qsn_thenotes[id].parentid)newdiv=eqr_additem(id);else qsn_addnote(id);}
qsn_finishedit();}
function eqr_saveedit(id){if(qsn_thenotes[id].parentid)var parentid=qsn_thenotes[id].parentid;if(parentid){if(qsn_thenotes[id].items.name.lastname==""&&qsn_thenotes[id].items.name.forename==""){alert(eqr_message["emptyItem"]);return false;}}
if(!q_readytosubmit())return false;qsn_currstate="view";var zindex;if(!qsn_isnewnote)qsn_thenotes[qsn_backupid(id)]=null;zindex=qsn_getzindex(id);rm(qsn_edittarget);if(!parentid)var div=qsn_addnote(id);else{var div=eqr_additem(id);}
qsn_notechanged(id,(qsn_isnewnote)?"newnote":"notechanged");if(parentid&&!qsn_isnewnote){var parentdiv=getelement(parentid);eqr_sortlistitem(parentid);eqr_updatelistitem(parentdiv);}
qsn_finishedit();}
function eqr_applynewnoterefresh(newid,oldid){if(newid){var parentid=qsn_thenotes[newid].parentid;}
if(parentid){var parentdiv=getelement(parentid);eqr_notesupdate(parentid,"mynotes");eqr_sortlistitem(parentid);qsn_thenotes[parentid].user["lastitem"]=newid;qsn_notechanged(parentid);eqr_updatelistitem(parentdiv);}}
function eqr_compare(a,b){var res=0;var a_bis=qsn_thenotes[a].items.name.lastname.toLowerCase();var b_bis=qsn_thenotes[b].items.name.lastname.toLowerCase();if(a_bis<b_bis)res=-1;if(a_bis>b_bis)res=1;if(res==0){var a_ter=qsn_thenotes[a].items.name.forename.toLowerCase();var b_ter=qsn_thenotes[b].items.name.forename.toLowerCase();if(a_ter<b_ter)res=-1;if(a_ter>b_ter)res=1;}
return res;}
function eqr_sortlistitem(noteid){eqr_mynotes[noteid].sort(eqr_compare);}
function eqr_updatelistitem(div){var template=(qsn_currstate=="edit")?"eqr_notetemplate_edit":"eqr_notetemplate";template=getElementsByClassName(getelement(template),"eqr_listitem")[0];var newdiv=q_CloneFromNode(template);var olddiv=getElementsByClassName(getContainer(div),"eqr_listitem")[0];olddiv.style.display="none";var listitem=olddiv.parentNode.insertBefore(newdiv,olddiv);listitem.className=olddiv.className;rm(olddiv);eqr_renderlistitem(div,true);return div;}
function eqr_renderlistitem(div,full){if(qsn_currstate!="edit"){var listitem=getElementsByClassName(div,"eqr_listitem")[0];var itemname_container=getElementsByClassName(listitem,"eqr_itemname_container")[0];var itemname=getElementsByClassName(listitem,"eqr_itemname")[0];var itemlist=eqr_mynotes[div.id];for(var j=0;j<itemlist.length;j++){var authorName=qsn_thenotes[itemlist[j]].items.name.lastname;var authorForename=qsn_thenotes[itemlist[j]].items.name.forename;var authorBirthday=qsn_thenotes[itemlist[j]].items.birthday.date;var authorPoste=qsn_thenotes[itemlist[j]].items.poste.posteequipe;if(authorPoste=="")authorPoste=qsn_thenotes[itemlist[j]].items.numero.numerojoueur;var itemname_clone=q_CloneFromNode(itemname_container);var name=document.createTextNode(authorName);var forename=document.createTextNode(authorForename);var birthday=document.createTextNode(authorBirthday);var poste=document.createTextNode(authorPoste);var item_clone=getElementsByClassName(itemname_clone,"eqr_itemname")[0];var item_clone2=q_CloneFromNode(item_clone);var item_clone3=q_CloneFromNode(item_clone);var item_clone4=q_CloneFromNode(item_clone);item_clone2.appendChild(name);item_clone.appendChild(forename);item_clone3.appendChild(birthday);item_clone4.appendChild(poste);itemname_clone.appendChild(item_clone2);itemname_clone.appendChild(item_clone3);itemname_clone.appendChild(item_clone4);itemname_clone.className=itemlist[j]+"__id "+itemname_clone.className;listitem.appendChild(itemname_clone);}
if(itemlist.length==0){var nomember=document.createTextNode(eqr_message["nomember"]);listitem.appendChild(nomember);}
itemname_container.parentNode.removeChild(itemname_container);var r=qsn_thenotes[getContainer(div).id];var linkadd=getElementsByClassName(div,"eqr_imgadd")[0];var linkmodif=getElementsByClassName(div,"eqr_imgmodif")[0];var linkdelete=getElementsByClassName(div,"eqr_imgdelete")[0];if(!r.img.src||r.img.src==""){linkmodif.style.display="none";linkdelete.style.display="none";}
else linkadd.style.display="none";}
if(qsn_thenotes[div.id].spacedefaults.common.width==qsn_thenotes[div.id].spacedefaults.common.leftcolwidth){eqr_switchlistitem(div,false);}}
function eqr_switchlistitem(div,show){var listitem=getElementsByClassName(div,"eqr_border_top")[0];if(show==true)listitem.style.display="block";else listitem.style.display="none";}
function eqr_newitem(x){var id=qsn_makenewjson("eqr");qsn_thenotes[id]=q_cloneObject(eqr_json_templatereply,qsn_thenotes[id]);qsn_currstate="edit";var container=getContainer(x);qsn_thenotes[id].parentid=container.id;qsn_thenotes[id].common.width="auto";var sc=qsn_thenotes[container.id].spacedefaults.common;var uc=qsn_thenotes[container.id].user.common;var isowner=(members[memberid].userlevel=="admin");var preview=getElementsByClassName(container,"eqr_preview_container")[0];if(parseInt(preview.style.width)=="0"){var containerwidth=container.offsetWidth-22;var ew=containerwidth;var elem=getElementsByClassName(container,"eqr_leftcontent")[0]
ew=Math.max(420,ew-300);eqr_switchlistitem(container,true);elem.style.width=ew+"px";preview.style.width=containerwidth-ew+"px";uc.leftcolwidth=""+ew+"px";if(isowner)sc.leftcolwidth=""+ew+"px";if(isowner){qsn_adduserrefreshid(container.id);qsn_spacedefaultsnotechanged(container.id);}else{qsn_usernotechanged(container.id);}}
eqr_additem(id);qsn_entereditmode(id);}
function eqr_closenote(id){if(eqr_mynotes[id]){for(var i=0;i<eqr_mynotes[id].length;i++)rm(eqr_mynotes[id][i]);}
qsn_closenote(id,true);}
function eqr_newnote(){var id=qsn_makenewjson("eqr");eqr_buildnewPosition(qsn_thenotes[id]);q_cloneObject(eqr_json_template,qsn_thenotes[id]);var div=qsn_addnote(id);qsn_notechanged(id,"newnote");}
function eqr_buildnewPosition(n){n.spacedefaults.common.left=(rndab(10,50)+q_windowscrollX())+"px";n.spacedefaults.common.top=(rndab(20,100)+q_windowscrollY())+"px";n.spacedefaults.common.width=rndab(700,750)+"px";n.spacedefaults.common.leftcolwidth="420px";n.user.common.zindex=""+(++zindexmax);}
function eqr_focusdefaultitem(x){var id=getContainer(x).id;focusdefault(x,eqr_message[x.parentNode.className.split(" ")[0].split("_")[1]],"#444444");}
function eqr_blurdefaultitem(x){var id=getContainer(x).id;blurdefault(x,eqr_message[x.parentNode.className.split(" ")[0].split("_")[1]],(qsn_thenotes[id].color=="4")?"#FAA":q_blue,"#444444");}
function eqr_updateEdit(x){var parentdiv=x.parentNode;var parentdiv2=parentdiv.parentNode;var json;if(qsn_thenotes[getContainer(x).id].items)json=qsn_thenotes[getContainer(x).id].items;else json=qsn_thenotes[getContainer(x).id];if(parentdiv2.className.split(" ")[0].split("_")[1]!=parentdiv.className.split(" ")[0].split("_")[1])json[parentdiv2.className.split(" ")[0].split("_")[1]][parentdiv.className.split(" ")[0].split("_")[1]]=(x.value)?x.value:"";else json[parentdiv.className.split(" ")[0].split("_")[1]]=(x.value)?x.value:"";}
function eqr_text_edit_blocks(){return['eqr_eb_img'];}
var eqr_upload_request={"callerid":"","uploadkind":"image","title":"","prompt":"","multiple":false,"extensions":["jpg","jpeg","png","gif","tiff","tif"],"namingdata":{"wantname":true},"formats":"halfscreen","callback":"","cancel":{"callback":"eqr_cancelimageedit","args":[]},"reveal":{"anim":true},"resize":true,"resize_option":{"ratio":"image"}}
function eqr_cancelimageedit(){var div=qsn_edittarget;if(!qsn_thenotes[div.id].parentid)qsn_canceledit();}
function eqr_launch_upload(x){eqr_upload_request.callback="eqr_"+x+"_pc_img_done";var id=qsn_edittarget.id;eqr_upload_request.callerid=id;eqr_upload_request.prompt=eqr_message["selectanimage"];if(qsn_thenotes[qsn_edittarget.id].parentid)eqr_upload_request.title=eqr_message["uploadtitlemember"+x];else eqr_upload_request.title=eqr_message["uploadtitle"+x];qdyn_qorgload('qu_reveal',[eqr_upload_request],'qu');}
function eqr_deleteimg(div){if(qsn_currstate!="edit")qsn_editnote(div);qsn_thenotes[qsn_edittarget.id].imgbk=null;qsn_thenotes[qsn_edittarget.id].img.src=null;var img=qsn_edittarget.getElementsByTagName("img")[0];rm(img);if(!qsn_thenotes[qsn_edittarget.id].parentid)qsn_saveedit();}
function eqr_editimg(div){var parentdiv=getContainer(div);var parid=parentdiv.id;var typeupload="";if(qsn_currstate!="edit")qsn_editnote(div);else{if(qsn_edittarget!=parentdiv)return;}
var r=qsn_thenotes[parid];if(!r.img.src||r.img.src=="")typeupload="new_pc_img";else typeupload="edit_pc_img";eqr_editimage(typeupload);}
function eqr_editimage(s){if(s=="new_pc_img"){eqr_launch_upload("new");return;}
if(s=="edit_pc_img"){eqr_launch_upload("edit");return;}
qsn_thenotes[qsn_edittarget.id].imgbk=q_cloneObject(qsn_thenotes[qsn_edittarget.id].img);}
function eqr_suppress_img(editblockid){qsn_thenotes[qsn_edittarget.id].imgbk=null;qsn_thenotes[qsn_edittarget.id].img.src=null;var img=qsn_edittarget.getElementsByTagName("img")[0];hideshowblock([editblockid,'eqr_eb_imgoptions','eqr_eb_imgfinished'],eqr_text_edit_blocks());eqr_displaysettings();if(qsn_edittarget.className.match(/\beqr_note\b/g))qsn_saveedit();return false;}
function eqr_setimagefromfile(t){if(!q_checkimgextensionfile(t)){alert(eqr_message["badimgextension"]);return false;}
qsn_thenotes[qsn_edittarget.id].img.src="file://"+t.value;qsn_thenotes[qsn_edittarget.id].img.kind="pc_local";eqr_renderimg(qsn_edittarget,qsn_thenotes[qsn_edittarget.id]);return false;}
function eqr_suppress_pc_img(){return eqr_suppress_img("eqr_edit_pc_img");}
function eqr_validate_new_pc_img(){return eqr_validate_pc_img("eqr_new_pc_img");}
function eqr_validate_edit_pc_img(){return eqr_validate_pc_img("eqr_edit_pc_img");}
function eqr_validate_pc_img(editblockid){if(!q_checkimgextensionfile(editblockid+"_file")){alert(eqr_message["bagimgextension"]);return false;}
q_remote_upload(editblockid+"_form",eval(editblockid+"_done"));hideshowblock(editblockid,'eqr_wait_pc_img');return false;}
function eqr_new_pc_img_done(x){return eqr_pc_img_done("eqr_new_pc_img",x);}
function eqr_edit_pc_img_done(x){return eqr_pc_img_done("eqr_edit_pc_img",x);}
function eqr_pc_img_done(editblockid,x){qsn_thenotes[qsn_edittarget.id].imgbk=null;if(qsn_edittarget.className.match(/\beqr_itemnote\b/g))qsn_thenotes[qsn_edittarget.id].img.src=x.files[0].formats["halfscreen"];if(qsn_edittarget.className.match(/\beqr_note\b/g))qsn_thenotes[qsn_edittarget.id].img.src=x.files[0].formats["halfscreen"];qsn_thenotes[qsn_edittarget.id].img.kind="pc";eqr_renderimg(qsn_edittarget,qsn_thenotes[qsn_edittarget.id]);if(qsn_edittarget.className.match(/\beqr_note\b/g))qsn_saveedit();return false;}
function eqr_terminateimg(){if(qsn_thenotes[qsn_edittarget.id].img.kind=="pc_local"){if(!confirm(eqr_message["pclocalnotvalidate"]))return false;qsn_thenotes[qsn_edittarget.id].img=q_cloneObject(qsn_thenotes[qsn_edittarget.id].imgbk);qsn_thenotes[qsn_edittarget.id].imgbk=null;eqr_renderimg(qsn_edittarget,qsn_thenotes[qsn_edittarget.id]);}
hideshowblock(['eqr_new_web_img','eqr_new_pc_img','eqr_edit_web_img','eqr_edit_pc_img','eqr_eb_imgfinished'],eqr_text_edit_blocks());eqr_displaysettings();return false;}
function eqr_entereditmode(id){if(qsn_thenotes[id].parentid){var parentdiv=getelement(qsn_thenotes[id].parentid);var x=getelement(id);if(!qsn_isnewnote){rm(x);qsn_thenotes[qsn_backupid(id)]=q_cloneObject(qsn_thenotes[id]);eqr_additem(id);qsn_edittarget=getelement(id);}
else qsn_edittarget=x;qsn_showsettings(id);qsn_dimothers(id);qsn_puttofront((qsn_thenotes[qsn_edittarget.id].parentid)?qsn_thenotes[qsn_edittarget.id].parentid:id);}
else{qsn_entereditmode(id,true);}}
function eqr_switchitemvalidation(parentdiv,display){var buttons=getElementsByClassName(parentdiv,"eqr_editionbuttons")[0];var itemvalidation=getElementsByClassName(parentdiv,"eqr_itemvalidation")[0];if(display==false){buttons.style.display="block";itemvalidation.style.display="none";}
else{itemvalidation.style.display="block";buttons.style.display="none";}}
function eqr_suppressnote(x){if(qsn_thenotes[x].itemslist){for(var i=0;i<qsn_thenotes[x].itemslist.length;i++)qsn_thenotes[qsn_thenotes[x].itemslist[i]]=null;}
qsn_suppressnote(x,true);}
function eqr_allowsuppress(id){if(qsn_thenotes[id].parentid){return((qsn_thenotes[id].common.ownerid=="quomodo")||(confirm(eqr_message["suppressmember"])));}
else return qsn_allowsuppress(id,true);}
function eqr_suppressitem(x){var container=getContainer(x);if(getElementsByClassName(container,"eqr_selectedItem")[0]){selecteditems=getElementsByClassName(container,"eqr_selectedItem");var noteid=selecteditems[0].className.split(" ")[0].split("__")[0];qsn_suppressnote(noteid,true);}
else{if(getElementsByClassName(container,"eqr_itemnote")[0]){var itemnote=getElementsByClassName(container,"eqr_itemnote")[0];var noteid=itemnote.id;qsn_suppressnote(noteid,true);}}
if(noteid){var parid=container.id;var itemlist=eqr_mynotes[parid];var j;var test=false;for(var i=0;i<itemlist.length;i++){if(itemlist[i]==noteid){j=i;test=true;}}
if(test==true){eqr_notesupdate(parid,"mynotes");itemlist=eqr_mynotes[parid];if(j!=0){if(j!=itemlist.length)eqr_additem(itemlist[j]);else eqr_additem(itemlist[j-1]);}
else{if(itemlist.length>0)eqr_additem(itemlist[j]);}
eqr_updatelistitem(container);}}}
function eqr_edititem(x){if(pages_mode()!="edit")return false;if(members[memberid].userlevel!="admin")return false;var container=getContainer(x);if(gebcn(container,"eqr_selectedItem")){var selecteditem=getElementsByClassName(container,"eqr_selectedItem")[0];var id=selecteditem.className.split(" ")[0].split("__")[0];}
else{if(getElementsByClassName(container,"eqr_itemnote")[0]){var itemnote=getElementsByClassName(container,"eqr_itemnote")[0];var id=itemnote.id;}}
if(id){qsn_isnewnote=false;qsn_currstate="edit";qsn_entereditmode(id);}}
function eqr_importmember(div){div.style.display="none";var container=getElementsByClassName(getContainer(div),"notecontent")[0];var importcontainer=document.createElement('div');importcontainer.className="eqr_membercontent eqr_membercontentedit eqr_importcontainer";for(var memb in members){var linecontainer=document.createElement('div');linecontainer.className="eqr_importline";linecontainer.id="eqr_member__"+memb;linecontainer.onclick=function(){eqr_selectItemimport(this);return false;};var name="";if(members[memb].username){name=name+members[memb].username;if(members[memb].firstname)name=name+", ";}
if(members[memb].firstname)name=name+members[memb].firstname;var namenode=document.createTextNode(name);linecontainer.appendChild(namenode);if(members[memb].username!="Quomodo")importcontainer.appendChild(linecontainer);}
container.appendChild(importcontainer);}
function eqr_buttonsSwitch(div){var buttons=getElementsByClassName(getContainer(div),"eqr_buttonsleft")[0];if(buttons.style.display=="none")buttons.style.display="block";else buttons.style.display="none";}
function eqr_widthinfo(){return{wfixed:true};}
function eqr_initforweb(id){$.getScript("/services/eqr/scripts/eqr_msgs_"+q_lang+".js",function(){$.getScript("/services/eqr/scripts/eqr.js");});}
var events_message={"newnoteprompt":"Cliquez ici pour créer une nouvelle note Événements","notetitleprompt":"Cliquez ici pour ajouter un titre.","notedescprompt":"Entrez ici votre description","plug":"Evenements_Affichez les événements passés ou à venir de votre site.","desc":"La note Événements permet d'afficher simplement une liste d'événements (matchs, anniversaires...) liés à la vie du site.","nbtodisplay":"Nb. d'événements à afficher","sortorder":"Ordre d'affichage","asc":"Par date croissante","desc":"Par date décroissante","samecolor":"Utiliser la couleur du texte pour les événements","noevent":"Aucun événement","viewothers":"voir tous les événements (%s de plus)"};var events_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("events_msgs_fr_js_loaded");var events_json_template={version:5,header:{display:"false",text:"",icon:"false"},eventstype:[{kind:"match",date:"td/7daysf"},{kind:"general",date:"td/7daysf"},{kind:"birthday",date:"td/7daysf"}],samecolor:"false",nbtodisplay:10,sortorder:"asc"};var events_oldjson_template={"1":{version:1,text:"",color:"rgb(100%,100%,100%)",header:{display:"true",text:"",icon:""},textstyles:{size:"1",font:"-1",bold:"false",italic:"false",center:"false"},eventstype:[{kind:"match",date:"td/7daysf"},{kind:"general",date:"td/7daysf"},{kind:"birthday",date:"td/7daysf"}],nbtodisplay:10,sortorder:"asc"},"2":{version:2,text:"",color:"rgb(100%,100%,100%)",header:{display:"true",text:"",icon:""},textstyles:{size:"1",font:"-1",bold:"false",italic:"false",center:"false"},eventstype:[{kind:"match",date:"td/7daysf"},{kind:"general",date:"td/7daysf"},{kind:"birthday",date:"td/7daysf"}],textcolor:"-1",samecolor:"false",nbtodisplay:10,sortorder:"asc"},"3":{version:3,textsize:12,text:"",color:"rgb(100%,100%,100%)",header:{display:"true",text:"",icon:""},textstyles:{font:"-1",bold:"false",italic:"false",center:"false"},eventstype:[{kind:"match",date:"td/7daysf"},{kind:"general",date:"td/7daysf"},{kind:"birthday",date:"td/7daysf"}],textcolor:"-1",samecolor:"false",nbtodisplay:10,sortorder:"asc"},"4":{version:4,textsize:12,text:"",margin:10,color:"rgb(100%,100%,100%)",header:{display:"true",text:"",icon:""},textstyles:{font:"-1",bold:"false",italic:"false",center:"false"},eventstype:[{kind:"match",date:"td/7daysf"},{kind:"general",date:"td/7daysf"},{kind:"birthday",date:"td/7daysf"}],textcolor:"-1",samecolor:"false",nbtodisplay:10,sortorder:"asc"}};function events_upgradejson(r){if(!r.version)r.version=1;if(r.version==events_json_template.version)return r;if(r.version<2)r=events_upgradejsontov2(r);if(r.version<3)r=events_upgradejsontov3(r);if(r.version<4)r=events_upgradejsontov4(r);if(r.version<5)r=events_upgradejsontov5(r);r.version=events_json_template.version;return r;}
function events_upgradejsontov2(r){r.textcolor="-1";r.samecolor="false";return r;}
function events_upgradejsontov3(r){var sizes=qsn_definefontsizes(r.common.notekind);r.textsize=parseInt(sizes[r.textstyles.size],10);delete r.textstyles.size;return r;}
function events_upgradejsontov4(r){r.margin=10;return r;}
function events_upgradejsontov5(r){if(r.textstyles&&r.textstyles.center)r.center=(r.textstyles&&r.textstyles.center)||"false";var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function events_version(notekind){return{margin:1,rpd:1};}
function events_renderhtml(noteid){var div=ge(noteid);var r=qsn_thenotes[noteid];if(qsn_currstate=="edit")$(".events_desc",div).val(r.text);else{if(!r.text)$(".events_desc",div).eq(0).hide();else $(".events_desc",div).eq(0).texthtml(r.text);}
qsn_container_renderhtml(div,r);qsn_setcenterdesc(noteid);qsn_jcssmanagerapply(div,r);if(qsn_currstate=="edit")qsn_blurdefault(gebcn(div,"events_desc"),"notedescprompt");$(".events_loading:eq(0)",div).show();$(".events_events:eq(0), .events_v5_events:eq(0)",div).hide();var ar=[];var ar2=[];for(var i=0;i<r.eventstype.length;i++){ar.push($.extend({},r.eventstype[i]));if($.inArray(ar[i].date,["all","beg/end"])==-1)continue;ar[i].date=(r.sortorder=="desc")?"beg/yd":"td/end";}
if(window.snchoosersample||window.demosample){div.calendar=make_calendarsample();events_rendereventstable(noteid);return;}
q_events_request(function(x){if(!isremoved(div)){div.calendar=x;events_rendereventstable(noteid);}},{events:ar,from:1,to:r.nbtodisplay,order:(r.sortorder=="desc")?"descending":"ascending"});}
function events_isv5(div){return $(".events_v5_events",div).length>0;}
function events_xs_resize(div){if(qsn_isTouchDevice()&&$(".events_v5_events .q_event",div).length>0)events_resize(div);}
function events_resize(div){if(!qsn_isTouchDevice())return;if(qsn_responsive_mod()!="xs")return;if($(".events_viewothers",div).length!=0)return;var targetHeight=0;var initHeight=0;$(".events_v5_events > div > div",div).each(function(index){initHeight+=$(this).outerHeight();if(index<=6)targetHeight+=$(this).outerHeight();});if(initHeight<=targetHeight)return;var maxheight=Math.min(initHeight,450);$(".events_v5_events",div).css({"height":targetHeight+"px","overflow":"hidden"}).after('<div class="events_viewothers rpd-p3 rpd-action rpd-ipt" style="text-align:center">'+events_message["viewothers"].replace("%s",$(".events_v5_events .q_event",div).length-3)+'</div>');$(".events_viewothers",div).unbind("click").on("click",function(){$(this).fadeOut();$(".events_v5_events",div).css({"overflow":"auto"}).animate({"height":maxheight+"px"},450);});}
function events_rendereventstable(noteid){var div=$("#"+noteid);var r=qsn_thenotes[noteid];var thediv=$(".events_events:eq(0), .events_v5_events:eq(0)",div).empty();var theevents=div.get(0).calendar.events;var mode=(qsn_currstate=="edit"&&(q_getuserlevel(memberid)=="admin"||hasCurrrights("events")))?"edit":"view";if(theevents.length>0){q_events_renderevents(thediv,theevents,{mode:mode,displaydate:true,withdetails:false,displaytype:false,callback:function(){events_renderhtml(noteid);}});var $titles=$(".q_event_title",thediv);if(events_isv5(div)){$titles.addClass("rpd-p1 rpd-link");$titles.find(".q_events_date").addClass("rpd-p2");thediv.find("> div ").prepend('<div class="hr"></div>');thediv.find(".q_event").addClass("rpd-list-item").after('<div class="hr"></div>');if((qsn_currstate=="view"&&q_pagemode()=="edit"&&/artemapage/.test(currsvcid)))$(".q_event",thediv).append('<div class="events_icon_edit font-q-i"></div>');}else{$titles.css("border-bottom","solid 1px");if(r.samecolor=="true")$titles.css("color","").css("border-color","").addClass("qsn5_qsn1 text_self_bw__bd_self_bw");else $titles.addClass("qsn1 bd_bw qtxt1 all");}}else{$(".events_v5_events",div).html('<div class="hr"></div><div class="rpd-list-item rpd-p2">'+events_message["noevent"]+'</div><div class="hr"></div>');}
if(qsn_currstate=="view"){if(q_pagemode()=="edit"&&/artemapage/.test(currsvcid)){$("div.q_event",thediv).on("mouseenter",function(){$(".events_icon_edit",this).fadeIn();});$("div.q_event",thediv).on("mouseleave",function(){$(".events_icon_edit",this).fadeOut();});$("div.q_event .events_icon_edit",thediv).unbind("click").on("click",function(event){var options={pagemode:(q_pagemode()=="edit"&&(q_getuserlevel(memberid)=="admin"||hasCurrrights("events")))?"edit":q_pagemode(),callback:function(){events_renderhtml(noteid);}};q_events_alert([theevents[$(this).parent().attr("qid")]],options);});}else{$("div.q_event",thediv).css("cursor","pointer").unbind("click").click(function(event){var options={pagemode:(q_pagemode()=="edit"&&(q_getuserlevel(memberid)=="admin"||hasCurrrights("events")))?"edit":q_pagemode(),callback:function(){events_renderhtml(noteid);}};q_events_alert([theevents[$(this).attr("qid")]],options);});}}
$(".events_loading:eq(0)",div).hide();$(".events_events:eq(0), .events_v5_events:eq(0)",div).show();if(events_isv5(div))qsn_jcssmanagerapply(div,r);else{qsn_settextproperties(noteid);qsn_setcolors(noteid);}
events_resize(div);};function events_initforweb(id){events_renderhtml(id);}
var ffbb2_json_template={version:2,header:{display:"true",text:"Actualités de la FFBB",icon:"false"}};var ffbb2_rss_url="http://www.ffbb.com/rss2.xml";var ffbb2_rss_displaycount=5;var ffbb2_timers={};function ffbb2_upgradejson(r){if((r.version)&&(r.version==ffbb2_json_template.version))return r;if(r.version<2)ffbb2_upgradejsontov2(r);r.version=ffbb2_json_template.version;return r;}
function ffbb2_upgradejsontov2(r){var rpd=RPD.qsnUpgrade.common(r);rpd.h4={"bold":true};r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function ffbb2_version(notekind){return{margin:1,rpd:1};}
function ffbb2_getheadericon(noteid){var r=qsn_thenotes[noteid];if(r.header.icon=="false")return "";return "/services/ffbb2/images/ffbb48.png";}
function ffbb2_initforweb(id){ffbb2_refresh(id,true);}
function ffbb2_refresh(noteid,forceRefresh){if(qsn_currstate=="edit"||(!forceRefresh&&q_fsmpresent()))return;var div;var r;div=ge(noteid);if(isremoved(div))return clearInterval(ffbb2_timers[noteid]);hideshowblock(gebcn(div,"ffbb2_content"),gebcn(div,"ffbb2_loading"));r=qsn_thenotes[div.id];ffbb2_getitems(div,r,forceRefresh);hideblock(gebcn(div,"ffbb2_filtered"));}
function ffbb2_getitems(div,r,forceRefresh){div.ffbbPageContainer=div.ffbbContainer=null;var ar=[];for(var i=0;i<ffbb2_rss_displaycount;i++)ar.push(null);hideshowblock(gebcn(div,"ffbb2_content"),gebcn(div,"ffbb2_loading"));ffbb2_load(div,forceRefresh);}
function ffbb2_nav(elem){$(elem).parents(".ffbb2_div_resize").find("a.ffbb2_an_item").get(0).click();}
function ffbb2_renderitems(div,items){var ffbb2_debug=0;var img_wrappers=[];try{if(isremoved(div))return;var noteid=div.id;var r=qsn_thenotes[div.id];var list=gebcn(div,'ffbb2_items');if(!list){div=ge(noteid);if(isremoved(div))return;list=gebcn(div,'ffbb2_items');if(!list)return;}
$(list).empty();if(!items){return;}
ffbb2_debug++;var firstItem=true;for(var i=0;i<items.length;i++){var item=items[i];if(!item)continue;var tr_hr=$('<tr></tr>').appendTo(list);tr_hr.append('<div class="hr"></div>');var tr=$('<tr></tr>').appendTo(list);var td=$('<td class="ffbb2_item rpd-list-item '+(i==0?"first":"")+(i==(items.length-1)?"last":"")+'"></td>').appendTo(tr);firstItem=false;var ffbb2_rss_template=$(".ffbb2_rss_template div:eq(0)",div).clone();var tmp=$('<div></div>').html(item.Content);var src=tmp.find("img").attr("href").replace(/https?:\/\//,"https://");ffbb2_rss_template.find(".ffbb2_image_wrapper").html('<img src="/images/blank.gif"/>').data("src",src);tmp.find("img").remove();ffbb2_rss_template.find(".ffbb2_description").html(tmp.html());ffbb2_rss_template.find(".ffbb2_description").data("text",ffbb2_rss_template.find(".ffbb2_description").html());ffbb2_rss_template.find(".title a").html(item.Title);ffbb2_rss_template.find(".title a").attr("href",item.Url);var array=item.Time.split("-");try{var date=$.datepicker.parseDate("mm/dd/yy",$.trim(array[0]));}catch(err){try{var date=$.datepicker.parseDate("DD, d. MM yy",$.trim(array[0]));}catch(err){var date=$.datepicker.parseDate("DD, d MM yy",$.trim(array[0]));}}
ffbb2_rss_template.find(".date").html($.datepicker.formatDate("dd.mm.yy",date)+" "+$.trim(array[1]));ffbb2_rss_template.find(".title a").mousedown(function(event){q_stopPropagation(event);}).data("item",item);ffbb2_rss_template.appendTo(td).get(0).widthrule=function(w){return Math.max(0,w-30-2);};if(i==(items.length-1)){var tr_hr=$('<tr></tr>').appendTo(list);tr_hr.append('<div class="hr"></div>');}}
var img_wrappers=[];;$(list).find(".ffbb2_image_wrapper").each(function(){img_wrappers.push($(this).get(0));});function resize_image_wrapper(wrapper){var $wrapper=$(wrapper);var totalHeight=$wrapper.height();var $title=$wrapper.parents(".ffbb2_div_resize").first().find(".title");var $date=$wrapper.parents(".ffbb2_div_resize").first().find(".date");var $comment=$wrapper.parents(".ffbb2_div_resize").first().find(".ffbb2_description");$date.show();$comment.show();$comment.html($comment.data("text"));var titleHeight=$title.outerHeight(true);var dateHeight=$date.outerHeight(true);$date.toggle(((titleHeight+dateHeight)<=totalHeight));$comment.ellipsis({height:totalHeight-(titleHeight+dateHeight)});var commentHeight=$comment.outerHeight(true);$comment.toggle(((titleHeight+dateHeight+commentHeight)<=totalHeight));}
for(var i=0;i<img_wrappers.length;i++){img_wrappers[i].widthrule=function(w){return Math.round(w/4);};img_wrappers[i].resized=function(elem){if(!elem)return;var $elem=$(elem);var w=$elem.width();$elem.height(w);var $img=$elem.find("img");$img.css("position","relative");function cropImg(){var x=$img.data("naturalDims");if(!x)return q_hsetimgsrc([$img.get(0),$elem.data("src")],function(x){$img.data("naturalDims",{width:x&&x.width,height:x&&x.height});cropImg();},null,true);if(!x.width)return;if(x.width>x.height){var imgW=Math.round(x.width*w/x.height);$img.height(w);$img.css("left",'-'+Math.round((imgW-w)/2)+"px");$img.width(imgW);}else{var imgW=Math.round(x.height*w/x.width);$img.width(w);$img.css("top",'-'+Math.round((imgW-w)/2)+"px");}}
resize_image_wrapper(elem);cropImg();}}
div.growingupdone=function(){$(".ffbb2_image_wrapper",div).each(function(){resize_image_wrapper(this);});};div.toresize=function(){var x=img_wrappers;x=x.concat(qsn_container_toresize(this));return x;};for(var i=0;i<img_wrappers.length;i++){img_wrappers[i].widthrule=function(w){return Math.round(w/4);};}
ffbb2_debug++;var pc=div.ffbbPageContainer;if(pc){$(".ffbb2_pre, .ffbb2_pre_new",div).toggle(!pc.IsFirstPage());$(".ffbb2_next, .ffbb2_next_new",div).toggle(!pc.IsLastPage());}else $(".ffbb2_pre, .ffbb2_next, .ffbb2_pre_new, .ffbb2_next_new",div).hide();ffbb2_debug++;qsn_jcssmanagerapply(div,r);ffbb2_debug++;q_changedwidth(div,parseInt(qsn_width(div.id),10));var noteid=div.id;var r=qsn_thenotes[noteid];}catch(e){debugmail("in ffbb2/ffbb2_renderitems (debug v.2012-08-07) for "+noteid+" step "+ffbb2_debug+" : "+e.message+"\r"+"club_menubariconsize="+window.club_menubariconsize+" - club_sitecolorpalette="+window.club_sitecolorpalette+" - club_siteelemscolor="+window.club_siteelemscolor+" - qlub0_checked="+window.qlub0_checked);}}
function ffbb2_load(div,forceRefresh){if(qsn_currstate=="edit"||(!forceRefresh&&q_fsmpresent()))return;if(isremoved(div))return;var noteid=div.id;var r=qsn_thenotes[noteid];if(!r)r=qsn_thenotes[q_idalias[noteid]];ffbb2_ajaxget("/cgi-bin/cgixml?url="+encodeURIComponent(ffbb2_rss_url),function(xml){hideshowblock(gebcn(div,"ffbb2_loading"),gebcn(div,"ffbb2_content"));var ffbb2_conteneur="item";var ffbb2_title="title";var ffbb2_description="description";var ffbb2_link="link";var ffbb2_date="pubDate";var currmax=0;var currindex=0;var item,author,link,title,description,date,ffbbItem;var ffbb2_debug=0;try{if($("title",xml).length>0)author=ffbb2_getcdata($("title",xml).get(0));var items=$(ffbb2_conteneur,xml);var ffbbItems=[];ffbb2_debug++;$(ffbb2_conteneur,xml).each(function(i,item){link=title=description=date='';try{link=$(ffbb2_link,item).eq(0).text();}catch(e){}
try{title=ffbb2_getcdata($(ffbb2_title,item).get(0));}catch(e){}
try{description=ffbb2_getcdata($(ffbb2_description,item).get(0));description=description.replace(/\r\n/,'<br />').replace(/\n/,'<br />');}catch(e){}
var date=$(ffbb2_date,item).eq(0).text();ffbbItem=new FfbbItem(author,link,title,description,date);ffbbItems.push(ffbbItem);});ffbb2_debug++;if(!div.ffbbContainer)div.ffbbContainer=ffbbItems;else div.ffbbContainer=div.ffbbContainer.concat(ffbbItems);ffbb2_debug++;var content=div.ffbbContainer;ffbb2_debug++;var pc;if(!div.ffbbPageContainer){pc=new PageContainer(content,ffbb2_rss_displaycount);div.ffbbPageContainer=pc;}else{pc=div.ffbbPageContainer;pc.SetContent(content);}
ffbb2_debug++;ffbb2_renderitems(div,pc.GetFirstPage());ffbb2_debug++;if(q_pagemode()=="makeweb"&&r.makewebdisplay&&$(div).data("resumepause")==1&&window.ASresumepause_dec){$(div).data("resumepause",0);ASresumepause_dec();}}
catch(e){debugmail("in ffbb2/HandleXML for "+noteid+" step "+ffbb2_debug+" : "+e.message);}}).complete(function(){});};function FfbbItem(site,url,title,content,time){this.Site=site;this.Url=url;this.Title=title;this.Content=content;this.Time=time;}
function ffbb2_sortbydate(items){if(!items)return;var j,temp;var exchanged;for(var i=0;i<items.length;i++){exchanged=false;for(j=0;j<items.length-i-1;j++){if(items[j].Time<items[j+1].Time){temp=items[j];items[j]=items[j+1];items[j+1]=temp;exchanged=true;}}
if(!exchanged)break;}}
function ffbb2_pre(x){if(qsn_currstate!="view")return;var div=getContainer(x);var pc=div.ffbbPageContainer;ffbb2_renderitems(div,pc.GetPrePage());}
function ffbb2_next(x){if(qsn_currstate!="view")return;var div=getContainer(x);var pc=div.ffbbPageContainer;ffbb2_renderitems(div,pc.GetNextPage());}
function ffbb2_managerefresh(noteid){if(ffbb2_timers[noteid]!=null)clearInterval(ffbb2_timers[noteid]);ffbb2_timers[noteid]=setInterval("ffbb2_refresh('"+noteid+"')",300000);}
function ffbb2_getcdata(element){var s='';function trim(myString){return myString.replace(/^\s+/g,'').replace(/\s+$/g,'');}
for(var i=0;i<element.childNodes.length;i++){if(element.childNodes[i].nodeType==1)s+=ffbb2_getcdata(element.childNodes[i]);if(element.childNodes[i].nodeName=='#cdata-section')s+=element.childNodes[i].nodeValue;else if(element.childNodes[i].nodeName=='#text'&&trim(element.childNodes[i].nodeValue)!="")s+=element.childNodes[i].nodeValue;}
return s;}
function PageContainer(content,pageSize){this.PageIndex=0;this.Content=content;this.PageSize=pageSize;}
PageContainer.prototype.GetPageIndex=function(){return this.PageIndex;};PageContainer.prototype.GetCount=function(){return(this.Content==null)?0:this.Content.length;};PageContainer.prototype.GetPageNum=function(){return Math.ceil(this.GetCount()/this.PageSize);};PageContainer.prototype.IsLastPage=function(){return this.PageIndex==(this.GetPageNum()-1)||this.GetPageNum()==0;};PageContainer.prototype.IsFirstPage=function(){return this.PageIndex==0;};PageContainer.prototype.GetPage=function(index){if(index>this.GetPageNum()-1||index<0)return null;this.PageIndex=index;if(index<this.GetPageNum()-1){var result=[];for(var i=0;i<this.PageSize;i++)result[i]=this.Content[this.PageIndex*this.PageSize+i];return result;}else{var result=[];for(var i=0;i<this.Content.length-this.PageSize*index;i++)result[i]=this.Content[this.PageIndex*this.PageSize+i];for(var i=this.Content.length-this.PageSize*index;i<this.PageSize;i++)result[i]=null;return result;}};PageContainer.prototype.GetFirstPage=function(){return this.GetPage(0);};PageContainer.prototype.GetLastPage=function(){return this.GetPage(this.GetPageNum()-1);};PageContainer.prototype.GetNextPage=function(){return this.GetPage(this.PageIndex+1);};PageContainer.prototype.GetPrePage=function(){return this.GetPage(this.PageIndex-1);};PageContainer.prototype.GetCurrentPage=function(){return this.GetPage(this.PageIndex);};PageContainer.prototype.SetPageSize=function(pageSize){this.PageSize=pageSize;};PageContainer.prototype.SetContent=function(content){this.Content=content;};function ffbb2_ajaxget(url,callback){var re=new RegExp("feed://","g");url=url.replace(re,"http://");return $.get(url,function(data){var xml=$.parseXML(data);callback.apply(this,[xml]);},"text");}
var files_message={"newnoteprompt":"Cliquez ici pour créer une nouvelle note Documents","notetitleprompt":"Cliquez ici pour ajouter un titre.","notedescprompt":"Entrez ici votre description","plug":"Documents_Affichez les documents de votre choix et proposez une archive ZIP.","desc":"La note Documents permet de stocker et de télécharger des documents dans une page","upload_title":"Importer des documents","upload_prompt":"Cliquez sur OK pour sélectionner les documents à importer","thefile":"Cliquez ici pour ouvrir le fichier ","nofiles":"Vous devez sélectionner au moins un fichier avant de valider.","confirmdelete":"Êtes-vous sûr de vouloir supprimer ce fichier ?","deletefilealt":"Supprimer ce fichier","suppressnote":"Êtes-vous certain de vouloir supprimer cette note ?\n\nATTENTION : ceci ne supprime pas les fichiers de votre espace de stockage. Pour libérer l'espace de stockage qui est occupé par vos fichiers, ouvrez votre panneau « Fichiers chargés sur le site » et supprimez les fichiers.","suppressnote_bubble":"Pour libérer de l'espace de stockage, ouvrez votre panneau « Fichiers chargés sur le site ».","ziping":"Le fichier est en cours de préparation. Merci de bien vouloir patienter...","dlall":"Télécharger tout","dlone":"Télécharger","displaydownloadbutton":"Afficher le bouton \"Tout télécharger\""};var files_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("files_msgs_fr_js_loaded");var files_json_template={version:7,center:"false",text:"",header:{display:"true",text:"",icon:"false"},files:[],displaydownloadbutton:"true"};function files_upgradejson(r){if(!r.version)r.version=1;if(r.version==files_json_template.version)return r;if(r.version<2)r=files_upgradejsontov2(r);if(r.version<3)r=files_upgradejsontov3(r);if(r.version<4)r=files_upgradejsontov4(r);if(r.version<5)r=files_upgradejsontov5(r);if(r.version<6)r=files_upgradejsontov6(r);if(r.version<7)r=files_upgradejsontov7(r);r.version=files_json_template.version;return r;}
function files_upgradejsontov2(r){if(r.headerdisplay){r.header.display=(r.headerdisplay=="1")?"true":"false";delete r.headerdisplay;}
r.textstyles={size:"1",font:"-1",bold:"false",italic:"false",center:"false"};return r;}
function files_upgradejsontov3(r){if(!r.displaydownloadbutton)r.displaydownloadbutton="true";return r;}
function files_upgradejsontov4(r){var sizes=qsn_definefontsizes(r.common.notekind);r.textsize=parseInt(sizes[r.textstyles.size],10);delete r.textstyles.size;return r;}
function files_upgradejsontov5(r){r.margin=10;return r;}
function files_upgradejsontov6(r){if(r.textstyles&&r.textstyles.center)r.center=(r.textstyles&&r.textstyles.center)||"false";var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function files_upgradejsontov7(r){if(q_pagemode()=="web")return r;if(!r.sortoptions||!r.sortoptions.target||!r.sortoptions.order){delete r.sortoptions;return r;}
r.files=qsn_filestable_coregetsorted(r.files,r.sortoptions.target,r.sortoptions.sortorder);delete r.sortoptions;return r;}
function files_version(notekind){return{margin:1,rpd:1};}
function files_zipall(elem){var div=getContainer(elem);var r=qsn_thenotes[div.id];q_fsm_wait();document.mainform.mission.value="zipfiles";q_ajaxsubmitwithservice("common@fr",r,function(x){var path="/services/dialogs/waitforfile/index_"+q_lang+".html";var options={json:{downloadsrc:x.href},callback:function(x){}};q_fsm_delete();quomodo.fsm.loadDialog(path,options);});}
function flash_resizeSec(div){var noteid=div.id;var r=qsn_thenotes[noteid];var sectionid=qsn_stuffID(noteid).replace(/-stuff/,"");var $divSec=$("#"+sectionid+"-stuff");$(".flash_video",div).height($divSec.height());}
function flash_iframeResizable(r){var iframeOk=false;var toWidthCase=["facebook"];var toFixedCase=[];var statu=["resizable","width","fixed"];if(r.html.type=="object"||r.html.type=="embed"||r.html.type=="old")return statu[0];if(r.html.type=="iframe"){var src=$(r.html.content).attr('src');if(/facebook\.com\/plugins\/video/.test(src))return statu[0];if(/facebook/.test(src))return statu[1];if(/scorenco\.com/.test(src))return "resizableOnce";return statu[0];}}
function flash_initforweb(id){var r=qsn_thenotes[id];var div=ge(id);if(div){div.resized=function(elem,w){var elem=gebcn(elem,"flash_video");var w=elem.offsetWidth;if(flash_iframeResizable(r)=="resizable"){var sec=quomodo.page.sections.get(div.id);if(sec&&sec.fixedHeight=="screen"){elem.style.height="100%";$("iframe",elem).css("height","100%");}else{elem.style.height=Math.round(w*r.video.rapport)+"px";$("iframe",elem).css("height",Math.round(w*r.video.rapport)+"px");}}
if(flash_iframeResizable(r)=="width"){elem.style.height=r.video.width*r.video.rapport+"px";$("iframe",elem).css("height",r.video.width*r.video.rapport+"px");}}}}
function flash_xs_resize(div){q_changedwidth(div,qsn_width_xs(div.id));flash_responsive(div);}
function flash_sm_resize(div){q_changedwidth(div,qsn_width_sm(div.id));flash_responsive(div);}
function flash_lg_resize(div){q_changedwidth(div,qsn_width_lg(div.id));flash_responsive(div);}
function flash_md_resize(div){q_changedwidth(div,parseInt(qsn_width(div.id),10));flash_responsive(div);}
function flash_responsive(div){var flashv=$(div).find('.flash_video');var iframe=flashv.find('iframe');if(iframe.length>0){var url=iframe.attr("src");if(/facebook/.test(url)){url=url.replace(/width=[0-9]*/,"width="+flashv.width());iframe.attr("src",url);}
if(/openrunner/.test(url)){var options=iframe.data("options")||{};options=$.extend(options,{"maxwidth":qsn_responsive_width(div.id)});iframe.data("options",options);}
if(/deezer/.test(url)){if(qsn_responsive_mod()=="xs"){iframe.attr("oldurl",url);url=url.replace(/(width=)[^\&]+(\&)/g,"$1"+qsn_width_xs(div.id)+"$2");iframe.attr("src",url);}else if(iframe.attr("oldurl")){iframe.attr("src",iframe.attr("oldurl"));iframe.removeAttr("oldurl");}}}}
var flickr_message={"newnoteprompt":"cliquez ici pour créer une nouvelle note Flickr","plug":"Flickr_Affichez dans votre espace des photos stockées chez Flickr.","desc":"La note Flickr permet d'afficher très simplement des photos issues de site de partage de photos Flickr","notetitleprompt":"Entrez le titre de la note","back":"précédent","next":"suivant","on":" sur ","page":"page ","nokeywords":"Aucun mot-clé n'a été entré","nophoto":"Aucune photo ne correspond à la recherche","sortby":"Trier par : ","interest":"interêt","interestingnesstitle":"Cliquez ici pour afficher les images classées par interet","date":"date","recentnesstitle":"Cliquez ici pour afficher les images classées par date depuis la plus récente","relevance":"pertinence","relevancenesstitle":"Cliquez ici pour afficher les images classées par pertinence","originalphototitle":"Cliquez ici pour télécharger l'original de la photo","originalphoto":"Télécharger l'original","backtolist":"retour à la liste","search_display":"afficher la recherche","search_hide":"masquer la recherche","flickroptions":"Affichage","ppp":"Nb d'images par page :","taboptions":"Options de la note","usernotfound":"Aucun utilisateur ne correspond à ce nom d'utilisateur"};var flickr_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("flickr_msgs_fr_js_loaded");var flickr_json_template={version:3,text:"",color:"rgb(100%,100%,100%)",header:{display:"true",color:"c1",text:""},ppp:9,lastsearch:{keywords:"",option:"text",sorting:"",page:1},laststate:{state:"",photo_id:""},searchvisible:true};function flickr_upgradejson(r){if((r.version)&&(r.version==flickr_json_template.version))return r;if(!r.header)r.header=flickr_json_template.header;if(r.headerdisplay){r.header.display=(r.headerdisplay=="1")?"true":"false";delete r.headerdisplay;}
return r;}
function flickr_initforweb(id){$.getScript("/services/flickr/scripts/flickr_msgs_"+q_lang+".js",function(){$.getScript("/services/flickr/scripts/flickr.js",function(){flickr_renderhtml(id);});});}
var fv_json_template={version:6,text:"",fv:{kind:"",xmlconfig:"",width:400,height:300,version:0},options:{autoplay:"false",loop:"false",showplayer:"autohide",controls:"normal"},header:{display:"false",text:"",icon:""}};function fv_upgradejson(r){if((r.version)&&(r.version==fv_json_template.version))return r;if(r.version<2)fv_upgradejsontov2(r);if(r.version<3)fv_upgradejsontov3(r);if(r.version<4)fv_upgradejsontov4(r);if(r.version<5)fv_upgradejsontov5(r);if(r.version<6)fv_upgradejsontov6(r);r.version=fv_json_template.version;return r;}
function fv_upgradejsontov2(r){if(!r.notemargin)r.notemargin=1;if(r.textcolor==undefined)r.textcolor=-1;if(!r.textstyles)r.textstyles={size:r.textsize,font:r.textfont,bold:String(r.textbold!="0"),center:String(r.textcenter!="0"),italic:String(r.textitalic!="0")};if(!r.options)r.options=fv_json_template.options;return r;}
function fv_upgradejsontov3(r){r.notemargin=parseInt(qsn_definepaddings("fv")[r.notemargin],10);r.textstyles.size=""+parseInt(qsn_definefontsizes("fv")[r.textstyles.size],10);return r;}
function fv_upgradejsontov4(r){r.header=fv_json_template.header;return r;}
function fv_upgradejsontov5(r){r.margin=r.notemargin;delete r.notemargin;return r;}
function fv_upgradejsontov6(r){if(r.textstyles&&r.textstyles.center)r.center=(r.textstyles&&r.textstyles.center)||"false";var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function fv_version(notekind){return{margin:1,rpd:1};}
function fv_initforweb(id){fv_renderplayer(id,ge(id));}
function fv_renderplayer(noteid,div){var r=qsn_thenotes[noteid];var theplayercode='';if(q_pagemode()!="makeweb"&&!document.createElement('canvas').getContext){if($(div).find(".fv_video object").length==0){gebcn(div,'fv_video').innerHTML="";var col1=quomodoColors.richColor(RPD.hbgcolor(r.rpd)).c;var col2=quomodoColors.richColor(RPD.pbgcolor(r.rpd)).c;theplayercode="<object type='application/x-shockwave-flash' data='"+q_spaceabsoluteurl(r.common.ownerid,r.fv.videofolder+'video_player.swf')+"' width='100%' height='100%'><param name='movie' value='"+q_spaceabsoluteurl(r.common.ownerid,r.fv.videofolder+'video_player.swf')+"' /><param name='wmode' value='transparent' /><param name='allowFullScreen' value='true' />";theplayercode+="<param name='FlashVars' value='configxml="+q_spaceabsoluteurl(r.common.ownerid,r.fv.videofolder+'video_config.xml?v='+r.fv.version)+"&amp;startimage="+q_spaceabsoluteurl(r.common.ownerid,r.fv.videofolder+'preview.jpg?v='+r.fv.version)+"&amp;playercolor="+col2+"&amp;iconplaybgcolor="+col2+"&amp;videobgcolor="+col1+"&amp;bgcolor="+col1+"&amp;bgcolor1="+col1+"&amp;bgcolor2="+col1+"&amp;slidercolor1="+col1+"&amp;slidercolor2="+col2+"&amp;sliderovercolor="+col2;theplayercode+=(r.options.autoplay=="true")?"&amp;autoplay=1":"";theplayercode+=(r.options.loop=="true")?"&amp;loop=1":"";theplayercode+="&amp;showplayer="+(r.options.showplayer);var showstop=(r.options.controls=="simple")?"0":"1";var showtime=(r.options.controls=="simple"||r.options.controls=="normal")?"0":"1";var showvolume=(r.options.controls=="simple"||r.options.controls=="normal")?"0":"1";var showfullscreen=(r.options.controls=="simple")?"0":"1";theplayercode+="&amp;showstop="+showstop;theplayercode+="&amp;showtime="+showtime;theplayercode+="&amp;showvolume="+showvolume;theplayercode+="&amp;showfullscreen="+showfullscreen;theplayercode+="' /></object>";gebcn(div,'fv_video').innerHTML=theplayercode;return;}}else if(q_pagemode()=="web"&&!!document.createElement('canvas').getContext){if($(div).find(".fv_video video").length==0){gebcn(div,'fv_video').innerHTML="";theplayercode=$('<video controls>').attr("src",q_spaceabsoluteurl(r.common.ownerid,r.fv.videofolder+"video.mp4")).attr("autoplay",(r.options.autoplay=="true")?true:false).attr("loop",(r.options.loop=="true")?true:false).attr("poster",q_spaceabsoluteurl(r.common.ownerid,r.fv.videofolder+"preview.jpg")).attr("height","100%").attr("width","100%");$(".fv_video",div).append(theplayercode);return;}}
if(q_pagemode()=="web")return;theplayercode=$('<video controls>').attr("src",q_spaceabsoluteurl(r.common.ownerid,r.fv.videofolder+"video.mp4")).attr("autoplay",(r.options.autoplay=="true")?true:false).attr("loop",(r.options.loop=="true")?true:false).attr("poster",q_spaceabsoluteurl(r.common.ownerid,r.fv.videofolder+"preview.jpg")).attr("height","100%").attr("width","100%");$(".fv_video",div).append(theplayercode);}
function fv_xs_resize(div){var r=qsn_thenotes[div.id];var w=parseInt(qsn_width_xs(div.id),10);q_changedwidth(div,w);var elem=gebcn(div,'fv_video');var ratio=r.fv.height/r.fv.width;elem.style.height=Math.max(Math.round(w*ratio),20)+"px";}
function fv_sm_resize(div){var r=qsn_thenotes[div.id];var w=parseInt(qsn_width_sm(div.id),10);q_changedwidth(div,w);var elem=gebcn(div,'fv_video');var ratio=r.fv.height/r.fv.width;elem.style.height=Math.max(Math.round(w*ratio),20)+"px";}
function fv_lg_resize(div){var r=qsn_thenotes[div.id];var w=parseInt(qsn_width_lg(div.id),10);q_changedwidth(div,w);var elem=gebcn(div,'fv_video');var ratio=r.fv.height/r.fv.width;elem.style.height=Math.max(Math.round(w*ratio),20)+"px";}
function fv_md_resize(div){var r=qsn_thenotes[div.id];var w=parseInt(qsn_width(div.id),10);q_changedwidth(div,w);var elem=gebcn(div,'fv_video');var ratio=r.fv.height/r.fv.width;elem.style.height=Math.max(Math.round(w*ratio),20)+"px";}
var gm_message={"editAPIkey":"modifier la clé API","notetitleprompt":"Cliquez ici pour ajouter un titre.","newcommentprompt":"Cliquez ici pour ajouter un commentaire.","notedescprompt":"Indiquez votre description.","markersinfo":"Pour ajouter un point, cliquez sur la carte.","shapesinfo":"Pour ajouter une forme, cliquez longuement, puis déplacez la souris et cliquez à nouveau. Double-clic pour terminer. Clic droit pour supprimer.","linesinfo":"Pour ajouter un circuit, cliquez longuement, puis déplacez la souris et cliquez à nouveau. Double-clic pour terminer. Clic droit pour supprimer.","taboptions":"Options de la carte","visitorinteraction":"Fonctions activées :","static":"Aucune","move":"Déplacement + zoom","dynamic":" + option Plan / Satellite","search":" + Recherche autorisée","kmloverlay":"Fond de carte :","kmlzoom":"Centrer sur le département","trafficoptions":"Trafic : ","displaytraffic":"Afficher le trafic","add_dep":"Indiquez l'adresse que vous recherchez","add_arr":"Indiquez l'adresse d'arrivée","street":"Rue","zipcode":"CP","city":"Ville","country":"Pays","error_dep_empty":"Vous n'avez indiqué aucune adresse. Impossible d'afficher la carte.","error_arr_empty":"Vous n'avez indiqué aucune adresse d'arrivée. Impossible d'afficher l'itinéraire.","go":"Aller ici ?","leave":"Partir d'ici ?","hideform":"Cacher le formulaire","printform":"Afficher le formulaire","hidemap":" Masquer la carte","printmap":"Afficher la carte","hidepanel":"Masquer l'itinéraire","printpanel":"Afficher l'itinéraire","direction":"Itinéraire","map":"Plan","start":"Départ :","address":"Adresse ou code postal :","shrink":"réduire","enlarge":"agrandir","plug":"Cartes_Affichez une carte, des points d'intérêt ou un itinéraire, avec les Cartes Google.","notfound":"L'adresse que vous avez indiquée dans la Google Map est introuvable. Essayez en précisant davantage.","add":"Ajouter","addmarker":"Ajouter un point","addline":"Tracer une ligne","addshape":"Dessiner une forme","chooseicon":"Choisissez une icône :","confirmdeletemarker":"Êtes-vous sûr de vouloir supprimer ce marqueur ?","deletemarker":"Supprimer le marqueur","editmarker":"Informations concernant ce point","title":"Titre","title_v3":"Titre :","properties":"Propriétés","mapoptions":"Options de la carte","didyoumean":"Vouliez-vous dire ?","resultsfound":"résultats trouvé(s)","found":"Trouvé : ","mapratio0":"Très allongée","mapratio1":"Allongée","mapratio2":"Normale","mapratio3":"Carrée","mapratio4":"Etroite","mapratio5":"Très étroite","mapratio":"Forme de la carte"};var gm_errors={"200":["G_GEO_SUCCESS","Succès"],"400":["G_GEO_BAD_REQUEST","Requête rejetée : votre demande n'a pas pu aboutir. Merci de contacter le service technique."],"500":["G_GEO_SERVER_ERROR","Erreur du serveur : votre demande n'a pas pu être traitée correctement. Merci de contacter le service technique."],"601":["G_GEO_MISSING_QUERY","Adresse manquante : l'adresse est manquante ou vide."],"602":["G_GEO_UNKNOWN_ADDRESS","Adresse inconnue : aucune position géographique n'a pu être trouvée à l'adresse donnée."],"603":["G_GEO_UNAVAILABLE_ADDRESS","Adresse indisponible : la position géographique n'a pas pu être fournie pour des raisons légales ou contractuelles."],"604":["G_GEO_UNKNOWN_DIRECTIONS","Itinéraire indisponible : impossible de calculer l'itinéraire entre les adresses indiquées."],"610":["G_GEO_BAD_KEY","Clé invalide : merci de contacter le service technique en recopiant ce message."],"620":["G_GEO_TOO_MANY_QUERIES","Trop de requêtes : le nombre maximum de requêtes par jour a été atteint pour ce site. Merci de contacter le service technique."],"ZERO_RESULTS":["ZERO_RESULTS","Cette adresse n'a pas été reconnue. Vérifiez que le code postal est valide."]};var gm_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("gm_msgs_fr_js_loaded");var gm_json_template={version:7,center:"false",text:"",header:{display:"true",text:"",icon:"false"},type:"map",add_dep:"",add_arr:"",coords:"",gmcenter:"",maptype:"m",interacttype:"dynamic",zoom:13,markers:[],lines:[],shapes:[],kml:"",kmlzoom:"false",traffic:"false",common:{width:450},mapratio:"2"};var gm_oldjson_template={"5":{version:5,textsize:12,text:"",color:"rgb(100%,100%,100%)",header:{display:"true",text:"",icon:"false"},textstyles:{font:"-1",bold:"false",italic:"false",center:"false"},type:"map",add_dep:"",add_arr:"",coords:"",center:"",maptype:"m",interacttype:"dynamic",zoom:13,markers:[],lines:[],shapes:[],kml:"",kmlzoom:"false",traffic:"false",common:{width:450}},"6":{version:6,textsize:12,margin:10,text:"",color:"rgb(100%,100%,100%)",header:{display:"true",text:"",icon:"false"},textstyles:{font:"-1",bold:"false",italic:"false",center:"false"},type:"map",add_dep:"",add_arr:"",coords:"",center:"",maptype:"m",interacttype:"dynamic",zoom:13,markers:[],lines:[],shapes:[],kml:"",kmlzoom:"false",traffic:"false",common:{width:450}}};function gm_upgradejson(r){if((r.version)&&(r.version==gm_json_template.version))return r;if(r.version<3)gm_upgradejsontov3(r);if(r.version<4)gm_upgradejsontov4(r);if(r.version<5)gm_upgradejsontov5(r);if(r.version<6)gm_upgradejsontov6(r);if(r.version<7)gm_upgradejsontov7(r);r.version=gm_json_template.version;return r;}
function gm_upgradejsontov3(r){if(!r.header)r.header=gm_json_template.header;if(!r.interacttype)r.interacttype=gm_json_template.interacttype;if(!r.coords)r.coords=gm_json_template.coords;if(!r.center)r.center=gm_json_template.center;if(!r.maptype)r.maptype=gm_json_template.maptype;if(!r.markers)r.markers=gm_json_template.markers;if(!r.lines)r.lines=gm_json_template.lines;if(!r.shapes)r.shapes=gm_json_template.shapes;if(!r.kml)r.kml=gm_json_template.kml;if(!r.kmlzoom)r.kmlzoom=gm_json_template.kmlzoom;if(!r.traffic)r.traffic=gm_json_template.traffic;if(r.headerdisplay){r.header.display=(r.headerdisplay=="1")?"true":"false";delete r.headerdisplay;}
if(r.displaytype)delete r.displaytype;return r;}
function gm_upgradejsontov4(r){r.kmlzoom=(r.kmlzoom)?"true":"false";r.traffic=(r.traffic)?"true":"false";return r;}
function gm_upgradejsontov5(r){r.textsize=12;r.textstyles={font:"-1",bold:"false",italic:"false",center:"false"};return r;}
function gm_upgradejsontov6(r){r.margin=10;return r;}
function gm_upgradejsontov7(r){r.gmcenter=r.center;if(r.textstyles&&r.textstyles.center)r.center=(r.textstyles&&r.textstyles.center)||"false";var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function gm_version(notekind){return{margin:1,rpd:1};}
function gm_initforweb(id){var div=ge(id);var r=qsn_thenotes[id];var obj_map=gebcn(div,"map_canvas");gm_loadmap(ge(id),qsn_thenotes[id]);if(qsn_isTouchDevice()){$(".map",div).after('<div class="gm_touchmask"></div>');$(".gm_touchmask",div).unbind("click").on("click",function(){gm_touchloadmap(div,r);});}}
function gm_markeroptions(div){var $map=$(".map:eq(0)",div);$map.find('iframe').get(0).trigger("newmarker");xq_bubble($(div).find(".richtarget"),gm_message["markersinfo"]);}
function gm_lineoptions(div){var $map=$(".map:eq(0)",div);$map.find('iframe').get(0).trigger("newline");xq_bubble($(div).find(".richtarget"),gm_message["linesinfo"]);}
function gm_shapeoptions(div){var $map=$(".map:eq(0)",div);$map.find('iframe').get(0).trigger("newshape");xq_bubble($(div).find(".richtarget"),gm_message["shapesinfo"]);}
function gm_loadmap(div,r){var $map=$(".map:eq(0)",div);$map.empty();var json=gm_Gmapjson(r.common.noteid);json.innote=true;$map.appendQIframe("/services/dialogs/gmap-2.0/index_"+q_lang+".html",{"attach":{json:json,onresize:function(){q_changedwidth(div);}},"percent":"true"});$map.find('iframe').before('<div class="waitmap" style="position:absolute;width:100%;height:100%;display:none; background : url( \'/images/blank.gif\' ) repeat"></div>');gm_installresize(div,r);q_changedwidth(div);}
function gm_touchloadmap(div,r){$("body").append('<div id="'+div.id+'_gmap" class="gm_fixedmap"></div>');var json=gm_Gmapjson(r.common.noteid);json.ratio=$(window).height()/$(window).width();json.innote=false;$('#'+div.id+'_gmap').appendQIframe("/services/dialogs/gmap-2.0/index_"+q_lang+".html",{"attach":{"json":json},"percent":"true"});$('#'+div.id+'_gmap').append('<div class="gm_fixedmap_close font-q-i"></div>');$('#'+div.id+'_gmap .gm_fixedmap_close').unbind("touchend").on("touchend",function(){$('#'+div.id+'_gmap').remove();return false;});}
function gm_xs_resize(div){q_changedwidth(div,qsn_width_xs(div.id));if(qsn_isTouchDevice()&&$("#"+div.id+"_gmap").length>0){$("#"+div.id+"_gmap").remove();gm_touchloadmap(div,qsn_thenotes[div.id]);}
var $map=$(".map:eq(0)",div);quomodo.iframe($map.find('iframe').get(0)).trigger("center");}
function gm_sm_resize(div){q_changedwidth(div,qsn_width_sm(div.id));if(qsn_isTouchDevice()&&$("#"+div.id+"_gmap").length>0){$("#"+div.id+"_gmap").remove();gm_touchloadmap(div,qsn_thenotes[div.id]);}
var $map=$(".map:eq(0)",div);quomodo.iframe($map.find('iframe').get(0)).trigger("center");}
function gm_lg_resize(div){q_changedwidth(div,qsn_width_lg(div.id));if(qsn_isTouchDevice()&&$("#"+div.id+"_gmap").length>0){$("#"+div.id+"_gmap").remove();gm_touchloadmap(div,qsn_thenotes[div.id]);}
var $map=$(".map:eq(0)",div);quomodo.iframe($map.find('iframe').get(0)).trigger("center");}
function gm_md_resize(div){q_changedwidth(div,parseInt(qsn_width(div.id),10));var $map=$(".map:eq(0)",div);quomodo.iframe($map.find('iframe').get(0)).trigger("center");}
function gm_Gmapjson(noteid){var r=qsn_thenotes[noteid];var gmap_mode=((window.web_js_loaded||(document.mainform&&document.mainform.pagemode&&document.mainform.pagemode.value=="view"))?"view":"edit");var json={start:r.add_dep,end:r.add_arr,coords:r.coords,markers:q_cloneObject(r.markers||[]),shapes:q_cloneObject(r.shapes||[]),lines:q_cloneObject(r.lines||[]),kml:r.kml,kmlzoom:r.kmlzoom,type:r.type,traffic:(r.traffic=="true")?true:false,center:r.gmcenter,maptype:(r.maptype||"m"),interact:(r.interacttype||"dynamic"),zoom:r.zoom,gm_mode:gmap_mode,ratio:gm_getmapratio(r),fixedHeightOverflow:r.fixedHeightOverflow||r.render_wide};if(gmap_mode=="edit")json.events={"onSaveLines":function(x){gm_saveLines(noteid,x);},"onSaveShapes":function(x){gm_saveShapes(noteid,x);},"onSaveMarkers":function(x){gm_saveMarkers(noteid,x);},"onSaveCenter":function(x){gm_saveCenter(noteid,x);},"onSaveCoords":function(x){gm_saveCoords(noteid,x);},"onSaveZoom":function(x){gm_saveZoom(noteid,x);},"onSaveMapType":function(x){gm_saveMapType(noteid,x);}};return json;}
function gm_url(r){if(window.q_makeweb&&!window.web_js_loaded)return "";var depart=r.add_dep;if(r.add_dep_france)depart+=", France, France";var myURL="/services/gm/iframe_gmapv3.html?start="+encodeURIComponent(depart);if(r.type=="directions"){var arrive=r.add_arr;myURL+="&end="+encodeURI(arrive);}
if(r.coords){myURL+="&coords="+r.coords;}
if(r.markers){myURL+="&markers="+r.markers.length;for(var i=0;i<r.markers.length;i++){myURL+="&marker_"+i+"_coords="+encodeURIComponent(r.markers[i].coords);myURL+="&marker_"+i+"_title="+encodeURIComponent(r.markers[i].title);myURL+="&marker_"+i+"_icon="+encodeURIComponent(r.markers[i].icon);}}
if(r.lines){myURL+="&lines="+r.lines.length;for(var i=0;i<r.lines.length;i++){myURL+="&line_"+i+"_color="+encodeURIComponent(r.lines[i].color);myURL+="&line_"+i+"_levels="+encodeURIComponent(r.lines[i].levels);myURL+="&line_"+i+"_numlevels="+encodeURIComponent(r.lines[i].numLevels);myURL+="&line_"+i+"_opacity="+encodeURIComponent(r.lines[i].opacity);myURL+="&line_"+i+"_points="+encodeURIComponent(r.lines[i].points);myURL+="&line_"+i+"_weight="+encodeURIComponent(r.lines[i].weight);myURL+="&line_"+i+"_zoomfactor="+encodeURIComponent(r.lines[i].zoomFactor);}}
if(r.shapes){myURL+="&shapes="+r.shapes.length;for(var i=0;i<r.shapes.length;i++){myURL+="&shape_"+i+"_color="+encodeURIComponent(r.shapes[i].color);myURL+="&shape_"+i+"_levels="+encodeURIComponent(r.shapes[i].levels);myURL+="&shape_"+i+"_numlevels="+encodeURIComponent(r.shapes[i].numLevels);myURL+="&shape_"+i+"_opacity="+encodeURIComponent(r.shapes[i].opacity);myURL+="&shape_"+i+"_points="+encodeURIComponent(r.shapes[i].points);myURL+="&shape_"+i+"_weight="+encodeURIComponent(r.shapes[i].weight);myURL+="&shape_"+i+"_zoomfactor="+encodeURIComponent(r.shapes[i].zoomFactor);}}
if(r.kml!=""){myURL+="&kml="+r.kml;myURL+="&kmlzoom="+r.kmlzoom;}
if(r.traffic=="true"){myURL+="&traffic="+r.traffic;}
myURL+="&center="+r.gmcenter;myURL+="&maptype="+(r.maptype||"m");myURL+="&interact="+(r.interacttype||"dynamic");myURL+="&zoom="+(r.zoom||13);myURL+="&noteid="+r.common.noteid;myURL+="&gm_mode="+((window.web_js_loaded||(document.mainform&&document.mainform.pagemode&&document.mainform.pagemode.value=="view"))?"view":"edit");return myURL;}
function gm_getservername(){return document.domain;}
function gm_installresize(div,r){if(qsn_currstate=="edit")return;var obj_map=$(".map:eq(0) div:eq(0)",div).get(0);var obj_iframe=$(".map:eq(0) iframe",div).get(0);div.dragupdone=function(){gm_finishresize(this);};function resizedMap(elem){var w=elem.offsetWidth;var height=Math.round(w*gm_getmapratio(r));if(r.fixedHeightOverflow||r.render_wide)height=$(".map:eq(0) .overflow",div).height();var maptype=r.type;if(maptype=="directions")height=(height*2)+5;if(maptype=="directions"){elem.style.height=height+"px";}else{elem.style.height=height+"px";}}
div.resized=function(elem,w){resizedMap(obj_map);resizedMap(obj_iframe);};}
function gm_changemapratio(){var r=qsn_thenotes[qsn_edittarget.id];var div=ge(qsn_edittarget.id);gm_installresize(div,r);}
function gm_getmapratio(r){if(!r.mapratio)return 3/5;return[0.25,0.5,0.75,1,1.25,1.5][parseInt(r.mapratio,10)];}
var gmlist_message={"editAPIkey":"modifier la clé API","newnoteprompt":"Cliquez ici pour créer une nouvelle note Liste de Points","notetitleprompt":"Cliquez ici pour ajouter un titre.","notedescprompt":"Entrez ici votre description","plug":"Liste de Points_Affichez une liste de points remarquables sur une carte.","desc":"La note Liste de Points permet d'afficher des points sur une carte, avec un lien, une icone et un commentaire","importCSV":"Ajouter une liste de points depuis des données CSV (Excel)","importCSV_noselect_title":"Informations concernant les points","importCSV_error_incorrectaddress":"L'adresse '%v' n'a pas été reconnue.","importCSV_name":"Nom","importCSV_address":"Adresse","importCSV_comment":"Commentaire","importCSV_link":"Lien web","importCSV_confirm":"Vous pouvez, soit indiquer un fichier .csv (export Excel par exemple), soit procéder par copier-coller depuis Excel.<br/><br/>Colonnes obligatoires : Nom, Adresse.<br/>Colonnes optionnelles : Commentaire, Lien web.<br/><br/>Cliquez sur OK pour poursuivre.","display":"Affichage :","displaylist":"Afficher la liste des points","displaymap":"Afficher la carte","kmlbackground":"Fond de carte :","zoom":"La carte s'ajuste :","zoom0":"aux points présents","zoom1":"au fond de carte (si fond de carte sélectionné)","zoom2":"aux frontières françaises","imgratio0":"Très allongée","imgratio1":"Allongée","imgratio2":"Normale","imgratio3":"Carrée","imgratio4":"Etroite","imgratio5":"Très étroite","imgratio":"Forme de la carte","nomarker":"Aucun point n'est affiché.","marker_editbutton":"Modifier ce point","marker_suppressbutton":"Supprimer ce point","marker_suppressconfirm":"Voulez-vous vraiment supprimer le point : ","marker_edit":"Modifier un point","marker_add":"Ajouter un point à la liste","marker_checkerror":"Problème durant la vérification de l'adresse. Merci de vérifier celle-ci.","marker_checkok":"L'adresse a bien été validée.","specifyname":"Vous devez choisir un nom pour le point.","specifyaddress":"Vous devez indiquer une adresse pour le point.","specifyaddresscheck":"Merci de valider l'adresse en cliquant sur le bouton \"Tester l'adresse\".","linkpagetitle":"Cliquez pour accéder à la page","popuppagetitle":"Cliquez pour voir","linkfiletitle":"Cliquez pour télécharger le fichier","linkbroken":"La page vers laquelle pointait ce lien a été supprimée.","default":"Icone par défaut","flag_black":"Drapeau Noir","flag_red":"Drapeau Rouge","flag_blue":"Drapeau Bleu","flag_green":"Drapeau Vert","flag_yellow":"Drapeau Jaune","flag_starter":"Drapeau à damiers","push_pin":"Punaise","car":"Voiture","bus":"Bus","home":"Maison","bed":"Lit d'hotel","forkandknife":"Restaurant","chef":"Bon restaurant","photo":"Appareil Photo","stopwatch":"Chronomètre","trophy":"Trophée","foot":"Ballon de Football","basket":"Ballon de BasketBall","cycle":"Vélo","petanque":"Boule de Pétanque","savate":"Combattant","danse":"Danseuse","tabletennis":"Raquette de Tennis de Table","volant":"Volant (badminton)"};var gmlist_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("gmlist_msgs_fr_js_loaded");var gmlist_json_template={version:4,center:"false",text:"",header:{display:"true",text:"",icon:"false"},markers:[],imgratio:"2",displaymap:"true",displaylist:"true",kml:"",zoom:"0"};function gmlist_getimgratio(x){if(x.tagName)var r=qsn_thenotes[getContainer(x).id];else var r=x;if(typeof r.imgratio=="number")return r.imgratio;else return[0.25,0.5,0.75,1,1.25,1.5][parseInt(r.imgratio,10)];}
function gmlist_touchloadmap(div,r){$("body").append('<div id="'+div.id+'_gmap" class="gmlist_fixedmap"></div>');if($('#'+div.id+'_gmap .gmlist_iframe').length==0)$('#'+div.id+'_gmap').append('<iframe scrolling="no" frameborder="0" class="gmlist_iframe" style="border:0px ; width:100%;height:100%;display:none;overflow:hidden;" src="/services/qblank.html"></iframe>');$('#'+div.id+'_gmap .gmlist_iframe').show().attr("src","/services/gmlist/gmlist_iframe.html?noteid="+div.id+"&date="+new Date().getTime());$('#'+div.id+'_gmap .gmlist_iframe').css({"width":$(window).width()+"px","height":$(window).height()+"px"});try{$('#'+div.id+'_gmap .gmlist_iframe').get(0).contentWindow.gmlist_fitbounds();}catch(e){}
$('#'+div.id+'_gmap').append('<div class="gm_fixedmap_close font-q-i"></div>');$('#'+div.id+'_gmap .gm_fixedmap_close').unbind("touchend").on("touchend",function(){$('#'+div.id+'_gmap').remove();return false;});}
function gmlist_xs_resize(div){q_changedwidth(div,qsn_width_xs(div.id));if(qsn_isTouchDevice()&&$("#"+div.id+"_gmap").length>0){$("#"+div.id+"_gmap").remove();gmlist_touchloadmap(div,qsn_thenotes[div.id]);}}
function gmlist_sm_resize(div){q_changedwidth(div,qsn_width_sm(div.id));if(qsn_isTouchDevice()&&$("#"+div.id+"_gmap").length>0){$("#"+div.id+"_gmap").remove();gmlist_touchloadmap(div,qsn_thenotes[div.id]);}}
function gmlist_lg_resize(div){q_changedwidth(div,qsn_width_lg(div.id));if(qsn_isTouchDevice()&&$("#"+div.id+"_gmap").length>0){$("#"+div.id+"_gmap").remove();gmlist_touchloadmap(div,qsn_thenotes[div.id]);}}
function gmlist_md_resize(div){q_changedwidth(div,parseInt(qsn_width(div.id),10));}
function gmlist_initforweb(id){var div=ge(id);var r=qsn_thenotes[id];if(window.quomodoclient&&quomodoclient.gmlist_transform)r.markers=quomodoclient.gmlist_transform(r);$(".gmlist_markerslist .rpd-list-item",div).on("mouseenter",function(){var sectioncolor=qsn_sectioncolor(id);var bgcolor=RPD.altpbgcolor(r.rpd,false,sectioncolor);var bgcolor_modifier=bgcolor+"@"+(quomodoColors.isdark(bgcolor)?"l5":"d5");$(this).css("background-color",quomodoColors.richColor(bgcolor_modifier).c);}).on("mouseleave",function(){$(this).css("background-color","");});if(spacexml.responsive){if(qsn_isTouchDevice()&&$(".gmlist_touchmask",div).length==0){$(".gmlist_mapcanvas",div).append('<div class="gmlist_touchmask"></div>');$(".gmlist_touchmask",div).unbind("click").on("click",function(){gmlist_touchloadmap(div,r);});}
var map=$(".gmlist_mapcanvas",div).get(0);var ul=$(".gmlist_markerslist:eq(0)",div).get(0);div.resized=function(elem,w){if(r.header&&r.header.display=="fold"&&$(".tablenotecontent",div).css("display")=="none"){var haveto_fold=true;qsn_foldclick(div.id,null,true,true);}
var ratio=gmlist_getimgratio(r);var mindim=20;w=$(map).width();var h=Math.max(Math.round(w*ratio),mindim)+"px";$(map).height(h);$(map).find(".gmlist_iframe").height(h);$(ul).height(h);try{$(".gmlist_iframe",div).get(0).contentWindow.gmlist_fitbounds();}catch(e){}
if(haveto_fold)qsn_foldclick(div.id,null,false,true);};}}
var gmlist_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("gmlist_js_loaded");var hello_intl_json_template={version:1,text:"hello !\nbonjour !\ngoeiedag !\nmirë dita !\nhallo !\nguàtertag !\nsalam !\nbarev !\nsunchhen !\nidh-iyessbhène !\nmingalar pa !\nhalo !\ndemat !\nдобър ден\nnǐ hăo !\nannyǒng hashimnikka !\ndobar dan !\nhej !\nhola !\nsaluton !\ntere !\nhey !\npäivää !\ngoede morgen !\nbondi !\nhallo !\nDia duit !\nola !\nhylo !\ngamarjoba !\nkalimera !\nmba'éichapa !\nshalom !\nnamaste !\nszia !\nhalló !\nbuongiorno !\nkonnichi wa !\nazzoul !\ntcheripsou !\nsilav !\nlabdien !\nmbote !\nlaba diena !\ndobarden !\nmanahoana !\nmerħba !\nkia ora !\nСайн байна уу\nne y yibeoogo !\nbuïjort !\ngod dag !\nsalâm !\ndzień dobry !\nbom dia !\nlatcho divès !\nbună ziua !\nДобрый день\ndobar dan !\nhej !\nia orana !\ndobrý den !\ngünaydin !\npryvit !\nchào !",n:8};function hello_intl_upgradejson(r){if(!r.version)r.version=0;if(r.version==hello_intl_json_template.version)return r;if(r.version<2)r=hello_intl_upgradejsontov2(r);r.version=hello_intl_json_template.version;return r;}
function hello_intl_upgradejsontov2(r){r.rpd="rpdp-shareboard";RPD.qsnUpgrade.commonClean(r);return r;}
function hello_intl_version(notekind){return{rpd:1};}
var fonts=new Array("Arial, sans-serif","Arial Black, sans-serif","Helvetica, sans-serif","Verdana, sans-serif","Univers, sans-serif","Futura, sans-serif","MS Trebuchet, sans-serif","Times New Roman, serif","Times, serif","Georgia, serif","Bodoni, serif","Garamond, serif","Zapf-Chancery, cursive","Script, cursive","Brush, cursive","Courier, monospace","MS Courier New, monospace","Prestige, monospace","Western, fantasy","Critter, fantasy");function hello_intl_rendertext(div,r){if(qsn_currstate!="edit"){var m=r.text.split("\n");var t="";for(var i=0;i<r.n;i++){var h=m[randInt(0,(m.length)-1)];var f="font-family:"+fonts[randInt(0,(fonts.length)-1)]+";";var c="color:rgb("+randInt(0,255)+","+randInt(0,255)+","+randInt(0,255)+");";var s="font-size:"+randInt(11,40)+"px;";var a="float:"+((randInt(0,10)<5)?"left;":"right;");if(i==0)var p="margin:0px";else var p="margin:"+randInt(0,randInt(5,50))+"px ";t+="<div style=\""+f+c+s+a+p+"\">"+h+"</div>";}
$(".text:eq(0)",div).empty().html(t);}else{$(".hello_intl_n:eq(0)",div).empty().html(hello_intl_smartDisplay(parseInt(r.n)));$(".text:eq(0)",div).val(r.text);}}
function randInt(a,b){return Math.round(Math.random()*(b-a)+a);}
function hello_intl_initforweb(id){hello_intl_rendertext(ge(id),qsn_thenotes[id]);}
var live2_message={"newnoteprompt":"Cliquez ici pour créer une nouvelle note En direct","notedescprompt":"Entrez ici votre description","plug":"En direct_Envoyez des infos sur votre site directement depuis votre mobile.","desc":"La note En direct ajoute en direct sur votre site les messages envoyés depuis les téléphones des membres du site.","displayfirstname":"Afficher le prénom","displayusername":"Afficher le nom de famille","displaydate":"Afficher la date","deletelive":"Etes-vous sûr de vouloir supprimer le commentaire ?","deletelive2_error":"Erreur durant la suppression du commentaire","addreporters_title":"Options du reportage","deletereporter":"Supprimer le reporter : ","asc":"Du plus vieux au plus récent","desc":"Du plus récent au plus vieux","nomessage":"Aucun message à supprimer.","cleanup":"Faites votre choix :<ul><li>vider les messages contenus dans le Direct pour le prochain Direct</li><li>vider les messages du Direct et les archiver pour laisser un compte rendu sur votre site</li></ul>","cleanuponly":"vider","cleanupandsave":"vider + archiver + nouveau message","wsg_title":"Direct du %s","nolive":"(aucun message pour le moment)","viewothers":"voir tous les messages (%s de plus)"};var live2_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("live2_msgs_fr_js_loaded");var live2_json_template={version:2,text:"",textheight:350,header:{display:"true",text:"",icon:"false"},live:[],reporters:[],displayfirstname:"true",displayusername:"false",displaydate:"true",order:"desc"};function live2_getheadericon(noteid){var r=qsn_thenotes[noteid];if(r.header.icon=="false")return "";return "/services/live2/images/live48.png";}
var live2_timers={};function live2_pauseall(){for(var id in live2_timers)if(live2_timers[id])live2_cleartimer(id);}
function live2_resumeall(){if(qsn_currstate=="edit")return;for(var id in live2_timers)if(ge(id))live2_program(ge(id),1);}
function live2_checkupdate(div,forcecallback){if(qsn_currstate=="edit")return live2_program(div);function update(x){$(div).data("liveupindex",x);if(forcecallback)forcecallback();else if(div.callback){q_ajaxobjgetppty("live","","whole",function(x){$(div).data("live",x.whole);div.callback();})}else live2_refresh(div,{program:false});}
$.get(q_spacebaseurl()+"custom/liveupindex?d="+(new Date()).getTime(),function(data){if(data!=$(div).data("liveupindex"))update(data);live2_program(div);}).error(function(){if(forcecallback)update(-1);else live2_program(div);});}
function live2_refresh(div,options){if($(div).data("liveupindex")==undefined)return live2_checkupdate(div,function(){live2_refresh(div,options);});var opt=$.extend({program:true,wait:false},options);if(opt.wait){$(".live2_table, .live2_v4_table",div).hide();$(".live2_wait",div).show();}
q_ajaxobjgetppty("live","","whole",function(x){$(div).data("live",x.whole);live2_renderlivetable(div,qsn_thenotes[div.id]);if($(div).find(".live2_v4_table").length>0)qsn_jcssmanagerapply(div,qsn_thenotes[div.id]);else{qsn_settextproperties(div.id);qsn_setcolors(div.id);}
if(opt.wait){$(".live2_wait",div).hide();$(".live2_table, .live2_v4_table",div).show();}
live2_resize(div);if(opt.program)live2_program(div);});}
function live2_program(div,t){if(q_pagemode()=="makeweb")return;live2_cleartimer(div.id);live2_timers[div.id]=setTimeout(function(){live2_checkupdate(div);},t?t:5000);}
function live2_cleartimer(id){if(!live2_timers[id])return;clearTimeout(live2_timers[id]);live2_timers[id]=null;}
function live2_suppressdone(noteid){live2_cleartimer(noteid);}
function live2_renderhtml(noteid){var div=ge(noteid);var r=qsn_thenotes[noteid];qsn_container_renderhtml(div,r);if(qsn_currstate=="edit"){$("button",div).button();$(".live2_desc",div).val(r.text);qsn_blurdefault(gebcn(div,"live2_desc"),"notedescprompt");live2_renderreporters(div);}else{r.text?$(".live2_desc",div).eq(0).texthtml(r.text):$(".live2_desc",div).eq(0).hide();live2_refresh(div,{wait:true});$(".live2_overflow:eq(0)",div).height(r.textheight||200);div.VDragTarget=$(".live2_overflow",div).get(0);}
qsn_setcenterdesc(noteid);qsn_jcssmanagerapply(div,r);q_addwindowfocushandlers("live2_resumeall");q_addwindowblurhandlers("live2_pauseall");}
function live2_renderlivetable(div,r,mode){return live2_xrenderlivetable($(div).data("live"),div,r,mode);}
function live2_xrenderlivetable(datalive,div,r,mode){if($(div).find(".live2_v4_table").length<=0)return live2_old_xrenderlivetable(datalive,div,r,mode);if(mode=="wsg")var t=$("<div>");else var t=$(".live2_table:eq(0) tbody, .live2_v4_table:eq(0) tbody",div).empty();if(!datalive||!datalive.length){if(mode=="wsg")return "";else return t.append($("<tr></tr>").append('<td align="center" style="font-style:italic;">'+live2_message["nolive"]+'</td>'));}
for(var i=0;i<datalive.length;i++){var l=(r.order=="desc")?datalive[datalive.length-i-1]:datalive[i];var content="";if(r.displayfirstname=="true"||r.displayusername=="true"||r.displaydate=="true")content+='<span class="rpd-p2">'
if(r.displayfirstname=="true"&&l.firstname)content+=l.firstname;if(r.displayusername=="true"&&l.username){if(r.displayfirstname=="true")content+=" ";content+=l.username;}
content+='</span><span class="rpd-p3">';if(r.displaydate=="true"){if(r.displayfirstname=="true"||r.displayusername=="true")content+=" - ";content+=((l.d&&l.d!="")?q_isot2string(q_events_parseDate(l.d)):"");}
content+="</span>";if(r.displayfirstname=="true"||r.displayusername=="true"||r.displaydate=="true")content+=" - ";content+=escapeHTML(l.t);if(mode=="wsg"){$('<div></div>').appendTo(t).html(content);}else{var tr_hr=$('<tr></tr>').appendTo(t);tr_hr.append('<div class="hr"></div>');var tr=$('<tr></tr>').appendTo(t);tr.append($('<td class="rpd-list-item '+(i==(datalive.length-1)?"last":"")+'"></td>').html(content));if(i==(datalive.length-1)){var tr_hr=$('<tr></tr>').appendTo(t);tr_hr.append('<div class="hr"></div>');}}}
if(mode=="wsg")return t.html();};function live2_old_xrenderlivetable(datalive,div,r,mode){if(mode=="wsg")var t=$("<div>");else var t=$(".live2_table:eq(0) tbody",div).empty();if(!datalive||!datalive.length){if(mode=="wsg")return "";else return t.append($("<tr></tr>").append('<td align="center" style="font-style:italic;">'+live2_message["nolive"]+'</td>'));}
for(var i=0;i<datalive.length;i++){var l=(r.order=="desc")?datalive[datalive.length-i-1]:datalive[i];var content="";if(r.displayfirstname=="true"||r.displayusername=="true"||r.displaydate=="true")content+='<i class="qsn1 text_contrast150">'
if(r.displayfirstname=="true"&&l.firstname)content+=l.firstname;if(r.displayusername=="true"&&l.username){if(r.displayfirstname=="true")content+=" ";content+=l.username;}
if(r.displaydate=="true"){if(r.displayfirstname=="true"||r.displayusername=="true")content+=" - ";content+=((l.d&&l.d!="")?q_isot2string(q_events_parseDate(l.d)):"");}
if(r.displayfirstname=="true"||r.displayusername=="true"||r.displaydate=="true")content+="</i> - ";content+=escapeHTML(l.t);if(mode=="wsg"){$('<div></div>').appendTo(t).html(content);$("<hr/>").appendTo(t);}else{var tr=$('<tr></tr>').appendTo(t);tr.append($('<td style="border-bottom-style:solid; border-bottom-width: 1px; height:18px;" valign="middle"></td>').html(content));}}
if(mode=="wsg")return t.html();};function live2_xs_resize(div){if(qsn_isTouchDevice()&&$(".live2_v4_table tr",div).length>0)live2_resize(div);}
function live2_resize(div){if(!qsn_isTouchDevice())return;if(qsn_responsive_mod()!="xs")return;$(".live2_viewothers",div).remove();var r=qsn_thenotes[div.id];var targetHeight=0;var initHeight=0;$(".live2_v4_table tr",div).each(function(index){initHeight+=$(this).height();if(index<=6)targetHeight+=$(this).height();});if(initHeight<=targetHeight)return;var maxheight=Math.min(initHeight,450);$(".live2_overflow",div).css({"height":targetHeight+"px","overflow":"hidden"}).after('<div class="live2_viewothers rpd-p3 rpd-action rpd-ipt" style="text-align:center">'+live2_message["viewothers"].replace("%s",$(".live2_v4_table .rpd-list-item",div).length-3)+'</div>');$(".live2_viewothers",div).unbind("click").on("click",function(){$(this).fadeOut();$(".live2_overflow",div).css({"overflow":"auto"}).animate({"height":maxheight+"px"},450);});}
function live2_initforweb(id,options){live2_refresh(ge(id),options||{wait:true});setTimeout(function(){q_addwindowfocushandlers("live2_resumeall");q_addwindowblurhandlers("live2_pauseall");},5000);}
var live2_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("live2_js_loaded");var matchnext2_message={"notetitleprompt":"Titre de la note","newnoteprompt":"Cliquez ici pour ajouter un commentaire général","newcommentprompt":"Cliquez ici pour ajouter un commentaire.","delete":"Supprimer ce match","add":"Ajouter un nouveau match","nomatch":"Aucun match","onematch":"1 match","severalmatch":"%s matchs","severalmatch2":"<span class='matchnext2_currentindex'>%current</span>/%total matchs","confirmdelete":"Voulez-vous vraiment supprimer ce match ?","matchline":"%date% : %team1% vs %team2%","snname":"Note Matchs et Résultats","plug":"Matchs_Affichez les matchs joués ou à venir de toutes ou partie de vos équipes.","atTIME":" à ","playedDATE":"Joué ","desc":"(...)","seecomment":"voir le commentaire","commentitle":"Commentaire du match","showicons":"Afficher les smileys","noteoptions":"Options de la note","tabselecttemplate":"Choix du modèle","standard-small":"Petit","standard-medium":"Moyen","standard-large":"Grand","hidingControlBar":"Masquer la barre du lecteur","list":"Tableau"};var matchnext2_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("matchnext2_msgs_fr_js_loaded");var matchnext2_json_template={version:2,text:"",header:{display:"true",text:"",icon:"false"},showsignature:"false",eventstype:[{kind:"match"}],displayframes:"1",model:"standard-medium",hiding:"false"};function matchnext2_getheadericon(noteid){var r=qsn_thenotes[noteid];if(r.header.icon=="false")return "";return "/services/matchnext2/images/matchnext48.png";}
var matchnext2_timers={};var matchnext2_height=137;var matchnext2_starthidingdelay=1000;var matchnext2_formatDate="dd.mm.y";function matchnext2_upgradejson(r){if((r.version)&&(r.version==matchnext2_json_template.version))return r;if(r.version<2)r=matchnext2_upgradejsontov2(r);r.version=matchnext2_json_template.version;return r;}
function matchnext2_upgradejsontov2(r){if(r.textstyles&&r.textstyles.center)r.center=(r.textstyles&&r.textstyles.center)||"false";var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function matchnext2_version(notekind){return{margin:1,rpd:1};}
function matchnext2_container_rendermargin(div,r){qsn_container_rendermargin(div,r,true);if(r.model!="list")$(div).find(".qlubcontainer_content:eq(0)").css({"padding":"0px"});}
function matchnext2_renderhtml(noteid){var div=ge(noteid);qsn_setresponsive_note(div);var $div=$(div);noteid=div.id;var r=qsn_thenotes[noteid];var t=$(".matchnext2_text",div);if(!$div.hasClass("matchnext2_"+r.model))$div.addClass("matchnext2_"+r.model);if(qsn_currstate!="edit"){t.parent().toggle(r.text!="");t.texthtml(r.text);$(".matchnext2_matchstable .matchnext2_matchslist",div).css("height",matchnext2_height*parseInt(r.displayframes,10)+"px");if(r.hiding=="false")$(" .matchnext2_matchslist",div).css("height",matchnext2_height*parseInt(r.displayframes,10)+"px");else $(" .matchnext2_matchslist",div).css("height",(matchnext2_height*parseInt(r.displayframes,10))-$(".matchnext2_listbar:eq(0)",div).height()+"px");}else{t.val(r.text);qsn_blurdefault(t.get(0));}
$(".matchnext2_matchstable, .matchnext2_matchslist",div).hide();$(".matchnext2_wait",div).show();qsn_container_renderhtml(div,r);qsn_setcenterdesc(noteid);qsn_jcssmanagerapply(div,r);var model=r.model;function launchEvents(){$(".matchnext2_wait",div).height($("#matchnext2_"+r.model).attr("_h")).show();if((window.snchoosersample||window.demosample)&&!isremoved(div)){if(!isremoved(div)){make_calendarsample("match",function(x){div.calendar=x;matchnext2_rendermatchs(noteid);});}
return;}
q_events_request(function(x){if(!isremoved(div)){div.calendar=x;matchnext2_rendermatchs(noteid);}},{events:r.eventstype});};if($("#matchnext2_"+model).length==0){loadcss("/services/matchnext2/templates/"+model.replace("-","/")+"/css/style.css");if(model.split("-").length>1)loadcss("/services/matchnext2/templates/"+model.split("-")[0]+"/_common/css/style.css");$("<div></div>").appendTo("body").load("/services/matchnext2/templates/"+model.replace("-","/")+"/template_"+q_lang+".html #matchnext2_"+model,function(response,status,xhr){if(status=="success")launchEvents();});return;}else{launchEvents();}
div.growingupdone=function(){if(q_pagemode()!="edit")matchnext2_fitToContainer(noteid);};}
function matchnext2_fitToContainer(noteid,notew){if(!spacexml.responsive)return;var div=ge(noteid);var r=qsn_thenotes[noteid];if(r.model=="list"){if($(".matchnext2_list",div).length==0)return;$(".matchnext2_list > td",div).removeClass("matchnext2_hidden");$(".matchnext2_listxs",div).addClass("matchnext2_hidden");$(".matchnext2_matchstrack",div).css("width","");if(qsn_responsive_mod()=="md")return;if(!notew)notew=parseInt(qsn_responsive_width(noteid),10);var s_maxwidth=$(".matchnext2_list",div).get(0).offsetWidth;if(notew<s_maxwidth){$(".matchnext2_list > td",div).addClass("matchnext2_hidden");$(".matchnext2_listxs",div).removeClass("matchnext2_hidden");$(".matchnext2_matchstrack",div).css("width","100%");}}else{$("#"+noteid).data("small",false);if($(".matchnext2_standard-small",div).length==0&&$(".matchnext2_standard-large",div).length==0&&$(".matchnext2_standard-medium",div).length==0)return;if(!notew)notew=parseInt(qsn_responsive_width(noteid),10);if($(".matchnext2_standard-small",div).length>0&&r.model!="standard-small"){$(".matchnext2_standard-small",div).attr("class","matchnext2_"+r.model);}
if($(div).hasClass("matchnext2_standard-small")&&r.model!="standard-small"){$(div).removeClass("matchnext2_standard-small").addClass("matchnext2_"+r.model);}
if($(".matchnext2_standard-small_view",div).length>0&&r.model!="standard-small"){$(".matchnext2_standard-small_view",div).attr("class","matchnext2_"+r.model+"_view");}
$(".matchnext2_matchstable, .matchnext2_matchstrack",div).height($(".matchnext2_matchstable",div).attr("setted_height"));if($(".matchnext2_body",div).get(0)){var s_maxwidth=$(".matchnext2_body",div).get(0).offsetWidth;if(notew<s_maxwidth){$("#"+noteid).data("small",true);$(".matchnext2_standard-large, .matchnext2_standard-medium",div).attr("class","matchnext2_standard-small");$(".matchnext2_standard-large_view, .matchnext2_standard-medium_view ",div).attr("class","matchnext2_standard-small_view");$(div).removeClass("matchnext2_standard-large matchnext2_standard-medium").addClass("matchnext2_standard-small");$(".matchnext2_matchstable, .matchnext2_matchstrack",div).height($(".matchnext2_standard-small",div).height());}}}
$(".matchnext2_competition_name",div).width($(".matchnext2_notebody",div).width());}
function matchnext2_jcssmanagerapply(div,r){qsn_jcssmanagerapply(div,r,true);$(div).find(".matchnext2_infos_number, .matchnext2_seelist, .matchnext2_backtoplayer a, .matchnext2_infos_new a").css({"font-size":"10px","color":"#fff"});$(div).find(".matchnext2_home_team_name, .matchnext2_visitor_team_name, .matchnext2_score_home, .matchnext2_score_separator,  .matchnext2_score_visitor, .matchnext2_comptetition_date").css("font-weight","bold");$(div).find(".matchnext2_standard-small .matchnext2_score_home, .matchnext2_standard-small .matchnext2_score_separator, .matchnext2_standard-small .matchnext2_score_visitor").css("font-size","22px");$(div).find(".matchnext2_standard-medium .matchnext2_score_home, .matchnext2_standard-medium .matchnext2_score_separator, .matchnext2_standard-medium .matchnext2_score_visitor, .matchnext2_standard-large .matchnext2_score_home, .matchnext2_standard-large .matchnext2_score_separator, .matchnext2_standard-large .matchnext2_score_visitor").css("font-size","30px");$(".matchnext2_competition_name",div).width($(".matchnext2_notebody",div).width());$('[q_data="location.name"], [q_data="location.city"]',div).css("line-height","1.1em");var h=$(".matchnext2_matchstable",div).attr("setted_height");if(!h&&$(".matchnext2-hiddendiv",div).length!=0){h=$(".matchnext2-hiddendiv",div).height();$(".matchnext2_matchstable",div).attr("setted_height",h);$(".matchnext2-hiddendiv",div).remove();$(".matchnext2_matchstrack",div).attr("_h",h);$(".matchnext2_matchstable",div).css("height",h*parseInt(r.displayframes,10)+"px");if(r.hiding=="false")$(" .matchnext2_matchslist",div).css("height",h*parseInt(r.displayframes,10)+"px");else $(" .matchnext2_matchslist",div).css("height",h*parseInt(r.displayframes,10)-$(".matchnext2_listbar:eq(0)",div).height()+"px");}
if(h)$(".matchnext2_matchstable, .matchnext2_viewmatchdiv",div).height(h);$(".matchnext2_infos_number",div).css("line-height","100%");$(".matchnext2_seelist",div).parent().css("line-height","100%");}
function matchnext2_device_resize(device,div){var r=qsn_thenotes[div.id];var w=qsn_responsive_width(div.id,device);q_changedwidth(div,w);matchnext2_fitToContainer(div.id,device=="md"?null:w);}
function matchnext2_showlist(x,v){var div=getContainer(x);var id=div.id;$(div).attr("notestate",v?"LIST":"PLAYER");$(".matchnext2_playerbar:eq(0)",div).toggle(!v);$(".matchnext2_listbar:eq(0)",div).toggle(v);var links=$(".matchnext2_infos_list a",div);links.eq(0).toggle(!v);links.eq(1).toggle(v);$(".matchnext2_matchstable",div).toggle(!v);$(".matchnext2_matchslist",div).toggle(v);$(".matchnext2_infos_new",div).toggle(v&&(q_getuserlevel(memberid)=="admin"||hasCurrrights("events"))&&q_pagemode()=="edit"&&/artemapage/.test(currsvcid));if(v)matchnext2_stopanim(div);else{if($(div).attr("playerstate")=="PLAY"){matchnext2_program(div);matchnext2_playerbar(div,"PLAY");}}
qsn_jcssmanagerapply(div,qsn_thenotes[id]);}
var matchnext2_addsavednote_callback;function matchnext2_rendermatchs(noteid){var div=ge(noteid);var r=qsn_thenotes[noteid];if(r.header.display=="fold"&&$(".tablenotecontent",div).css("display")=="none"){var havetofold=true;$(".tablenotecontent",div).css("display","table");}
if(qsn_currstate!="edit")matchnext2_rendermatchs_view(div,r);$(".matchnext2_wait",div).hide();$(".matchnext2_matchstable, .matchnext2_matchslist",div).show();matchnext2_showlist(div,false);if(q_pagemode()!="edit")matchnext2_fitToContainer(noteid);if(havetofold)$(".tablenotecontent",div).css("display","none");if(matchnext2_addsavednote_callback){matchnext2_addsavednote_callback();matchnext2_addsavednote_callback=null;}}
function matchnext2_rendermatchs_view(div,r){var model=r.model;var noteid=div.id;var selmatchs=div.calendar.events;var viewnextmatchtemplate,d;var template=$.trim($("#matchnext2_"+r.model+"_content").html());if(r.model!="list"){$(".matchnext2_nav_placeholder",div).html($("#matchnext2_"+r.model+"_controlbar").html());if(selmatchs.length==0){$(".matchnext2_infos_number",div).html(matchnext2_message["nomatch"]);$(".matchnext2_controlbar",div).hide();}else if(selmatchs.length==1){$(".matchnext2_infos_number",div).html(matchnext2_message["onematch"]);$(".matchnext2_controlbar",div).hide();}else{$(".matchnext2_listbar:eq(0) .matchnext2_infos_number",div).html(matchnext2_message["severalmatch"].replace("%s",selmatchs.length));$(".matchnext2_playerbar:eq(0) .matchnext2_infos_number",div).html(matchnext2_message["severalmatch2"].replace("%current","1").replace("%total",selmatchs.length));}
d=$(".matchnext2_matchstrack",div).empty();viewnextmatchtemplate="<div class=\"matchnext2_viewmatchdiv\" style=\"width: 100% ;\" >"+template+"</div>";}else{viewnextmatchtemplate=template;$(".matchnext2_matchstable",div).empty().append('<table class="matchnext2_matchstrack" cellpadding="0" cellspacing="0" border="0"><tbody></tbody></table>');d=$(".matchnext2_matchstrack",div);}
var dhtmls=[];var listdiv=$(".matchnext2_matchslist",div).empty();for(var i=0;i<selmatchs.length;i++){var id=selmatchs[i].id;var hometeam=selmatchs[i].hometeam();var visitorteam=selmatchs[i].visitorteam();var matchdone=(selmatchs[i].homescore&&selmatchs[i].homescore!=""&&selmatchs[i].vsscore&&selmatchs[i].vsscore!="");var onedhtml=$($.parseHTML(viewnextmatchtemplate));onedhtml.attr("index",i);var val=$.datepicker.formatDate(matchnext2_formatDate,q_events_parseDate(selmatchs[i]["date"]));if(matchdone)val=matchnext2_message["playedDATE"]+val;listline=matchnext2_message["matchline"].replace("%team1%",escapeHTML(hometeam.name)).replace("%team2%",escapeHTML(visitorteam.name)).replace("%date%",escapeHTML(val));onedhtml.find('[q_data]').each(function(){var val="";var $q_data=$(this).attr("q_data");if($q_data=="competition_name"){var tmp=[];if(selmatchs[i]["competition"])tmp.push(selmatchs[i]["competition"]);if(selmatchs[i]["step"])tmp.push(selmatchs[i]["step"]);if(tmp.length==0)tmp.push(" ");$(this).html(tmp.join(" - "));}
if($q_data=="dateAndTime"){val=selmatchs[i]["date"];val=$.datepicker.formatDate(matchnext2_formatDate,q_events_parseDate(val));if(selmatchs[i]["sel:time"]&&selmatchs[i]["sel:time"]!=""&&selmatchs[i]["sel:time"]!="00")val+=" - "+selmatchs[i]["sel:time"];$(this).html(val);}
if($q_data=="date"){val=selmatchs[i]["date"];val=$.datepicker.formatDate(matchnext2_formatDate,q_events_parseDate(val));$(this).html(val);}
if($q_data=="time"){if(selmatchs[i]["sel:time"]&&selmatchs[i]["sel:time"]!=""&&selmatchs[i]["sel:time"]!="00")val=selmatchs[i]["sel:time"];$(this).html(val);}
if($q_data=="home_team")$(this).html(hometeam.name||" ");if($q_data=="visitor_team")$(this).html(visitorteam.name||" ");if($q_data=="home_logo33")$(this).attr("src",hometeam.logo33);if($q_data=="home_logo100")$(this).attr("src",hometeam.logo100);if($q_data=="visitor_logo33")$(this).attr("src",visitorteam.logo33);if($q_data=="visitor_logo100")$(this).attr("src",visitorteam.logo100);if($q_data=="toggle_comment"&&!selmatchs[i]["comment"])$(this).css("visibility","hidden");if($q_data=="toggle_comment_complete"&&!selmatchs[i]["comment"]&&!selmatchs[i]["competition"]&&!selmatchs[i]["step"])$(this).css("visibility","hidden");if($q_data=="toggle_matchdone"&&!matchdone)$(this).hide();if($q_data=="toggle_matchtoplay"&&matchdone)$(this).hide();if($q_data=="location.name")$(this).html((selmatchs[i].location&&selmatchs[i].location.name)||"");if($q_data=="location.city")$(this).html((selmatchs[i].location&&selmatchs[i].location.city)||"");if(matchdone){if($q_data=="home_score")$(this).html(hometeam.score);if($q_data=="visitor_score")$(this).html(visitorteam.score);}});dhtmls.push(onedhtml.wrap("<div></div>").parent().html());if(r.model!="list"){var newline=$('<div class="matchnext2_listline" matchindex="'+(i+1)+'\" >').attr("eid",id).appendTo(listdiv).append('<div style="padding-left:20px;">'+listline+'</span>');if(q_pagemode()=="edit"&&/artemapage/.test(currsvcid)&&(q_getuserlevel(memberid)=="admin"||hasCurrrights("events"))){$('<span class="matchnext2_iconedit"></span>').attr("title",q_events_msgs["edit"]).attr("eid",id).mousedown(function(event){q_stopPropagation(event);}).click(function(){var options={id:$(this).attr("eid"),kind:"match",callback:function(){matchnext2_renderhtml(noteid);}};q_events_edit(null,null,options);}).prependTo(newline);}}}
if(r.model!="list"){if(dhtmls.length){d.html(dhtmls[0]);var h=$(".matchnext2_matchstable",div).attr("setted_height");if($(".matchnext2_matchcontent",div).find(".matchnext2-hiddendiv").length==0&&!h){$(".matchnext2_matchcontent",div).prepend(dhtmls[0]);$(".matchnext2_matchcontent .matchnext2_viewmatchdiv:eq(0)",div).css({"position":"relative","visibility":"hidden"}).addClass("matchnext2-hiddendiv").removeClass("matchnext2_viewmatchdiv");}}
$("#"+noteid).data({"currindex":0,dhtml:dhtmls});$(".matchnext2_listline",listdiv).hover().click(function(){matchnext2_scrollanimto(getContainer(this),$(this).attr("matchindex"));});if(r.hiding=="true"){$(".matchnext2_nav_placeholder:eq(0)",div).addClass("undocked");$(".matchnext2_playerbar:eq(0) .matchnext2_nav",div).addClass("matchnext2_nav_undocked").show();$(".matchnext2_playerbar:eq(0) .matchnext2_nav",div).delay(matchnext2_starthidingdelay).fadeToggle("slow","linear");$(div).hover(function(){$(".matchnext2_playerbar:eq(0) .matchnext2_nav",div).stop(true,true).fadeIn("fast","linear");},function(){$(".matchnext2_playerbar:eq(0) .matchnext2_nav",div).stop(true,true).fadeOut("fast","linear");});}else{$(".matchnext2_nav_placeholder:eq(0)",div).addClass("docked");$(".matchnext2_nav",div).addClass("matchnext2_nav_docked");}}else d.find("tbody").append(dhtmls.join("\n"));$(div).find(".matchnext2_listline").addClass("rpd-list-item").last().addClass("last");qsn_setcenterdesc(noteid);qsn_jcssmanagerapply(div,r);if(r.model!="list")matchnext2_startanim(div);}
function matchnext2_ondisplaycomment(elem){var index=parseInt($(elem).parents(".matchnext2_viewmatchdiv:eq(0)").attr("index"),10);var div=getContainer(elem);matchnext2_displaycomment(div,index);}
function matchnext2_displaycomment(div,id){var data=div.calendar.events[id];q_alert(data["comment"].replace(/(\n|\r)/g,"<br/>"),{title:matchnext2_message["commentitle"],icon:"matchnext2_commenticon",width:"500px"},true);}
function matchnext2_displaycomment_complete(div,id){var data=div.calendar.events[id];q_events_alert([data],{"pagemode":((q_pagemode()=="edit"&&/artemapage/.test(currsvcid)&&(q_getuserlevel(memberid)=="admin"||hasCurrrights("events")))?"edit":"view")});}
function matchnext2_selectevents(){var div=qsn_edittarget;var r=qsn_thenotes[div.id];q_events_select({types:["match"],values:r.eventstype,callback:function(x){r.eventstype=x;}});}
function matchnext2_doanim(div,fromTo){var id=div.id;var op=fromTo;var r=qsn_thenotes[id];if(fromTo==0){matchnext2_program(div);qsn_setcenterdesc(id);qsn_jcssmanagerapply(div,r);return;}
if(qsn_currstate=="edit"||q_fsmpresent())return matchnext2_program(div);var pane=gebcn(div,"matchnext2_matchstrack");if(!pane)return;var dhtmls=$("#"+id).data("dhtml");var currindex=$("#"+id).data("currindex");if(dhtmls==undefined||!dhtmls||dhtmls.length<2)return;var is_small=$("#"+id).data("small");$("#"+id).data("currindex",(dhtmls.length+op+currindex)%dhtmls.length);$(".matchnext2_currentindex",div).html($("#"+id).data("currindex")+1);matchnext2_playerbar(div);$(pane).stop(true,true);if(op!=-1){pane.innerHTML+=dhtmls[$("#"+id).data("currindex")];$(pane).css("top","0px");}else{var temp=pane.innerHTML;pane.innerHTML=dhtmls[$("#"+id).data("currindex")]+temp;$(pane).css("top","-"+$(pane).attr("_h")+"px");}
if(is_small){$(".matchnext2_standard-large, .matchnext2_standard-medium",div).attr("class","matchnext2_standard-small");$(".matchnext2_standard-large_view, .matchnext2_standard-medium_view ",div).attr("class","matchnext2_standard-small_view");$(div).removeClass("matchnext2_standard-large matchnext2_standard-medium").addClass("matchnext2_standard-small");}
var position=(op==-1?"+=":"-=")+$(pane).attr("_h")+"px";qsn_jcssmanagerapply(div,r);if(is_small)$(".matchnext2_matchstable, .matchnext2_matchstrack",div).height($(".matchnext2_standard-small",div).height());$(pane).animate({top:position},800,function(){if(isremoved(div))return;var pane=$(this).get(0);if(op!=-1){pane.firstChild.innerHTML=pane.firstChild.nextSibling.innerHTML;pane.firstChild.style.backgroundColor=pane.firstChild.nextSibling.style.backgroundColor;pane.style.top="0px";rm(pane.firstChild);}else{pane.firstChild.nextSibling.innerHTML=pane.firstChild.innerHTML;pane.firstChild.nextSibling.style.backgroundColor=pane.firstChild.style.backgroundColor;pane.style.top="0px";rm(pane.firstChild.nextSibling);}
if($(getContainer(div)).attr("playerstate")=="PLAY")matchnext2_program(div);});}
function matchnext2_startanim(x,fast){var div=getContainer(x);$(div).attr("playerstate","PLAY");matchnext2_playerbar(div,"PLAY");matchnext2_program(div,fast?10:2500);}
function matchnext2_play(x){var div=getContainer(x);$(div).attr("playerstate","PLAY");matchnext2_playerbar(div,"PLAY");matchnext2_doanim(div,0);}
function matchnext2_stopanim(x){var div=getContainer(x);if($(div).attr("notestate")!="LIST"){$(div).attr("playerstate","PAUSE");matchnext2_playerbar(div,"PAUSE");}
matchnext2_cleartimer(div.id);}
function matchnext2_next(x){var div=getContainer(x);matchnext2_doanim(div,1);}
function matchnext2_prev(x){var div=getContainer(x);matchnext2_doanim(div,-1);}
function matchnext2_playerbar(div,action){if(action=="PLAY"||action=="PAUSE"){$(".matchnext2_pause",div).toggle(!(action=="PAUSE"));$(".matchnext2_play",div).toggle(!(action=="PLAY"));}}
function matchnext2_scrollanimto(div,x){var noteid=div.id;var n=parseInt(x,10)-1;matchnext2_cleartimer(noteid);$("#"+noteid).data("currindex",n);$(".matchnext2_matchstrack",div).html($("#"+noteid).data("dhtml")[n]);q_changedwidth(div);matchnext2_showlist(div,false);}
function matchnext2_toolbaroptions(elem){return qsn_toolbaroptions(elem,true).concat((q_getuserlevel(memberid)=="admin"||hasCurrrights("events"))?["addevent"]:[]);}
function matchnext2_addeventnote(div){matchnext2_newmatch(div);}
function matchnext2_pauseall(){for(var id in matchnext2_timers)if(matchnext2_timers[id])matchnext2_cleartimer(id);}
function matchnext2_resumeall(){if(qsn_currstate=="edit")return;for(var id in matchnext2_timers){var smartnote=$(ge(id));if(smartnote.attr("notestate")=="PLAYER"&&smartnote.attr("playerstate")=="PLAY")matchnext2_program(ge(id));}}
function matchnext2_cleartimer(id){if(!matchnext2_timers[id])return;clearTimeout(matchnext2_timers[id]);matchnext2_timers[id]=null;}
function matchnext2_program(div,t){if(q_pagemode()=="makeweb")return;matchnext2_cleartimer(div.id);matchnext2_timers[div.id]=setTimeout(function(){matchnext2_doanim(div,1);},t?t:5000);}
function matchnext2_initforweb(id){var $div=$(ge(id));if($div.find("#matchnext2_nav_placeholder").length==0){$div.find(".matchnext2_infos").remove();$div.find(".matchnext2_matchslist").after('<div id="matchnext2_nav_placeholder"></div>');}
matchnext2_renderhtml(id);setTimeout("q_addwindowfocushandlers( 'matchnext2_resumeall' ) ; q_addwindowblurhandlers( 'matchnext2_pauseall' ) ; ",5000);}
var mcn_message={"plug":"Décor_Ajoutez des éléments graphiques pour décorer votre page.","category":"Catégorie","tab_icon":"Symboles","tab_separator":"Séparateurs","tab_object":"Objets","tab_gif":"Images animées","choice":"Sélectionnez un élément","aqua_arrow":"Flèche 3D verte","size_icon":"Taille de l'icône","direction":"Direction","up":"vers le haut","up_right":"vers le haut à droite","right":"vers la droite","down_right":"vers le bas à droite","down":"vers le bas","down_left":"vers le bas à gauche","left":"vers la gauche","up_left":"vers le haut à gauche","size":"Taille","16":"très très petit","24":"très petit","32":"petit","48":"moyen","64":"moyen grand","72":"grand","96":"plus grand","128":"très grand","256":"très très grand","300":"1 colonne","600":"2 colonnes","900":"3 colonnes","400":"moyen","800":"grand","flag":"Drapeau de couleur","color":"Couleur","white":"blanc","black":"noir","blue":"bleu","green":"vert","pink":"rose","purple":"violet","red":"rouge","orange":"orange","yellow":"jaune","grey":"gris","silver":"argent","gold":"or","shape":"Forme","round":"rond","square":"carré","symbol":"Symbole","add":"ajouter","check":"valider","delete":"supprimer","error":"erreur","help":"aide","information":"info","refresh":"rafraîchir","restricted":"restreint","stop":"stop","crayons":"Crayons","aqua_arrow":"Flèches 3D verte","collapse_arrow":"Chevrons","navigation_arrow":"Flèches de Navigation","symbols":"Symboles","favorites":"Favoris","calendar":"Calendrier","day":"Jour","cubechar":"Lettre cube","char":"Caractère","meteo":"Météo","weather":"Aspect du ciel","sunny":"ensoleillé","partiallycloudy":"mitigé","cloudy":"nuageux","rainy":"pluvieux","simple_line":"Ligne simple","lines":"Ligne ombrée","dash":"Ligne pointillée","basketballchar":"Lettre ballon de basket","footballchar":"Lettre ballon de foot","rugbychar":"Lettre ballon de rugby","tennisballchar":"Lettre balle de tennis","medalchar":"Lettre sur médaille","petanquechar":"Lettre sur boule de pétanque","case":"Casse","uppercase":"Majuscule","lowercase":"Minuscule","silhouette":"Silhouette","basketballsilhouette":"Silhouette basket","footracesilhouette":"Silhouette course à pied","surfsilhouette":"Silhouette surf","fightsilhouette":"Silhouette combat","tennissilhouette":"Silhouette tennis","escrimesilhouette":"Silhouette escrime","golfsilhouette":"Silhouette golf","skisilhouette":"Silhouette ski","billiard":"Billard américain","ball":"Boule","bld0":"Boule blanche","bld1":"Boule n° 1","bld2":"Boule n° 2","bld3":"Boule n° 3","bld4":"Boule n° 4","bld5":"Boule n° 5","bld6":"Boule n° 6","bld7":"Boule n° 7","bld8":"Boule n° 8","bld9":"Boule n° 9","bld10":"Boule n° 10","bld11":"Boule n° 11","bld12":"Boule n° 12","bld13":"Boule n° 13","bld14":"Boule n° 14","bld15":"Boule n° 15","smiley":"Smiley","adore":"Adore","angry":"Fâché","badly":"Malade","celebrate":"Fêtard","cool":"Cool","cry":"Pleure","dizzy":"Etourdi","easymoney":"Argent facile","frown":"Renfrogné","furious":"Furieux","hysterical":"Hystérique","impish":"Coquin","kiss":"Bisou","kissed":"Embrassé","laugh":"Rires","music":"Musique","pudently":"Rougit","sad":"Triste","shok":"Choc","sleep":"Sommeil","smile":"Sourit","stop":"Stoppé","struggle":"Combattant","study":"Intello","surprise":"Surprise","sweat":"Anxieux","sweetangel":"Ange","wink":"Clin d'oeil","woo":"Bouche-bée","wornout":"Epuisé","christmas":"Eléments Noël","blueball":"Boule bleue","bluepresent":"Cadeau bleu","christmasstar":"Etoile de Noël","goldball":"Boule dorée","greenball":"Boule verte","mistletoe":"Gui","pinkball":"Boule rose","purpleball":"Boule violette","redpresent":"Cadeau rouge","snowflake":"Flocon de neige","snowman":"Bonhomme de neige","sugarcane":"Canne à sucre","kanji":"Kanji","angel":"Ange","beauty":"Beauté","death":"Mort","life":"Vie","love":"Amour","peace":"Paix","war":"Guerre","stars":"Etoiles","star1":"Etoile n°1","star2":"Etoile n°2","star3":"Etoile n°3","construction":"Chantier","brush":"Pinceau","demolition":"Explosifs","hammer":"Marteau","hardhat":"Casque de chantier","paintbucket":"Seau à peinture","rulerwood":"Règle d'arpenteur","toolbox1":"Boîte à outils","tools":"Perceuse","education":"Education","apple":"Pomme","artsandcrafts":"Loisirs","atom":"Atome","book1":"Livre bleu","book2":"Livre rouge","bus":"Car scolaire US","bus2":"Autocar","certificateribbon":"Macaron","computer":"Ecran d'ordinateur","dictionary":"Dictionnaire","diploma2":"Diplôme","location":"Globe terrestre","lunchbox2":"Lunch box","musicbandinstrument":"Tuba","musicxylophone":"Xylophone","prize3d":"Coupe","prizeflat":"Trophée","ribbon":"Faveur-ruban","scroll":"Rouleaux de la Loi","scrollchinese":"Rouleau Chinois","scrollchineseblack":"Rouleau Chinois noir","scrollchinesered":"Rouleau Chinois rouge","target2":"Cible et fléchettes","university":"Université","electronics":"Electronique","cassettevhs":"Cassette VHS","cellphone3":"Téléphone portable","clockdigital":"Pendule numérique","digitalcamera":"Appareil photo numérique","dvd2":"DVD","gameconsole":"Manette de jeu","headphones":"Casque audio","ipod":"iPod","microphone":"Microphone","minidisc":"MIni-Disc","movieproduction":"Production de film","pda":"Organiseur","radio":"Poste de radio","televisionstudio":"Studio télé","televisionstudiocamera":"Caméra de plateau télé","tv":"Ecran de télé grand format","videoreel":"Bobine de film","entertainment":"Loisirs","advertising":"Bouteille de Coca-Cola","art":"Palette de peintre","artcanvas":"Chevalet de peintre","boxing":"Gants de boxe","cuisine":"Cuisine","footsteps":"Paire de baskets","guitar":"Guitare","musicsheet":"Partition","newspaper":"Journal","popcorn":"Pop-corn","snacks":"Biscuits apéritifs","sportsbaseball":"Baseball","sportsfootball":"Football américain","sportssoccer":"Football","tempo":"Tambour","medical":"Médical","allergyvials":"Médicaments","ambulance":"Ambulance","bandaid":"Pansement","chemicals":"Produits chimiques","firstaidkit":"Trousse de premier secours","healthhazard":"Cigarette et cendrier","symbolfemale":"Féminin","symbolmale":"Masculin","transportation":"Voyages et transports","airplane":"Avion","bicycle":"Vélo","car":"Voiture","compass":"Boussole","cruiseship":"Bateau de croisière","deliverytruckmail":"Camion de livraison","helicopter":"Hélicoptère","landscaping":"Île déserte","motorcycle":"Moto","passport":"Passeport","taxicab":"Taxi","travelsuitcase":"Valise","orientation":"Orientation","horizontal":"horizontal","vertical":"vertical","grass":"Pelouse","quomodo":"Quomodo","gifsmiley":"Smileys sports","gifsmiley2":"Smileys sports, vol.2","gifball":"Balles et ballons","giftrophy":"Trophées","gifactivity":"Activités","gifevents":"Fêtes et événements","gifsupporter":"Supporters"};var mcn_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("mcn_msgs_fr_js_loaded");var mcn_json_template={version:4,icon:{char:"emotion:",color:"#656565",size:48},header:{display:"false",text:""},align:2,linkdata:{kind:0,address:"",pagelink:""}};function mcn_upgradejson(r){if(!r.version)r.version=1;if(r.version==mcn_json_template.version)return r;if(r.version<2)r=mcn_upgradejsontov2(r);if(r.version<3)r=mcn_upgradejsontov3(r);if(r.version<4)r=mcn_upgradejsontov4(r);r.version=mcn_json_template.version;return r;}
function mcn_upgradejsontov2(r){if(r.elem.kind=="basketballchar")r.elem.options[0]=r.elem.options[0]+1;return r;}
function mcn_upgradejsontov3(r){if((r.spacedefaults&&r.spacedefaults.common&&r.spacedefaults.common.width=="undefinedpx")||(r.user&&r.user.common&&r.user.common.width=="undefinedpx")&&window.mcn_elems){var o=mcn_elems[r.elem.kind].options[0];var s=parseInt(r.elem.options[0],10);if(typeof o.values[0]=="string"){var w=o.values[s]||o.values[0];if(r.spacedefaults&&r.spacedefaults.common&&r.spacedefaults.common.width)r.spacedefaults.common.width=w+"px";if(r.user&&r.user.common&&r.user.common.width)r.user.common.width=w+"px";}}
return r;}
function mcn_upgradejsontov4(r){var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);r.align=2;r.icon={color:"c1",size:48};return r;}
function mcn_version(notekind){return{rpd:1};}
function mcn_xs_resize(div){var noteid=div.id;var r=qsn_thenotes[noteid];var w=qsn_width_xs(div.id);$(".mcn_content",div).css("font-size",Math.min(r.icon.size,w-2)+"px");}
function mcn_md_resize(div){var noteid=div.id;var r=qsn_thenotes[noteid];$(".mcn_content",div).css("font-size",r.icon.size+"px");}
var mcn_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("mcn_js_loaded");var menu2_message={"newnoteprompt":"Cliquez ici pour créer une nouvelle note Menu","plug":"Menu Vertical_Affichez un menu à la verticale sur vos pages.","displayweb":"Afficher les pages web","displayprivate":"Afficher les pages privées","displaylinks":"Afficher les liens externes","noitems":"(Aucun menu à afficher. Ce message n'apparaît dans la version publiée.)"};var menu2_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("menu2_msgs_fr_js_loaded");var menu2_json_template={version:2,text:"",header:{display:"false",text:"",icon:""},align:"0",displayprivate:"true",displayweb:"true",displaylinks:"true"};function menu2_upgradejson(r){if((r.version)&&(r.version==menu2_json_template.version))return r;if(r.version<2)r=menu2_upgradejsontov2(r);r.version=menu2_json_template.version;return r;}
function menu2_upgradejsontov2(r){var rpd=RPD.qsnUpgrade.common(r);var fontsize=Math.round(Math.sqrt(parseInt(spacexml.theme.menuheight,10)/0.181));r.align=r.textstyles.align||"0";r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function menu2_version(notekind){return{rpd:1};}
function menu2_renderhtml(noteid){var div=ge(noteid);var r=qsn_thenotes[noteid];qsn_container_renderhtml(div,r);$(".menu2_menu",div).before('<ul class="menu2_menu rpd-p1" ></ul>').remove();for(var j=0;j<spacexml.sitemap.length;j++){var li=menu2_mainmenu(div.id,"info",spacexml.sitemap[j],j);$(".menu2_menu",div).eq(0).append(li);}
if($(".menu2_menu li",div).length==0&&q_pagemode()=="edit"){$(".menu2_menu",div).append('<li class="rpd-p1 rpd-list-item">'+menu2_message["noitems"]+'</li>');}else{$(".menu2_menu > li",div).before('<li><div class="hr"></div></li>');$(".menu2_menu > li:first-child",div).remove();}
var isparentfixed=false;var $parentfixed;$(div).parents(".sk-sec, .sk-wra").each(function(){if($(this).css("position")=="fixed"||$(this).attr("fixedpos")=="1"){isparentfixed=true
$parentfixed=$(this);return false;}});if(q_pagemode()!="edit"&&q_pagemode()!="makeweb"){if(!/-dup/.test(div.id)&&!isparentfixed){$(div).unbind("mouseenter").on("mouseenter",function(){if(qsn_responsive_mod()=="xs"||qsn_responsive_mod()=="sm")return;if($("#"+div.id+"-dup").length==0)menu_cloneNoteForOver(div,r);$("#sk-content .sk-menu").css("z-index","100");$("#"+div.id+"-dup").css({"top":($(div).offset().top-$("#sk-content").offset().top+parseInt($(div).css("padding-top"),10))+"px","left":($(div).offset().left-$("#sectioncolor_"+div.id+"-dup").offset().left+parseInt($(div).css("padding-left"),10))+"px"}).parent().css("z-index","101");$(div).css("visibility","hidden");$("#"+div.id+"-dup").show();});}else{if(/-dup/.test(div.id)){$(div).unbind("mouseleave").on("mouseleave",function(){if(qsn_responsive_mod()=="xs"||qsn_responsive_mod()=="sm")return;$(this).hide();var noteid=div.id.replace("-dup","");$("#"+noteid).css("visibility","visible");});}}
$(".rpd-list-item",div).unbind("click").on("click",function(event){if($("a",this).length==0&&qsn_responsive_mod()=="md")return;var rel=$(this).attr("rel");if(rel=="page")return qlub_menus_click_svclink(this,event);else if(rel=="link")return $("a",this).trigger("click");else{if(!this.id)return;if($("#xs_pushmenu").parent().attr("id")=="h-0-xs"){$("#xs_pushmenu").insertBefore($("#sk-content"));}
$("#xs_pushmenu li[menuindex] .currentpane").removeClass("currentpane");if($(this).attr("menuindex"))$('#xs_pushmenu li[menuindex="'+$(this).attr("menuindex")+'"]').trigger("click");if($("#xs_pushmenu").offset().left<0){$("#xs_pushmenu").animate({"left":"0"},500);$("#sk-content").animate({"left":"270px"},500);}}});}else $(".rpd-list-item a",div).bind("click").on("click",function(e){e.preventDefault();});qsn_jcssmanagerapply(div,r);var sectioncolor=qsn_sectioncolor(noteid);var bgcolor=RPD.altpbgcolor(r.rpd,false,sectioncolor);$('li.rpd-list-item[iscurrtab="true"] .rpd-link',div).removeClass("rpd-link");$("li.rpd-list-item",div).css({"padding-left":function(){return $(this).css("padding-top");},"padding-right":function(){return $(this).css("padding-top");},"width":"auto"});$("li.rpd-list-item div.anchor",div).css({"padding-right":"12px","position":"relative"});$("ul.qlub_menu_content .menu2_iconsm",div).css("right",function(){return $(this).parent().css("padding-right");});var options_menus={"mouseenter":function(){var sectioncolor=qsn_sectioncolor(noteid);var bgcolor=RPD.altpbgcolor(r.rpd,false,sectioncolor);var bgcolor_modifier=bgcolor+"@"+(quomodoColors.isdark(bgcolor)?"l5":"d5");$(this).css("background-color",quomodoColors.richColor(bgcolor_modifier).c);},"mouseleave":function(event){if($(this).parents(".menupanes:eq(0)").length==0)$(this).css("background-color","");else{var sectioncolor=qsn_sectioncolor(noteid);var bgcolor=RPD.altpbgcolor(r.rpd,false,sectioncolor);$(this).css("background-color",bgcolor);}}};if(q_pagemode()=="edit")options_menus.resize_conflict=true;if(isparentfixed)qlub_menus_construct($(".menu2_notebody",div),div.id+"_menupanes",true,$parentfixed,options_menus);else qlub_menus_construct($(".menu2_notebody",div),div.id+"_menupanes",null,null,options_menus);$(".qlub_menupane_wrapper .qlub_menu_content li:not(.active)",div).css({"color":RPD.linkcolor(r.rpd,false,sectioncolor)});$(".qlub_menupane_wrapper .qlub_menu_content li",div).css({"background":bgcolor});$(".menupanes",div).addClass("rpd-p1");menu2_changealign(noteid);if(q_pagemode()=="makeweb"&&!/-dup/.test(noteid))menu_cloneNoteForOver(div,r);}
function menu_cloneNoteForOver(div,r){if(q_pagemode()=="edit")return;var isparentfixed=false;$(div).parents(".sk-sec, .sk-wra").each(function(){if($(this).css("position")=="fixed"||$(this).attr("fixedpos")=="1"){isparentfixed=true
return false;}});if(isparentfixed)return;var newnoteid=div.id+"-dup";$("#sectioncolor_"+newnoteid).remove();$("#sk-content").append('<div class="sk-menu"><div id="sectioncolor_'+newnoteid+'" class="sk-content-dup" style="width:'+$(div).width()+'px"></div></div>');if(qsn_sectioncolor(div.id))$("#sectioncolor_"+newnoteid).addClass("color_"+qsn_sectioncolor(div.id).replace(/[+@]/g,"_")).attr("color_id",qsn_sectioncolor(div.id));qsn_thenotes[newnoteid]=$.extend(true,{},r);var duplicate_r=qsn_thenotes[newnoteid];duplicate_r.common.noteid=newnoteid;delete duplicate_r.parentid;delete duplicate_r.pagesparent;duplicate_r.common.appendtarget=$("#sectioncolor_"+newnoteid).get(0);var newdiv=qsn_addnote(newnoteid);newdiv.removeAttribute("onmouseover");newdiv.onmouseover=null;newdiv.removeAttribute("onmouseout");newdiv.onmouseout=null;newdiv.removeAttribute("onmousedown");newdiv.onmousedown=null;delete qsn_thenotes[newnoteid];$("#sk-content .sk-menu").css("z-index","100");$(newdiv).hide().parents(".sk-menu:eq(0)").css("z-index","101");}
function menu2_md_resize(div){if($("#sectioncolor_"+div.id+"-dup").length==0)return;$("#sectioncolor_"+div.id+"-dup").width($(div).width());$("#"+div.id+"-dup").css("left",($(div).offset().left-$("#sectioncolor_"+div.id+"-dup").offset().left)+"px");}
function menu2_mainmenu(noteid,type,sm,path){var r=qsn_thenotes[noteid];var menu2_options={svcfromid:function(svcid){return menu2_svcfromid(svcid);},svcisvisible:function(svcid,xsmode){return menu2_svcisvisible(noteid,svcid,xsmode);},menuisvisible:function(menu,xsmode){if(spacexml.mode=="wiki")return true;if(menu.visibility=="hidden"||(menu.visibility=="mobile"&&!xsmode))return false;return true;},linkisvisible:function(){return(r.displaylinks=="true");},enablenewsvc:function(){return false;}};var li=$('<li class="rpd-p1 rpd-list-item"></li>');if(sm&&sm.id==currsvcid)li.addClass("active");var div=li;var iscurrtab=false;if(!sm.items&&sm.href){if(r.displaylinks!="true")return null;var htmlcontent=sm.name;var url=(sm.kind&&sm.kind=="2")?"#":sm.href;var $a=$('<a></a>',{"class":"rpd-p1  rpd-link","target":((sm.target)?sm.target:"_self"),"href":url}).append(escapeHTML(htmlcontent));if(sm.kind&&sm.kind=="2"){div.attr("svcid",sm.href);url="#";var svcid=sm.href;if(q_pagemode()=="makeweb"){var svc=menu2_svcfromid(svcid);if(!svc){qpromise_svcfromid(svcid).callback(function(promise){if(!promise||!promise.weblink)return;if(!q_svcisweb(svcid))return;$a.attr("href",q_canonicalurl(promise.weblink,true));});}else url=q_svcisweb(svcid)?q_canonicalurl(svc.weblink,true):"#";}else if(q_pagemode()=="web"){var svc=menu2_svcfromid(svcid);if(svc)url=q_canonicalurl(svc.weblink,true);}
$a.attr("href",url);}
div.attr({"rel":"link"});$('<div style="overflow:hidden; white-space:nowrap; text-overflow:ellipsis;">').append($a).appendTo(div);}else if(!sm.items&&sm.id){if(!menu2_svcisvisible(noteid,sm.id))return null;var svc=menu2_svcfromid(sm.id);if(svc.icon)var htmlcontent=$('<table cellspacing="0" cellpadding="0" border="0" style="font-style:italic;">').append($('<tr>').append($('<td>',{"class":"qlub_menuicon","valign":"middle"}).append('<div>',{"class":sm.icon})).append($('<td style="padding-left:8px;">').append($('<div style="white-space:nowrap">').html(q_svcname(svc)))));else var htmlcontent=q_svcname(svc);iscurrtab=(sm.id==currsvcid);div.attr({"rel":"page","svcid":sm.id});$('<div style="overflow:hidden; white-space:nowrap; text-overflow:ellipsis;">').append($('<a></a>',{"class":"rpd-p1 rpd-link","href":((window.q_makeweb)?q_canonicalurl(svc.weblink,true):"#")}).append(htmlcontent)).appendTo(div);}else if(sm.items){if(!menu2_options.menuisvisible(sm))return null;$('<div class="rpd-p1 rpd-link anchor">').append(sm.name).append('<span class="menu2_iconsm" style="position:absolute; right:0px;"></span>').appendTo(div);var ul=$('<ul class="qlub_menu_content"></ul>').show();for(var i=0;i<sm.items.length;i++){if(!sm.items[i].items&&sm.items[i].id){if(menu2_svcisvisible(noteid,sm.items[i].id))ul.append(qlub_menus_page(menu2_svcfromid(sm.items[i].id)));}else if(!sm.items[i].items&&sm.items[i].href){if(r.displaylinks=="true")ul.append(qlub_menus_link(sm.items[i],menu2_options));}else if(sm.items[i].items){if(menu2_options.menuisvisible(sm.items[i]))ul.append(qlub_menus_submenu(sm.items[i],[path].concat([i]),menu2_options));}}
var currpath=q_sitemap_getpath(currsvcid);iscurrtab=(currpath&&currpath.shift()==path);if($("li",ul).length==0)return null;div.attr({"iscurrtab":iscurrtab,"rel":"menu","menuindex":q_tostring([path])}).append(ul);}
$("ul.qlub_menu_content li span",div).replaceWith('<span class="menu2_iconsm" style="position:absolute; right:0px;line-height:inherit;height:inherit"></span>');$("ul.qlub_menu_content li",div).addClass("rpd-list-item rpd-link anchor").last().addClass("last");$("ul.qlub_menu_content li",div).before('<li><div class="hr"></div></li>')
$("ul.qlub_menu_content li:first-child",div).remove();if(li.hasClass("active"))li.find("a:eq(0)").removeClass("rpd-link");return li;}
function menu2_svcfromid(svcid){return q_svcfromid(svcid)||q_web_svcfromid(svcid);}
function menu2_svcisvisible(noteid,svcid,xsmode){var r=qsn_thenotes[noteid];if(r.displayprivate=="false"&&!q_svcisweb(svcid))return false;if(r.displayweb=="false"&&q_svcisweb(svcid))return false;return qlub_menus_svcisvisible(svcid,xsmode);}
function menu2_initforweb(id){var sectionid=qsn_stuffID(id);if(quomodo&&quomodo.page&&quomodo.page.isPopup&&(/^h-/.test(sectionid)||/^f-/.test(sectionid)))return;var newnoteid=id+"-dup";$("#"+newnoteid).remove();$("#sectioncolor_"+newnoteid).remove();$("#sk-content").append('<div class="sk-menu"><div id="sectioncolor_'+newnoteid+'" class="sk-content-dup"></div></div>');if(qsn_sectioncolor(id))$("#sectioncolor_"+newnoteid).addClass("color_"+qsn_sectioncolor(id).replace(/[+@]/g,"_")).attr("color_id",qsn_sectioncolor(id));$("#"+id).clone().attr("id",newnoteid).appendTo($("#sectioncolor_"+newnoteid));menu2_renderhtml(id);qsn_thenotes[newnoteid]=$.extend(true,{},qsn_thenotes[id]);qsn_thenotes[newnoteid].common.noteid=newnoteid;menu2_renderhtml(newnoteid);delete qsn_thenotes[newnoteid];$("#"+newnoteid).hide();}
function menu2_changealign(noteid){function menu2_align(textalign){switch(textalign){case "0":return "left";break;case "1":return "right";break;case "2":return "center";break;case "3":return "left";break;default:return "left";break;}}
var div=ge(noteid);var r=qsn_thenotes[noteid];$(div).find("li.rpd-list-item").css({"text-align":menu2_align(r.align)});}
var menuh_message={"desc":"(...)","navadmin":"La navigation en mode admin s'effectue dans Pages/Menus.","navadmin-node":'<div style="width: 450px">La navigation en mode admin s\'effectue dans Pages/Menus.</div><div style="padding-top: 1em">Pour déplacer le menu, utiliser la barre d\'outils.</div>'};var menuh_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("menuh_msgs_fr_js_loaded");var menuh_json_template={version:1,menualign:"left",menufont:"Arial",menutextstyles:"","layout":{"model":"m0","colorset":"cs0","typo":"t0","state":"sta0","separator":"sep0","arrow":"arr0","format":"for0","shadow":"sh0","align":"al0","altbgcolor":"white"}};function menuh_version(notekind){return{margin:1,rpd:1};}
function menuh_prepare_template(notekind){qsn_prepare_template(notekind,true);$("#"+qsn_notetemplateid(notekind,"edit")+" .qsn_design").remove();}
function menuh_renderhtmlHamburger(noteid){var div=ge(noteid);var r=qsn_thenotes[noteid];qsn_container_renderhtml(div,r);$(".qlubcontainer_verticalhandle",div).remove();qsn_jcssmanagerapply(div,r);$("#q_editsnmask #"+noteid+" .btn-fold").hide();$("#q_editsnmask #"+noteid).removeClass("selected");$(div).css("display","");$(".menuh_overflow",div).hide();$(".menuh_hamburger",div).css("display","table");if(r.vcenter){function vcenterTop(){var vOffset=0;if(r.vcenter!=true)vOffset=Math.round((parseInt(r.vcenter.split(" ")[0]||0,10)-parseInt(r.vcenter.split(" ")[1]||0,10))/2);var top=(vOffset+Math.round(($(div).parents(".sk-sec:eq(0)").height()-$(div).height())/2))+"px";$(div).css("top",top);return top;}
if(q_pagemode()=="edit"){var top=vcenterTop();if(qsn_currstate=="view"&&r.vcenterTop!=top){r.vcenterTop=top;if(/^note_/.test(noteid)){var section=quomodo.page.sections.get(qsn_stuffID(noteid));section.pages_save([noteid],[]);}}}else{if(r.vcenterTop){$(div).css("top",r.vcenterTop);}else vcenterTop();}}
qlub_menus_events_xs_button($(".menuh_hamburger",div));}
function menuh_renderhtml(noteid){var div=ge(noteid);var r=qsn_thenotes[noteid];if(r.forceHamburger)return menuh_renderhtmlHamburger(noteid);qsn_setresponsive_note(div);qsn_container_renderhtml(div,r);var bannermenu=Skeleton.getjsonbanner_menu();var expert_mode=spacexml.skeleton&&spacexml.skeleton.banner&&spacexml.skeleton.banner.expert_mode&&r.expert_mode;if(!expert_mode&&bannermenu&&qsn_stuffID(noteid).replace("-stuff","")==bannermenu.target){if(bannermenu.height)r.textheight=bannermenu.height;if(bannermenu.top){r.spacedefaults.common.top=bannermenu.top;r.user.common.top=bannermenu.top;div.style["top"]=bannermenu.top;}
if(bannermenu.bottom){r.spacedefaults.common.bottom=bannermenu.bottom;r.user.common.bottom=bannermenu.bottom;$(div).css({"top":"auto","bottom":bannermenu.bottom});}
if(!bannermenu.top&&!bannermenu.bottom){r.spacedefaults.common.top=0;r.user.common.top=0;div.style["top"]="0px";}
$(".qlubcontainer_verticalhandle",div).remove();}
var options=$.extend({},r);options.tabseparator=menuh_tabseparator;qsn_jcssmanagerapply(div,r);menuh_menus_create(div,options);$("#q_editsnmask #"+noteid+" .btn-fold").hide();$("#q_editsnmask #"+noteid).removeClass("selected");div.movingupdone=function(){if(spacexml.skeleton&&spacexml.skeleton.banner&&spacexml.skeleton.banner.expert_mode)r.expert_mode=true;};div.growingupdone=function(){menuh_sizeinit($(div),options);};if(q_pagemode()!="makeweb"&&spacexml.lgresponsive&&spacexml.mwv)div.toresize=function(){return[$('.menuh_overflow',div).get(0)];};if(q_pagemode!="edit")$(".menuh_overflow",div).css("overflow","visible");if(!/-dup/.test(div.id)){if($("body").attr("sk-id")=="prehome"){qlub_make_xsmenu($(".menuh_hamburger",div));}else{qlub_menus_events_xs_button($(".menuh_hamburger",div));}}
if(qsn_responsive_mod()=="md"||qsn_responsive_mod()=="lg")$(div).data("md_prepared",true);if(q_pagemode()=="edit"&&qsn_currstate=="view"){if(quomodo.node){$(div).find(".qsn_movemask").attr("onmousedown","q_stopPropagation( event )").unbind("click").click(function(){q_alert(menuh_message["navadmin-node"],null,true);});}}
if(q_pagemode()!="edit"||qlub_getsvctype()!="page"){$(div).find(".qsn_movemask").remove();}}
function menuh_menus_create(div,options){var $target=$(".menuh_menuonlybar",div);$target.empty().html("");var menualign=(options&&options.notealign)||RPDMenu.getAlign(options.rpd);$target.append('<td class="qlub_tab_spacer_left"><div><img src="/images/blank.gif" alt="" /></div></td>');var editmode=q_getuserlevel(memberid)!="admin"&&q_pagemode(true)=="edit";var bMenuAdded=false;var isparentfixed=menuh_isparentfixed(div,true);var $parentfixed=isparentfixed.elem;isparentfixed=isparentfixed.isFixed;var onepage=(window.quomodoclient&&quomodoclient.onepage)||options.onepage;if(onepage&&onepage.length>0){for(var j=0;j<onepage.length;j++){if(j>0)$target.append('<td class="qlub_tab_separatortab" ><div></div></td>');if(onepage[j]["section"]){$target.append('<td align="center" class="qlub_tab_td" width="1%" style="position:relative;" rel="section" target="'+onepage[j]["section"]+'"><div class="qlub_tab_title">'+onepage[j]["name"]+'</div><div class="qlub_menupane_margin"></div></td>');}else if(onepage[j]["site"]){var site=q_spaceid2svcinfo(onepage[j]["site"]);$target.append('<td align="center" class="qlub_tab_td" width="1%" style="position:relative;" rel="site" svcid="'+onepage[j]["site"]+'"><div class="qlub_tab_title"><a class="qlub_tab_title" href="'+((window.q_makeweb)?q_canonicalurl(site.weblink,true):"#")+'">'+onepage[j]["name"]+'</a></div><div class="qlub_menupane_margin"></div></td>');}else if(onepage[j]["page"]){var svc=menuh_svcfromid(onepage[j]["page"]);$target.append('<td align="center" class="qlub_tab_td" width="1%" style="position:relative;" rel="page" svcid="'+onepage[j]["page"]+'"><div class="qlub_tab_title"><a class="qlub_tab_title" href="'+((window.q_makeweb)?q_canonicalurl(svc.weblink,true):"#")+'">'+onepage[j]["name"]+'</a></div><div class="qlub_menupane_margin"></div></td>');}}
if(!window.quomodoclient||!quomodoclient.onepage)$("body").attr("onepage-noteid",options.common.noteid);menuh_manageScroll();}else{var nitems=0;for(var j=0;j<spacexml.sitemap.length;j++){if(options&&options.toItem&&options.toItem==nitems)break;var mainmenu=menuh_mainmenu(spacexml.sitemap[j],j);if(j>0&&mainmenu&&bMenuAdded)$target.append('<td class="qlub_tab_separatortab" ><div></div></td>');if(!options||!options.fromItem||options.fromItem<=(nitems+1)){$target.append(mainmenu);}
if(mainmenu){nitems++;if(options&&options.fromItem&&options.fromItem>nitems)continue;bMenuAdded=true;var opts_menu={"noshadow":true,"mouseenter":function(){var w=$("#"+this.id+"-pane").width();if(w>350){$("#"+this.id+"-pane").width("350px").find(".qlub_menu_content:eq(0) > li").css("white-space","normal");}}};if(isparentfixed)qlub_menus_construct(mainmenu,div.id+"_menupanes_"+j,true,$parentfixed,opts_menu);else qlub_menus_construct(mainmenu,div.id+"_menupanes_"+j,null,null,opts_menu);if($(".colbreak-wrapper",mainmenu).length==0)$(".qlub_menu_content:eq(0)",mainmenu).addClass("qlub_menupane").css({"position":"absolute","display":"none"});}}}
$target.append('<td class="qlub_tab_spacer_right"><div><img src="/images/blank.gif" alt="" /></div></td>');var menudisplay=(spacexml.theme&&spacexml.theme.menudisplay)?spacexml.theme.menudisplay:"horizontal";$("#qlub_menubartable").toggle(menudisplay!="none"||q_pagemode()=="edit");if(q_pagemode()!="edit"||qlub_getsvctype()!="page"){if(q_pagemode()!="makeweb"){menuh_events($target);$target.find(".qlub_tab_title").append('<div class="qlub_menu_border"></div>').append('<div class="qlub_menu_triangle font-q-sn"></div>');}}else{$(".qlub_tab_title",$target).unbind("click").on("click",function(event){q_stopPropagation(event);if(!(spacexml.skeleton&&spacexml.skeleton.banner&&spacexml.skeleton.banner.expert_mode))return q_alert('<span class="icon" style="font-size: 20px; vertical-align:middle"></span><span style="vertical-align:middle;margin-left:6px">'+menuh_message["navadmin"]+'</span>',{"width":"450px"},true);});}
if(options&&options.notealign){$(".qlub_tab_spacer_left",div).toggle(options.notealign=="right"||options.notealign=="center");$(".qlub_tab_spacer_right",div).toggle(options.notealign=="left"||options.notealign=="center");}
if(window.ASresumepause_inc)ASresumepause_inc();if(window.webLoader_inc)webLoader_inc();quomodoFonts.waitSpaceFonts(function(){menuh_sizeinit($(div),options);if(window.ASresumepause_dec)ASresumepause_dec();if(window.webLoader_dec)webLoader_dec();});if(options.textheight)$(".qlub_tab_title",$target).height(parseInt(options.textheight,10)+"px");$target.find("li.active").parentsUntil(".menuh_menuonlybar",'li[rel="menu"]').addClass("active");$(".qlub_menupane_wrapper",$target).addClass("qlub_menupane");$(".qlub_menupane_wrapper",$target).each(function(){var tab_td_width=$("#"+this.id.replace("-pane","")).parents(".qlub_tab_td:eq(0)").width();$(this).css({"min-width":Math.max(tab_td_width,200)+"px"});});if($('li[target="new"]',div).length>0){$('li[target="new"]',div).remove();$(".qlub_menupane .qlub_menu_content",div).each(function(){if($("li",this).length==0)$(this).parent().remove();});}
if(q_pagemode()=="web"){if($("li[svcid='"+currsvcid+"']",div).length==0){var path=q_sitemap_getpath(currsvcid);if(path&&path[0]){var menuindex=path[0];$(".qlub_tab_td[menuindex='["+menuindex+"]']",div).addClass("active");for(var i=1;i<path.length-1;i++){menuindex+=","+path[i];$("li[menuindex='["+menuindex+"]']",div).addClass("active");}}}}}
function menuh_manageScroll(){var onepage=window.quomodoclient&&quomodoclient.onepage;if(!onepage){var noteid=$("body").attr("onepage-noteid");if(!noteid)return;var r=qsn_thenotes[noteid];if(!r)return;onepage=r.onepage;if(!onepage)return;}
if(onepage&&onepage.length>0){for(var j=0;j<onepage.length;j++){var starting_top=0;var sectionTop=0;var sectionBottom=0;if(q_pagemode()=="view")starting_top+=$("#qlub_adminbar").height();var o=$("#"+onepage[j]["section"]).offset();if(o){sectionTop=o.top-starting_top-Skeleton.startingTop();sectionBottom=sectionTop+$("#"+onepage[j]["section"]).height();}
if($(window).scrollTop()>=sectionTop&&$(window).scrollTop()<sectionBottom){$('#'+noteid+' .qlub_tab_td[target="'+onepage[j]["section"]+'"]').addClass("active");}else{$('#'+noteid+' .qlub_tab_td[target="'+onepage[j]["section"]+'"]').removeClass("active");}}}}
function menuh_mainmenu(sm,path){var td=$('<td align="center" class="qlub_tab_td" width="1%" style="position:relative;"></td>');var menuh_options={svcfromid:function(svcid){return menuh_svcfromid(svcid);},svcisvisible:function(svcid,xsmode){return menuh_menus_svcisvisible(svcid,xsmode);},menuisvisible:function(menu,xsmode){if(spacexml.mode=="wiki")return true;if(menu.visibility=="hidden"||(menu.visibility=="mobile"&&!xsmode))return false;return true;}};var iscurrtab=false;if(!sm.items&&sm.href){if(!qlub_menus_linkisvisible(sm))return null;var htmlcontent=sm.name;var url=(sm.kind&&sm.kind=="2")?"#":sm.href;var $a=$('<a></a>',{"class":"qlub_tab_title","target":((sm.target)?sm.target:"_self"),"href":url}).append(escapeHTML(htmlcontent));if(sm.kind&&sm.kind=="2"){td.attr("svcid",sm.href);url="#";var svcid=sm.href;if(q_pagemode()=="makeweb"){var svc=menuh_svcfromid(svcid);if(!svc){qpromise_svcfromid(svcid).callback(function(promise){if(!promise||!promise.weblink)return;if(!q_svcisweb(svcid))return;$a.attr("href",q_canonicalurl(promise.weblink,true));});}else url=q_svcisweb(svcid)?q_canonicalurl(svc.weblink,true):"#";}else if(q_pagemode()=="web"){var svc=menuh_svcfromid(svcid);if(svc)url=q_canonicalurl(svc.weblink,true);}
$a.attr("href",url);}
td.attr({"rel":"link"});$('<div class="qlub_tab_title"></div>').append($a).appendTo(td);td.append('<div class="qlub_menupane_margin"></div>');}else if(!sm.items&&sm.qorpid){if(!qlub_menus_siteisvisible(sm.qorpid))return null;var htmlcontent=escapeHTML(sm.name);var site=q_spaceid2svcinfo(sm.qorpid);if(!site)return null;td.attr({"rel":"site","svcid":sm.qorpid})
$('<div class="qlub_tab_title"></div>').append($('<a></a>',{"class":"qlub_tab_title","target":((sm.target)?sm.target:"_self"),"href":((window.q_makeweb)?q_canonicalurl(site.weblink,true):"#")}).append(htmlcontent)).appendTo(td);td.append('<div class="qlub_menupane_margin"></div>');}else if(!sm.items&&sm.id){if(!menuh_menus_svcisvisible(sm.id))return null;var svc=menuh_svcfromid(sm.id);if(sm.icon)var htmlcontent=$('<table cellspacing="0" cellpadding="0" border="0"></table>').append($('<tr>').append($('<td valign="middle" class="qlub_menuicon"></td>').append($('<div></div>',{"class":sm.icon}))).append($('<td style="padding-left:8px;"></td>').append($('<div style="white-space:nowrap"></div>').html(escapeHTML(q_svcname(svc))))));else if(window.quomodoclient&&quomodoclient.menu&&quomodoclient.menu.homeimg&&q_svcishome(sm.id)){var htmlcontent='<span class="baseline">l</span><div class="icon-home"><img src="'+q_spacebaseurl("")+encodeURI(quomodoclient.menu.homeimg)+'" alt="'+escapeattribute(q_svcname(svc))+'"/></div>';}else var htmlcontent=escapeHTML(q_svcname(svc));iscurrtab=(sm.id==currsvcid);td.attr({"rel":"page","svcid":sm.id});$('<div class="qlub_tab_title"></div>').append($('<a></a>',{"class":"qlub_tab_title","href":((window.q_makeweb)?q_canonicalurl(svc.weblink,true):"#")}).append(htmlcontent)).appendTo(td);td.append('<div class="qlub_menupane_margin"></div>');}else if(sm.items){if(!menuh_options.menuisvisible(sm))return null;$('<div class="qlub_tab_title"></div>').html((sm.before?sm.before:'')+escapeHTML(sm.name)+(sm.after?sm.after:'')+'<span class="font-q-sn qlub_tab_arrow"></span>').appendTo(td);var menu=$('<ul class="qlub_menu_content"></ul>').show();if(sm.mode=="expand")menu.addClass("with-colbreak");var ul=menu;var currenthtml='';for(var i=0;i<sm.items.length;i++){if(!sm.items[i].items&&sm.items[i].id){if(menuh_menus_svcisvisible(sm.items[i].id)){ul.append(qlub_menus_page(menuh_svcfromid(sm.items[i].id),sm.items[i].icon));}else if(window.q_makeweb){var svc=menuh_svcfromid(sm.items[i].id);if(svc&&(q_pagemode()=="web"||svc.viewaccess=="web")&&svc.weblink&&/(^|\/)index_?$/.test(svc.weblink)){td.find(".qlub_tab_title").attr("svcid",sm.items[i].id).html((sm.before?sm.before:'')+'<a href="'+q_canonicalurl(svc.weblink,true)+'">'+escapeHTML(sm.name)+'</a>'+(sm.after?sm.after:'')+'<span class="font-q-sn qlub_tab_arrow"></span>');if(sm.items[i].id==currsvcid){td.addClass("active");}}}}else if(!sm.items[i].items&&sm.items[i].qorpid){if(qlub_menus_siteisvisible(sm.items[i].qorpid))ul.append(qlub_menus_site(sm.items[i]));}else if(!sm.items[i].items&&sm.items[i].href){if(qlub_menus_linkisvisible(sm.items[i]))ul.append(qlub_menus_link(sm.items[i],menuh_options));}else if(sm.items[i].kind=="colbreak"){ul.children().last().addClass("colbreak");}else if(sm.items[i].items){if(menuh_options.menuisvisible(sm.items[i])){if(currenthtml){ul.append(currenthtml);currenthtml='';}
ul.append(qlub_menus_submenu(sm.items[i],[path].concat([i]),menuh_options));}}}
if(currenthtml){ul.append(currenthtml);currenthtml='';}
var currpath=q_sitemap_getpath(currsvcid);iscurrtab=(currpath&&currpath.shift()==path);if($("li",menu).length==0)return null;td.attr({"rel":"menu","menuindex":q_tostring([path])}).append('<div class="qlub_menupane_margin"></div>').append(menu);}
if(iscurrtab)qlub_menus_setmarker(td);return td;}
function menuh_menus_svcisvisible(svcid,xsmode){if(!svcid)return false;var pagemode=q_pagemode(true);var userlevel=q_getuserlevel(memberid);if(pagemode=="view"&&userlevel!="admin"&&spacexml.mode=="intranet"&&q_svcisweb(svcid))return false;if(pagemode=="view"&&userlevel!="admin"&&spacexml.mode=="wiki"&&$.inArray("edit",q_svcfromid(svcid).accessrights)!=-1)return true;if(pagemode=="view"&&userlevel!="admin"&&spacexml.mode=="wiki"&&q_svcisweb(svcid))return false;if(!q_sitemap_getnode(svcid))return false;if(qlub_menus_svcisinhiddenmenu(svcid))return false;var v=q_sitemap_getnode(svcid).visibility;if(v=="hidden"||(v=="mobile"&&!xsmode))return false;else if(v=="forcevisible")return true;else if(v=="forcevisiblemobile"&&xsmode)return true;return(q_svcisweb(svcid)||$.inArray(q_pagemode(),["edit","view"])!=-1);}
var menuh_secZIndexMax;function menuh_zIndex(){if(menuh_secZIndexMax)return menuh_secZIndexMax;menuh_secZIndexMax=99;$(".sk-sec, .sk-wra").each(function(){var zIndex=parseInt($(this).css("z-index")||"0",10);if(zIndex>menuh_secZIndexMax)menuh_secZIndexMax=zIndex;});menuh_secZIndexMax=menuh_secZIndexMax+1
return menuh_secZIndexMax;}
function menuh_isparentfixed(div,wantElem){var r=qsn_thenotes[div.id.replace("-dup","")];if(r&&r.noDup){if(wantElem)return{"isFixed":true,"elem":$(div).parents(".sk-sec").eq(0)};return true;}
if(spacexml.skeleton&&spacexml.skeleton.manageScroll){var secid=qsn_stuffID(div.id).replace("-stuff","");if($.inArray(secid,spacexml.skeleton.manageScroll.before)!=-1){if(wantElem)return{"isFixed":false,"elem":null};return false;}
if($.inArray(secid,spacexml.skeleton.manageScroll.after)!=-1){if(wantElem)return{"isFixed":true,"elem":$("#"+secid)};return true;}}
var isparentfixed=false;var $parentfixed;$(div).parents(".sk-sec, .sk-wra").each(function(){if($(this).css("position")=="fixed"||$(this).attr("fixedpos")=="1"){isparentfixed=true;$parentfixed=$(this);return false;}});if(wantElem)return{"isFixed":isparentfixed,"elem":$parentfixed};return isparentfixed;}
function menuh_events($target){if(!$target)return;qlub_initmenupaneposition($target);var div=$target.parents(".note:eq(0)").get(0);var isparentfixed=menuh_isparentfixed(div);if(!/-dup/.test(div.id)&&!isparentfixed){$(".menuh_overflow",div).unbind("mouseenter").on("mouseenter",function(){if(window.quomodoclient&&quomodoclient.useBannerRule&&skeleton.bannerRule){if(skeleton.bannerRule["md"]&&skeleton.bannerRule["md"].scroll&&$("body").hasClass("banner-state-1")){return true;}}
if($("#"+div.id+"-dup").length==0){menuh_cloneNoteForOver(div,qsn_thenotes[div.id]);}
$("#sk-content .sk-menu").css("z-index",""+menuh_zIndex());$("#"+div.id+"-dup").css({"top":($(div).offset().top-$("#sk-content").offset().top)+"px","left":($(div).offset().left-$("#sectioncolor_"+div.id+"-dup").offset().left)+"px"}).parent().css("z-index",""+(menuh_zIndex()+1));$(div).css("visibility","hidden");$("#"+div.id+"-dup").show();div.dupForOver=true;});if(!(window.quomodoclient&&quomodoclient.useBannerRule&&skeleton.bannerRule&&skeleton.bannerRule["md"]&&skeleton.bannerRule["md"].scroll))return;}else if(isparentfixed){var zindex_menu=parseInt($(div).css("z-index"),10);var zindex_max=zindex_menu;$(div).parents(".stuff-content").find(".note").each(function(){var zindex=$(this).css("z-index");if(zindex&&parseInt(zindex,10)>zindex_max)zindex_max=parseInt(zindex,10);});if(zindex_max>zindex_menu)$(div).css("z-index",zindex_max+1);}
if(/-dup/.test(div.id)){$(".menuh_overflow",div).unbind("mouseleave").on("mouseleave",function(){$(div).hide();var noteid=div.id.replace("-dup","");$("#"+noteid).css("visibility","visible");ge(noteid).dupForOver=false;});}
$("#qlub_openleftcolbutton").unbind("click").click(function(){qlub_animleftcol(this.className);});$target.find("td.qlub_tab_td").hover(function(){var $this=$(this);$this.css("z-index","1").addClass("over");if($this.find(".colbreak-wrapper").length>0){var $wrapper=$this.find(".colbreak-wrapper");$wrapper.css("display","table");$wrapper.css("left","");var r=$wrapper.offset().left+$wrapper.width();var w=$(window).width();if(r>w)$wrapper.css("left","-"+(r-w+20)+"px");}else{$this.find(".qlub_menu_content:eq(0)").show();}},function(){var $this=$(this);$this.css("z-index","0").removeClass("over");if($this.find(".colbreak-wrapper").length>0){$this.find(".colbreak-wrapper").hide();}else{var $menu_content=$this.find(".qlub_menu_content:eq(0)");$menu_content.hide();if($menu_content.length>0)$menu_content.get(0).doleave(true);}});if(q_pagemode()=="edit"){$target.find("a.qlub_tab_title").unbind("click").click(function(event){var $td=$(this).parents("td.qlub_tab_td").first();var rel=$td.attr("rel");if(rel=="page"||rel=="site")return qlub_menus_click_svclink($td.get(0),event);else if(rel=="link"){if($td.attr("svcid"))return qlub_menus_click_svclink($td.get(0),event);if($.inArray(q_pagemode(),["web","view"])==-1)return q_alert(qlub_message["external_links_desactivated"]);return true;}else if(rel=="section")return q_alert(qlub_message["external_links_desactivated"]);});}else{$target.find("td.qlub_tab_td").unbind("click").click(function(event){var rel=$(this).attr("rel");if(rel=="page"||rel=="site")return qlub_menus_click_svclink(this,event);else if(rel=="link"){if($(this).attr("svcid"))return qlub_menus_click_svclink(this,event);if($.inArray(q_pagemode(),["web","view"])==-1)return q_alert(qlub_message["external_links_desactivated"]);return true;}else if(rel=="section"){var starting_top=0;if(q_pagemode()=="view")starting_top+=$("#qlub_adminbar").height();var o=$("#"+$(this).attr("target")).offset();if(o)$("html,body").animate({"scrollTop":(o.top-starting_top-Skeleton.startingTop(null,true))+"px"});}else if(rel=="menu"){if($(this).attr("svcid"))return qlub_menus_click_svclink(this,event);if(window.quomodoclient&&quomodoclient.tabclickable&&q_pagemode()=="web"){if(typeof quomodoclient.tabclickable=="object"&&quomodoclient.tabclickable.exec){var t=$(this).find(".qlub_tab_title").text().toLowerCase();if(!quomodoclient.tabclickable.test(t))return;}
var page=$(this).find("ul:first > li[rel='page']");if(page.length==0){var svcid=$(this).find("li[rel='page']").eq(0).attr("svcid");var svc=q_web_svcfromid(svcid);if(svc&&svc.weblink)window.location.href=web_baseurl()+svc.weblink.replace(/\/.*/,"/");}else{var svcid=page.eq(0).attr("svcid");var svc=q_web_svcfromid(svcid);if(svc&&svc.weblink)window.location.href=web_baseurl()+svc.weblink.replace(/[^\/]+$/,"");}}}});}
$target.find("li[rel='menu']").find("a:first").unbind("click").click(function(event){if($(this).parent().attr("svcid"))return qlub_menus_click_svclink($(this).parent().get(0),event);if(window.quomodoclient&&quomodoclient.tabclickable&&q_pagemode()=="web"){if(typeof quomodoclient.tabclickable=="object"&&quomodoclient.tabclickable.exec){var t=$(this).text().toLowerCase();if(!quomodoclient.tabclickable.test(t))return false;}
var page=$(this).parent().find("ul:first > li[rel='page']");if(page.length==0){var tab=$(this).parent();page=$("#"+tab.attr("id")+"-pane ul:first > li[rel='page']");}
if(page.length==0){var svcid=$(this).parent().find("li[rel='page']").eq(0).attr("svcid");var svc=q_web_svcfromid(svcid);if(svc&&svc.weblink)window.location.href=web_baseurl()+svc.weblink.replace(/\/.*/,"/");}else{var svcid=page.eq(0).attr("svcid");var svc=q_web_svcfromid(svcid);if(svc&&svc.weblink)window.location.href=web_baseurl()+svc.weblink.replace(/[^\/]+$/,"");}}
return false;});$target.find("li[rel='page']").unbind("click").click(function(event){return qlub_menus_click_svclink(this,event);});$target.find("li[rel='site']").unbind("click").click(function(event){return qlub_menus_click_svclink(this,event);});$target.find("li[rel='link'] a").parent().unbind("click").on("click",function(event){if($(this).attr("href")!="#")return event.stopPropagation();return qlub_menus_click_svclink(this,event);});}
function menuh_md_resize(div){var stuffID=qsn_stuffID(div.id);if(stuffID)stuffID=stuffID.replace(/-stuff$/,"");if(/^h-/.test(stuffID)){if(/-(sm|xs|lg)$/.test(stuffID))return;}
if(/-dup/.test(div.id))return;var $div=$(div);q_changedwidth(div,parseInt(qsn_width(div.id),10));if(spacexml.lgresponsive){div.growingupdone();var divDup=ge(div.id+"-dup");if(divDup){var $divDup=$(divDup);var savedDisplay=$divDup.css("display")
$divDup.show();q_changedwidth(divDup,parseInt(qsn_width(div.id),10));divDup.growingupdone();$divDup.css("display",savedDisplay);}}
$div.css("display","");$(".menuh_overflow",div).show();$(".menuh_hamburger",div).hide();if(!$div.data("md_prepared")){if(q_pagemode()=="web")menuh_initforweb(div.id);else menuh_renderhtml(div.id);}}
function menuh_lg_resize(div){var stuffID=qsn_stuffID(div.id);if(stuffID)stuffID=stuffID.replace(/-stuff$/,"");if(/^h-/.test(stuffID)){if(/-(sm|xs)$/.test(stuffID))return;if(!/-lg$/.test(stuffID)){if(ge(stuffID+"-lg"))return;}}
if(/-dup/.test(div.id))return;var $div=$(div);q_changedwidth(div,qsn_width_lg(div.id));div.growingupdone();var divDup=ge(div.id+"-dup");if(divDup){var $divDup=$(divDup);var savedDisplay=$divDup.css("display")
$divDup.show();q_changedwidth(divDup,qsn_width_lg(div.id));divDup.growingupdone();$divDup.css("display",savedDisplay);}
$div.css("display","");$(".menuh_overflow",div).show();$(".menuh_hamburger",div).hide();if(!$div.data("md_prepared")){if(q_pagemode()=="web")menuh_initforweb(div.id);else menuh_renderhtml(div.id);}}
function menuh_sm_resize(div){if(/-dup/.test(div.id))return;q_changedwidth(div,qsn_width_sm(div.id));$("#"+div.id+"-dup").css("display","none");$(div).css("display","");$(".menuh_overflow",div).hide();$(".menuh_hamburger",div).css("display","table");}
function menuh_xs_resize(div){if(/-dup/.test(div.id))return;q_changedwidth(div,qsn_width_xs(div.id));$("#"+div.id+"-dup").css("display","none");if($("body").attr("sk-id")=="prehome"){$(div).css("display","");$(".menuh_overflow",div).hide();$(".menuh_hamburger",div).css("display","table");}else $(div).css("display","none");}
function menuh_get_customxsmenu(noteid){return spacexml.sitemap;}
function menuh_cloneNoteForOver(div,r){if(qsn_currstate=="edit")return;var isparentfixed=menuh_isparentfixed(div);if(isparentfixed)return;var newnoteid=div.id+"-dup";$("#sectioncolor_"+newnoteid).remove();$("#sk-content").append('<div class="sk-menu"><div class="sk-content-dup" id="sectioncolor_'+newnoteid+'" ></div></div>');if(qsn_sectioncolor(div.id))$("#sectioncolor_"+newnoteid).addClass("color_"+qsn_sectioncolor(div.id).replace(/[\+@]/g,"_")).attr("color_id",qsn_sectioncolor(div.id));var $sec=$(div).parents(".sk-sec");if($sec.hasClass("cssv1")){$("#sectioncolor_"+newnoteid).addClass("cssv1-"+$sec.attr("id"));}
qsn_thenotes[newnoteid]=$.extend(true,{},r);var duplicate_r=qsn_thenotes[newnoteid];duplicate_r.common.noteid=newnoteid;delete duplicate_r.parentid;delete duplicate_r.pagesparent;duplicate_r.common.appendtarget=$("#sectioncolor_"+newnoteid).get(0);if(duplicate_r.spacedefaults.common.width=="auto"){duplicate_r.spacedefaults.common.width=duplicate_r.user.common.width=quomodo.page.sections.get(qsn_stuffID(div.id)).maxWidth+"px";}
var newdiv=qsn_addnote(newnoteid);newdiv.removeAttribute("onmouseover");newdiv.onmouseover=null;newdiv.removeAttribute("onmouseout");newdiv.onmouseout=null;newdiv.removeAttribute("onmousedown");newdiv.onmousedown=null;delete qsn_thenotes[newnoteid];$("#sk-content .sk-menu").css("z-index",""+menuh_zIndex());$(newdiv).hide().parents(".sk-menu:eq(0)").css("z-index",""+(menuh_zIndex()+1));}
function menuh_initforwebHamburger(id){var div=ge(id);qlub_menus_events_xs_button($(".menuh_hamburger",div));}
function menuh_initforweb(id){var sectionid=qsn_stuffID(id);if(quomodo&&quomodo.page&&quomodo.page.isPopup&&(/^h-/.test(sectionid)||/^f-/.test(sectionid)))return;var r=qsn_thenotes[id];if(r.forceHamburger)return menuh_initforwebHamburger(id);var newnoteid=id+"-dup";$("#"+newnoteid).remove();$("#sectioncolor_"+newnoteid).remove();$("#sk-content").append('<div class="sk-menu"><div id="sectioncolor_'+newnoteid+'" class="sk-content-dup"></div></div>');if(qsn_sectioncolor(id))$("#sectioncolor_"+newnoteid).addClass("color_"+qsn_sectioncolor(id).replace(/[+@]/g,"_")).attr("color_id",qsn_sectioncolor(id));var $sec=$("#"+id).parents(".sk-sec");if($sec.hasClass("cssv1")){$("#sectioncolor_"+newnoteid).addClass("cssv1-"+$sec.attr("id"));}
$("#"+id).clone().attr("id",newnoteid).appendTo($("#sectioncolor_"+newnoteid));menuh_renderhtml(id);qsn_thenotes[newnoteid]=$.extend(true,{},qsn_thenotes[id]);qsn_thenotes[newnoteid].common.noteid=newnoteid;(function(){var tmp=$("#"+id).get(0);if(tmp.style&&tmp.style.width!="auto")return;$("#"+newnoteid).css("width",$("#"+id).width()+"px");})();menuh_renderhtml(newnoteid);delete qsn_thenotes[newnoteid];$("#"+newnoteid).hide();}
function menuh_sizeinit($target,options,wantDefault){if(!wantDefault&&window.quomodoclient&&quomodoclient.menuh_sizeinit)return quomodoclient.menuh_sizeinit(options);var menuCSS={"md":{},"lg":{}};var bMakeCSS=(q_pagemode()=="makeweb")&&spacexml.lgresponsive&&spacexml.mwv;function doSizeInit(device){function setCSS(selector,style,value){if(!bMakeCSS)return;if(!menuCSS[device][selector])menuCSS[device][selector]={};menuCSS[device][selector][style]=value;}
var bHidden=$target.css("display")=="none";var skSec=$target.parents(".sk-sec:eq(0)").get(0);if(skSec){var bSectionDisplay=skSec.style&&skSec.style.display;}
var align=(options&&options.notealign)||RPDMenu.getAlign(options.rpd);var nomargins=options.nomargins;if(nomargins&&align=="justify")$target.find(".qlub_tab_spacer_left, .qlub_tab_spacer_right").hide();function done(){menuh_managespacer($target,{"align":align,"nomargins":options.nomargins,"activemargins":RPDMenu.getRPD(options.rpd).state_id=="tab","textheight":options.textheight,"state_id":RPDMenu.getRPD(options.rpd).state_id,"paddingOnTD":options.paddingOnTD},bMakeCSS?menuCSS[device]:{},device);qlub_initmenupaneposition($target);if(bHidden)$target.hide();if(skSec)$target.parents(".sk-sec:eq(0)").css("display",bSectionDisplay||"");}
if(bHidden)$target.show();var noteid=options.common.noteid;var textsize=options.textsize||RPDMenu.getTextsize(options.rpd);var trmenu=$target.find(".menuh_menuonlybar").get(0);var $trmenu=$(trmenu);var tabs=$(".qlub_tab_title",trmenu);var maxfont=parseInt(textsize,10);$trmenu.attr("class",$trmenu.attr("class").replace(/\s*fs\d+/g,"")+" fs"+(window.client_menusSize||maxfont));$target.find(".qlub_tab_td").each(function(index){$(this).attr("ti",index);});tabs.each(function(i){var $this=$(this);$this.css("font-size",window.client_menusSize||(maxfont+"px"));var ti=$this.parents(".qlub_tab_td").attr("ti");setCSS(".qlub_tab_td[ti='"+ti+"'] .qlub_tab_title","font-size",window.client_menusSize||(maxfont+"px"));});if($target.find(".qlub_tab_td").length!=0&&align=="justify"){$target.find(".qlub_tab_td").css("padding-left","").css("padding-right","");}
$target.parents(".sk-sec:eq(0)").show();var wref;if(options.spacedefaults.common.width=="auto"){wref=quomodo.page.sections.get(qsn_stuffID(noteid.replace("-dup",""))).maxWidth;}else{wref=parseInt(options.spacedefaults.common.width,10);}
if(qsn_responsive_mod()=="lg"&&!/-lg/.test(qsn_stuffID(noteid.replace("-dup","")))){wref=Math.ceil(wref*devicesDef.lg.contentWidth/devicesDef.md.contentWidth)+1;}
if(device=="lg")wref=Math.ceil(wref*devicesDef.lg.contentWidth/devicesDef.md.contentWidth)+1;if(nomargins){$trmenu.find(".qlub_tab_spacer_left:hidden").next("td").find("div.qlub_tab_title").attr("left","1").css("padding-left","0px");var ti=$trmenu.find(".qlub_tab_spacer_left:hidden").next("td").find("div.qlub_tab_title").parents(".qlub_tab_td").attr("ti");setCSS(".qlub_tab_td[ti='"+ti+"'] .qlub_tab_title","padding-left","0px");$trmenu.find(".qlub_tab_spacer_right:hidden").prev("td").find("div.qlub_tab_title").attr("right","1").css("padding-right","0px");ti=$trmenu.find(".qlub_tab_spacer_right:hidden").prev("td").find("div.qlub_tab_title").parents(".qlub_tab_td").attr("ti");setCSS(".qlub_tab_td[ti='"+ti+"'] .qlub_tab_title","padding-right","0px");}
if($(trmenu).width()<=wref)return done();$("#qlub_disqmenulink, #qlub_shareboardmenulink").hide();if($(trmenu).width()<=wref)return done();tabs.each(function(){var $this=$(this);var ti=$this.parents(".qlub_tab_td").attr("ti");var thisSelector=".qlub_tab_td[ti='"+ti+"'] .qlub_tab_title";var $target=$this;if(this.tagName.toLowerCase()=="div"){if(nomargins&&$this.attr("left")=="1"){$target.css("padding","0 "+Math.max(4,Math.round(maxfont*0.6))+"px").css("padding-left","0px");setCSS(thisSelector,"padding-right",Math.max(4,Math.round(maxfont*0.6))+"px");setCSS(thisSelector,"padding-left","0px");}else if(nomargins&&$this.attr("right")=="1"){$target.css("padding","0 "+Math.max(4,Math.round(maxfont*0.6))+"px").css("padding-right","0px");setCSS(thisSelector,"padding-left",Math.max(4,Math.round(maxfont*0.6))+"px");setCSS(thisSelector,"padding-right","0px");}else{$target.css("padding","0 "+Math.max(4,Math.round(maxfont*0.6))+"px");setCSS(thisSelector,"padding-left",Math.max(4,Math.round(maxfont*0.6))+"px");setCSS(thisSelector,"padding-right",Math.max(4,Math.round(maxfont*0.6))+"px");}}});if($(trmenu).width()<=wref)return done();for(var j=maxfont-1;j>6;j--){$trmenu.attr("class",$trmenu.attr("class").replace(/\s*fs\d+/g,"")+" fs"+j);tabs.each(function(){var $this=$(this);var ti=$this.parents(".qlub_tab_td").attr("ti");var $target=$this;var thisSelector=".qlub_tab_td[ti='"+ti+"'] .qlub_tab_title";$this.css("font-size",j+"px");setCSS(thisSelector,"font-size",j+"px");if(this.tagName.toLowerCase()=="div"){if(nomargins&&$this.attr("left")=="1"){$target.css("padding","0 "+Math.max(4,Math.round(j*0.6))+"px").css("padding-left","0px");setCSS(thisSelector,"padding-right",Math.max(4,Math.round(j*0.6))+"px");setCSS(thisSelector,"padding-left","0px");}else if(nomargins&&$this.attr("right")=="1"){$target.css("padding","0 "+Math.max(4,Math.round(j*0.6))+"px").css("padding-right","0px");setCSS(thisSelector,"padding-left",Math.max(4,Math.round(j*0.6))+"px");setCSS(thisSelector,"padding-right","0px");}else{$target.css("padding","0 "+Math.max(4,Math.round(j*0.6))+"px");setCSS(thisSelector,"padding-left",Math.max(4,Math.round(j*0.6))+"px");setCSS(thisSelector,"padding-right",Math.max(4,Math.round(j*0.6))+"px");}}});if($(trmenu).width()<=wref){return done();}}
done();}
if(bMakeCSS){var div=$target.get(0);var noteid=div.id;q_changedwidth(div,qsn_width_lg(div.id));doSizeInit("lg");q_changedwidth(div,parseInt(qsn_width(div.id),10));doSizeInit("md");$target.find(".menuh_menuonlybar .qlub_tab_title").css("font-size","").css("padding-left","").css("padding-right","");var notecss=[];for(var device in menuCSS){if(device=="lg")notecss.push("@media screen and ( min-width : 1200px ) {");else notecss.push("@media screen and ( min-width:1008px ) and ( max-width : 1199px ) {");notecss.push("#"+noteid+", #"+noteid+"-dup"+" { visibility: hidden }");notecss.push("body.makeVisible #"+noteid+", body.makeVisible #"+noteid+"-dup"+" { visibility: visible }");for(var selector in menuCSS[device]){var oneCSS="#"+noteid+" "+selector+", #"+noteid+"-dup "+selector+" { ";for(var style in menuCSS[device][selector]){oneCSS+=style+": "+menuCSS[device][selector][style]+" ; ";}
oneCSS+=" }";notecss.push(oneCSS);}
notecss.push("}");}
qsn_css_note(div.id,notecss.join("\n"),"note");}else{doSizeInit();}}
function menuh_managespacer($target,options,menuCSS,device){var align=options.align;var nomargins=options.nomargins;var activemargins=options.activemargins;var bMakeCSS=(q_pagemode()=="makeweb")&&spacexml.lgresponsive&&spacexml.mwv;function setCSS(selector,style,value){if(!menuCSS[selector])menuCSS[selector]={};menuCSS[selector][style]=value;}
if($target.find(".qlub_tab_td").length!=0&&align=="justify"){if(bMakeCSS){var $trmenu=$target.find(".menuh_menuonlybar");$trmenu.attr("mw-"+device,$trmenu.get(0).offsetWidth);if(options.paddingOnTD)$trmenu.attr("mw-"+device+"TD","1");}
var p=0;if($target.find(".qlub_tab_spacer_left").css("display")!="none")p+=$target.find(".qlub_tab_spacer_left").outerWidth();if($target.find(".qlub_tab_spacer_right").css("display")!="none")p+=$target.find(".qlub_tab_spacer_right").outerWidth();$target.find(".qlub_tab_separatortab").each(function(){var $this=$(this);p+=$this.outerWidth()-$this.find("div").outerWidth();});$target.find(".qlub_tab_td").each(function(){var $this=$(this);p+=$this.outerWidth()-$this.find("div.qlub_tab_title").outerWidth();if(!nomargins||$this.find("div.qlub_tab_title[ left='1' ]").length==0)p+=parseInt($this.find("div.qlub_tab_title").css("padding-left"),10);if(!nomargins||$this.find("div.qlub_tab_title[ right='1' ]").length==0)p+=parseInt($this.find("div.qlub_tab_title").css("padding-right"),10);});var n=$target.find(".qlub_tab_td").length;if(nomargins)n=n-1;var activeleft=$target.find(".qlub_tab_td div.qlub_tab_title[left='1']").parent().hasClass("active");var activeright=$target.find(".qlub_tab_td div.qlub_tab_title[right='1']").parent().hasClass("active");var overflowmargins=nomargins&&(options.state_id=="tag_contrast");if(overflowmargins){$target.find(".qlub_tab_td div.qlub_tab_title[left='1'], .qlub_tab_td div.qlub_tab_title[right='1']").each(function(){var $this=$(this);if($this.find("a .qlub_menu_text").length==0){$this.find("a").addClass("qlub_overbackground").prepend('<div class="qlub_menu_background"></div>').contents().filter(function(){return this.nodeType===3;}).wrap('<div class="qlub_menu_text"></div>');}
if(options.textheight)$this.find("a").css("line-height",parseInt(options.textheight,10)+"px");});}
var newpadding;if(options.paddingOnTD)$target.find(".qlub_tab_td").find("div.qlub_tab_title").css("padding-left","0px").css("padding-right","0px").css("position","relative");$target.find(".qlub_tab_td").each(function(index){var $this=$(this);var ti=$this.attr("ti");$this=$this.find("div.qlub_tab_title");var $target=$this;var thisSelector=".qlub_tab_td[ti='"+ti+"'] div.qlub_tab_title";var targetSelector=thisSelector;if(options.paddingOnTD){$target=$this.parent();targetSelector=".qlub_tab_td[ti='"+ti+"']";}
if(!nomargins||$this.attr("left")!="1"){if(nomargins)newpadding=Math.round(p/((n-index)*2+1+(activemargins&&activeright?1:0)));else newpadding=Math.round(p/((n-index)*2));p-=newpadding;if(bMakeCSS)setCSS(targetSelector,"padding-left",newpadding+"px");else $target.css("padding-left",newpadding+"px");if(overflowmargins&&$this.attr("right")=="1"){if(bMakeCSS){setCSS(thisSelector+" a .qlub_menu_background","padding-left",newpadding+"px");setCSS(thisSelector+" a .qlub_menu_background","padding-right",newpadding+"px");setCSS(thisSelector+" a .qlub_menu_background","left","-"+newpadding+"px");$this.find("a .qlub_menu_background").attr("mw-bg","1");}else $this.find("a .qlub_menu_background").css({"padding-left":newpadding+"px","padding-right":newpadding+"px","left":"-"+newpadding+"px"});}}
if(nomargins&&activemargins&&activeleft&&$this.attr("left")=="1"){newpadding=Math.round(p/((n-index)*2+1));p-=newpadding;if(bMakeCSS)setCSS(targetSelector,"padding-left",newpadding+"px");else $target.css("padding-left",newpadding+"px");}
if(!nomargins||$this.attr("right")!="1"){if(nomargins)newpadding=Math.round(p/((n-index)*2+(activemargins&&activeright?1:0)));else newpadding=Math.round(p/((n-index)*2-1));p-=newpadding;if(bMakeCSS)setCSS(targetSelector,"padding-right",newpadding+"px");else $target.css("padding-right",newpadding+"px");if(overflowmargins&&$this.attr("left")=="1"){if(bMakeCSS){setCSS(thisSelector+" a .qlub_menu_background","padding-left",newpadding+"px");setCSS(thisSelector+" a .qlub_menu_background","padding-right",newpadding+"px");setCSS(thisSelector+" a .qlub_menu_background","left","-"+newpadding+"px");$this.find("a .qlub_menu_background").attr("mw-bg","1");}else $this.find("a .qlub_menu_background").css({"padding-left":newpadding+"px","padding-right":newpadding+"px","left":"-"+newpadding+"px"});}}
if(nomargins&&activemargins&&activeright&&$this.attr("right")=="1"){if(bMakeCSS)setCSS(targetSelector,"padding-left",p+"px");else $target.css("padding-left",p+"px");}});}}
function menuh_svcfromid(svcid){var svc=q_svcfromid(svcid)||q_web_svcfromid(svcid);return svc;}
function joincss(x){var s=x.join(" ; ");var comma=",";var re=new RegExp("( ; ){2"+comma+"}","g");return s.replace(/(^( ; )+|( ; )+$)/,"").replace(re," ; ");}
function gradient(definition){var css="background : -webkit-linear-gradient( top, "+definition+" ); ";css+="background : -o-linear-gradient( top, "+definition+" ); ";css+="background : -moz-linear-gradient( top, "+definition+" ); ";css+="background : -ms-linear-gradient( top, "+definition+" ); ";css+="background : linear-gradient( to bottom, "+definition+" ); ";return css;}
function menuh_bgcolor(json){if(json.unicolor||json.gradient||json.glossy)return json["cs-main"];else return json.altbgcolor||json["cs-main"];}
function menuh_tabseparator(){}
var meteo_message={"newnoteprompt":"cliquez ici pour créer une nouvelle note météo","plug":"Météo_Affichez dans vos pages la météo de votre ville.","desc":"La note météo permet d'afficher la météo de la ville la plus proche de chez vous","noresults":"Aucun résultat pour la recherche","results":" résultat(s) trouvé(s)","resultsdesc":"Cliquez sur l'une des villes pour la sélectionner :","nocity":"Vous n'avez pas sélectionné de ville, ou la ville que vous avez sélectionnée n'est pas reconnue. Merci de sélectionner une autre ville.","noaccess":"Suite à un incident, il nous est impossible d'afficher la météo pour le moment. Rechargez la page ultérieurement pour voir si l'incident est terminé. Merci de votre compéhension.","gotoTWC":"Consulter la météo directement sur The Weather Channel ®","date":"date","tabcolor":"Couleur de la note","forecasttype":"Affichage","tabstyle":"Style","forecasttypep":"prévisions, images seules","forecasttypes":"prévisions avec températures","forecasttypem":"prévisions et temps actuel","forecasttypel":"toutes les infos","forecastnumbertitle":"Prévisions :","forecastnumber0":"aujoud'hui","forecastnumber1":"à 1 jour","forecastnumber2":"à 2 jours","forecastnumber3":"à 3 jours","forecastnumber4":"à 4 jours","parameters":"Paramètres","unitstitle":"Unités","unitsm":"Métriques (C°)","unitss":"USA (F°)","unit_SI":"° C","unit_US":"° F","imagesizetitle":"Taille des images","imagesize31":"Petites","imagesize61":"Moyennes","imagesize93":"Grandes","imagesize0":"Pas d'image","tempressentie":"Temp. ressentie :","wind_dir":"","wind_speed":", ","reported":"Mise à jour ","reported_time":"","sunrise":"Lever","sunset":"Coucher","humidity":"Humidité :","humidity_short":"Humid","visibility":"Visibilité :","ppcp":"Chance de précipitations","ppcp_short":"Précip","pression":"Baromètre :","dewp":"Point de rosée :","wind":"Vent :","uv":"Indice UV :","Very Low":"Très Bas","Low":"Bas","Moderate":"Modéré","High":"Élevé","Very High":"Très élevé","Extreme":"Extrême","falling":"en chute","rising":"en hausse","steady":"stable","calm":"calme","N":"N","NNW":"N-NO","NW":"NO","WNW":"O-NO","W":"O","WSW":"O-SO","SW":"SO","SSW":"S-SO","S":"S","SSE":"S-SE","SE":"SE","ESE":"E-SE","E":"E","ENE":"E-NE","NE":"NE","NNE":"N-NE","VAR":"VAR","mintemp":"Min","maxtemp":"Max","today":"Aujourd'hui","tomorrow":"Demain","Monday":"Lun","Tuesday":"Mar","Wednesday":"Mer","Thursday":"Jeu","Friday":"Ven","Saturday":"Sam","Sunday":"Dim","gday_mon":"Lun","gday_tue":"Mar","gday_wed":"Mer","gday_thu":"Jeu","gday_fri":"Ven","gday_sat":"Sam","gday_sun":"Dim","gday_lun":"Lun","gday_mar":"Mar","gday_mer":"Mer","gday_jeu":"Jeu","gday_ven":"Ven","gday_sam":"Sam","gday_dim":"Dim","Jan":"Jan","Feb":"Fév","Mar":"Mar","Apr":"Avr","May":"Mai","Jun":"Juin","Jul":"Juil","Aug":"Août","Sep":"Sep","Oct":"Oct","Nov":"Nov","Dec":"Déc","AM":"le matin","PM":"après midi","Early":"en matinée","Late":"en soirée","Blustery":"Très venteux","Clear":"Beau","Cloudy":"Nuageux","Clouds":"Nuages","Cold":"Froid","Drifting Snow":"Tempête de Neige","Drizzle":"Bruine","Dust":"Nuage de poussière","Fair":"Belles éclaircies","Few Showers":"Quelques averses","Few Snow Showers":"Quelques chutes de neige","Flurries":"Averses","Fog":"Brouillard","Foggy":"Brumeux","Freezing Drizzle":"Bruine givrante","Freezing Rain":"Pluie glaçante","Hail":"Grêle","Haze":"Brume","Heavy Rain":"Forte pluie","Heavy Snow":"Forte neige","Hot":"Chaleur","Hurricane":"Ouragan","Isolated T-Storms":"Orages isolés","Isolated Thunderstorms":"Orages isolés","Light Drizzle":"Légère bruine","Light Rain":"Légère pluie","Light Rain with Thunder":"Légère pluie et tonnerre","Light Snow Showers":"Légères chutes de neige","Light Snow":"Légère neige","Light Wintry Mix":"Légère neige","Mist":"Brume","Mixed Precipitation":"Variable avec averses","Mixed Rain and Hail":"Pluie et grêle","Mixed Rain and Sleet":"Pluie et neige fondue","Mixed Rain and Snow":"Pluie et neige","Mostly Clear":"Assez dégagé","Mostly Cloudy":"Assez nuageux","Mostly cloudy and windy":"Assez nuageux et venteux","Mostly Sunny":"Assez ensoleillé","N/A":"N/A","Partly Cloudy and Windy":"Nuages épars et vent","Partly Cloudy":"Nuages épars","Rain":"Pluie","Scattered Showers":"Averses localisées","Scattered Snow Showers":"Tempêtes de neige localisées","Scattered T-Storms":"Orages localisés","Scattered Thunderstorms":"Orages localisés","Severe Thunderstorms":"Orages Violents","Showers Early":"Pluie en matinée","Showers in the Vicinity":"Pluie aux alentours","Showers":"Averses","Sleet":"Neige fondue","Smoke":"Fumée","Snow Flurries":"Averses de neige","Snow Showers":"Averses de neige","Snow":"Neige","Sun":"Soleil","Sunny":"Ensoleillé","T-Showers":"Pluies orageuses","T-Storms":"Orages","Thunder":"Tonnerre","Thunder Showers":"Orages","Thunderstorms":"Orageux","Tornado":"Tornade","Tropical Storm":"Tempête Tropicale","Wind":"Vent","Windy":"Venteux","395":"Forte neige et tonnerre","392":"Faible neige et tonnerre","389":"Fortes pluies et tonnerre","386":"Faibles pluies et tonnerre","377":"Fortes chutes de grêle","374":"Faibles chutes de grêle","371":"Fortes chutes de neige","368":"Faible chute de neige","365":"Fortes chutes de neige fondue","362":"Faibles chutes de neige fondue","359":"Pluies torrentielles","356":"Fortes pluies","353":"Faibles pluies","350":"Chutes de grêle","338":"Fortes chutes de neige","335":"Fortes chutes de neige locales","332":"Chutes de neige","329":"Chutes de neige locales","326":"Faibles chutes de neige","323":"Faibles chutes de neige locales","320":"Fortes chutes de neige fondue","317":"Faibles chutes de neige fondue","314":"Fortes pluies verglassantes","311":"Faibles pluies verglassantes","308":"Fortes pluies","305":"Fortes pluies intermittentes","302":"Pluie","299":"Pluies intermittentes","296":"Faibles pluies","293":"Faibles pluies locales","284":"Forte bruine verglassante","281":"Bruine verglassante","266":"Faible bruine","263":"Faibles bruines locales","260":"Brouillard givrant","248":"Brouillard","230":"Blizzard","227":"Tempête de neige","200":"Violents orages","185":"Bruines verglassantes locales","182":"Chutes locales de neige fondue","179":"Chutes locales de neige","176":"Pluies locales","143":"Brume","122":"Couvert","119":"Nuageux","116":"Partiellement nuageux","113":"Ensoleillé / Nuit claire","0":"Ensoleillé / Nuit claire","1":"Partiellement nuageux","2":"Nuageux","3":"Couvert","10":"Brume","21":"Pluies locales","22":"Chutes locales de neige","23":"Chutes locales de neige fondue","24":"Bruines verglassantes locales","29":"Possibilité de violents orages","38":"Tempête de neige","39":"Blizzard","45":"Brouillard","49":"Brouillard givrant","50":"Faibles bruines locales","51":"Faible bruine","56":"Bruine verglassante","57":"Forte bruine verglassante","60":"Faibles pluies locales","61":"Faibles pluies","62":"Pluies intermittentes","63":"Petites pluies","64":"Fortes pluies intermittentes","65":"Fortes pluies","66":"Faibles pluies verglassantes","67":"Fortes pluies verglassantes","68":"Faibles chutes de neige fondue","69":"Fortes chutes de neige fondue","70":"Faibles chutes de neige locales","71":"Faibles chutes de neige","72":"Chutes de neige locales","73":"Chutes de neige","74":"Fortes chutes de neige localement","75":"Fortes chutes de neige","79":"Chutes de grêle","80":"Petites averses","81":"Fortes averses","82":"Averses torrentielles","83":"Faibles averses de neige fondue","84":"Fortes averses de neige fondue","85":"Faibles averses de neige","86":"Fortes averses de neige","87":"Faibles averses de grêle","88":"Fortes averses de grêle","91":"Faibles pluies et tonnerre localement","92":"Fortes pluies et tonnerre","93":"Faible neige et tonnerre localement","94":"Forte neige et tonnerre"};var meteo_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("meteo_msgs_fr_js_loaded");var meteo_json_template={version:6,text:"",header:{display:"true",text:"",icon:"false"},cityname:"",cityid:"",forecasttype:"s",forecastnumber:3,unit:"m","imagesize":93};var meteo_oldjson_template={"2":{version:2,text:"",color:"rgb(100%,100%,100%)",header:{display:"true",color:"c1",text:"",icon:"meteo"},cityname:"",cityid:"",forecasttype:"s",forecastnumber:3,unit:"m","imagesize":93},"3":{version:3,text:"",color:"rgb(100%,100%,100%)",header:{display:"true",text:"",icon:"false"},cityname:"",cityid:"",forecasttype:"s",forecastnumber:3,unit:"m","imagesize":93},"4":{version:4,text:"",color:"rgb(100%,100%,100%)",header:{display:"true",text:"",icon:"false"},textstyles:{font:"-1"},cityname:"",cityid:"",forecasttype:"s",forecastnumber:3,unit:"m","imagesize":93},"5":{version:5,textsize:12,text:"",color:"rgb(100%,100%,100%)",header:{display:"true",text:"",icon:"false"},textstyles:{font:"-1"},cityname:"",cityid:"",forecasttype:"s",forecastnumber:3,unit:"m","imagesize":93}};function meteo_upgradejson(r){if((r.version)&&(r.version==meteo_json_template.version))return r;if(r.version<2)meteo_upgradejsontov2(r);if(r.version<3)meteo_upgradejsontov3(r);if(r.version<4)meteo_upgradejsontov4(r);if(r.version<5)meteo_upgradejsontov5(r);if(r.version<6)meteo_upgradejsontov6(r);r.version=meteo_json_template.version;return r;}
function meteo_upgradejsontov2(r){r.header.display=String(r.headerdisplay==1);delete r.headerdisplay;return r;}
function meteo_upgradejsontov3(r){r.forecastnumber=Math.min(parseInt(r.forecastnumber,10),4);if(r.forecasttype=="l")r.forecasttype="m";return r;}
function meteo_upgradejsontov4(r){if(!r.textstyles)r.textstyles={font:"-1"};return r;}
function meteo_upgradejsontov5(r){r.textsize=12;return r;}
function meteo_upgradejsontov6(r){var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function meteo_version(){return{"rpd":"1"};}
var meteo_key;var meteo_partnerID;var meteo_icons={"day":{"0":"wsymbol_0001_sunny","1":"wsymbol_0002_sunny_intervals","2":"wsymbol_0003_white_cloud","3":"wsymbol_0004_black_low_cloud","10":"wsymbol_0006_mist","21":"wsymbol_0009_light_rain_showers","22":"wsymbol_0011_light_snow_showers","23":"wsymbol_0013_sleet_showers","24":"wsymbol_0009_light_rain_showers","29":"wsymbol_0016_thundery_showers","38":"wsymbol_0011_light_snow_showers","39":"wsymbol_0012_heavy_snow_showers","45":"wsymbol_0007_fog","49":"wsymbol_0007_fog","50":"wsymbol_0009_light_rain_showers","51":"wsymbol_0009_light_rain_showers","56":"wsymbol_0009_light_rain_showers","57":"wsymbol_0009_light_rain_showers","60":"wsymbol_0009_light_rain_showers","61":"wsymbol_0009_light_rain_showers","62":"wsymbol_0009_light_rain_showers","63":"wsymbol_0009_light_rain_showers","64":"wsymbol_0010_heavy_rain_showers","65":"wsymbol_0010_heavy_rain_showers","66":"wsymbol_0009_light_rain_showers","67":"wsymbol_0009_light_rain_showers","68":"wsymbol_0013_sleet_showers","69":"wsymbol_0021_cloudy_with_sleet","70":"wsymbol_0011_light_snow_showers","71":"wsymbol_0011_light_snow_showers","72":"wsymbol_0019_cloudy_with_light_snow","73":"wsymbol_0019_cloudy_with_light_snow","74":"wsymbol_0012_heavy_snow_showers","75":"wsymbol_0020_cloudy_with_heavy_snow","79":"w6icon_0014_light_hail_showers","80":"wsymbol_0009_light_rain_showers","81":"wsymbol_0010_heavy_rain_showers","82":"wsymbol_0020_cloudy_with_heavy_snow","83":"wsymbol_0013_sleet_showers","84":"wsymbol_0021_cloudy_with_sleet","85":"wsymbol_0011_light_snow_showers","86":"wsymbol_0020_cloudy_with_heavy_snow","87":"w6icon_0014_light_hail_showers","88":"w6icon_0015_heavy_hail_showers","91":"wsymbol_0017_cloudy_with_light_rain","92":"w6icon_0018_cloudy_with_heavy_rain","93":"w6icon_0019_cloudy_with_light_snow","94":"w6icon_0020_cloudy_with_heavy_snow"},"night":{"0":"wsymbol_0008_clear_sky_night","1":"wsymbol_0004_black_low_cloud","2":"wsymbol_0004_black_low_cloud","3":"wsymbol_0004_black_low_cloud","10":"wsymbol_0006_mist","21":"wsymbol_0025_light_rain_showers_night","22":"wsymbol_0027_light_snow_showers_night","23":"wsymbol_0029_sleet_showers_night","24":"wsymbol_0025_light_rain_showers_night","29":"wsymbol_0032_thundery_showers_night","38":"wsymbol_0027_light_snow_showers_night","39":"wsymbol_0028_heavy_snow_showers_night","45":"wsymbol_0007_fog","49":"wsymbol_0007_fog","50":"wsymbol_0025_light_rain_showers_night","51":"wsymbol_0025_light_rain_showers_night","56":"wsymbol_0025_light_rain_showers_night","57":"wsymbol_0025_light_rain_showers_night","60":"wsymbol_0025_light_rain_showers_night","61":"wsymbol_0025_light_rain_showers_night","62":"wsymbol_0025_light_rain_showers_night","63":"wsymbol_0025_light_rain_showers_night","64":"wsymbol_0026_heavy_rain_showers_night","65":"wsymbol_0026_heavy_rain_showers_night","66":"wsymbol_0025_light_rain_showers_night","67":"wsymbol_0025_light_rain_showers_night","68":"wsymbol_0029_sleet_showers_night","69":"wsymbol_0037_cloudy_with_sleet_night","70":"wsymbol_0027_light_snow_showers_night","71":"wsymbol_0027_light_snow_showers_night","72":"wsymbol_0035_cloudy_with_light_snow_night","73":"wsymbol_0035_cloudy_with_light_snow_night","74":"wsymbol_0028_heavy_snow_showers_night","75":"wsymbol_0036_cloudy_with_heavy_snow_night","79":"w6icon_0038_cloudy_with_light_hail_night","80":"wsymbol_0025_light_rain_showers_night","81":"wsymbol_0026_heavy_rain_showers_night","82":"wsymbol_0036_cloudy_with_heavy_snow_night","83":"wsymbol_0029_sleet_showers_night","84":"wsymbol_0037_cloudy_with_sleet_night","85":"wsymbol_0027_light_snow_showers_night","86":"wsymbol_0036_cloudy_with_heavy_snow_night","87":"w6icon_0038_cloudy_with_light_hail_night","88":"w6icon_0039_cloudy_with_heavy_hail_night","91":"wsymbol_0033_cloudy_with_light_rain_night","92":"wsymbol_0034_cloudy_with_heavy_rain_night","93":"wsymbol_0035_cloudy_with_light_snow_night","94":"wsymbol_0036_cloudy_with_heavy_snow_night"}};function meteo_initforweb(id){var div=ge(id);var r=qsn_thenotes[id];$(".meteo_content:eq(0)",div).hide();$(".meteo_wait:eq(0)",div).show();meteo_searchmeteo(div,r);}
function meteo_defineGlobals(){meteo_key="bb8be7be7251b0b0";meteo_partnerID="1058922955";};function meteo_searchmeteo(elem,r){var note=ge(elem);if(!r.coords||!r.coords.latitude){if(!r.cityname)return;return q_include({urls:["/services/gmap/scripts/gmap_msgs_"+q_lang+".js","/services/gmap/scripts/gmap_utils.js"]},function(){gmap_getLatLng(r.cityname,function(gmapCoords){if(!gmapCoords)return;if(gmapCoords.splice)gmapCoords=gmapCoords[0];if(!r.coords)r.coords={};r.coords.latitude=gmapCoords.latitude;r.coords.longitude=gmapCoords.longitude;r.coords.name=gmapCoords.name;meteo_searchmeteo(elem,r);},{noalert:true,multiple:true});});}
var key="dbc4cfe0d354b9eae1e013bc1d2e8a94";var appid="8f998b20";var request=r.coords.latitude+","+r.coords.longitude;function meteo_getTranslation(text){return meteo_message[text]||text;}
function meteo_prepareText(text){var result="";text=text||"";var temp=text.split(" / ");for(var i=0;i<temp.length;i++){if(i>0)result+=meteo_getTranslation(" / ");if(temp[i].match(/AM (.+)/)){var t=temp[i].replace("AM ","");if(q_lang=="fr")result+=meteo_getTranslation(t)+" "+meteo_message["AM"];else result+=meteo_message["AM"]+" "+meteo_getTranslation(t);}
else if(temp[i].match(/PM (.+)/)){var t=temp[i].replace("PM ","");if(q_lang=="fr")result+=meteo_getTranslation(t)+" "+meteo_message["PM"];else result+=meteo_message["PM"]+" "+meteo_getTranslation(t);}
else if(temp[i].match(/(.+) Early/)){var t=temp[i].replace(" Early","");result+=meteo_getTranslation(t)+" "+meteo_message["Early"];}
else if(temp[i].match(/(.+) Late/)){var t=temp[i].replace(" Late","");result+=meteo_getTranslation(t)+" "+meteo_message["Late"];}
else result+=meteo_getTranslation(temp[i]);}
return result;}
function meteo_getunits(noteid){var unit=qsn_thenotes[noteid].unit;var units={};if(unit=="s"){units.temp="° F";units.distance="miles";units.speed="mph";units.precip="in";units.pression="in";}else{units.temp="° C";units.distance="km";units.speed="km/h";units.precip="mm";units.pression="millibars";}
return units;}
function meteo_getday($node){var thedate=$node.find("> date").text();var high=$node.find("> temp_max_c").text();var low=$node.find("> temp_min_c").text();var $timeframes=$node.find("Timeframe");var code="0";$timeframes.each(function(){if($(this).find("time").text()=="1300"){code=$(this).find("wx_code").text();return false;}});return{"date":thedate,"dateday":["sun","mon","tue","wed","thu","fri","sat"][$.datepicker.parseDate("dd/mm/yy",thedate).getDay()],"high":high,"low":low,"code":code};}
function meteo_displayimg(noteid,day,size,mode){thesize=size?size:qsn_thenotes[noteid].imagesize;if(thesize==32)thesize=31;if(thesize==64)thesize=61;if(thesize==128)thesize=93;if(thesize==0)return $("<br/>");else{return $('<img class="png"/>').attr("src","/services/meteo/images/"+thesize+"x"+thesize+"/"+meteo_icons[mode||"day"][day.code].replace(/wsymbol/,day.style||"w6icon")+".png").attr("title",meteo_prepareText(day.condition)).css({width:thesize+"px",height:thesize+"px"});}}
function meteo_displayday(noteid,$xml){var note=ge(noteid);var r=qsn_thenotes[noteid];var units=meteo_getunits(noteid);var meteotable=$('<table cellspacing="0" cellpadding="0" border="0" width="100%" class="rpd-p1 meteoresult_days"></table>');var now=$.datepicker.formatDate("yy-mm-dd",new Date());var thedays=$xml.find("Days > Day");var daysdata=[];thedays.each(function(){var data=meteo_getday($(this));daysdata.push(data);});var meteodaytr=$('<tr></tr>').appendTo(meteotable);function formatday(gday){return meteo_message["gday_"+gday.toLowerCase().replace(/\./g,"")];}
var nforecast=parseInt(r.forecastnumber,10);for(var i=0;i<nforecast;i++){$('<td colspan="2" align="center" style="font-weight:bold;"></td>').css("width",(Math.round(100/nforecast)+"%")).html(formatday(daysdata[i].dateday)).appendTo(meteodaytr);}
if(r.forecasttype=="m"||r.forecasttype=="l"){if(r.imagesize==0)imagesize=0;else if(r.imagesize<=64)imagesize=31;else if(r.imagesize>=93)imagesize=61;}else imagesize=r.imagesize;meteodaytr=$('<tr></tr>').appendTo(meteotable);for(var i=0;i<nforecast;i++){$('<td colspan="2" align="center"></td>').appendTo(meteodaytr).append(meteo_displayimg(noteid,daysdata[i],imagesize));}
if(r.imagesize==0&&r.forecasttype=="p"){meteodaytr=$('<tr></tr>').appendTo(meteotable);for(var i=0;i<nforecast;i++){$('<td colspan="2" class="rpd-p2 meteo_weathertext" valign="top"></td>').appendTo(meteodaytr).html(meteo_prepareText(daysdata[i].code));}}
if(r.forecasttype!="p"){meteodaytr=$('<tr></tr>').appendTo(meteotable);for(var i=0;i<nforecast;i++){$('<td colspan="2" class="rpd-p2 meteo_weathertext" valign="top"></td>').appendTo(meteodaytr).html(meteo_prepareText(daysdata[i].code));}
meteodaytr=$('<tr></tr>').appendTo(meteotable);for(var i=0;i<nforecast;i++){$('<td colspan="2" class="rpd-p1 meteo_maxdeg" ></td>').appendTo(meteodaytr).html((daysdata[i].high!="N/A")?(daysdata[i].high+units.temp):"").attr("title",meteo_message["maxtemp"]+" : "+daysdata[i].high+units.temp);}
meteodaytr=$('<tr></tr>').appendTo(meteotable);for(var i=0;i<nforecast;i++){$('<td colspan="2" class="rpd-p1 meteo_mindeg"></td>').appendTo(meteodaytr).html((daysdata[i].low!="N/A")?(daysdata[i].low+units.temp):"").attr("title",meteo_message["mintemp"]+" : "+daysdata[i].low+units.temp);}}
return meteotable;}
function meteo_displaycurrentday(noteid,$xml){var note=ge(noteid);var r=qsn_thenotes[noteid];var units=meteo_getunits(noteid);function $currattr(attr,$currentday){return $currentday.find(attr).text()||"";}
function $meteoRow(html1,html2){return $('<tr></tr>').append($('<td class="meteo_section"></td>').html(html1)).append($('<td></td>').html(html2));}
function isTimeSup(t1,t2){var hh1=parseInt(t1.split(":")[0],10);var hh2=parseInt(t2.split(":")[0],10);if(hh1>hh2)return true;else if(hh1<hh2)return false;else{var mm1=parseInt(t1.split(":")[1],10);var mm2=parseInt(t2.split(":")[1],10);if(mm1>mm2)return true;else return false;}}
var $currentday=$xml.find("Days Day:eq(0) Timeframes Timeframe:eq(0)");var $timeframes=$xml.find("Days Day:eq(0) Timeframes Timeframe");var now=new Date();var thehour=String(now.getHours())+(now.getMinutes().length==1?"0"+String(now.getMinutes()):String(now.getMinutes()));var ecartmin=Math.abs(parseInt(thehour,10)-parseInt($currattr("time",$currentday),10));var ecartmin2=parseInt($currattr("time",$currentday),10)-parseInt(thehour,10);if(ecartmin2<0){$timeframes.each(function(){var ecart=Math.abs(parseInt(thehour,10)-parseInt($currattr("time",$(this)),10));var ecartmin2=parseInt($currattr("time",$(this)),10)-parseInt(thehour,10);if(ecartmin2>0){$currentday=$(this);return false;}
if(ecart<ecartmin){$currentday=$(this);ecartmin=ecart;}});}
var mode="day";var time_now=now.getHours()+":"+now.getMinutes();var time_sunrise=$xml.find("sunrise_time").text();var time_sunset=$xml.find("sunset_time").text();if(!isTimeSup(time_now,time_sunrise)||isTimeSup(time_now,time_sunset))mode="night";return $('<table cellspacing="0" cellpadding="0" border="0" width="100%"></table>').append($('<tr></tr>').append($('<td align="center"></td>').append(meteo_displayimg(noteid,{code:$currattr("wx_code",$currentday)},null,mode)).append('<br/>').append(meteo_prepareText($currattr("wx_code",$currentday))).append($('<div class="qsn1 text_bw" style="padding:5px; font-size:16px; font-weight:bold;"></div>').html(($currattr("temp_c",$currentday))+units.temp))).append($('<td></td>').append($('<table cellspacing="0" cellpadding="0" border="0"></table>').append($meteoRow(meteo_message["wind"],meteo_message["wind_dir"]+meteo_message[$currattr("winddir_compass",$currentday)]+meteo_message["wind_speed"]+$currattr("windspd_kmh",$currentday)+units.speed)).append($meteoRow(meteo_message["humidity"],$currattr("humid_pct",$currentday))))));}
$.get("/cgi-bin/cgimeteoxml2?url="+request,function(content){if(isremoved(note))return;var noteid=note.id;var meteodiv=$(".meteoresult",note).eq(0).empty();if($("error msg",content).length){$('<div>'+meteo_message["noaccess"]+'<br/><br/></div>').css({"font-size":"12px","font-style":"oblique"}).appendTo(meteodiv);}else{if(r.forecasttype=="m")meteodiv.append(meteo_displaycurrentday(noteid,$(content)));meteodiv.append(meteo_displayday(noteid,$(content)));qsn_jcssmanagerapply(ge(noteid),qsn_thenotes[noteid]);}
meteodiv.html(meteodiv.html().replace(/N\/A/g,""));$(".meteo_wait",note).eq(0).hide();$(".meteo_content",note).eq(0).show();meteo_fitToContainer(noteid);},"xml").error(function(){console.log(arguments);setTimeout(function(){meteo_searchmeteo(note,r);},2000);});}
function meteo_fitToContainer(noteid,notew){var div=ge(noteid);if($(".meteoresult_days",div).length==0)return;$(".meteoresult_days",div).show();$(".meteoresult_days_xs",div).remove();var r=qsn_thenotes[noteid];var margin=RPD.contentMargin(r.rpd);quomodoFonts.waitSpaceFonts(function(){var div=ge(noteid);if(!notew)notew=qsn_responsive_width(noteid);notew=notew-(parseInt(margin.left,10)+parseInt(margin.right,10));var n=$(".meteoresult_days tr:eq(0) > td",div).length;$(".meteoresult_days tr:eq(1) > td",div).css("padding","0 3px");var i=n;if($(".meteoresult_days",div).width()>notew){$(".meteoresult",div).append($(".meteoresult_days",div).clone().removeClass("meteoresult_days").addClass("meteoresult_days_xs rpd-ipt"));$(".meteoresult",div).append($(".meteoresult_days",div).clone().removeClass("meteoresult_days").addClass("meteoresult_days_xs rpd-ipt"));$(".meteoresult_days_xs:eq(1) td",div).hide();$(".meteoresult_days",div).hide();while($(".meteoresult_days_xs:eq(0)",div).width()>notew&&i>(n/2)){$(".meteoresult_days_xs:eq(0) tr",div).each(function(){$("td:eq("+(i-1)+")",this).hide();});$(".meteoresult_days_xs:eq(1) tr",div).each(function(){$("td:eq("+(i-1)+")",this).show();});i=i-1;}}
if(quomodo.tmp&&quomodo.tmp[noteid+"-addsavednotecallback"]){quomodo.tmp[noteid+"-addsavednotecallback"]();delete quomodo.tmp[noteid+"-addsavednotecallback"];q_fsm_delete();}});}
function meteo_device_resize(device,div){var r=qsn_thenotes[div.id];var w=qsn_responsive_width(div.id,device);q_changedwidth(div,w);meteo_fitToContainer(div.id,device=="md"?null:w);}
var music_message={"newnoteprompt":"Cliquez ici pour créer une nouvelle note Musique","notetitleprompt":"Cliquez ici pour ajouter un titre.","notedescprompt":"Entrez ici votre description","plug":"Musique_Ajoutez votre musique sur votre site.","desc":"La note Musique permet de jouer des morceaux de musique sur votre page","upload_title":"Importer des morceaux","upload_prompt":"Cliquez sur OK pour sélectionner les morceaux à importer","thefile":"Cliquez ici pour ouvrir le fichier ","nofiles":"Vous devez sélectionner au moins un morceau avant de valider.","suppressnote":"Êtes-vous certain de vouloir supprimer cette note ?\n\nATTENTION : ceci ne supprime pas vos musiques de votre espace de stockage. Pour libérer l'espace de stockage qui est occupé par vos musiques, ouvrez votre panneau « Fichiers chargés sur le site » et supprimez les musiques.","suppressnote_bubble":"Pour libérer de l'espace de stockage, ouvrez votre panneau « Fichiers chargés sur le site ».","confirmdelete":"Êtes-vous sûr de vouloir enlever ce morceau ?","deletefilealt":"Supprimer ce morceau","taboptions":"Options de la note","autostart":"Lecture automatique","autoreplay":"Lecture en boucle","randomplay":"Lecture aléatoire","showtime":"Temps affiché en min:sec","nopointer":"Pas de curseur","showslider":"Afficher le barre de lecture","showlist":"Afficher la liste des morceaux","controltype":"Type de boutons","simple":"Simple","normal":"Normal","extended":"Complet","canplay_desc":"Écouter la musique proposée ?","canplay_yes":"oui !","canplay_no":"plus tard"};var music_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("music_msgs_fr_js_loaded");var music_json_template={version:4,text:"",header:{display:"true",text:"",icon:"false"},files:[],options:{autostart:"false",autoreplay:"false",randomplay:"false",controls:"normal"}};function music_getheadericon(noteid){var r=qsn_thenotes[noteid];if(r.header.icon=="false")return "";return "/services/music/images/music48.png";}
function music_upgradejson(r){if(!r.version)r.version=1;if(r.version==music_json_template.version)return r;if(r.version<2)r=music_upgradejsontov2(r);if(r.version<3)r=music_upgradejsontov3(r);if(r.version<4)r=music_upgradejsontov4(r);r.version=music_json_template.version;return r;}
function music_upgradejsontov2(r){r.margin=10;return r;}
function music_upgradejsontov3(r){var sizes=qsn_definefontsizes(r.common.notekind);r.textsize=parseInt(sizes[r.textstyles.size],10);delete r.textstyles.size;return r;}
function music_upgradejsontov4(r){if(r.textstyles&&r.textstyles.center)r.center=(r.textstyles&&r.textstyles.center)||"false";var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function music_version(notekind){return{margin:1,rpd:1};}
function music_initforweb(id){music_renderplayer(ge(id),qsn_thenotes[id]);}
var music_context;function music_renderplayer(div,r){if(q_pagemode()=="makeweb")return;var thediv=gebcn(div,"music_player");var noteid=div.id;var musicfiles="";var musictitles="";var indexArray=[];for(var i=0;i<r.files.length;i++){if(r.files[i].filename.match(/\.mp3$/i)){indexArray.push(i);musicfiles+=q_fsbaseurl(memberid)+encodeURI(r.files[i].filename.replace(/^.*\/(uploads\/.*)$/,"$1"));musictitles+=encodeURI(r.files[i].linkname);if(i!=r.files.length-1){musicfiles+="|";musictitles+="|";}}}
musicfiles=encodeURIComponent(musicfiles);var theplayercode='';var trackindex=0;var randomArray=[].concat(indexArray);if(typeof swfobject=="function")swfobject=swfobject();if(q_pagemode()!="makeweb"&&!!document.createElement('canvas').getContext){if(ge(div.id+"_swfelem"))swfobject.removeSWF(div.id+"_swfelem");gebcn(div,'music_player').innerHTML="";theplayercode=$('<audio controls>').attr("height","100%").attr("width","100%");function nexttrack(){var n=randomArray.length;if(n==0)return-1;var i=(r.options.randomplay=="true")?Math.floor(n*Math.random())%n:0;var j=randomArray[i];randomArray.splice(i,1);return j;}
trackindex=nexttrack();if(true||(spacexml.memberparams&&spacexml.memberparams.skexpert)||spacexml.id=="497BB670-6427-4FC7-93E0-FEAFC6D96D94"){$(".music_player",div).removeAttr("onmousedown");$(".music_player",div).width("auto").append(theplayercode);var html=['<table class="music_tracks rpd-list rpd-p1" cellspacing="0" cellpadding="0" border="0" style="width: 100%">'];function formatTime(s){var hours=Math.floor(s/3600);s=s%3600;minutes=Math.floor(s/60);var seconds=Math.round(s%60);function twoDigits(n){var s=("00"+n);return s.substring(s.length-2);}
if(hours>0)return ""+hours+":"+twoDigits(minutes)+":"+twoDigits(seconds);return ""+minutes+":"+twoDigits(seconds);}
function getDuration(i){var file=r.files[i];var $audio=$('<audio id="music-'+noteid+'-'+i+'"></audio>').appendTo($(".music_player",div));$audio.prop("src",q_spaceabsoluteurl(r.common.ownerid,file.filename));$audio.on("canplaythrough",function(e){var seconds=e.currentTarget.duration;$(".music_player",div).find("tr.track[index='"+i+"'] .duration").text(formatTime(seconds));$audio.remove();});}
for(var i=0;i<r.files.length;i++){getDuration(i);html.push('<tr class="track" index="'+i+'"><td valign="top" class="controls rpd-list-item" style="line-height: 1.2em ; padding-bottom: 0px"><div class="rpd-ipr rpd-funcolor"><span class="play font-q-i"></span><span class="pause font-q-i"></span></div></td><td valign="top" class="filename rpd-list-item" style="line-height: 1.2em ; padding-bottom: 0px"><div class="rpd-ipr">'+escapeHTML(r.files[i].linkname)+'</div></td><td valign="top" class="duration rpd-list-item rpd-ipl" style="line-height: 1.2em ; padding-bottom: 0px"></td></tr>');html.push('<tr class="progress" index="'+i+'"><td colspan="3"><div class="bar-wrapper rpd-pbg-gbw2"><div class="bar-value rpd-pbg-funcolor"></div></div></td></tr>');}
html.push('</table>');$(".music_player",div).append(html.join(""));var $tracks=$(".music_player",div).find("table.music_tracks");$tracks.find(".play, .pause, .filename").click(function(){var $tr=$(this).parents("tr");var playing=$tr.hasClass("playing");var paused=$tr.hasClass("paused");if(playing&&!paused){var audio=$(".music_player",div).find("audio").get(0);audio.pause();$tracks.find(".playing").addClass("paused");return;}
var trackindex=$tr.attr("index");var $audio=$(".music_player",div).find("audio");var audio=$audio.get(0);if(paused&&$audio.attr("trackindex")==trackindex){audio.play();$tracks.find(".paused").removeClass("paused");return;}
$tracks.find(".playing").removeClass("playing").removeClass("paused");audio.pause();audio.src=q_spaceabsoluteurl(r.common.ownerid,r.files[parseInt(trackindex,10)].filename);$audio.attr("trackindex",trackindex);audio.play();$tracks.find("tr.progress[index='"+trackindex+"'] .bar-value").width(0);$tracks.find("tr[index='"+trackindex+"']").addClass("playing");});theplayercode.hide();theplayercode.on("timeupdate",function(){var audio=theplayercode.get(0);var currentTime=audio.currentTime;var duration=audio.duration;$tracks.find("tr.progress.playing .bar-value").width((100*currentTime/duration)+"%");});var audio=theplayercode.get(0);if(q_pagemode()!="edit"){audio.src=q_spaceabsoluteurl(r.common.ownerid,r.files[trackindex].filename);theplayercode.attr("trackindex",trackindex);$tracks.find(".playing").removeClass("playing").removeClass("paused");}
if(r.options.autostart=="true"&&q_pagemode()!="edit"){$tracks.find("tr[index='"+trackindex+"']").addClass("playing");if(!music_context){try{music_context=new AudioContext();}catch(err){music_context=true;}}
$(".music_player",div).find("audio").bind("canplay",function(){var promise=audio.play();if(promise!==undefined){promise.then(function(){}).catch(function(error){var c1=quomodoColors.richColor("c1-white+p").c;var bg=quomodoColors.richColor("white+p").c;var bd=quomodoColors.richColor("white+p@d4").c;var c=quomodoColors.richColor("c1@bw").c;var clink=quomodoColors.richColor("c1@gbw").c;$("body").append('<div id="music-canplay-'+noteid+'" class="music_canplay note rpdp-sum0" style="background-color: '+bg+' ; border: solid 1px '+bd+' ; border-right: none ; border-bottom: none"><div class="rpd-p1" style="color: #333"><div class="music_canplay_desc">'+escapeHTML(music_message["canplay_desc"])+'</div><div style="text-align: center"><a class="music_canplay_yes" style="font-weight: bold ; color: '+c1+' ; padding-right: 8px" href="#">'+escapeHTML(music_message["canplay_yes"])+'</a><a class="music_canplay_no" style="color: '+c1+' ; padding-left: 8px" href="#">'+escapeHTML(music_message["canplay_no"])+'</a></div></div></div>');$("#music-canplay-"+noteid+" .music_canplay_yes").click(function(){audio.play();$("#music-canplay-"+noteid).remove();return false;});$("#music-canplay-"+noteid+" .music_canplay_no").click(function(){$("#music-canplay-"+noteid).remove();return false;});});}
$(".music_player",div).find("audio").unbind("canplay");});}
$(".music_player",div).find("audio").bind("ended",function(){var $this=$(this);trackindex=nexttrack();var b=trackindex==-1;if(b){randomArray=[].concat(indexArray);trackindex=nexttrack();}
var audio=$this.get(0);$tracks.find(".playing").removeClass("playing");audio.src=q_spaceabsoluteurl(r.common.ownerid,r.files[trackindex].filename);$this.attr("trackindex",trackindex);$tracks.find("tr[index='"+trackindex+"']").addClass("playing");if(!b||r.options.autoreplay!="false")audio.play();});return;}
$(".music_player",div).width("auto").append(theplayercode);var audio=theplayercode.get(0);audio.src=q_spaceabsoluteurl(r.common.ownerid,r.files[trackindex].filename);if(r.options.autostart=="true")audio.play();$(".music_player",div).find("audio").bind("ended",function(){trackindex=nexttrack();var b=trackindex==-1;if(b){randomArray=[].concat(indexArray);trackindex=nexttrack();}
var audio=$(this).get(0);audio.src=q_spaceabsoluteurl(r.common.ownerid,r.files[trackindex].filename);if(!b||r.options.autoreplay!="false")audio.play();});return;}
if(q_pagemode()!="makeweb"&&!swfobject.hasFlashPlayerVersion("1")){if(ge(div.id+"_swfelem"))swfobject.removeSWF(div.id+"_swfelem");gebcn(div,'music_player').innerHTML="";return;}
var playeraddress=(r.files.length>1)?"/services/music/player/player_mp3_multi.swf":"/services/music/player/player_mp3_maxi.swf";var rgbcol1=RPD.pbgcolor(r.rpd);rgbcol1=rgbcontrastcolor(rgbcol1,19);var hsvcol1=rgb2hsv(rgbcol1);var hexcol1=rgb2hex(rgbcol1).replace(/#/g,"");var rgbcol2=hsv2rgb([hsvcol1[0],50,100]);rgbcol2=rgbcontrastcolor(rgbcol1,19);var hexcol2=rgb2hex(rgbcol2).replace(/#/g,"");var hexcoltext=(rgb2brightness(rgbcol1)>50)?"333333":"FFFFFF";var hexcoltext2=(rgb2brightness(rgbcol1)>50)?"000000":"DDDDDD";var autostart=(r.options.autostart=="true")?"1":"0";var autoreplay=(r.options.autoreplay=="true")?"1":"0";var randomplay=(r.options.randomplay=="true")?"2":"0";var showstop=(r.options.controls=="simple")?"0":"1";var showlist=(r.options.controls=="simple"||r.options.controls=="normal")?"0":"1";var showvolume=(r.options.controls=="simple"||r.options.controls=="normal")?"0":"1";var showslider=(r.options.controls=="simple")?"0":"1";var playerheight=(r.files.length>1&&r.options.controls=="extended")?"100":"20";var playerdata={mp3:musicfiles};playerdata.title=musictitles;playerdata.loop=autoreplay;playerdata.autoplay=autostart;playerdata.shuffle=randomplay;playerdata.showstop=showstop;playerdata.showlist=showlist;playerdata.showvolume=showvolume;playerdata.showslider=showslider;playerdata.bgcolor1=hexcol1;playerdata.bgcolor2=hexcol1;playerdata.slidercolor1=hexcoltext;playerdata.slidercolor2=hexcoltext;playerdata.sliderovercolor=hexcoltext2;playerdata.buttoncolor=hexcoltext;playerdata.buttonovercolor=hexcoltext2;playerdata.textcolor=hexcoltext;playerdata.playlistalpha="10";var params={wmode:"transparent",allowFullScreen:"true",allowScriptAccess:"always"};if(ge(div.id+"_swfelem")){swfobject.removeSWF(div.id+"_swfelem");}
gebcn(div,"music_player").appendChild(create_elem("DIV",{id:div.id+"_swfelem"}));swfobject.embedSWF(playeraddress,div.id+"_swfelem","200",playerheight,"9.0.0",false,playerdata,params);}
var navig_message={"newnoteprompt":"Cliquez ici pour créer une nouvelle note Navigation","plug":"Navigation_Ajouter de boutons de navigation sur votre site.","taboptions":"Options de la note","buttonstodisplay":"Boutons à afficher","prev":"Bouton Page Précédente","choosepage":"Bouton Choisir une page","home":"Bouton Page d'accueil","top":"Bouton Haut de page","clubmap":"Bouton Plan du site","next":"Bouton Page Suivante","btndesign":"Apparence du bouton","btnstyle":"Style","btnstyle0":"classique","btnstyle1":"gélatine","btnstyle2":"en creux","btnsize":"Taille","btnsize0":"grand","btnsize1":"normal","btnsize2":"petit","linksdisabled":"Les liens ne sont pas actifs en mode édition.","format":"Format","navigbutton":"Boutons","naviglink":"Liens"};var navig_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("navig_msgs_fr_js_loaded");var navig_json_template={version:4,text:"",header:{display:"false",text:"",icon:"false"},options:{prev:"true",next:"true",clubmap:"false",choosepage:"false",home:"false",top:"false"},format:"button"};function navig_upgradejson(r){if((r.version)&&(r.version==navig_json_template.version))return r;if(r.version<2)navig_upgradejsontov2(r);if(r.version<3)navig_upgradejsontov3(r);if(r.version<4)navig_upgradejsontov4(r);r.version=navig_json_template.version;return r;}
function navig_upgradejsontov2(r){r.options.home="false";r.options.top="false";r.menucolor=r.color;delete r.color;}
function navig_upgradejsontov3(r){var sizes=qsn_definefontsizes(r.common.notekind);r.textsize=parseInt(sizes[r.textstyles.size],10);delete r.textstyles.size;return r;}
function navig_upgradejsontov4(r){r.menucolor=String(r.menucolor||"c1");if(!r.style)r.style=0;var rpd=RPD.qsnUpgrade.common(r);rpd.button={"id":["shadow","glossy","relief"][r.style],"color":r.menucolor};r.rpd=rpd;r.format="button";RPD.qsnUpgrade.commonClean(r);delete r.menucolor;delete r.size;delete r.style;return r;}
function navig_initforweb(noteid){var div=ge(noteid);navig_fitToContainer(noteid);}
function navig_getpagesbyorder(t,sm){if(!sm)sm=spacexml.sitemap;for(var i in sm){if(!sm[i].items){if(sm[i].id)t.push(sm[i].id);}
else navig_getpagesbyorder(t,sm[i].items);}
return t;}
function navig_prev(id){return navig_navig(id,"prev");}
function navig_next(id){return navig_navig(id,"next");}
function navig_navig(id,direction){if(qsn_currstate=="edit")return q_alert(navig_message["linksdisabled"],{},true);speciallink_prevnext(id,direction);}
function navig_choosepage(){if(qsn_currstate=="edit")return q_alert(navig_message["linksdisabled"],{},true);q_select("page",{callback:function(x){if(!x.length)return;try{openservice(x[0]);}catch(e){}}});}
function navig_clubmap(){if(qsn_currstate=="edit")return q_alert(navig_message["linksdisabled"],{},true);var targetLinkValue="_blank";if(q_pagemode()=="web"&&!isiniframe())targetLinkValue="_self";window.open("clubmap.html",targetLinkValue);}
function navig_home(){if(qsn_currstate=="edit")return q_alert(navig_message["linksdisabled"],{},true);speciallink_home();}
function navig_top(){$('html,body').animate({scrollTop:0});}
function navig_fitToContainer(noteid,notew){quomodoFonts.waitSpaceFonts(function(){quomodoFonts.waitFont("q-sn",function(){var div=ge(noteid);if(q_pagemode()=="web")div.id=noteid+"-tmpweb";$(".navig_button",div).show().css({"font-size":"","transition":"inherit"});$(".navig_button_xs, .navig_button_xs span",div).hide();var i=0;var final_fontsize;$(".navig_button",div).removeAttr("textsize");var section=quomodo.page.sections.get(qsn_stuffID(noteid));var dmargin=30;dmargin=dmargin+Skeleton.xs_margin(section.id);var s_maxwidth;$(".navig_buttons",div).width(10);var oriFontSize=parseInt($(".navig_button",div).css("font-size"),10);if(!notew)notew=parseInt(qsn_width(noteid),10);var bCSS;if(!div.cssPrepared){var sm_notew=notew*750/990;var sm_css;var xs_css=[];var last_xswidth=768;for(var i=1;i<20;i++){s_maxwidth=$(".navig_buttons",div).get(0).offsetWidth;if(notew>=s_maxwidth){if(sm_notew>=s_maxwidth&&!sm_css)sm_css="@media screen and ( min-width : 768px ) and ( max-width:1007px ) { .viewmode.responsive #"+noteid+" .navig_button { font-size: "+(final_fontsize||oriFontSize)+"px !important ; display: block !important }\n.viewmode.responsive #"+noteid+" .navig_button_xs, .viewmode.responsive #"+noteid+" .navig_button_xs span { display: none !important } }";if(768>s_maxwidth&&s_maxwidth>200){xs_css.push("@media screen and ( min-width : "+(s_maxwidth+dmargin)+"px ) and ( max-width:"+(last_xswidth-1)+"px ) { .viewmode.responsive #"+noteid+" .navig_button { font-size: "+(final_fontsize||oriFontSize)+"px !important ; display: block !important }\n.viewmode.responsive #"+noteid+" .navig_button_xs, .viewmode.responsive #"+noteid+" .navig_button_xs span { display: none !important } }");last_xswidth=s_maxwidth+dmargin;}}
var fontsize=final_fontsize||parseInt($(".navig_button",div).css("font-size"),10);if(fontsize<12)break;$(".navig_button",div).each(function(){$(this).css("font-size",(fontsize-1)+"px");});final_fontsize=fontsize-1;}
$(".navig_button",div).hide();$(".navig_button_xs, .navig_button_xs span",div).css({"font-size":"","transition":"inherit","padding-left":"","padding-right":""}).show();final_fontsize=null;var xs_icon_css_done;for(var i=1;i<20;i++){s_maxwidth=$(".navig_buttons",div).get(0).offsetWidth;if(notew>=s_maxwidth){if(sm_notew>=s_maxwidth&&!sm_css)sm_css="@media screen and ( min-width : 768px ) and ( max-width:1007px ) { .viewmode.responsive #"+noteid+" .navig_button { display: none !important }\n.viewmode.responsive #"+noteid+" .navig_button_xs_icon { font-size: "+(final_fontsize||oriFontSize)+"px !important }\n.viewmode.responsive #"+noteid+" .navig_button_xs, viewmode.responsive #"+noteid+" .navig_button_xs span { display: inline-block !important } }";if(768>s_maxwidth&&s_maxwidth>200&&!xs_icon_css_done){xs_css.push("@media screen and ( min-width : "+(s_maxwidth+dmargin)+"px ) and ( max-width:"+(last_xswidth-1)+"px ) { .viewmode.responsive #"+noteid+" .navig_button { display: none !important }\n.viewmode.responsive #"+noteid+" .navig_button_xs_icon { font-size: "+(final_fontsize||oriFontSize)+"px !important }\n.viewmode.responsive #"+noteid+" .navig_button_xs, .viewmode.responsive #"+noteid+" .navig_button_xs span { display: inline-block !important } }");last_xswidth=s_maxwidth+dmargin;xs_icon_css_done=true;}}
var fontsize=final_fontsize||parseInt($(".navig_button_xs_icon",div).css("font-size"),10);if(fontsize<12)break;$(".navig_button_xs_icon",div).each(function(){$(this).css("font-size",(fontsize-1)+"px");});final_fontsize=fontsize-1;}
var newpadding=Math.round(parseInt($(".navig_button_xs",div).css("padding-left"),10)*0.8);$(".navig_button_xs",div).css({"padding-left":newpadding+"px","padding-right":newpadding+"px"});s_maxwidth=$(".navig_buttons",div).get(0).offsetWidth;if(notew>=s_maxwidth){if(sm_notew>=s_maxwidth&&!sm_css)sm_css="@media screen and ( min-width : 768px ) and ( max-width:1007px ) { .viewmode.responsive #"+noteid+" .navig_button { display: none !important }\n.viewmode.responsive #"+noteid+" .navig_button_xs_icon { font-size: "+(final_fontsize||oriFontSize)+"px !important }\n.viewmode.responsive #"+noteid+" .navig_button_xs, .viewmode.responsive #"+noteid+" .navig_button_xs span { display: inline-block !important }\n.viewmode.responsive #"+noteid+" .navig_button_xs { padding-left: "+newpadding+"px !important ; padding-right: "+newpadding+"px !important } }";if(768>s_maxwidth&&last_xswidth>200){xs_css.push("@media screen and ( min-width : "+(s_maxwidth+dmargin)+"px ) and ( max-width:"+(last_xswidth-1)+"px ) { .viewmode.responsive #"+noteid+" .navig_button { display: none !important }\n.viewmode.responsive #"+noteid+" .navig_button_xs_icon { font-size: "+(final_fontsize||oriFontSize)+"px !important }\n.viewmode.responsive #"+noteid+" .navig_button_xs, .viewmode.responsive #"+noteid+" .navig_button_xs span { display: inline-block !important }\n.viewmode.responsive #"+noteid+" .navig_button_xs { padding-left: "+newpadding+"px !important ; padding-right: "+newpadding+"px !important } }");}}
final_fontsize=null;$(".navig_button",div).css("font-size","");$(".navig_button_xs_icon",div).css("font-size","");$(".navig_button_xs",div).css({"padding-left":"","padding-right":""});$(".navig_button",div).show().css({"font-size":"","transition":"inherit"});$(".navig_button_xs, .navig_button_xs span",div).hide();div.cssPrepared=true;bCSS=true;}
$(".navig_buttons",div).width(10);if(!notew)notew=parseInt(qsn_width(noteid),10);var notebody=$(".navig_notebody",div).get(0);if(q_pagemode()!="edit")$(notebody).css("width","");for(var i=1;i<20;i++){s_maxwidth=$(".navig_buttons",div).get(0).offsetWidth;if(notew>=s_maxwidth)break;var fontsize=final_fontsize||parseInt($(".navig_button",div).css("font-size"),10);if(fontsize<12)break;$(".navig_button",div).each(function(){$(this).css("font-size",(fontsize-1)+"px");});final_fontsize=fontsize-1;}
$(".navig_button",div).attr("textsize",final_fontsize);$(".navig_button_xs",div).removeAttr("textsize");s_maxwidth=$(".navig_buttons",div).get(0).offsetWidth;if(notew<s_maxwidth){$(".navig_button",div).hide();$(".navig_button_xs, .navig_button_xs span",div).css({"font-size":"","transition":"inherit","padding-left":"","padding-right":""}).show();var final_fontsize2;for(var i=1;i<20;i++){s_maxwidth=$(".navig_buttons",div).get(0).offsetWidth;if(notew>=s_maxwidth)break;var fontsize=final_fontsize2||parseInt($(".navig_button_xs_icon",div).css("font-size"),10);if(fontsize<12)break;$(".navig_button_xs_icon",div).each(function(){$(this).css("font-size",(fontsize-1)+"px");});final_fontsize2=fontsize-1;}
s_maxwidth=$(".navig_buttons",div).get(0).offsetWidth;if(notew<s_maxwidth){var newpadding=Math.round(parseInt($(".navig_button_xs",div).css("padding-left"),10)*0.8);$(".navig_button_xs",div).css({"padding-left":newpadding+"px","padding-right":newpadding+"px"});$(".navig_buttons",div).get(0).offsetWidth;}}
$(".navig_button, .navig_button_xs span",div).css({"transition":""});$(".navig_buttons",div).css("width","100%");if(bCSS){if(sm_css)qsn_css_note(noteid,[sm_css].concat(xs_css).join("\n"),"note");else if(xs_css.length>0)qsn_css_note(noteid,xs_css.join("\n"),"note");}
if(q_pagemode()=="web")div.id=noteid;});});}
var niceclock_message={"plug":"Nice clock_Pour ceux qui choisissent de balader l'heure là où ils en ont envie sur le bureau.","displayDate":"Afficher la date","displayTime":"Afficher l'heure"};var niceclock_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("niceclock_msgs_fr_js_loaded");var niceclock_json_template={version:1,text:"",textsize:"1",textfont:"1",displayTime:1};var niceclock_timer=null;var niceclock_noteids=" ";function niceclock_initforweb(id){if(niceclock_noteids.indexOf(" "+id+" ")==-1)niceclock_noteids+=id+" ";if(!niceclock_timer)niceclock_timer=setInterval(niceclock_refreshall,1000);}
function niceclock_refreshlist(){niceclock_noteids=" ";for(var id in qsn_thenotes)if(qsn_thenotes[id])if(qsn_thenotes[id].common.notekind=="niceclock")if(getelement(id))niceclock_noteids+=id+" ";if(niceclock_noteids==" ")clearInterval(niceclock_timer);}
function niceclock_refreshall(){if(qsn_currstate=="edit"||q_fsmpresent())return;var id;var shouldrefresh=false;var allNotes=niceclock_noteids.split(" ");if(allNotes.length==2){clearInterval(niceclock_timer);niceclock_timer=null;return;}
for(var i=1;i<(allNotes.length-1);i++){id=allNotes[i];if((!qsn_thenotes[id])||(!getelement(id)))shouldrefresh=true;else if((!qsn_edittarget)||(id!=qsn_edittarget.id))niceclock_update(id);}
if(shouldrefresh)niceclock_refreshlist();}
function niceclock_update(noteid){var divNote=getelement(noteid);var aujourdhui=new Date();var divTime=getElementsByClassName(divNote,'niceclock_vueHorloge')[0];var divDate=getElementsByClassName(divNote,'niceclock_vueDate')[0];var annee=aujourdhui.getFullYear()-2000;annee="0"+annee;var mois=twodigs(aujourdhui.getMonth()+1);var jour=twodigs(aujourdhui.getDate());var heure=twodigs(aujourdhui.getHours());var minute=twodigs(aujourdhui.getMinutes());var seconde=twodigs(aujourdhui.getSeconds());if(seconde%2)divTime.innerHTML=heure+":"+minute+":"+seconde;else divTime.innerHTML=heure+" "+minute+" "+seconde;if(seconde%2)divDate.innerHTML=jour+"/"+mois+"/"+annee;else divDate.innerHTML=jour+" "+mois+" "+annee;}
var nl_message={"default_text":"Pour vous inscrire à nos actualités, indiquez votre adresse mail :","newnoteprompt":"Texte d'invitation à s'inscrire à vos news.","plug":"Inscription à une Liste de Diffusion_Invitez vos visiteurs à s'inscrire à vos actualités.","emptynote":"(aucun message)","desc":"(...)","tabstyle":"Style","tip_edit":"modifier la note","choice":"Veuillez sélectionner une option","chooselist":"Veuillez choisir une liste de diffusion.","alreadysubscribed":"Votre adresse e-mail est déjà inscrite à cette newsletter.","subscribeok":"Votre adresse e-mail a été inscrite à cette newsletter.","mail":"votreadresse@example.com","errorsubscribe":"Problème lors de l'inscription, votre adresse n'a pas pu être inscrite. Veuillez contacter les responsables du site.","listnotfound":"Cette liste de diffusion n'existe plus.","mailobject":"[Quomodo] - Nouvelle inscription sur la liste de diffusion \"%n%\" de votre site %url%","mailbody":"Bonjour,\r\rVotre liste de diffusion \"%n%\" vient de recevoir, sur la page \"%p%\", l'inscription d'un nouveau destinataire :\r\r%e%\r\rLa liste \"%n%\" comporte maintenant %nb% adresses valides.\r\rL'équipe Quomodo\r\rPour toute question ou suggestion, rendez-vous sur l'aide de Quomodo:\rhttp://aide.quomodo.com\rVous pouvez également nous contacter en envoyant un mail à:\rcontact@quomodo.com\r","expertoptions":"Avancé","oneline":"Affichage sur une ligne"}
var nl_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("nl_msgs_fr_js_loaded");var nl_json_template={version:5,text:"",listid:"",header:{display:"true",text:"",icon:""}};function nl_upgradejson(r){if((r.version)&&(r.version==nl_json_template.version))return r;if(r.version<2)r=nl_upgradejsontov2(r);if(r.version<3)r=nl_upgradejsontov3(r);if(r.version<4)r=nl_upgradejsontov4(r);if(r.version<5)r=nl_upgradejsontov5(r);r.version=nl_json_template.version;return r;}
function nl_upgradejsontov2(r){if(r.textopacity<0.5)r.color="-1";r.header={display:"false",color:"0",text:"",icon:"pencil"};delete r.textopacity;delete r.textspacing;delete r.textmargin;return r;}
function nl_upgradejsontov3(r){r.margin=10;return r;}
function nl_upgradejsontov4(r){if(r.textstyles&&r.textstyles.center)r.center=(r.textstyles&&r.textstyles.center)||"false";var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function nl_upgradejsontov5(r){if(!r.text)r.text=nl_message["default_text"];return r;}
function nl_version(notekind){return{margin:1,rpd:1};}
function nl_isv4(div){return $(".nl_v4_inputmail",div).length>0;}
function nl_subscribe(x){var div=getContainer(x);var elem=nl_isv4(div)?$('.nl_v4_inputmail',div):$('.nl_inputmail',div);var mail=elem.val();if(mail==nl_message["mail"])mail="";if(!verbosevalidemail(mail))return elem.focus().select();q_fsm_wait();var listid=qsn_thenotes[div.id].listid;var emaildata={"objectmail":nl_message["mailobject"].replace(/%url%/g,q_httpsiteurl()),"bccquomodo":false,"bodymail":nl_message["mailbody"].replace(/%e%/g,mail).replace(/%p%/g,q_currsvcname())};document.mainform.mission.value="nlsubscribe";q_ajaxsubmitwithservice("common@"+q_lang,{"noteid":div.id,"mail":mail,"listid":listid,"emaildata":emaildata,"langsvcid":document.mainform.service.value},function(x){q_fsm_delete();if(x.status=="alreadysubscribed"){$(".nl_inputmail, .nl_v4_inputmail",div).focus().select();q_alert(nl_message["alreadysubscribed"],{},true);}else if(x.status=="ok"){$(".nl_v4_inputmail, .nl_inputmail",div).val("");q_alert(nl_message["subscribeok"],{},true);}else q_alert(nl_message["errorsubscribe"],{},true);});}
function nl_initforweb(id){var r=qsn_thenotes[id];var div=ge(id);var haveto_fold;if(r.header&&r.header.display=="fold"&&$(".tablenotecontent",div).css("display")=="none"){haveto_fold=true;qsn_foldclick(div.id,null,true,true);}
$(".nl_inputmail:eq(0), .nl_v4_inputmail:eq(0)",div).watermark(true,{"rpd":"rpd-p1","color":null});if(haveto_fold){qsn_foldclick(div.id,null,false,true);haveto_fold=false;}}
var nws_message={"snname":"Note À la une","plug":"À la une_Présentez les dernières actualités en texte et en images.","newsid":"News %n","imgratio0":"Très très allongées","imgratio1":"Très allongées","imgratio2":"Allongées","imgratio3":"Normales","imgratio4":"Carrées","imgratio5":"Étroites","imgratio6":"Très étroites","imgratio":"Forme des images","displayoptions":"Options","showthumbs":"Vignettes","showthumbs0":"Masquer les vignettes","showthumbs1":"Afficher les vignettes","maskcolor":"Couleur du masque","asthenote":"Comme la note","tabstyle":"Style","newstimer":"Défilement","expertoptions":"Avancé","template_notes":"Modèle manuel via billet(s)","editmodeclick":"Les liens sont désactivés en mode édition. Pour activer les liens, passez en mode visiteur. N'oubliez pas de publier d'abord la page si nécessaire !","noimage":"(image par défaut)","notitle":"(sans titre)","confirmerasenews":"Voulez-vous vraiment supprimer cette news ?","selectimage":"Veuillez sélectionner une image.","uploadtitle":"Insertion d'une image","desc":"(...)","active":"activer","desactive":"désactiver","clickhere":"Cliquez pour en savoir plus.","noactivenews":"Vous devez avoir au moins une news sélectionnée pour afficher la note.","starttype":"Démarrage","randomstart":"Aléatoire","left":"gauche","right":"droite","center":"centré","textalign":"Alignement du texte","slideshow_link":"Lire la suite","slideshow_link_1":"Lire la suite","slideshow_link_2":"Lire la suite","slideshow_link_7":"Lire la suite","slideshow_link_6":"Lire la suite","slideshow_link_3":"Télécharger","slideshow_link_5":"Prendre contact","slideshow_link_4":"Cliquez ici","slideshow_link_8":"Cliquez ici","slideshow_link_9":"S'abonner","hidearrows":"Masquer les flèches","nopause":"Ne pas arrêter le défilement au survol","imgonly":"News seules, sans titre ni fond","leftcol_title_slideshow":"Images défilantes"};var nws_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("nws_msgs_fr_js_loaded");var nws_json_template={version:8,text:"",header:{display:"true",text:"",icon:""},showthumbs:"1",news:[],imgratio:"2",maskcolor:"true",timer:3000,randomstart:"false",textalign:"2","hidearrows":"true","imgonly":false,"nopause":false};var nws_maskcolor_rgbalevel=3;var nws_maskcolor_hover_rgbalevel=2;function nws_getheadericon(noteid){var r=qsn_thenotes[noteid];if(!r.header.icon||r.header.icon=="false")return "";if(r.header.icon=="nws48")return "/services/nws/images/nws48.png";return "/services/wsg/images/icons/"+r.header.icon+".png";}
function nws_upgradejson(r){if((r.version)&&(r.version==nws_json_template.version))return r;if(r.version<2)nws_upgradejsontov2(r);if(r.version<3)nws_upgradejsontov3(r);if(r.version<4)nws_upgradejsontov4(r);if(r.version<5)nws_upgradejsontov5(r);if(r.version<6)nws_upgradejsontov6(r);if(r.version<7)nws_upgradejsontov7(r);if(r.version<8)nws_upgradejsontov8(r);r.version=nws_json_template.version;return r;}
function nws_upgradejsontov2(r){if(!r.timer)r.timer=nws_json_template.timer;}
function nws_upgradejsontov3(r){for(var i in r.news){if(!r.news[i].link)continue;if(r.news[i].link.mode=="none")r.news[i].link={kind:0};else if(r.news[i].link.mode=="web")r.news[i].link={kind:1,address:r.news[i].link.url};else if(r.news[i].link.mode=="page")r.news[i].link={kind:2,pagelink:r.news[i].link.page};}}
function nws_upgradejsontov4(r){if(!r.maskcolor)r.maskcolor="false";}
function nws_upgradejsontov5(r){var margins=qsn_definemargins("nws");r.margin=margins[r.textmargin].replace("px","");delete r.textmargin;}
function nws_upgradejsontov6(r){var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function nws_upgradejsontov7(r){var rnews=r.news;for(var i=0;i<rnews.length;i++){if(rnews[i]["comment"])rnews[i]["comment"]=rnews[i]["comment"].replace(/(\r\n|\r|\n)/g," ");}
return r;}
function nws_upgradejsontov8(r){var imgratio=parseInt(r.imgratio,10);if(imgratio>0)r.imgratio=String(imgratio+1);return r;}
function nws_version(notekind){return{margin:1,rpd:1};}
function nws_initforweb(id){var div=ge(id);var r=qsn_thenotes[id];if(r.imgtosec){var section=quomodo.page.sections.get(qsn_stuffID(id));var sk_settings=section.noteid&&qsn_thenotes[section.noteid].skeleton;if(section.canDisplaySlideshow()&&sk_settings&&sk_settings["imgsection-mod"]=="slideshow"){if($("#"+section.id+" .offset-slider").length==0){$("#"+section.id+" .offset").each(function(){var i=$(this).attr("nwsindex");$(this).removeAttr("nwsindex").wrap('<div class="offset-slider" nwsindex="'+i+'"></div>').css({"position":"","left":"","top":"","width":"","display":""});});}
if($("#"+section.id+" .nws_slideshow_descs").length==0){$('<div class="nws_slideshow_descs"></div>').insertAfter($("#"+section.id+" .stuff-table")).append($("#"+section.id+" .nws_slideshow_desc"));}
nws_placeinsec(r);Skeleton.addResized(section.id,function(){nws_placeinsec(r);},"place-slider");nws_animinsec(div,r);}
return;}
if($(".tablenotecontent",div).css("display")=="none"){$(".tablenotecontent",div).show();var hide_content=true;}
var activenewsids=$.map(qsn_thenotes[id].news,function(v,i){if(v.active)return i});$(".nws_maintable:eq(0) .nws_news",div).each(function(i,v){if(!$(v).attr("newsindex"))$(v).attr("newsindex",i);$(".nws_img",v).css({"opacity":"1",filter:""});});$(".nws_thumbstable:eq(0) td:has(img)",div).each(function(i,v){if(!$(v).hasClass("nws_thumb"))$(v).addClass("nws_thumb").attr("newsindex",i);});nws_fitimages(div);$(div).data("activenewsids",activenewsids);var startnewsindex=0;if(qsn_thenotes[id].randomstart=="true")startnewsindex=Math.min(Math.floor(Math.random()*(activenewsids.length)),activenewsids.length-1);$(div).data("currentnews",(activenewsids.length)?activenewsids[startnewsindex]:-1);nws_addevents(div);if(activenewsids.length)nws_displaymainnews(div,activenewsids[startnewsindex],1);nws_program(div);if(hide_content)$(".tablenotecontent",div).hide();}
function nws_program(div,t){if(qsn_currstate!="edit")quomodo.events.addTimerListener("clocktimer",function(eventData,eventName){var t=parseInt(qsn_thenotes[div.id].timer,10)/1000;if(eventData.count==0||eventData.count%t!=0)return;nws_doanim(this);},div);}
function nws_animinsec(div,r){var mode=$(div).attr("mode");var nSlides;var section=quomodo.page.sections.get(qsn_stuffID(r.common.noteid));var next_h=function(section,fast,targetIndex){if(r.view_all&&r.view_all.active&&qsn_responsive_mod()!="xs")return;var $targetImages,$targetBullets;if(section.id=="p-0"&&$("body").attr("sk-id")=="prehome"){$targetImages=$("body > .background-image-offset");$targetBullets=$targetImages.nextAll(".nws_slideshow_bullets");}else{$targetImages=$("#"+section.id);$targetBullets=$targetImages.find(".nws_slideshow_bullets");}
if(mode=="slideV"){$targetImages=$targetImages.find(".offset-sliders");var index=parseInt($targetImages.attr("currindex")||"0",10);if(nSlides==undefined)nSlides=$targetImages.find(".offset-slider").length;if(window.quomodoclient&&quomodoclient.debugSlideV)quomodoclient.debugSlideV("next_h",index,nSlides,targetIndex);if(targetIndex!=undefined){if(targetIndex==index)return;$targetImages.attr("currindex",targetIndex).animate({"top":targetIndex==0?"0%":("-"+((targetIndex)*100)+"%")});$targetBullets.find(".nws_slideshowbullet").removeClass("active");$targetBullets.find(".nws_slideshowbullet[nwsindex='"+targetIndex+"']").addClass("active");return;}
if(index==(nSlides-1))return;$targetImages.attr("currindex",index+1).animate({"top":"-"+((index+1)*100)+"%"});$targetBullets.find(".nws_slideshowbullet").removeClass("active");$targetBullets.find(".nws_slideshowbullet[nwsindex='"+(index+1)+"']").addClass("active");return;}
var $descs=$("#"+section.id+" .nws_slideshownote_descs");var itemSelector=".nws_slideshownote_item";if($descs.length==0){var $descs=$("#"+section.id+" .nws_slideshownote_titles, #"+section.id+" .nws_slideshownote_comments, #"+section.id+" .nws_slideshownote_links");if($descs.length==0){$descs=$("#"+section.id+" .nws_slideshow_descs");itemSelector=".nws_slideshow_desc";}}
if($descs.eq(0).find(itemSelector).last().attr("nwsindex")&&$descs.eq(0).find(itemSelector).last().attr("nwsindex")!=$targetImages.find(".offset-slider").last().attr("nwsindex"))return;var $lastSlide=$targetImages.find(".offset-slider").last();if(targetIndex!=undefined&&$lastSlide.attr("nwsindex")==(""+targetIndex))return;var div=this;if(div.wait_img==true||div.wait_text==true){if(fast)div.manual="prev";return;}
div.wait_img=true;div.wait_text=true;if(targetIndex!=undefined){$targetImages.find(".offset-slider[nwsindex='"+targetIndex+"']").show();}else{var $nextSlide=$targetImages.find(".offset-slider").eq(-2);if($nextSlide.length==0){div.wait_img=false;div.wait_text=false;div.done_h(section,fast);return;}
$nextSlide.show();}
$lastSlide.fadeOut(fast?50:(r.fadeDelay||200),function(){var $slidesWrapper=$("#"+section.id+" .sk-centered");$(this).prependTo($slidesWrapper);if(targetIndex!=undefined){for(;;){$lastSlide=$targetImages.find(".offset-slider").last();if($lastSlide.attr("nwsindex")==(""+targetIndex))break;else $lastSlide.prependTo($slidesWrapper);}}
div.wait_img=false;if(!div.wait_text){div.done_h(section,fast);}});$descs.each(function(){var $this=$(this);var $last=$this.find(itemSelector).last();if(targetIndex==undefined&&$last.html()==$this.find(itemSelector).eq(-2).html()){$last.hide().prependTo($this);$this.find(itemSelector).last().show();div.wait_text=false;if(!div.wait_img){div.done_h(section,fast);}}else{$last.fadeOut(fast?50:(r.fadeDelay||200),function(){$(this).prependTo($this);if(targetIndex!=undefined){for(;;){$last=$this.find(itemSelector).last();if($last.attr("nwsindex")==(""+targetIndex))break;else $last.prependTo($this);}}
$this.find(itemSelector).last().fadeIn(r.fadeDelay||200,function(){div.wait_text=false;if(!div.wait_img){div.done_h(section,fast);}});});}});};var prev_h=function(section,fast){var $targetImages,$targetBullets;if(section.id=="p-0"&&$("body").attr("sk-id")=="prehome"){$targetImages=$("body > .background-image-offset");$targetBullets=$targetImages.nextAll(".nws_slideshow_bullets");}else{$targetImages=$("#"+section.id);$targetBullets=$targetImages.find(".nws_slideshow_bullets");}
if(mode=="slideV"){$targetImages=$targetImages.find(".offset-sliders");var index=parseInt($targetImages.attr("currindex")||"0",10);if(nSlides==undefined)nSlides=$targetImages.find(".offset-slider").length;if(window.quomodoclient&&quomodoclient.debugSlideV)quomodoclient.debugSlideV("prev_h",index,nSlides);if(index==0)return;$targetImages.attr("currindex",index-1).animate({"top":index==1?"0%":("-"+((index-1)*100)+"%")});$targetBullets.find(".nws_slideshowbullet").removeClass("active");$targetBullets.find(".nws_slideshowbullet[nwsindex='"+(index-1)+"']").addClass("active");return;}
var $descs=$("#"+section.id+" .nws_slideshownote_descs");var itemSelector=".nws_slideshownote_item";if($descs.length==0){var $descs=$("#"+section.id+" .nws_slideshownote_titles, #"+section.id+" .nws_slideshownote_comments, #"+section.id+" .nws_slideshownote_links");if($descs.length==0){$descs=$("#"+section.id+" .nws_slideshow_descs");itemSelector=".nws_slideshow_desc";}}
if($descs.eq(0).find(itemSelector).last().attr("nwsindex")&&$descs.eq(0).find(itemSelector).last().attr("nwsindex")!=$targetImages.find(".offset-slider").last().attr("nwsindex"))return;var div=this;if(div.wait_img==true||div.wait_text==true){if(fast)div.manual="prev";return;}
div.wait_img=true;div.wait_text=true;if($targetImages.find(".offset-slider").eq(-2).length==0){div.wait_img=false;div.wait_text=false;div.done_h(section,fast);return;}
$targetImages.find(".offset-slider").first().hide().insertAfter($targetImages.find(".offset-slider").last()).fadeIn(fast?50:(r.fadeDelay||200),function(){$targetImages.find(".offset-slider").eq(-2).hide();div.wait_img=false;if(!div.wait_text){div.done_h(section,fast);}});$descs.each(function(){var $this=$(this);var $last=$this.find(itemSelector).last();if($last.html()==$this.find(itemSelector).first().html()){$last.hide();$this.find(itemSelector).first().insertAfter($last).show();div.wait_text=false;if(!div.wait_img){div.done_h(section,fast);}}else{$last.fadeOut(fast?50:(r.fadeDelay||200),function(){$this.find(itemSelector).first().insertAfter($last).hide().fadeIn(r.fadeDelay||200,function(){div.wait_text=false;if(!div.wait_img){div.done_h(section,fast);}});});}});};var first_h;if(r.quomodoclient&&window.quomodoclient&&quomodoclient.nws_animatefn){var hs=quomodoclient.nws_animatefn(div,r);if(hs.next)next_h=hs.next;if(hs.prev)prev_h=hs.prev;if(hs.first)first_h=hs.first;}
div.next_h=next_h;div.prev_h=prev_h;if(first_h){div.firstAnimation=first_h;div.firstAnimation(section);}
div.done_h=function(section,fast){var div=this;if(div.transferdescs){div.transferdescs_h(section);div.transferdescs=false;}
if(fast){div.manual="pause";}else{if(div.manual=="next")div.next_h(section,true);else if(div.manual=="prev")div.prev_h(section,true);}};if(qsn_currstate!="edit"&&mode!="slideV")quomodo.events.addUniqTimerListener("clocktimer",function(eventData,eventName){if(q_pagemode()=="makeweb")return;if(div.suspended)return;var t=parseInt(qsn_thenotes[div.id].timer,10)/1000;if(eventData.count==0||eventData.count%t!=0)return;if(div.manual=="pause"){div.manual="pause-done";return;}
if(div.manual=="pause-done"){div.manual=null;return;}
div.next_h(section);},div);nws_addevents(div);}
function nws_stopanimsec(div,r){if(div.eventId)quomodo.events.removeListener(div.eventId);}
function nws_pauseanimsec(div){div.suspended=true;}
function nws_playanimsec(div){div.suspended=false;}
function nws_doanim(div){if(isremoved(div))return;if(div.suspended)return;var r=qsn_thenotes[div.id];var activenewsids=$(div).data("activenewsids");if(activenewsids.length<2)return;var curr=$(div).data("currentnews");$(".nws_maintable:eq(0) .nws_news[newsindex='"+curr+"'] .nws_img",div).fadeOut(r.fadeDelay||200,function(){var ind=$.inArray(curr,activenewsids);var newselected=activenewsids[(ind+1)%activenewsids.length];nws_displaymainnews(div,newselected);});}
function nws_addevents(div){var r=qsn_thenotes[div.id];if(r.imgtosec){var nopause=($(div).attr("nocomment")=="1")||(r.nopause);var section=quomodo.page.sections.get(qsn_stuffID(div.id));var mode=$(div).attr("mode");if(mode!="slideV"){$('#'+section.id).on("mouseenter",function(){$(this).find(".nws_slideshow_prev, .nws_slideshow_next").fadeIn("fast");if(!nopause)div.suspended=true;});$('#'+section.id).on("mouseleave",function(event){if(!section.isover(event)){$(this).find(".nws_slideshow_prev, .nws_slideshow_next").fadeOut("fast");if(!nopause)div.suspended=false;}});}
$('#'+section.id+' .nws_slideshow_prev, #'+section.id+' .nws_slideshow_next').on("mouseenter",function(){$(this).addClass("hover");if(!nopause)div.suspended=true;});$('#'+section.id+' .nws_slideshow_prev, #'+section.id+' .nws_slideshow_next').on("mouseleave",function(event){$(this).removeClass("hover");if(!section.isover(event)&&!nopause)div.suspended=false;});$('#'+section.id+' .nws_slideshow_prev').unbind("click").on("click",function(){if(window.quomodoclient&&quomodoclient.debugSlideV)quomodoclient.debugSlideV("click prev");div.prev_h(section,true);});$('#'+section.id+' .nws_slideshow_next').unbind("click").on("click",function(){if(window.quomodoclient&&quomodoclient.debugSlideV)quomodoclient.debugSlideV("click next");div.next_h(section,true);});if(mode=="slideV"){$(window).unbind("wheel").bind("wheel",function(event){if(!event.originalEvent)return;var sign=event.originalEvent.deltaY>0?"+":(event.originalEvent.deltaY<0?"-":"0");var dt=event.originalEvent.timeStamp-(div.wheel_timeStamp||0);var dlast=event.originalEvent.timeStamp-(div.wheel_lastWheel||0);var doWheel=false;if(div.wheel_sign==undefined){doWheel=true;}else{if(div.wheel_sign!=sign){doWheel=true;}else if(dt>100){doWheel=true;}else if(dlast>250){if(Math.abs(event.originalEvent.deltaY)>div.wheel_delta){if(div.wheel_deltaIncreasing){doWheel=true;}else{div.wheel_deltaIncreasing=true;}}}}
if(doWheel&&sign!="0"){if(sign=="-"){if(window.quomodoclient&&quomodoclient.debugSlideV)quomodoclient.debugSlideV("mousewheel prev",event);div.prev_h(section,true);}else if(sign=="+"){if(window.quomodoclient&&quomodoclient.debugSlideV)quomodoclient.debugSlideV("mousewheel next",event);div.next_h(section,true);}
div.wheel_lastWheel=event.originalEvent.timeStamp;div.wheel_deltaIncreasing=false;}
div.wheel_sign=sign;if(!div.wheel_deltaIncreasing)div.wheel_delta=Math.abs(event.originalEvent.deltaY);div.wheel_timeStamp=event.originalEvent.timeStamp;}).unbind("touchmove").bind("touchmove",function(event){event.preventDefault();var touch=event.originalEvent.touches[0]||event.originalEvent.changedTouches[0];if(div.touchOriginalPageY==undefined){div.touchOriginalPageY=touch.pageY;}else{if((touch.pageY-div.touchOriginalPageY)>50&&div.touchMove!="next"){var i=Math.floor((touch.pageY-div.touchOriginalPageY)/50);if(window.quomodoclient&&quomodoclient.debugSlideV)quomodoclient.debugSlideV("touchmove prev ("+(touch.pageY-div.touchOriginalPageY)+" = "+i+")");div.moveIndex=div.moveIndex||0;if(i>div.moveIndex){div.prev_h(section,true);div.moveIndex=i;}
div.touchMove="prev";}else if((div.touchOriginalPageY-touch.pageY)>50&&div.touchMove!="prev"){var i=Math.floor((div.touchOriginalPageY-touch.pageY)/50);if(window.quomodoclient&&quomodoclient.debugSlideV)quomodoclient.debugSlideV("touchmove next ("+(div.touchOriginalPageY-touch.pageY)+" = "+i+")");div.moveIndex=div.moveIndex||0;if(i>div.moveIndex){div.next_h(section,true);div.moveIndex=i;}
div.touchMove="next";}}}).unbind("touchend").bind("touchend",function(event){if(div.touchOriginalPageY!=undefined){event.preventDefault();delete div.touchOriginalPageY;delete div.touchMove;div.moveIndex=0;}});}
return;}
$(".nws_thumbstable:eq(0) .nws_img",div).removeAttr("onmouseover").removeAttr("onmouseout").removeAttr("onclick")
$(".nws_thumbstable:eq(0)",div).removeAttr("onmouseover").removeAttr("onmouseout").removeAttr("onclick")
$(".nws_maintable:eq(0)",div).removeAttr("onmouseover").removeAttr("onmouseout").removeAttr("onclick")
$(".nws_thumbstable:eq(0) tr .nws_thumb",div).click(function(){nws_displaymainnews(getContainer(this),parseInt($(this).attr("newsindex"),10));div.suspended=true;}).bind("mouseleave",function(){getContainer(this).suspended=false;});$(".nws_maintable:eq(0) .nws_news",div).click(function(){if(q_pagemode()=="edit"&&/artemapage/.test(currsvcid)){if(nws_alertlinksdone)return;else{nws_alertlinksdone=true;return q_alert(nws_message["editmodeclick"],{},true);}}
var div=getContainer(this);var r=qsn_thenotes[div.id];var link=r.news[parseInt($(this).attr("newsindex"),10)].link;var l=q_link_getproperties(link);if(l.onclick)l.onclick();return false;}).hover(function(event){var i=$(this).attr("newsindex");var div=getContainer(this);var r=qsn_thenotes[div.id];if(r.news[i].link&&r.news[i].link.kind!=0){if(r.maskcolor=="false"){$(".nws_overimgbckg",this).css("background-color",(event.type=="mouseenter")?rgb2levelcolor("#000",nws_maskcolor_hover_rgbalevel):"#000");}else{$(".nws_overimgbckg",this).css("background-color",(event.type=="mouseenter")?rgb2levelcolor(RPD.pbgcolor(r.rpd),nws_maskcolor_hover_rgbalevel):rgb2levelcolor(RPD.pbgcolor(r.rpd),nws_maskcolor_rgbalevel));}}
if(event.type=="mouseenter")div.suspended=true;else div.suspended=false;});$(".nws_notebody:eq(0) .nws_next",div).click(function(e){e.preventDefault();var noteid=$(this).parents("table.nws_note").attr("id");var div=ge(noteid);var activenewsids=$(div).data("activenewsids");var curr=$(div).data("currentnews");var ind=$.inArray(curr,activenewsids);var newselected=activenewsids[(ind+1)%activenewsids.length];nws_displaymainnews(div,newselected);return false;});$(".nws_notebody:eq(0) .nws_prev",div).click(function(e){e.preventDefault();var noteid=$(this).parents("table.nws_note").attr("id");var div=ge(noteid);var activenewsids=$(div).data("activenewsids");var curr=$(div).data("currentnews");var ind=$.inArray(curr,activenewsids);var newselected=activenewsids[(ind-1+activenewsids.length)%activenewsids.length];nws_displaymainnews(div,newselected);return false;});$(".nws_img",div).on("swipeleft",function(event){event.preventDefault();var noteid=$(this).parents("table.nws_note").attr("id");var div=ge(noteid);var activenewsids=$(div).data("activenewsids");var curr=$(div).data("currentnews");var ind=$.inArray(curr,activenewsids);var newselected=activenewsids[(ind+1)%activenewsids.length];nws_displaymainnews(div,newselected);return false;}).on("swiperight",function(event){event.preventDefault();var noteid=$(this).parents("table.nws_note").attr("id");var div=ge(noteid);var activenewsids=$(div).data("activenewsids");var curr=$(div).data("currentnews");var ind=$.inArray(curr,activenewsids);var newselected=activenewsids[(ind-1+activenewsids.length)%activenewsids.length];nws_displaymainnews(div,newselected);return false;});}
function nws_displaymainnews(div,newsindex,fadeDelay){var r=qsn_thenotes[div.id];$(div).data("currentnews",newsindex);for(var i=0;i<r.news.length;i++){$(".nws_news[newsindex='"+i+"']:eq(0)",div).toggle(i==newsindex);$(".nws_thumbstable:eq(0) td[newsindex='"+i+"'] .nws_img",div).css("border-width",(i==newsindex)?"0px 0px 4px 0px":"0px");if($(".nws_pagination_bullet",div).length>0&&i==newsindex){$(".nws_pagination_bullet",div).removeClass("nws_pagination_bullet_active");$('.nws_pagination_bullet[newsindex="'+i+'"]',div).addClass("nws_pagination_bullet_active");}}
if($(".nws_pagination_fraction",div).length>0){$(".nws_pagination_fraction_current",div).text(newsindex+1);}
var $res=$(".nws_maintable:eq(0) .nws_news[newsindex='"+newsindex+"'] .nws_img",div);var maxh=Math.max($(".nws_notebody",div).height()*0.25,64);$res.fadeIn(fadeDelay||r.fadeDelay||200,function(){quomodoFonts.waitSpaceFonts(function(){var $overimg=$(".nws_news[newsindex='"+newsindex+"'] .nws_overimg",div);$overimg.css("height","auto");$overimg.ellipsis({"html":true,"height":maxh});$overimg.css("height","");});});return $res;}
function nws_fitimages(div){if($(".tablenotecontent",div).css("display")=="none"){$(".tablenotecontent",div).show();var hide_content=true;}
var r=qsn_thenotes[div.id];var w,h,d,img;var maintable=$(".nws_maintable:eq(0)",div);var thumbstable=$(".nws_thumbstable:eq(0)",div);if(r.showthumbs!="0"){var nbnews=Math.max(4,$("td.nws_thumb",thumbstable).length);var o=fixedWidthIntervals(maintable.width(),7,nbnews);w=o.width;if(w>5){thumbstable.show();h=Math.round(w*nws_getimgratio(r));var j=0;$("td.nws_thumb",thumbstable).each(function(i,v){var i=$(this).attr("newsindex");var img=$(".nws_img",this);nws_fitimage(img,w,h,r.news[i]);$(this).height(h+4);$(img).css("visibility",(r.news[i].active)?"visible":"hidden");if(r.news[i].active){if(j>0)$(this).css("padding-left",o.gaps[j-1]+"px");j++;}});}else thumbstable.hide();}
w=maintable.width();h=Math.round(w*nws_getimgratio(r));$(".nws_img",maintable).each(function(i,v){var i=$(this).parent().parent().attr("newsindex");nws_fitimage(this,w,h,r.news[i]);$(this).css("visibility",(r.news[i].active)?"visible":"hidden");var d=$(".nws_overimg",this);});if(hide_content)$(".tablenotecontent",div).hide();}
function nws_fitimage(d,w,h,news){d=$(d);var div=getContainer(d.get(0));var r=qsn_thenotes[div.id];d.parent().parent().width(w).height(h);if(d.parent().css("border-left-style")!="none"&&parseInt(d.parent().css("border-left-width"),10)==1){h=h-2;w=w-2;}
d.parent().width(w).height(h);if(d.css("border-left-style")!="none"&&parseInt(d.css("border-left-width"),10)==1){h=h-2;w=w-2;}
d.width(w);d.height(h);var img=$("img",d);var imgw=parseInt(news.img.width,10);var imgh=parseInt(news.img.height,10);if(imgh/imgw>=nws_getimgratio(r)){var k=(imgh/imgw)*(w/h);var dh=(k-1)*h;img.css({"width":w+"px","margin-left":"0px"});switch(parseInt(news.img.position,10)){case(0):case(1):case(2):img.css("margin-top","0px");break;case(3):case(4):case(5):img.css("margin-top",-Math.round(dh/2)+"px");break;case(6):case(7):case(8):img.css("margin-top",-Math.round(dh)+"px");break;}}else{var k=(imgw/imgh)*(h/w);var dw=(k-1)*w;img.css({"width":(Math.round((1+k*100)*w/100))+"px","margin-top":"0px"});switch(parseInt(news.img.position,10)){case(0):case(3):case(6):img.css("margin-left","0px");break;case(1):case(4):case(7):img.css("margin-left",-Math.round(dw/2)+"px");break;case(2):case(5):case(8):img.css("margin-left",-Math.round(dw)+"px");break;}}}
function nws_getimgratio(r){if((typeof r.imgratio)=="string")return[0.25,0.33,0.5,0.75,1,1.25,1.5][parseInt(r.imgratio,10)];else return r.imgratio;}
function nws_mouseovermainnews(){}
function nws_mouseovernews(){}
function nws_clickinmainnews(){}
function nws_rendermainnews(){}
function nws_alignbuttons(div){if($(".tablenotecontent",div).css("display")=="none"){$(".tablenotecontent",div).show();var hide_content=true;}
var r=qsn_thenotes[div.id];var top_btnnavig=($(".nws_maintable:eq(0)",div).height()-25)/2;var realign=false;for(var i=0;i<r.news.length;i++){if(!r.news[i].active)continue;if(r.news[i]["comment"]||r.news[i]["title"]){realign=true;break;}}
if(realign&&qsn_responsive_mod()=="md")top_btnnavig-=40;$(".nws_maintable:eq(0) .nws_prev, .nws_maintable:eq(0) .nws_next",div).css("top",top_btnnavig+"px");if(hide_content)$(".tablenotecontent",div).hide();}
function nws_xs_resize(div){q_changedwidth(div,qsn_width_xs(div.id));nws_fitimages(div);nws_alignbuttons(div);var r=qsn_thenotes[div.id];var dh=$(div).hasClass("nws_withcomment")?80:0;$(".nws_news",div).each(function(){var $this=$(this);var i=parseInt($this.attr("newsindex"),10);var news=r.news[i];if(news.title)$this.find(".nws_overimgtitle").html(news.title);if(news.comment)$this.find(".nws_overimgcomment").html(news.comment);$(".nws_overimg",this).appendTo($this);$this.height($this.height()+dh);});quomodoFonts.waitSpaceFonts(function(){var newsindex=parseInt($(div).data("currentnews"),10);var $overimg=$(".nws_news[newsindex='"+newsindex+"'] .nws_overimg",div);$overimg.css("height","auto");$overimg.ellipsis({"html":true,"height":64});$overimg.css("height","");});if(qsn_isTouchDevice()||r.showthumbs=="1")nws_renderpagination(div,r);}
function nws_sm_resize(div){q_changedwidth(div,qsn_width_sm(div.id));nws_fitimages(div);nws_alignbuttons(div);var r=qsn_thenotes[div.id];$(".nws_news",div).each(function(){var $this=$(this);var i=parseInt($this.attr("newsindex"),10);var news=r.news[i];if(news.title)$this.find(".nws_overimgtitle").html(news.title);if(news.comment)$this.find(".nws_overimgcomment").html(news.comment);$(".nws_overimg",this).appendTo($this);$this.height($this.height()+80);});quomodoFonts.waitSpaceFonts(function(){var newsindex=parseInt($(div).data("currentnews"),10);var $overimg=$(".nws_news[newsindex='"+newsindex+"'] .nws_overimg",div);$overimg.css("height","auto");$overimg.ellipsis({"html":true,"height":64});$overimg.css("height","");});if(qsn_isTouchDevice()||r.showthumbs=="1")nws_renderpagination(div,r);}
function nws_lg_resize(div){q_changedwidth(div,qsn_width_lg(div.id));nws_fitimages(div);nws_alignbuttons(div);var r=qsn_thenotes[div.id];$(".nws_news",div).each(function(){var $this=$(this);var i=parseInt($this.attr("newsindex"),10);var news=r.news[i];if(news.title)$this.find(".nws_overimgtitle").html(news.title);if(news.comment)$this.find(".nws_overimgcomment").html(news.comment);if($this.find("> .nws_overimg").length>0)$(".nws_overimg",this).appendTo($(".nws_img",this)).css("height","");});var maxh=Math.max($(".nws_notebody",div).height()*0.25,64);quomodoFonts.waitSpaceFonts(function(){var newsindex=parseInt($(div).data("currentnews"),10);var $overimg=$(".nws_news[newsindex='"+newsindex+"'] .nws_overimg",div);$overimg.css("height","auto");$overimg.ellipsis({"html":true,"height":maxh});$overimg.css("height","");});$(".nws_pagination",div).remove();}
function nws_md_resize(div){q_changedwidth(div,parseInt(qsn_width(div.id),10));nws_fitimages(div);nws_alignbuttons(div);var r=qsn_thenotes[div.id];$(".nws_news",div).each(function(){var $this=$(this);var i=parseInt($this.attr("newsindex"),10);var news=r.news[i];if(news.title)$this.find(".nws_overimgtitle").html(news.title);if(news.comment)$this.find(".nws_overimgcomment").html(news.comment);if($this.find("> .nws_overimg").length>0)$(".nws_overimg",this).appendTo($(".nws_img",this)).css("height","");});var maxh=Math.max($(".nws_notebody",div).height()*0.25,64);quomodoFonts.waitSpaceFonts(function(){var newsindex=parseInt($(div).data("currentnews"),10);var $overimg=$(".nws_news[newsindex='"+newsindex+"'] .nws_overimg",div);$overimg.css("height","auto");$overimg.ellipsis({"html":true,"height":maxh});$overimg.css("height","");});$(".nws_pagination",div).remove();}
function nws_renderpagination(div,r){if($(".nws_pagination",div).length==0)$(".nws_notebody",div).append('<div class="nws_pagination"></div>');$(".nws_pagination",div).empty();var activenws=0;$(".nws_news",div).each(function(){if($(this).css("display")!="none"){activenws=$(this).attr("newsindex");return false;}});var notew=qsn_responsive_width(div.id);var bulletsw=18*r.news.length;if(notew>=bulletsw){for(var i=0;i<r.news.length;i++){$(".nws_pagination",div).append('<span class="nws_pagination_bullet rpd-pbg-funcolor'+(i==activenws?" nws_pagination_bullet_active":"")+'" newsindex="'+i+'"></div>');}
$(".nws_pagination_bullet",div).unbind("click").on("click",function(){nws_displaymainnews(getContainer(this),parseInt($(this).attr("newsindex"),10));div.suspended=true;});}else{$(".nws_pagination",div).append('<span class="nws_pagination_fraction rpd-p3"><span class="nws_pagination_fraction_current">'+(parseInt(activenws,10)+1)+'</span> / <span class="nws_pagination_fraction_total">'+r.news.length+'</span></span>');}}
function nws_placeinsec(r){var section=quomodo.page.sections.get(qsn_stuffID(r.common.noteid));function placeArrows(arrowmod){if(r.hidearrows=="true")return;if(arrowmod=="middle"){$('#'+section.id+' .nws_slideshow_prev, #'+section.id+' .nws_slideshow_next').css({"left":"","right":"","bottom":"","top":function(){var $this=$(this);var savedDisplay=$this.css("display");$this.show();var sectionheight=$("#"+section.id).height();if(parseInt($("#"+section.id+"-stuff").css("top"),10)>0)sectionheight=sectionheight+parseInt($("#"+section.id+"-stuff").css("top"),10);var top=(sectionheight-30)/2+"px";$this.css("display",savedDisplay);return top;}});}else{var prevLeft=$("#"+section.id+"-stuff").width()/2-$('#'+section.id+' .nws_slideshow_prev').width()*2;$('#'+section.id+' .nws_slideshow_prev').css({"top":"auto","bottom":"10px","left":prevLeft+"px"});$('#'+section.id+' .nws_slideshow_next').css({"top":"auto","bottom":"10px","right":prevLeft+"px"});}}
if(r.template_notes&&r.template_notes!="false"){var arrowmod="middle";if(qsn_responsive_mod()=="xs")arrowmod="bottom";placeArrows(arrowmod);return;}
var sk_settings=qsn_thenotes[section.noteid].skeleton;if(sk_settings&&sk_settings["filter"])sk_settings=cloneObject(sectionpreset.filters[sk_settings["filter"]],sk_settings);else if(sk_settings)delete sk_settings["filter"];if(sk_settings&&sk_settings["image"])sk_settings=cloneObject(sectionpreset.images[sk_settings["image"]],sk_settings);else if(sk_settings)delete sk_settings["image"];var section_json=Skeleton.getSectionJSON(section.id,"prepare");var json=cloneObject(Skeleton.getSectionJSON(section.id,true),section_json,sk_settings);function getalign(textalign,rnews){textalign=(rnews&&rnews.textalign)||textalign;switch(textalign){case "left":return "left";break;case "right":return "right";break;case "center":return "center";break;case "0":return "left";break;case "1":return "right";break;case "2":return "center";break;default:return "left";break;}}
var div=ge(r.common.noteid);var formats=Skeleton.formatProperties(section.id);var sec_hmargin=formats["hmargin"];var sec_vmargin=formats["vmargin"];var sec_inmargin=formats["inmargin"];var real_sec_hmargin=formats["hmargin"];if(!sec_hmargin||sec_hmargin==0)sec_hmargin=60;if(r.sec_hmargin!=undefined)sec_hmargin=r.sec_hmargin;if(!sec_vmargin||sec_vmargin==0)sec_vmargin=60;if(r.view_all&&r.view_all.active&&qsn_responsive_mod()!="xs"){var $sliders=$("#"+section.id+" .offset-slider");var ww=$(window).width();var nnews=$sliders.length;var wnews=Math.ceil(ww/nnews);var offset_left=Math.round((nnews*wnews-ww)/2);$("#"+section.id+" .sk-centered").css("height",Math.round(wnews/(r.view_all.ratio||0.75))+"px");$sliders.css("width",wnews+"px").show().each(function(i){$(this).css("left",(i*wnews-offset_left)+"px");});$("#"+section.id).addClass("nws_view_all").css("height",Math.round(wnews/(r.view_all.ratio||0.75))+"px");$("#"+section.id+"-stuff").css("height",Math.round(wnews/(r.view_all.ratio||0.75))+"px");}
var ncols=formats["ncols"];var descwidth=($("#"+section.id+"-stuff").width()-real_sec_hmargin*2)/ncols-((ncols-1)*sec_inmargin);function responsiveHLength(margin){var device=qsn_responsive_mod();if(device=="xs")return 0;if(device=="md")return margin;return Math.round(devicesDef[device].contentWidth/devicesDef.md.contentWidth*margin);}
function responsiveVLength(margin){if(qsn_responsive_mod()=="xs")return 0;return margin;}
var vCentered=true;if(r.view_all&&r.view_all.active&&qsn_responsive_mod()!="xs"){var stuff_offset_left=$("#"+section.id+"-stuff").offset().left;var stuff_offset_top=$("#"+section.id+"-stuff").position().top;var sec_height=Math.round(wnews/(r.view_all.ratio||0.75));if(r.view_all.bottom!=undefined)$("#"+section.id+" .nws_slideshow_descs").css("top","auto").css("bottom","0px");$("#"+section.id+" .nws_slideshow_desc").css("width",(wnews-2*(r.view_all.padding==undefined?20:r.view_all.padding))+"px").show().each(function(i){var $this=$(this);var desc_height=$this.height();$this.css({"left":(i*wnews-offset_left+(r.view_all.padding==undefined?20:r.view_all.padding)-stuff_offset_left)+"px","margin-left":"auto","margin-right":"auto","margin-top":"auto","margin-bottom":"auto"});if(r.view_all.bottom!=undefined){$this.css("top","auto").css("bottom",(r.view_all.bottom-stuff_offset_top)+"px");}else{$this.css("top",((Math.round(sec_height-desc_height)/2)-stuff_offset_top)+"px");}});}else if(json["disabled_mask"]||json["image"]=="img4"){var max_desc_height=0;var stuff_width=$("#"+section.id+"-stuff").width();$("#"+section.id+" .nws_slideshow_desc").each(function(){var $this=$(this);var isvisible=$this.is(":visible");var i=parseInt($this.attr("nwsindex"),10);$this.show();$this.width(responsiveHLength(r.slideshow_desc_w||Math.min(450,descwidth)));var sectionheight=$("#"+section.id).height();var desc_height=$this.height();if(desc_height>max_desc_height)max_desc_height=desc_height;if(parseInt($("#"+section.id+"-stuff").css("top"),10)>0)sectionheight=sectionheight-parseInt($("#"+section.id+"-stuff").css("top"),10);var desctop=(sectionheight-desc_height)/2;if(r.valign=="bottom"){vCentered=false;$this.css({"top":"auto","bottom":"0px"});}else{$this.css({"margin-top":responsiveVLength(desctop)+"px"});}
if(getalign(r.textalign,r.news[i])=="left")$this.css({"left":"0","right":"auto","margin-left":responsiveHLength(real_sec_hmargin)+"px"});else if(getalign(r.textalign,r.news[i])=="right")$this.css({"right":"0","left":"auto","margin-right":responsiveHLength(real_sec_hmargin)+"px"});else{var descLeft=(stuff_width-$this.width())/2;$this.css({"left":"0","right":"auto","margin-left":descLeft+"px","margin-right":"auto"});}
if(!isvisible)$this.hide();});$("#"+section.id+" .nws_slideshow_descs").height(qsn_responsive_mod()=="xs"?max_desc_height:0);if(r.valign=="bottom")$("#"+section.id+" .nws_slideshow_descs").css({"top":"auto","bottom":"0px"});}else{var imgparams=json["image"]?sectionpreset["images"][json["image"]]["img-params"]:null;var textoffsets=imgparams&&imgparams["text-offset"];if(textoffsets&&textoffsets["left"]){if(textoffsets["right"])var w=responsiveHLength(parseInt(textoffsets["right"],10)-parseInt(textoffsets["left"],10));else var w=$("#"+section.id+"-stuff").width()-responsiveHLength(parseInt(textoffsets["left"],10))-responsiveHLength(textoffsets["eqmargin"]?2*sec_hmargin:sec_hmargin);$("#"+section.id+" .nws_slideshow_desc").css({"margin-left":(textoffsets["eqmargin"]?responsiveHLength(parseInt(textoffsets["left"],10)+sec_hmargin)+"px":responsiveHLength(parseInt(textoffsets["left"],10))+"px"),"width":w+"px"});}else if(textoffsets&&textoffsets["right"])$("#"+section.id+" .nws_slideshow_desc").css({"margin-left":responsiveHLength(sec_hmargin)+"px","width":(r.slideshow_desc_w||(responsiveHLength(parseInt(textoffsets["right"],10)-(textoffsets["eqmargin"]?2*sec_hmargin:sec_hmargin))))+"px"});else{var stuff_width=$("#"+section.id+"-stuff").width();$("#"+section.id+" .nws_slideshow_desc").each(function(){var $this=$(this);var i=parseInt($this.attr("nwsindex"),10);$this.css({"width":responsiveHLength(r.slideshow_desc_w||Math.min(450,descwidth))+"px"});if(getalign(r.textalign,r.news[i])=="left")$this.css({"left":"0","right":"auto","margin-left":responsiveHLength(real_sec_hmargin)+"px"});else if(getalign(r.textalign,r.news[i])=="right")$this.css({"left":"auto","right":"0","margin-right":responsiveHLength(real_sec_hmargin)+"px"});else{var descLeft=(stuff_width-$this.width())/2;$this.css({"left":"0","right":"auto","margin-left":descLeft+"px","margin-right":"auto"});}});}
var max_desc_height=0;if(textoffsets&&textoffsets["vertical"]&&textoffsets["vertical"]!="middle")vCentered=false;$("#"+section.id+" .nws_slideshow_desc").each(function(){var isvisible=$(this).is(":visible");$(this).show();var sectionheight=$("#"+section.id).height();var desc_height=$(this).height();if(desc_height>max_desc_height)max_desc_height=desc_height;if(parseInt($("#"+section.id+"-stuff").css("top"),10)>0)sectionheight=sectionheight-parseInt($("#"+section.id+"-stuff").css("top"),10);if(textoffsets&&textoffsets["vertical"]&&textoffsets["vertical"]!="middle"){if(textoffsets["vertical"]=="top")var desctop=sec_vmargin;else var desctop=sectionheight-desc_height-sec_vmargin;}else var desctop=(sectionheight-desc_height)/2;$(this).css({"margin-top":responsiveVLength(desctop)+"px"});if(!isvisible)$(this).hide();});$("#"+section.id+" .nws_slideshow_descs").height(qsn_responsive_mod()=="xs"?max_desc_height:0);}
if(qsn_responsive_mod()=="xs"&&vCentered&&$("#"+section.id).attr("empty-content")=="1"){var $divSec=$("#"+section.id);var contentHeight=$divSec.find(".nws_slideshow_descs").height();var newpadding=($divSec.height()-contentHeight-parseInt($divSec.find(".stuff-content").css("top")||0,10))/2;$divSec.find(".stuff-content").css({"padding-top":newpadding+"px","padding-bottom":newpadding+"px"});}
var arrowmod="middle";if(json["disabled_mask"]||json["image"]=="img4"){if(getalign(r.textalign)!="center"&&json["wide"]==false)arrowmod="bottom";}else{var imgparams=json["image"]?sectionpreset["images"][json["image"]]["img-params"]:null;var textoffsets=imgparams&&imgparams["text-offset"];if((getalign(r.textalign)!="center"||(textoffsets&&textoffsets["arrowbottom"]))&&json["wide"]==false)arrowmod="bottom";}
if(qsn_responsive_mod()=="xs")arrowmod="bottom";placeArrows(arrowmod);if(r.xsplacement){div.transferdescs_h=function(section){var div=this;if(div.wait_img==true||div.wait_text==true){div.transferdescs=true;return;}
var currplacement=$("#"+section.id+" .nws_slideshow_descs").attr("xsplacement");if(qsn_responsive_mod()=="xs"&&currplacement!="xs"){var targetId=r.xsplacement.target;var $target=$("#ghost_"+r.xsplacement.target);if($target.length){$("#"+section.id+" .nws_slideshow_descs").detach()[r.xsplacement.mode=="before"?"insertBefore":"insertAfter"]($target).attr("xsplacement","xs");}else if(q_pagemode()=="view"&&!div.transferdescsEventAdded){quomodo.events.addListener("finish_init.notes",function(eventDesc,eventName){var $target=$("#ghost_"+r.xsplacement.target);if($target.length)$("#"+section.id+" .nws_slideshow_descs").detach()[r.xsplacement.mode=="before"?"insertBefore":"insertAfter"]($target).attr("xsplacement","xs");});div.transferdescsEventAdded=true;}}else if(qsn_responsive_mod()!="xs"&&currplacement=="xs"){$("#"+section.id+" .nws_slideshow_descs").detach().insertAfter($("#"+section.id+"-stuff-table")).attr("xsplacement","!xs");}};div.transferdescs_h(section);}
if(r.quomodoclient&&window.quomodoclient&&quomodoclient.nws_finalize)quomodoclient.nws_finalize("placeinsec",div,r);if(div.firstAnimation)div.firstAnimation(section);if(qsn_responsive_mod()=="xs"&&(!quomodoFonts._waitSpaceFonts||quomodoFonts._waitSpaceFonts.status!="loaded")){quomodoFonts.waitSpaceFonts(function(){var max_desc_height=0;$("#"+section.id+" .nws_slideshow_desc").each(function(){var isvisible=$(this).is(":visible");$(this).show();var desc_height=$(this).height();if(desc_height>max_desc_height)max_desc_height=desc_height;if(!isvisible)$(this).hide();});$("#"+section.id+" .nws_slideshow_descs").height(max_desc_height);});}}
var pimg_message={"newnoteprompt":"cliquez ici pour écrire votre message, puis cliquez sur ok","fermer":"fermer","plug":"Image_Ajoutez rapidement une photo (cliquable ou non) sur votre page.","desc":"(...)","selectanimage":"Veuillez sélectionner une image.","uploadtitle":"Insertion d'une image","selectanimage_fo":"Sélectionnez une image.","pages_toolarge":"La taille de l'image originale est trop grande. Vous ne pouvez pas utiliser cette option pour cette image.","delete":"supprimer","reducing_margins":"Le nouveau réglage de marge faisait déborder l'image. Le réglage a été modifié à la plus proche valeur valide.","link":"Indiquez l'adresse du lien ici : http:// etc","background":"Fond","tabmargin":"Marge","margin0":"aucune","margin1":"fine","margin2":"normale","margin3":"large","margin4":"très large","linkpagetitle":"Cliquez pour accéder à la page","popuppagetitle":"Cliquez pour voir","linkfiletitle":"Cliquez pour télécharger le fichier","changeimg":"Changer l'image...","usetrueimg":"dimensions d'origine","useretinaimg":"dimensions d'origine pour smartphone (retina, échelle 1/2)","retina_warning":"ATTENTION : pour obtenir une qualité optimale en réglage retina, les largeur et hauteur de l'image doivent être paires.","helptrueimg":"Cette option donne la meilleure qualité d'image disponible mais empêche de la redimensionner. Pour redimensionner la note, l'option doit être désactivée.","helpretinaimg":"Cette option donne la meilleure qualité d'image disponible pour smartphone mais empêche de la redimensionner. Pour redimensionner la note, l'option doit être désactivée.","helpfreeimg":"Cette option permet de placer l’image n’importe où y compris à l’extérieur de la zone habituelle du contenu.","enablezoom":"autoriser le zoom","helpzoomimg":"Cette option permet aux visiteurs de voir l'image en grand en cliquant sur la loupe en haut à gauche.","clicktoclose":"Cliquez pour fermer l'image et revenir à la page.","suppressnote":"Êtes-vous certain de vouloir supprimer cette note ?\n\nATTENTION : ceci ne supprime pas l'image de votre espace de stockage. Pour libérer l'espace de stockage qui est occupé par votre image, ouvrez votre panneau « Fichiers chargés sur le site » et supprimez l'image.","suppressnote_bubble":"Pour libérer de l'espace de stockage, ouvrez votre panneau « Fichiers chargés sur le site ».","linkbroken":"La page vers laquelle pointait ce lien a été supprimée.","imgonly":"image seule, sans titre ni fond","altlabel":"Nom de l'image (« alt »)","freeimg":"autoriser à déborder","disableover":"pas d'effet au survol","rounded":"médaillon","legend_none":"sans légende","legend_center":"légende au centre","legend_bottom":"légende en bas","zoom_disabled":"L'option de zoom de l'image n'est pas compatible avec un lien associé à l'image. Le zoom a donc été désactivé.","zoom_forbidden":"L'option de zoom de l'image n'est pas compatible avec un lien associé à l'image. Il faut supprimer le lien pour pouvoir autoriser le zoom.","seo_tabname":"Référencement","zoom_tabname":"Zoom","radio_zoom_enabled":"toujours autorisé","radio_zoom_xs_enabled":"autorisé sur mobile uniquement","radio_zoom_disabled":"jamais autorisé"};var pimg_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("pimg_msgs_fr_js_loaded");function pimg_mouseoverimg(x){var div=getContainer(x);var enablezoom=qsn_thenotes[div.id].enablezoom;var b=(enablezoom=="yes")||(enablezoom=="xs"&&(qsn_responsive_mod()=="xs"||qsn_responsive_mod()=="sm"));$(".pimg_zoombutton:eq(0), .pimg_zoombutton2:eq(0)",div).toggle(b);}
function pimg_mouseoutimg(x){var div=getContainer(x);$(".pimg_zoombutton:eq(0), .pimg_zoombutton2:eq(0)",div).hide();}
function pimg_renderimg_fsm(x){var r=qsn_thenotes[getContainer(x).id];var src=(r.img.kind=="web")?r.img.src:q_spaceabsoluteurl(r.common.ownerid,r.img.formats.screen);if($(x).data('lightGallery'))$(x).data('lightGallery').destroy(true);$(x).lightGallery({"thumbnail":false,"dynamic":true,"dynamicEl":[{"src":src}],"controls":false,"counter":false,"download":false,"fullScreen":false});$(x).on("onCloseAfter.lg",function(){if($(this).data('lightGallery'))$(this).data('lightGallery').destroy(true);}).on("onAfterOpen.lg",function(){$(".lg-backdrop").css("opacity","0.4");});}
function pimg_getimgratio(r){if(r.squaresize)return parseFloat(r.imgratio);if(r.img&&(r.img.truewidth||r.img.retinawidth))return parseFloat(qsn_imgratio("image",r.img,r));if(r.customratio)return parseFloat(r.customratio);return parseFloat(qsn_imgratio(["auto","image","4","3","2","1.5","1.33","1","0.75","0.67","0.5","0.33","0.25"][r.imgratio]||"auto",r.img,r));}
function pimg_centerlegend(div){quomodoFonts.waitSpaceFonts(function(){var r=qsn_thenotes[div.id];if(r.legend&&r.legend.display=="center"){if(r.legend.title||r.legend.text){var imgh=(q_pagemode()=="web"||qsn_responsive_mod()=="xs")?$(".pimg_legend_center",div).height():($(".pimg_noteimage",div).width()/pimg_getimgratio(r));r.legend.topbck=(imgh-$(".pimg_legend",div).height())/2;$(".pimg_legend",div).css("top",r.legend.topbck+"px");}}});}
function pimg_device_resize(device,div){pimg_centerlegend(div);}
var poll2_message={"poll":"Sondage","results":"Résultats","votes":"Voir les choix","resultstitle":"Cliquez pour voir les résultats des votes","votestitle":"Cliquez pour revenir aux choix proposés","newnoteprompt":"Cliquez ici pour rédiger le message de ce sondage","delete":"Supprimer cette option","clicktovalidate":"Cliquez pour cocher ou décocher cette réponse","editmodeclickoption":"Pour participer, passez en mode membre ou visitez la page en mode visiteur. N'oubliez pas de publier d'abord la page si nécessaire !","editmodeshowresults":"Pour consulter les résultats, passez en mode membre ou visitez la page en mode visiteur. N'oubliez pas de publier d'abord la page si nécessaire !","choiceneedtovote":"Vous devez choisir avant de voter.","snname":"Note Sondage","plug":"Sondage_Réalisez un sondage avec choix multiples auprès de vos visiteurs.","desc":"(...)","fixedchoice":"%c choix possibles.","multiplechoice":"Plusieurs choix possibles.","simplechoice":"Un seul choix possible.","any":"(indifférent)","votedone":"Vous avez déjà participé à ce sondage le %date. Vous ne pouvez plus voter.","nooptions":"Vous devez au moins proposer un choix pour afficher la note.","displayresults":"Les visiteurs peuvent consulter les réponses.","public":"publique","private":"réservée aux membres","public-view":"publics","members":"réservés aux membres","admin":"réservés aux admins","knownmode":"qui fait quoi ?","unknownmode":"sondage anonyme","editaccess":"Participation","viewaccess":"Résultats","typepoll":"Fonctionnement","editvote":"Modifier mon vote","nbvotes":"Nombre de votes","knownpoll":"Qui fait quoi ?","unknownpoll":"Sondage anonyme.","name":"nom","choice":"réponse","title":"titre","type":"type","option":"Option","participants":"voteurs","total":"Total","editaccessprivate":"Pour répondre à ce sondage, vous devez vous connecter.","modify":"Modifier","notmodifyvote":"Vous n'avez pas modifié votre vote.","yourname":"Indiquez votre nom ou surnom","login_title":"Ce sondage est réservé aux membres de l'espace","login_prompt":"Si vous êtes membre du site, connectez-vous avec votre identifiant et votre mot de passe. Sinon inscrivez-vous pour devenir membre de ce site.","resultsfirst":"afficher d'abord les résultats","confirm_reset":"Ceci supprime définitivement toutes les données enregistrées dans le sondage. Merci de confirmer."};var poll2_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("poll2_msgs_fr_js_loaded");var poll2_json_template={"version":2,"text":"","header":{"display":"true","text":"","icon":"false"},"showsignature":"false","options":{},"multiplechoice":"true","editaccess":"public","viewaccess":"public","knownmode":"false"};function poll2_upgradejson(r){if((r.version)&&(r.version==poll2_json_template.version))return r;if(r.version<2)poll2_upgradejsontov2(r);r.version=poll2_json_template.version;return r;}
function poll2_upgradejsontov2(r){if(r.textstyles&&r.textstyles.center)r.center=(r.textstyles&&r.textstyles.center)||"false";var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function poll2_version(notekind){return{margin:1,rpd:1};}
function poll2_initforweb(id){var div=ge(id);var r=qsn_thenotes[id];$(".poll2_vote_done:eq(0)",div).hide();if(r.viewaccess!="public"){$(".poll2_resultsbtn:eq(0)",div).remove();$(".poll2_btntd:eq(0)",div).attr({"colspan":"2","align":"center"});}
if(!poll2_isold(id)){$(".poll2_an_option",div).mousedown(function(event){q_stopPropagation(event);}).unbind("click").on("click",function(){$(this).find('input[type="checkbox"]').trigger("click");}).find('input[type="checkbox"]').unbind("click").on("click",function(event){poll2_clickoption(this);event.stopPropagation();});$(div).customForm({"enableWrapper":true,"eventClass":{"out":"rpd-gbw2-border","over":"rpd-gbw2-border-over","checked":"rpd-funcolor"}});}else{$(".poll2_an_option",div).each(function(i,v){$(v).attr("class","poll2_option_off poll2_an_option rpd-list-item").hover(function(event){if(event.type=="mouseenter")$(this).find(".poll2_iconcheck").fadeIn(100);else if(event.type=="mouseleave"&&$(this).hasClass("poll2_option_off"))$(this).find(".poll2_iconcheck").fadeOut(100);}).click(function(){$(this).find(".poll2_iconcheck").fadeIn(100);if($(this).hasClass("poll2_option_on"))$(this).find(".poll2_iconcheck").fadeOut(100);poll2_clickoption(this);});});}}
function poll2_isold(id){var div=ge(id);return $(".cform",div).length==0;}
function poll2_clickoption(x){if(document.mainform.pagemode&&document.mainform.pagemode.value=="edit")return q_alert(poll2_message["editmodeclickoption"],{},true);var div=getContainer(x);var noteid=div.id;if(poll2_isold(noteid))return poll2_clickoption_old(x);var r=qsn_thenotes[noteid];var memberoptions=div.vote;if($(x).prop("checked")){if(r.multiplechoice=="true")return;if(r.multiplechoice=="false"||r.multiplechoice=="1"){$('.poll2_options input[type="checkbox"]',div).each(function(i,v){$(v).prop("checked",v==x);});}else if(r.multiplechoice>1){if($('.poll2_options input[type="checkbox"]:checked',div).length>r.multiplechoice)$(x).prop("checked",false);}}}
function poll2_clickoption_old(x){if(document.mainform.pagemode&&document.mainform.pagemode.value=="edit")return q_alert(poll2_message["editmodeclickoption"],{},true);var div=getContainer(x);var noteid=div.id;var r=qsn_thenotes[noteid];var memberoptions=div.vote;if($(x).hasClass("poll2_option_off")){if(r.multiplechoice=="true"){$(x).attr("class","poll2_option_on poll2_an_option rpd-list-item");}else if(r.multiplechoice=="false"||r.multiplechoice=="1"){$(x).parent().find("table").each(function(i,v){$(v).attr("class",(v==x)?"poll2_option_on poll2_an_option rpd-list-item":"poll2_option_off poll2_an_option rpd-list-item");});}else if(r.multiplechoice>1){if($(".poll2_option_on",div).length>=r.multiplechoice)return;$(x).attr("class","poll2_option_on poll2_an_option rpd-list-item");}}else $(x).attr("class","poll2_option_off poll2_an_option rpd-list-item");if(isie6()){var optionToCheck="";$(x).parent().find("table").each(function(i,v){if($(v).hasClass("poll2_option_on poll2_an_option"))optionToCheck=optionToCheck+" "+v.id;});poll2_xrenderoptions(div,qsn_thenotes[div.id],optionToCheck);}}
function poll2_xrenderoptions(div,r,optionToCheck){if(!r)r=qsn_thenotes[div.id];var options=poll2_sortoptionsbyid(r.options);if(qsn_currstate!="edit")$(".poll2_results:eq(0)",div).hide();$(".poll2_options:eq(0)",div).empty().show();for(var i=0;i<options.length;i++)xpoll2_appendoption(div,qsn_currstate,options[i][0],options[i][1],optionToCheck);}
function poll2_sortoptionsbyid(opt){var options=[];for(var o in opt){var optionid=o.match(/(\d+)$/)[1];options[options.length]=[optionid,opt[o]];}
return options.sort(function(a,b){return(a[0]-b[0]);});}
function poll2_hideshowresults(x){var div=getContainer(x);var r=qsn_thenotes[div.id];var targetmode=$(x).attr("targetmode")||"results";if(targetmode=="results"){poll2_renderresults(div);$(".poll2_btntd:eq(0)",div).hide();$(x).attr("targetmode","votes");targetmode="votes";}else{if(window.web_js_loaded){$(".poll2_results:eq(0)",div).hide();$(".poll2_options:eq(0)",div).show();}else poll2_renderoptions(div);$(".poll2_btntd:eq(0)",div).show();$(x).attr("targetmode","results");targetmode="results";if(!poll2_isold(div.id))$(div).customForm({"enableWrapper":true,"eventClass":{"out":"rpd-gbw2-border","over":"rpd-gbw2-border-over","checked":"rpd-funcolor"}});}
$(x).html(poll2_message[targetmode]).attr("title",poll2_message[targetmode+"title"]);qsn_jcssmanagerapply(div,r);}
function poll2_fixvote(x){if(x.vote&&x.vote.options){var options={};for(var k in x.vote.options){if(!/^\d+$/.test(k)&&!/-\d+$/.test(k))continue;var optionid=k.match(/(\d+)$/)[1];options[optionid]=x.vote.options[k];}
x.vote.options=options;}
if(x.vote&&x.vote.votes){for(var i=0;i<x.vote.votes.length;i++){var responses=x.vote.votes[i].vote.split("-");var tmp=[];for(var j=0;j<responses.length;j++){if(/^\d+$/.test(responses[j]))tmp.push(responses[j]);}
x.vote.votes[i].vote=tmp.join("-");}}
return x;}
function poll2_showknownmoderesults(x){var div=getContainer(x);var r=qsn_thenotes[div.id];q_ajaxobjgetppty("poll",currsvcid+"/"+div.id,"vote",function(x){x=poll2_fixvote(x);var path="/services/poll2/dialogs/knownmoderesults/index_"+q_lang+".html";var options={"json":{"question":r.text,"vote":x.vote,"array":poll2_sortoptionsbyid(r.options)},"callback":function(){}};quomodo.fsm.loadDialog(path,options);});}
function poll2_renderresults(div,r){if(!r)r=qsn_thenotes[div.id];var n=poll2_sortoptionsbyid(r.options).length;$(".poll2_options:eq(0)",div).hide();$(".poll2_wait:eq(0)",div).css("height",Math.max(30*n,30)+"px").show();q_ajaxobjgetppty("poll",currsvcid+"/"+div.id,"vote",function(x){if(!x)return false;x=poll2_fixvote(x);var options=poll2_sortoptionsbyid(r.options);$(".poll2_wait:eq(0)",div).hide();var res=$(".poll2_results:eq(0)",div).empty().show();var t=$('<table cellspacing="0" cellpadding="0" border="0" width="100%" class="rpd-list"></table>').appendTo(res);for(var i=0;i<options.length;i++){$('<tr></tr>').appendTo(t).append($('<td valign="middle"></td>').append(poll2_appendresult(x.vote,div.id,options[i][0])));}
qsn_jcssmanagerapply(div,r);$(".poll2_progressbarin",t).each(function(i,v){var $e=$(v);var pourcent=$e.attr("pourcent");if(!pourcent||pourcent=="undefined")pourcent=0;$e.animate({width:pourcent+"%"},1500*pourcent/100);});});}
function poll2_appendresult(x,noteid,voteoption){var pourcent=((x.votecount>0)&&(x.options[voteoption]))?Math.round((x.options[voteoption]/x.votecount)*100):0;var labeloption;for(var k in qsn_thenotes[noteid].options){if(!/^\d+$/.test(k)&&!/-\d+$/.test(k))continue;var optionid=k.match(/(\d+)$/)[1];if(optionid==voteoption){labeloption=qsn_thenotes[noteid].options[k];}}
var html='<div class="poll2_result rpd-list-item">';html+='<div class="poll2_scoretext2 rpd-p1">'+labeloption+' <div style="position:absolute; right:0;top:0"><span class="rpd-p3">'+((x.options&&x.options[voteoption])?x.options[voteoption]:0)+"/"+(x.votecount||0)+'</span> <span class="poll2_bullet rpd-p2">•</span> <span class="rpd-p2"> '+pourcent+"%</span></div></div>";html+='<div class="poll2_progressbar rpd-pbg-gbw2"><div class="poll2_progressbarin rpd-pbg-funcolor" pourcent="'+pourcent+'" style="width : 0%;"></div></div>';html+='</div>';return html;}
function poll2_vote(x){if(!document.mainform)return;if(document.mainform.pagemode&&document.mainform.pagemode.value=="edit")return q_alert(poll2_message["editmodeclickoption"],{},true);var div=getContainer(x);var id=div.id;if(q_pagemode()=="web"){var cookieid=(document.mainform.q_space.value.substring(0,8))+"-"+/#([0-9]*)#/.exec(currsvcid)[1]+id;var cook=getcookie(cookieid);if(cook){var thedate=new Date();thedate.setTime(cook);function obsoleteCookDate(){if(!qsn_thenotes[id].razdate)return false;var tmpdate=q_isot2date(qsn_thenotes[id].razdate);return thedate<tmpdate;}
if(!obsoleteCookDate()){thedate=twodigs(thedate.getDate())+"."+twodigs(1+thedate.getMonth())+"."+thedate.getFullYear();return q_alert(poll2_message["votedone"].replace(/%date/,thedate),{},true);}}}
var t=gebcn(id,"poll2_options");var r=qsn_thenotes[id];if(q_pagemode()=="web"&&r.editaccess=="private"){var path="/services/dialogs/q_confirm-flatdesign/index_"+q_lang+".html";var options={"json":{"msg":poll2_message["login_prompt"],"title":poll2_message["login_title"]},"callback":function(x){if(!x)return;club_login_block();}};return quomodo.fsm.loadDialog(path,options);}
if(!poll2_isold(id)){var memberoptions=[];$('.poll2_options input[type="checkbox"]:checked',div).each(function(){memberoptions.push($(this).attr("optionid")||this.id);});if(memberoptions.length==0&&!div.hasvoted)return q_alert(poll2_message["choiceneedtovote"],{},true);memberoptions=memberoptions.join("-");}else{var radio=getElementsByClassName(t,"poll2_an_option");var radio_on=getElementsByClassName(t,"poll2_option_on");var n=radio_on.length;if(n==0&&!div.hasvoted)return q_alert(poll2_message["choiceneedtovote"],{},true);var memberoptions="";for(var i=0;i<n;i++)memberoptions+=((i==0)?"":"-")+radio_on[i].id;}
if(div.vote&&div.vote==memberoptions)return q_alert(poll2_message["notmodifyvote"],{},true);function submitVote(name){setcookie(cookieid,new Date().getTime(),30);var json={};div.vote=memberoptions;if(name)json["vote?name="+encodeURIComponent(name)]=memberoptions;else if(q_pagemode()!="web")json["vote?mid="+memberid]=memberoptions;else json["vote"]=memberoptions;q_ajaxobjsetppty("poll",currsvcid+"/"+id,json,function(x){$(".poll2_votebtn:eq(0)",div).html(poll2_message["modify"]);});};var path="/services/dialogs/q_prompt-flatdesign/index_"+q_lang+".html";var options={"json":{"msg":poll2_message["yourname"]},"callback":function(x){if(!x)return;submitVote(x.value);}};if(r.knownmode=="true"&&(q_pagemode()=="web"))quomodo.fsm.loadDialog(path,options);else submitVote();}
var pronos2_message={"podium":"Podium","ranking":"Classement","ranking_week":" de la semaine","ranking_lastweek":" de la semaine dernière","ranking_month":" du mois","ranking_all":" général","matchToday":"Aujourd'hui","selectScoreTeam":"Pronostiquer le score de ","selectWinnerTeam":"Pronostiquer la victoire de ","draw":"Pronostiquer le match nul","notedescprompt":"Cliquez ici pour annoncer votre concours de pronostics","gamerulesprompt":"Cliquez ici pour ajouter une règle du jeu (par exemple, sur l'attribution des lots)","turningDay":"Jour de bascule","mon":"lundi","tue":"mardi","wed":"mercredi","thu":"jeudi","fri":"vendredi","sat":"samedi","sun":"dimanche","qsn_recipNotif":"Destinataire des notifications","currently":"Actuellement : ","rulesTitle":"Règles du jeu","login_title":"Participation réservée aux membres","login_prompt":"Pour jouer, connectez-vous avec vos identifiants. Si vous n'êtes pas encore membre du site, demandez à être inscrit.","isPronoSaved":"<div align=\"center\">Merci pour votre pronostic !<br/>Que le meilleur gagne !</div>","isPronoErased":"Pronostic supprimé","close":"Fermer","lastPerfs":"Dernières performances","noResultForThisTeam":"Aucun résultat enregistré pour cette équipe","noMatchThisWeek":"Pas de match à pronostiquer cette semaine","last5matchs":"5 derniers matchs : ","allTheMatches":"Tous les matchs : ","pronosTrends":"Tendances des pronostics","pronoNotPossible":"Pronostic clôturé.","pronoNotPossible-alert":"Vous ne pouvez pas faire de pronostic en mode admin.","emptyRanking":"Classement vide","defaultRules":"<div class=\"pronos_rules_title\">Ce qu'il faut savoir pour participer aux Pronostics</div> • La participation est réservée aux membres du site. En acceptant de participer à ce concours de pronostics, vous acceptez qu'une miniature de votre photo puisse être affichée sur le podium ainsi que dans les différents classements. On parie sur les rencontres d'une ou plusieurs équipes. L'organisateur du concours décide qu'on pourra parier soit sur le résultat des matchs (qui va gagner ?), soit sur le score (combien chacun va-t-il marquer ?). <br/>• On a chaque semaine jusqu'à la veille de chaque rencontre pour parier dessus. <br/>• On peut être nommé gagnant de la semaine, du mois, ou au classement général.<br/><br/><div class=\"pronos_rules_title\">Le calcul des points</div> • En mode \"pari sur le résultat\", les gagnants remportent 20 points, les autres 0. <br/>• En mode \"pari sur le score\", on calcule d'abord les points qu'on a gagnés pour le bon résultat + pour chacun des deux 1/2 scores + pour l'écart de score, puis on fait la somme de ces points. <br/>• le bon résultat ( 1 ou N ou 2 ) donne 8 points. <br/>• chaque 1/2 score, ainsi que l'écart de points, gagne 4 points pour un pronostic exact, ou 2 points pour un pronostic à 10% près, ou encore 1 point pour un pronostic à 20% près. <br/>• le pourcentage d'erreur sur l'écart de points est évalué par rapport à la moyenne des deux 1/2 scores réels. <br/><br/><a title=\"Exemples de Pari sur le score\" class=\"\" href=\"#\" onclick=\"pronos_rules_showExample(); return false;\">Exemples de Pari sur le score</a>","exempleRulesTitle":"Exemples de Pari sur le score","exampleRules":"<div class=\"pronos_rules_title\">Pronostic de 3 - 2 / résultat de 5 - 2</div>Le résultat est le bon : 8 points.<br/>Le pronostic \"3\" pour le 1/2 score \"5\" ne gagne rien car 3 est trop éloigné de 5 (-40%).<br/>Le pronostic \"2\" pour le 1/2 score \"2\" gagne les 4 points.<br/>L'écart de points pronostiqué est de 1. L'écart réel est de 3, soit une erreur de 2. La moyenne des 1/2 scores est ( 5 + 2 ) / 2 = 3,5 dont 20% ne font que 0,7 donc l'écart ne gagne rien.<br/>Total : 12<br/><br/><div class=\"pronos_rules_title\">Pronostic de 50 - 66 / résultat de 50 - 30</div>Le résultat n'est pas bon : 0 point de résultat.<br/>Le pronostic \"50\" est exact : il gagne 4 points.<br/>Le pronostic \"66\" est faux de largement plus que 20% par rapport à \"30\" : il gagne 0 point.<br/>L'écart de points pronostiqué est de -16, pour un écart réel de 20, soit une erreur de 36. A comparer à la moyenne des 1/2 scores qui est de ( 50 + 30 ) / 2 soit 40 points. L'erreur de 36, rapportée à 40, est de 90% : là encore, erreur beaucoup trop élevée, aucun point remporté.<br/>Total : 4","customRulesTitle":"<div class=\"pronos_rules_title\">Règles complémentaires du club</div>","razcounter_confirm":"Voulez-vous réinitialiser les pronostics ?","play":"jouer","trends":"Tendances"};var pronos2_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("pronos2_msgs_fr_js_loaded");var pronos2_json_template={version:2,center:"false",text:"",turningDay:"mon",customrules:"",eventstype:[{filter:{},kind:"match"}],typePronos:"score",textheight:350,header:{display:"true",text:"",icon:"false"},common:{width:600}};function pronos2_upgradejson(r){if((r.version)&&(r.version==pronos2_json_template.version))return r;if(r.version<2)pronos2_upgradejsontov2(r);r.version=pronos2_json_template.version;return r;}
function pronos2_upgradejsontov2(r){if(r.textstyles&&r.textstyles.center)r.center=(r.textstyles&&r.textstyles.center)||"false";var rpd=RPD.qsnUpgrade.common(r);rpd.h5={"bold":RPD.qsnUpgrade.headerProperty("bold",r)=="true","italic":(r.textstyles.italic=="true")};r.text=r.intro;r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);delete r.intro;return r;}
function pronos2_version(notekind){return{margin:1,rpd:1};}
function pronos2_initforweb(id){var r=qsn_thenotes[id];var div=ge(id);$("img.pronos2_logoMembre",div).attr("width","28px").attr("height","28px");var theTurningDay=$.inArray(r.turningDay,pronos2_week_arr);if(window.snchoosersample||window.demosample){if(!isremoved(div)){make_calendarsample("match",function(x){div.calendar=x;pronos2_rendermatchs(id);});}
return;}
$("#templates_stuff").append('<div id="pronos2_templateweb"></div>');$("#pronos2_templateweb").load("/services/pronos2/pronos2_"+q_lang+".html",function(response,status,xhr){if(status=="success"){var html=$('<div></div>').append($("#pronos2_match_template")).html();html=html.replace(/[\r\n\t]/g,"");$("#pronos2_templateweb").html(html);q_events_request(function(x){if(!isremoved(div)){div.calendar=x;pronos2_rendermatchs(id);}},{events:[$.extend({},r.eventstype[0],{date:"w-"+theTurningDay})]});}});}
function pronos2_getheadericon(noteid){var r=qsn_thenotes[noteid];if(r.header.icon=="false")return "";return "/services/pronos2/images/pronos48.png";}
var color_grey="#929292";var pronos2_week_arr=["mon","tue","wed","thu","fri","sat","sun"];var pronos2_rankingTitle_arr=[];var pronos2_widthScoreMax=28;var pronos2_inTextInput=false;var pronos2_rankingPeriod_arr=["week","month","all"];var pronos2_memberGroup_nb=5;var pronos2_previousScoreSaved="";var pronos2_leftcol_description=[{what:"bandeau",tabname:"tabheader",visible:false,elems:[{handler:"qsn_addheaderhideshow"},{handler:"qsn_addheadericons2",params:{className:"addheadericons2",title:"addheadericons2"}}]},{what:"textstyles",tabname:"tabtext",visible:false,elems:[{handler:"qsn_addcenterdesc",params:{jsonpath:"center"}}]},{what:"options",tabname:"taboptions",visible:false,elems:[{handler:"qsn_addselect",params:{title:"turningDay",jsonpath:"turningDay",selects:pronos2_week_arr}}]}];var pronos2_members;var pronos2_members_queue=[];var pronos2_members_loading=false;function pronos2_loadmembers(callback){if(!pronos2_members){pronos2_members_queue.push(callback);if(pronos2_members_loading)return;pronos2_members_loading=true;function done(x){pronos2_members=x;for(var i=0;i<pronos2_members_queue.length;i++)pronos2_members_queue[i]();pronos2_members_queue=[];pronos2_members_loading=false;}
if(q_pagemode()!="web")q_ajaxgetppty("members?svcid=all&svcmode=pict",function(x){done(x["members?svcid=all&svcmode=pict"]);});else done((spacexml&&spacexml.publicmembers)||{});}else callback();}
var pronos2_rankings={};function pronos2_renderhtml(noteid){var div=ge(noteid);qsn_setresponsive_note(div);var r=qsn_thenotes[noteid];qsn_container_renderhtml(div,r);$(".pronos2_desc",div).text(r.text);if(qsn_currstate=="edit"){var i;for(i=0;i<3;i++)$(".pronos2_typePronos",div).eq(i).next("label").attr("for",$(".pronos2_typePronos",div).eq(i).attr("id"));$(".pronos2_gamerules",div).val(r.customrules);$(".pronos2_typePronos",qsn_edittarget).filter("[value="+r.typePronos+" ]").prop("checked",true);qsn_blurdefault(gebcn(div,"pronos2_desc"),"notedescprompt");qsn_blurdefault(gebcn(div,"pronos2_gamerules"),"gamerulesprompt");}else{$(".pronos2_wait",div).show();if(r.text==""){$(".pronos2_desc",div).hide();}
var theTurningDay=$.inArray(r.turningDay,pronos2_week_arr);q_events_request(function(x){if(!isremoved(div)){div.calendar=x;pronos2_rendermatchs(noteid);}},{events:[$.extend({},r.eventstype[0],{date:"w-"+theTurningDay})]});}
qsn_setcenterdesc(noteid);if(r.text)$(".pronos2_menutitle",div).removeClass("rpd-opt").addClass("rpd-ipt");else $(".pronos2_menutitle",div).removeClass("rpd-ipt").addClass("rpd-opt");qsn_jcssmanagerapply(div,r);}
function pronos2_jcssmanagerapply(div,r){qsn_jcssmanagerapply(div,r,true);if(qsn_currstate!="edit")$(".qlubcontainer_content",div).css("padding","0");$(".pronos2_table_podium",div).css("background","#ffffff");$(".pronos2_member_name",div).css("color","#000");$(".pronos2_dateAlarm",div).css("color",quomodoColors.richColor("gbw2-"+RPD.pbgcolor(r.rpd)+"@bw").c);}
function pronos2_device_resize(device,div){var w=qsn_responsive_width(div.id,device);q_changedwidth(div,w);pronos2_fitmod(div.id,w);}
function pronos2_fitmod(noteid,notew){var div=ge(noteid);if($(".pronos2_xs_elem",div).length>0){$(".pronos2_xs_elem",div).parent().find("> td").show();$(".pronos2_xs_elem",div).remove();$(".pronos2_tendances_btn",div).parent().show();$(".pronos2_td_date",div).parent().show();$(".pronos2_td_thescores, .pronos2_team_name_td",div).css({"padding-top":"","padding-bottom":""});}
$(".pronos2_notebodyContent",div).css("min-width","");if(notew<$(".pronos2_notebodyContent",div).width()||qsn_isTouchDevice()){$(".pronos2_notebodyContent",div).css("min-width","initial");$(".pronos2_team_name_td",div).each(function(){if(this.hyphenateDone)return;var $this=$(this);$this.text($this.text().replace(/([\/])/g,"­$1­").replace(/[.]([^ ])/g,". $1"));this.hyphenateDone=true;});$(".pronos2_table_match",div).each(function(){var state=$(".pronos2_state",this).attr("q_state");var betdone=$(".pronos2_state",this).attr("betdone");var thebet=$(".pronos2_state",this).attr("currentbet");if(betdone=="true"){if(/-bet-score$/.test(state)){if(/^playable/.test(state)){$(".pronos2_state tr:eq(0) td",this).hide();$(".pronos2_state tr:eq(0)",this).append('<td onclick="pronos2_xsbet( this );" class="pronos2_xs_elem"><span class="rpd-funcolor">'+(thebet?thebet.split(" ")[0]:'')+'&nbsp;</span><span  class="rpd-fun-color">-</span><span class="rpd-fun-color">&nbsp;'+(thebet?thebet.split(" ")[1]:'')+'</span></td>');}else{$(".pronos2_state tr:eq(1) td",this).hide();if(/^result-/.test(state))$(".pronos2_state tr:eq(1)",this).append('<td class="pronos2_xs_elem" colspan="3"><span  style="font-size:14px; font-style:italic">'+(thebet?thebet.split(" ")[0]:'')+'&nbsp;</span><span  style="font-size:14px; font-style:italic">-</span><span  style="font-size:14px; font-style:italic">&nbsp;'+(thebet?thebet.split(" ")[1]:'')+'</span></td>');else $(".pronos2_state tr:eq(1)",this).append('<td class="pronos2_xs_elem" colspan="3"><span>'+(thebet?thebet.split(" ")[0]:'')+'&nbsp;</span><span>-</span><span>&nbsp;'+(thebet?thebet.split(" ")[1]:'')+'</span></td>');}}else if(/-bet-1N2$/.test(state)){if(/^playable/.test(state)){$(".pronos2_state tr:eq(0) td",this).hide();$(".pronos2_state tr:eq(0)",this).append('<td onclick="pronos2_xsbet( this );" class="pronos2_xs_elem" colspan="3"><span class="'+(thebet=="1"?"rpd-funcolor":"")+'">1&nbsp;</span><span class="'+(thebet=="N"?"rpd-funcolor":"")+'">N&nbsp;</span><span class="'+(thebet=="2"?"rpd-funcolor":"")+'">2</span></td>');}else{$(".pronos2_state tr:eq(1) td",this).hide();if(/^result-/.test(state))$(".pronos2_state tr:eq(1)",this).append('<td class="pronos2_xs_elem" colspan="3"><span class="'+(thebet=="1"?"rpd-funcolor":"")+'" style="font-size:14px; font-style:italic">1&nbsp;</span><span class="'+(thebet=="N"?"rpd-funcolor":"")+'" style="font-size:14px; font-style:italic">N&nbsp;</span><span class="'+(thebet=="2"?"rpd-funcolor":"")+'" style="font-size:14px; font-style:italic">2</span></td>');else $(".pronos2_state tr:eq(1)",this).append('<td class="pronos2_xs_elem" colspan="3"><span class="'+(thebet=="1"?"rpd-funcolor":"")+'">1&nbsp;</span><span class="'+(thebet=="N"?"rpd-funcolor":"")+'">N&nbsp;</span><span class="'+(thebet=="2"?"rpd-funcolor":"")+'">2</span></td>');}}else if(/-bet-12$/.test(state)){if(/^playable/.test(state)){$(".pronos2_state tr:eq(0) td",this).hide();$(".pronos2_state tr:eq(0)",this).append('<td onclick="pronos2_xsbet( this );" class="pronos2_xs_elem" colspan="3"><span class="'+(thebet=="1"?"rpd-funcolor":"")+'">1&nbsp;</span><span class="'+(thebet=="2"?"rpd-funcolor":"")+'">2</span></td>');}else{$(".pronos2_state tr:eq(1) td",this).hide();if(/^result-/.test(state))$(".pronos2_state tr:eq(1)",this).append('<td class="pronos2_xs_elem" colspan="3"><span class="'+(thebet=="1"?"rpd-funcolor":"")+'" style="font-size:14px; font-style:italic">1&nbsp;</span><span class="'+(thebet=="2"?"rpd-funcolor":"")+'" style="font-size:14px; font-style:italic">2</span></td>');else $(".pronos2_state tr:eq(1)",this).append('<td class="pronos2_xs_elem" colspan="3"><span class="'+(thebet=="1"?"rpd-funcolor":"")+'">1&nbsp;</span><span class="'+(thebet=="2"?"rpd-funcolor":"")+'">2</span></td>');}}}else if(/^playable-bet/.test(state)){$(".pronos2_state tr:eq(0) td",this).hide();$(".pronos2_state tr:eq(0)",this).append('<td onclick="pronos2_xsbet( this );" class="pronos2_xs_elem pronos2_xsplay rpd-funcolor">'+pronos2_message["play"]+'</td>');}
$(".pronos2_tendances_btn",this).parent().hide();$(".pronos2_td_date",this).parent().hide();$(this).prepend('<tr class="pronos2_xs_elem"><td class="pronos2_td_date rpd-opl" colspan="2" style="padding-top:8px; padding-bottom:10px; text-align:left">'+$(".pronos2_td_date",this).html()+'</td><td class="rpd-gbw pronos2_xs_trends rpd-opr" style="padding-top:8px; padding-bottom:10px; text-align:right"><span style="vertical-align:middle; font-size:12px" class="rpd-action">'+pronos2_message["trends"]+'</span></td></tr>');$(".pronos2_xs_elem .pronos2_dateMatch:not(.pronos2_dateAlarm)",this).css({"padding":"0","line-height":"normal"});$(this).append('<tr class="pronos2_xs_elem"><td colspan="3" class="rpd-opl rpd-opr"><hr/></td></tr>');$(".pronos2_td_thescores",this).css("padding-top","10px");$(".pronos2_team_name_td",this).css("padding-bottom","8px");});$(".pronos2_xs_trends",div).unbind("click").on("click",function(){var src="/services/pronos2/dialogs/tendance-stats/index_"+q_lang+".html";var options={json:{svcid:qsn_svcid(noteid),noteid:noteid,eventid:$(this).parents(".pronos2_table_match:eq(0)").find(".pronos2_state").attr("eventid"),teamid:$(this).parents(".pronos2_table_match:eq(0)").find(".pronos2_state").attr("localteamid")},scripts:[],styles:[],callback:function(){}};quomodo.fsm.loadDialog(src,options);});}}
function pronos2_xsbet(elem){if(q_pagemode()=="web"){var path="/services/dialogs/q_confirm-flatdesign/index_"+q_lang+".html";var options={"json":{"msg":pronos2_message["login_prompt"],"title":pronos2_message["login_title"]},"callback":function(x){if(!x)return;club_login_block();}};quomodo.fsm.loadDialog(path,options);return;}
var elem=$(elem).parents(".pronos2_state").get(0);var path="/services/mobile/dialogs/"+$(elem).attr("typepronos")+"/index_"+q_lang+".html";var opt={"json":{"homename":$(elem).attr("hometeam_name"),"visitorname":$(elem).attr("visitorteam_name"),"bet":$(elem).attr("currentbet")},"callback":function(x){if(!x)return;q_ajaxobjsetppty("pronos","prono?id="+encodeURIComponent($(elem).attr("svcid")+"/"+$(elem).attr("noteid"))+
"&mid="+memberid+
"&eid="+$(elem).attr("eventid"),{"kind":$(elem).attr("typepronos")=="score"?"s":$(elem).attr("typepronos"),"prono":x},function(){$(elem).attr("currentbet",x).attr("betdone",true);pronos2_fitmod($(elem).attr("noteid"),qsn_responsive_width($(elem).attr("noteid")));});}};quomodo.fsm.loadDialog(path,opt);}
function pronos2_setResizable(div){div.toresize=function(){var x=$(".pronos2_podium_bg_container",div).get();x=x.concat(qsn_container_toresize(this));return x;};$(".pronos2_podium_bg_container",div).each(function(){this.widthrule=function(w){return Math.ceil((w)/3);};});}
function pronos2_setPodium(noteid,theRanking,theRankingPeriodNumber){var div=ge(noteid);noteid=div.id;var r=qsn_thenotes[noteid];pronos2_rankingTitle_arr=[pronos2_message["podium"]+pronos2_message["ranking_week"],pronos2_message["podium"]+pronos2_message["ranking_month"],pronos2_message["podium"]+pronos2_message["ranking_all"]];var theRankingPeriod=pronos2_rankingPeriod_arr[theRankingPeriodNumber];pronos2_rankingTitle_arr[0]=pronos2_message["podium"]+pronos2_message["ranking_lastweek"];$(".pronos2_podium_menutitle",div).text(pronos2_rankingTitle_arr[theRankingPeriodNumber]);if(theRanking&&theRanking[theRankingPeriod]){var i;for(i=0;i<3;i++){var theMemberInPodium=theRanking[theRankingPeriod][0][i];var thePosRanking=parseInt(i+1);if(pronos2_members[theMemberInPodium]!=undefined){if(pronos2_members[theMemberInPodium].pict!=""&&pronos2_members[theMemberInPodium].pict!=undefined){$(".pronos2_logoMembre"+thePosRanking,div).html('<img src="'+q_fsbaseurl()+pronos2_members[theMemberInPodium].pict+'" />');}else{$(".pronos2_logoMembre"+thePosRanking,div).html('<span class="font-q-sn"></span>');}
$(".pronos2_memberNamePos"+thePosRanking,div).text(pronos2_getMemberName(theMemberInPodium)).attr("title",pronos2_getMemberName(theMemberInPodium));}else{$(".pronos2_logoMembre"+thePosRanking,div).html('<span class="font-q-sn"></span>');$(".pronos2_memberNamePos"+thePosRanking,div).text("");}}}
qsn_jcssmanagerapply(div,qsn_thenotes[noteid]);}
function pronos2_arrowUp_click(noteid,columnid){var div=ge(noteid);$(div).data("startingRankingMemberPosInCol")[columnid]-=5;$(".pronos2_popup_rankings"+columnid,q_fsm_currentblock()).html(pronos2_setColumnRankings(columnid,div));qsn_jcssmanagerapply(div,qsn_thenotes[noteid]);}
function pronos2_arrowDown_click(noteid,columnid){var div=ge(noteid);$(div).data("startingRankingMemberPosInCol")[columnid]+=5;$(".pronos2_popup_rankings"+columnid,q_fsm_currentblock()).html(pronos2_setColumnRankings(columnid,div));qsn_jcssmanagerapply(div,qsn_thenotes[noteid]);}
function pronos2_selectevents(){var div=qsn_edittarget;var r=qsn_thenotes[div.id];var path="/scripts/q_event_select_dialog/dialogs/match/dialogs/localteam/index_"+q_lang+".html";var options={"json":{"localteam":(r.eventstype[0].filter.localteam?r.eventstype[0].filter.localteam:[])},"callback":function(x){if(!x)return;if(x.localteam&&x.localteam[0]=="-1")x={};r.eventstype=[{"kind":"match","filter":x}];}};quomodo.fsm.loadDialog(path,options);}
function pronos2_get_ranking_request(turningDay){var pronos2_todayDate=new Date();var pronos2_todayDay=pronos2_todayDate.getDate();var pronos2_todayWeekDay=(pronos2_todayDate.getDay()+6)%7;var pronos2_lastWeekLastDay_int=parseInt(pronos2_todayDay)-(((pronos2_todayWeekDay-$.inArray(turningDay,pronos2_week_arr)+7)%7)+1);var pronos2_lastWeekLastDayDate=new Date();pronos2_lastWeekLastDayDate.setDate(pronos2_lastWeekLastDay_int);return "scoreboard?weekday="+turningDay+"&date="+$.datepicker.formatDate("yy-mm-dd",pronos2_lastWeekLastDayDate);}
function pronos2_rendermatchs(noteid){var div=ge(noteid);noteid=div.id;var r=qsn_thenotes[noteid];$(div).data("pronos2_rankingTitle_num",0);var pronos2_ranking_request=pronos2_get_ranking_request(r.turningDay);q_ajaxobjgetppty("pronos",qsn_svcid(noteid)+"/"+noteid,pronos2_ranking_request,function(x){pronos2_rankings[noteid]=x[pronos2_ranking_request]||{};pronos2_loadmembers(function(){pronos2_setPodium(noteid,pronos2_rankings[noteid],0);});});if(qsn_currstate!="edit"){if(q_pagemode()=="view"){q_ajaxobjgetppty("pronos",qsn_svcid(noteid)+"/"+noteid,"whole?mid="+memberid,function(x){var theBet=x["whole?mid="+memberid];$(div).data("theBet",theBet);pronos2_rendermatchs_view(div,r,theBet);});}else{pronos2_rendermatchs_view(div,r);}}}
function pronos2_logourl(logo,mode){if(!logo)return q_events_defaultlogo(mode);return(typeof logo=="object")?(q_fsbaseurl()+logo.logourl.formats.square33):logo;}
function pronos2_getstate(date){var pronos2_todayDate=new Date();var pronos2_todayDay=pronos2_todayDate.getDate();var theMatchDate=q_events_parseDate(date,false);var pronos2_tomorrowDay_int=parseInt(pronos2_todayDay)+1;var pronos2_tomorrowDate=new Date();pronos2_tomorrowDate.setDate(pronos2_tomorrowDay_int);var matchToday=false,matchDone=false,matchTomorrow=false;if(theMatchDate.getFullYear()==pronos2_todayDate.getFullYear()&&theMatchDate.getMonth()==pronos2_todayDate.getMonth()&&theMatchDate.getDate()==pronos2_todayDay){matchToday=true;matchDone=true;}else if(theMatchDate.getFullYear()==pronos2_tomorrowDate.getFullYear()&&theMatchDate.getMonth()==pronos2_tomorrowDate.getMonth()&&theMatchDate.getDate()==pronos2_tomorrowDate.getDate()){matchTomorrow=true;}else{if(theMatchDate<pronos2_todayDate)matchDone=true;}
var o={"matchdone":matchDone,"matchtoday":matchToday,"matchtomorrow":matchTomorrow};return o;}
function pronos2_betSave(elem){if(qsn_currstate!="edit"&&q_pagemode()=="view"){var pronos2_event_id=$(elem).parents(".pronos2_state:eq(0)").attr("eventid");var noteid=$(elem).parents(".pronos2_state:eq(0)").attr("noteid");var prono_previousScore=$(elem).parents(".pronos2_state:eq(0)").attr("previous");var prono_homeScore=String(parseInt($(elem).parents(".pronos2_state").find(".pronos2_score_home input").val(),10));var prono_visitorScore=String(parseInt($(elem).parents(".pronos2_state").find(".pronos2_score_visitor input").val(),10));if(prono_homeScore=="NaN")prono_homeScore="";if(prono_visitorScore=="NaN")prono_visitorScore="";var isPronoSaved=false;var prono_Score;if(prono_homeScore==""&&prono_visitorScore==""){prono_Score="";isPronoSaved=false;}else{prono_Score=prono_homeScore+" "+prono_visitorScore;isPronoSaved=true;}
if((prono_homeScore!=""&&prono_visitorScore!="")||(prono_homeScore==""&&prono_visitorScore=="")){if(prono_Score!=prono_previousScore){q_ajaxobjsetppty("pronos","prono?id="+encodeURIComponent(qsn_svcid(noteid)+"/"+noteid)+"&mid="+memberid+"&eid="+pronos2_event_id,{"kind":"s","prono":prono_Score},function(){q_bubble(isPronoSaved?pronos2_message["isPronoSaved"]:pronos2_message["isPronoErased"]);});}}}}
function pronos2_betSave2(elem,theProno,kind){if(qsn_currstate!="edit"&&q_pagemode()=="view"){var isPronoSaved=!$(elem).hasClass("pronos2_betselected");var pronos2_event_id=$(elem).parents(".pronos2_state:eq(0)").attr("eventid");var noteid=$(elem).parents(".pronos2_state:eq(0)").attr("noteid");$(elem).parents(".pronos2_state").find("span").removeClass("pronos2_betselected");if(isPronoSaved)$(elem).addClass("pronos2_betselected");q_ajaxobjsetppty("pronos","prono?id="+encodeURIComponent(qsn_svcid(noteid)+"/"+noteid)+"&mid="+memberid+"&eid="+pronos2_event_id,{"kind":kind,"prono":theProno},function(){q_bubble((isPronoSaved?pronos2_message["isPronoSaved"]:pronos2_message["isPronoErased"]),{delay:1500});});}else if(qsn_currstate!="edit"&&q_pagemode()=="web"){}}
function pronos2_rendermatchs_view(div,r,memberBets){var pronos_template=$.trim($("#pronos2_match_template").html());var noteid=div.id;var selmatchs=div.calendar.events;memberBets=memberBets||[];var theBets={};for(var i=0;i<memberBets.length;i++){theBets[memberBets[i].e]=memberBets[i];}
var betType=r.typePronos;var html="";var listdiv=$(".pronos2_matchslist",div).empty();var turningDay=$.inArray(r.turningDay,pronos2_week_arr);var pronos2_todayDate=new Date();var pronos2_todayDay=pronos2_todayDate.getDate();var pronos2_tomorrowDay_int=parseInt(pronos2_todayDay)+1;var pronos2_tomorrowDate=new Date();pronos2_tomorrowDate.setDate(pronos2_tomorrowDay_int);var nbMatchs=selmatchs.length;if(nbMatchs==0){$(".pronos2_matchslist",div).append('<div class="pronos2_nomatch">'+pronos2_message["noMatchThisWeek"]+'</div>');}else{var i;for(i=0;i<nbMatchs;i++){var onedhtml=$($.parseHTML(pronos_template));var index=i;var hometeam=selmatchs[i].hometeam();var visitorteam=selmatchs[i].visitorteam();var betdone=false;var state=pronos2_getstate(selmatchs[i].date);var matchdone=state.matchdone?"closed":"playable";var scoreknown=(selmatchs[i].homescore&&selmatchs[i].homescore!=""&&selmatchs[i].vsscore&&selmatchs[i].vsscore!="");var matchstatus=scoreknown?"result":matchdone;var theMatchDate=q_events_parseDate(selmatchs[i]["date"]);var matchTomorrow=(theMatchDate.getFullYear()==pronos2_tomorrowDate.getFullYear()&&theMatchDate.getMonth()==pronos2_tomorrowDate.getMonth()&&theMatchDate.getDate()==pronos2_tomorrowDate.getDate())?true:false;var theBet=theBets[selmatchs[i].id];betdone=Boolean(theBet&&theBet.p);var pagemode=(q_pagemode()=="view"||q_pagemode()=="edit")?"view":"web";var selector=[matchstatus];if(betdone||matchstatus=="playable"){selector.push("bet");selector.push(betType);}
onedhtml.attr("id",qsn_svcid(noteid).replace(/[^0-9]/g,"")+"-"+noteid+"-"+selmatchs[i].id).attr("noteid",noteid).attr("svcid",qsn_svcid(noteid)).attr("turningday",turningDay).attr("typepronos",betType).attr("localteamid",selmatchs[i].localteam.id).attr("vsteamid",selmatchs[i].vsteam.id).attr("hometeam",hometeam.team).attr("eventid",selmatchs[i].id).attr("pronosindex",index).attr("eventindex",i);onedhtml.find(".pronos2_state").attr("noteid",noteid).attr("svcid",qsn_svcid(noteid)).attr("turningday",turningDay).attr("typepronos",betType).attr("localteamid",selmatchs[i].localteam.id).attr("vsteamid",selmatchs[i].vsteam.id).attr("hometeam",hometeam.team).attr("eventid",selmatchs[i].id).attr("pronosindex",index).attr("betdone",betdone).attr("currentbet",theBet&&theBet.p).attr("hometeam_name",hometeam.name).attr("visitorteam_name",visitorteam.name);if(i==0)$(onedhtml).find(".large_separator-top").removeClass("large_separator-top").css("margin-top","0");var val=$.datepicker.formatDate("dd.mm.y",q_events_parseDate(selmatchs[i]["date"]));$(onedhtml).find('.pronos2_state[q_state!="'+selector.join("-")+'"]').remove();$(onedhtml).find('.pronos2_state').attr("q_pronosid",noteid);$(onedhtml).find(".perf").attr("q_pronosid",noteid);var homep,visitorp;if(betType=="score"){homep=((theBet&&theBet.p)||"").split(" ")[0]||"";visitorp=((theBet&&theBet.p)||"").split(" ")[1]||"";var prono_previousScore=homep+" "+visitorp;$(onedhtml).find(".pronos2_score_home input").attr("value",homep);$(onedhtml).find(".pronos2_score_visitor input").attr("value",visitorp);onedhtml.find(".pronos2_state").attr("previous",prono_previousScore);}
var betclass_selected=(matchstatus=="playable")?"pronos2_betselected":"rpd-bw";onedhtml.find('[q_data]').each(function(){var val="";var $q_data=$(this).attr("q_data");var homep=((theBet&&theBet.p)||"").split(" ")[0]||"";var visitorp=((theBet&&theBet.p)||"").split(" ")[1]||"";if($q_data=="competition_name"){var tmp=[];if(selmatchs[i]["competition"])tmp.push(selmatchs[i]["competition"]);if(selmatchs[i]["step"])tmp.push(selmatchs[i]["step"]);$(this).html(tmp.join(" - "));}
if($q_data=="dateAndTime"){if(matchTomorrow){onedhtml.find(".pronos2_dateMatch").addClass("pronos2_dateAlarm rpd-gbw2-background");quomodo.events.addTimerListener("clocktimer",function(eventData,eventName){return pronos2_countdown_update(theMatchDate,this,eventData.now)},div);}else{val=selmatchs[i]["date"];val=$.datepicker.formatDate("dd.mm.y",q_events_parseDate(val));if(selmatchs[i]["sel:time"]!=""&&selmatchs[i]["sel:time"]!="00")val+=" - "+selmatchs[i]["sel:time"];$(this).html(val);}}
if($q_data=="home_team")$(this).html(hometeam.name||"");if($q_data=="visitor_team")$(this).html(visitorteam.name||"");if($q_data=="home_logo33")$(this).attr("src",hometeam.logo33);if($q_data=="home_logo100")$(this).attr("src",hometeam.logo100);if($q_data=="visitor_logo33")$(this).attr("src",visitorteam.logo33);if($q_data=="visitor_logo100")$(this).attr("src",visitorteam.logo100);if($q_data=="toggle_comment"&&!selmatchs[i]["comment"])$(this).css("visibility","hidden");if($q_data=="toggle_comment_complete"&&!selmatchs[i]["comment"]&&!selmatchs[i]["competition"]&&!selmatchs[i]["step"])$(this).css("visibility","hidden");if($q_data=="location.name")$(this).html(selmatchs[i].location.name||"");if($q_data=="location.city")$(this).html(selmatchs[i].location.city||"");if(scoreknown){if($q_data=="home_score")$(this).html(hometeam.score);if($q_data=="visitor_score")$(this).html(visitorteam.score);if(homep&&visitorp){if($q_data=="bet_1"&&(homep>visitorp))$(this).addClass(betclass_selected);if($q_data=="bet_N"&&(homep==visitorp))$(this).addClass(betclass_selected);if($q_data=="bet_2"&&(homep<visitorp))$(this).addClass(betclass_selected);}}
if($q_data=="bet_home_score"&&homep)$(this).html(homep);if($q_data=="bet_visitor_score"&&visitorp)$(this).html(visitorp);if($q_data=="bet_1"&&theBet&&theBet.p=="1")$(this).addClass(betclass_selected);if($q_data=="bet_N"&&theBet&&theBet.p=="N")$(this).addClass(betclass_selected);if($q_data=="bet_2"&&theBet&&theBet.p=="2")$(this).addClass(betclass_selected);});html+=onedhtml.html();}
qsn_jcssmanagerapply(div,qsn_thenotes[noteid]);}
$(".pronos2_matchslist",div).html(html).show();$(".pronos2_wait",div).hide();$(".pronos2_table_match",div).mouseover(function(){if(q_pagemode()=="view"||q_pagemode()=="web"){$(".pronos2_tendances_btn",this).show();}
if((q_getuserlevel(memberid)=="admin"||hasCurrrights("events"))&&q_pagemode()=="edit"&&/artemapage/.test(currsvcid)){$(".pronos2_modifScore",this).show();$(".pronos2_table_match",div).find(".pronos2_btn_1N2, .pronos2_btn_12, .pronos2_score_home input, .pronos2_score_visitor input").unbind("click").click(function(){q_alert(pronos2_message["pronoNotPossible-alert"],{},true);});}else if(q_pagemode()=="web"){$(".pronos2_table_match",div).find(".pronos2_btn_1N2, .pronos2_btn_12, .pronos2_score_home input, .pronos2_score_visitor input").unbind("click").click(function(){var path="/services/dialogs/q_confirm-flatdesign/index_"+q_lang+".html";var options={"json":{"msg":pronos2_message["login_prompt"],"title":pronos2_message["login_title"]},"callback":function(x){if(!x)return;club_login_block();}};quomodo.fsm.loadDialog(path,options);});}});$(".pronos2_table_match",div).mouseout(function(){if(q_pagemode()=="view"||q_pagemode()=="web"){$(".pronos2_tendances_btn",this).hide();}
if((q_getuserlevel(memberid)=="admin"||hasCurrrights("events"))&&q_pagemode()=="edit"&&/artemapage/.test(currsvcid)){$(".pronos2_modifScore",this).hide();}});$(".pronos2_modifScore",div).unbind("click").click(function(){var pronos2_event_id=$(this).parents(".pronos2_table_match:eq(0)").find(".pronos2_state").attr("eventid");q_events_request(function(){q_events_edit(pronos2_event_id,"match",{callback:pronos2_rendermatchs_view,callback_args:[div,r,$(div).data("theBet")]});},{openselects:"all",eventid:pronos2_event_id});return false;});$(".pronos2_rightArrow_btn",div).unbind("click").click(function(){$(div).data("pronos2_rankingTitle_num",($(div).data("pronos2_rankingTitle_num")+1));if($(div).data("pronos2_rankingTitle_num")==3){$(div).data("pronos2_rankingTitle_num",0);}
pronos2_setPodium(noteid,pronos2_rankings[noteid],$(div).data("pronos2_rankingTitle_num"));});$(".pronos2_leftArrow_btn",div).unbind("click").click(function(){$(div).data("pronos2_rankingTitle_num",($(div).data("pronos2_rankingTitle_num")-1));if($(div).data("pronos2_rankingTitle_num")==-1){$(div).data("pronos2_rankingTitle_num",2);}
pronos2_setPodium(noteid,pronos2_rankings[noteid],$(div).data("pronos2_rankingTitle_num"));});$(".pronos2_ranking_btn",div).unbind("click").click(function(){var src="/services/pronos2/dialogs/ranking/index_"+q_lang+".html";var options={noscroll:true,json:{"noteid":noteid,"svcid":qsn_svcid(noteid),"turningDay":r.turningDay},scripts:[],styles:[],callback:function(){}};quomodo.fsm.loadDialog(src,options);});$(".pronos2_rules_btn",div).unbind("click").click(function(){var src="/services/pronos2/dialogs/rules/index_"+q_lang+".html";var custom_rules="";if(r.customrules!="")custom_rules='<div class="title">'+pronos2_message["customRulesTitle"]+'</div>'+r.customrules;var options={json:{"custom":custom_rules},scripts:[],styles:[],callback:function(){}};quomodo.fsm.loadDialog(src,options);});$(".pronos2_tendances_btn",div).unbind("click").click(function(){var src="/services/pronos2/dialogs/tendance-stats/index_"+q_lang+".html";var r=qsn_thenotes[noteid];var options={json:{svcid:qsn_svcid(noteid),noteid:noteid,eventid:$(this).parents(".pronos2_table_match:eq(0)").find(".pronos2_state").attr("eventid"),teamid:$(this).parents(".pronos2_table_match:eq(0)").find(".pronos2_state").attr("localteamid")},scripts:[],styles:[],callback:function(){}};quomodo.fsm.loadDialog(src,options);});if(qsn_currstate!="edit"){pronos2_fitmod(noteid,qsn_responsive_width(noteid));qsn_updatenoteheight(div);}}
function pronos2_showRules(elem){var div=getContainer(elem);var r=qsn_thenotes[div.id];var src="/services/pronos2/dialogs/rules/index_"+q_lang+".html";var custom_rules="";if(r.customrules!="")custom_rules='<div class="title">'+pronos2_message["customRulesTitle"]+'</div>'+r.customrules;var options={json:{custom:custom_rules},scripts:[],styles:[],callback:function(){}};quomodo.fsm.loadDialog(src,options);}
function pronos2_countdown_update(matchDate,div){var theMatchDate=q_events_parseDate(matchDate,false);var remainingSeconds=Math.floor((theMatchDate-(new Date()).getTime())/1000);if(remainingSeconds<=0){return true;}else{$(".pronos2_dateAlarm",div).html(pronos2_countdown_timestring(Math.abs(remainingSeconds)));}}
function pronos2_countdown_timestring(t){var s=twodigs(t%60);t=Math.floor(t/60);if(t==0)return "00:00:"+s;s=twodigs(t%60)+":"+s;t=Math.floor(t/60);if(t==0)return "00:"+s;s=twodigs(t%24)+":"+s;return s;}
function pronos2_toolbaroptions(elem){return qsn_toolbaroptions(elem,true).concat(["razcounter"]);}
function pronos2_razcounternote(div){var path="/services/dialogs/q_confirm-flatdesign/index_"+q_lang+".html";var options={"json":{"msg":pronos2_message["razcounter_confirm"]},"callback":function(x){if(!x)return;q_ajaxobjsetppty("pronos",qsn_svcid(div.id)+"/"+div.id,{"whole":0});}};quomodo.fsm.loadDialog(path,options);}
function pronos2_saveedit(){var r=qsn_thenotes[qsn_edittarget.id];var desc=$(".pronos2_desc",qsn_edittarget).val();r.text=(desc&&desc!=pronos2_message["notedescprompt"])?desc:"";var rules=$(".pronos2_gamerules",qsn_edittarget).val();r.customrules=(rules&&rules!=pronos2_message["gamerulesprompt"])?rules:"";r.typePronos=$(".pronos2_typePronos:checked",qsn_edittarget).attr("value");qsn_saveedit(true);}
function pronos2_getMemberName(memberId){var res=[];var firstname=pronos2_members[memberId].firstname;if(firstname)res.push(firstname);var username=(pronos2_members[memberId].username)?(" "+pronos2_members[memberId].username.charAt(0)+"."):"";if(username)res.push(username);return res.join(" ");}
var pronos2_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("pronos2_js_loaded");var photoboxes_message={"newnoteprompt":"Cliquez ici pour créer une nouvelle note Planche photos","notetitleprompt":"Cliquez ici pour ajouter un titre.","notedescprompt":"Entrez ici votre description","plug":"Planche Photos_Créez une planche photos à partir de vos images.","desc":"La note Planche Photos propose une façon originale de présenter des photos, sous forme d'une planche photos.","upload_title":"Importer des photos","upload_prompt":"Cliquez sur OK pour sélectionner les photos à importer","thefile":"Cliquez ici pour ouvrir le fichier ","nofiles":"Vous devez sélectionner au moins une image avant de valider.","toomanyfiles":"Trop de fichiers ! Afin de limiter le temps de chargement de la note, le nombre d'images est limité à %s. Merci d'enlever quelques images...","confirmdelete":"Êtes-vous sûr de vouloir enlever cette image ?","suppressnote":"Êtes-vous certain de vouloir supprimer cette note ?\n\nATTENTION : ceci ne supprime pas les images de votre espace de stockage. Pour libérer l'espace de stockage qui est occupé par vos images, ouvrez votre panneau « Fichiers chargés sur le site » et supprimez les images.","suppressnote_bubble":"Pour libérer de l'espace de stockage, ouvrez votre panneau « Fichiers chargés sur le site ».","deletefilealt":"Supprimer cette image","imgratio0":"Trés allongées","imgratio1":"Allongées","imgratio2":"Normales","imgratio3":"Carrées","imgratio4":"Etroites","imgratio5":"Trés étroites","imgratio":"Forme des images","taboptions":"Options de la note","scale":"Echelle des images : ","fit":"Adpater à la note","crop":"Couper l'image","noScale":"Pas de mise à l'échelle","thumbwidth":"Taille miniatures : ","thumbwidthmin":"petites","thumbwidthmax":"grandes","commentsandlinks":"Commentaires et liens","downloadlinks":"Remplir automatiquement les commentaires et liens avec ceux des images originales","imgonly":"Images seules, sans titre ni fond"};var photoboxes_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("photoboxes_msgs_fr_js_loaded");var photoboxes_json_template={version:6,text:"",header:{display:"false",text:"",icon:"false"},images:[],imgratio:"2",options:{scale:"crop",thumbwidth:80,rsslink:"",downloadlinks:"false"},"imgonly":false};function photoboxes_getheadericon(noteid){var r=qsn_thenotes[noteid];if(r.header.icon=="false")return "";return "/services/photoboxes/images/photoboxes48.png";}
function photoboxes_upgradejson(r){if(!r.version)r.version=1;if(r.version==photoboxes_json_template.version)return r;if(r.version<2)r=photoboxes_upgradejsontov2(r);if(r.version<3)r=photoboxes_upgradejsontov3(r);if(r.version<4)r=photoboxes_upgradejsontov4(r);if(r.version<5)r=photoboxes_upgradejsontov5(r);if(r.version<6)r=photoboxes_upgradejsontov6(r);r.version=photoboxes_json_template.version;return r;}
function photoboxes_upgradejsontov2(r){r.options.downloadlinks="false";return r;}
function photoboxes_upgradejsontov3(r){r.margin=10;return r;}
function photoboxes_upgradejsontov4(r){var sizes=qsn_definefontsizes(r.common.notekind);r.textsize=parseInt(sizes[r.textstyles.size],10);delete r.textstyles.size;return r;}
function photoboxes_upgradejsontov5(r){if(r.textstyles&&r.textstyles.center)r.center=(r.textstyles&&r.textstyles.center)||"false";var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function photoboxes_upgradejsontov6(r){if(q_pagemode()=="web")return r;if(!r.sortoptions||!r.sortoptions.target||!r.sortoptions.order){delete r.sortoptions;return r;}
r.images=qsn_filestable_coregetsorted(r.images,r.sortoptions.target,r.sortoptions.sortorder);delete r.sortoptions;return r;}
function photoboxes_initnote(noteid,callback){var r=qsn_thenotes[noteid];qsn_doupgradejson(noteid);r.version=2;r.common.notekind="photoboxes2";r.options.thumbmargin=3;delete r.options.scale;if(r.imgratio=="0")r.imgratio="1";else if(r.imgratio=="2")r.imgratio="3";else if(r.imgratio=="3")r.imgratio="4";else if(r.imgratio=="4"||r.imgratio=="5")r.imgratio="7";r.options.mode="paginate";qdyn_snload(function(){qsn_initnote(noteid,callback);},null,"photoboxes2");return true;}
function photoboxes_upgradedNotekind(){return "photoboxes2";}
function photoboxes_version(notekind){return{margin:1,rpd:1};}
function photoboxes_initforweb(id){photoboxes_renderplayer(ge(id),qsn_thenotes[id],true);}
function photoboxes_renderplayer(div,r,initforweb){if(q_pagemode()=="makeweb"&&!q_currsvcisweb())return;if(window.snchoosersample&&!initforweb)return;var thefilename=$(div).attr("filename");if(!thefilename)return;var playerurl="/services/photoboxes/player/photoboxes.swf";var flashvars={XMLFile:thefilename};var params={wmode:"transparent",allowFullScreen:"true",allowScriptAccess:"always"};if(typeof swfobject=="function")swfobject=swfobject();if(q_pagemode()!="makeweb"&&!swfobject.hasFlashPlayerVersion("1")){if(ge(div.id+"_swfelem"))swfobject.removeSWF(div.id+"_swfelem");if(!!document.createElement('canvas').getContext){var $playerdiv=$(".photoboxes_playerdiv:eq(0)",div);if(!$("#"+div.id+"_swfelem").length)$playerdiv.append('<div id="'+div.id+"_swfelem"+'"></div>');q_include({urls:["/scripts/flashgallery.js"]},function(){$("#"+div.id+"_swfelem").altgallery({galleryName:"box",background:"transparent",config:thefilename,width:$playerdiv.css("width"),height:$playerdiv.css("height")});});}}else{if(ge(div.id+"_swfelem")){if(ge(div.id+"_swfelem").childNodes.length>0)return;else swfobject.removeSWF(div.id+"_swfelem");}
gebcn(div,"photoboxes_playerdiv").appendChild(create_elem("DIV",{id:div.id+"_swfelem"}));swfobject.embedSWF(playerurl,div.id+"_swfelem","100%","100%","9.0.0",false,flashvars,params);}}
var photoboxes2_message={"newnoteprompt":"Cliquez ici pour créer une nouvelle note Planche photos","notetitleprompt":"Cliquez ici pour ajouter un titre.","notedescprompt":"Entrez ici votre description","plug":"Planche Photos_Créez une planche photos à partir de vos images.","desc":"La note Planche Photos propose une façon originale de présenter des photos, sous forme d'une planche photos.","upload_title":"Importer des photos","upload_prompt":"Cliquez sur OK pour sélectionner les photos à importer","thefile":"Cliquez ici pour ouvrir le fichier ","nofiles":"Vous devez sélectionner au moins une image avant de valider.","toomanyfiles":"Trop de fichiers ! Afin de limiter le temps de chargement de la note, le nombre d'images est limité à %s. Merci d'enlever quelques images...","confirmdelete":"Êtes-vous sûr de vouloir enlever cette image ?","suppressnote":"Êtes-vous certain de vouloir supprimer cette note ?\n\nATTENTION : ceci ne supprime pas les images de votre espace de stockage. Pour libérer l'espace de stockage qui est occupé par vos images, ouvrez votre panneau « Fichiers chargés sur le site » et supprimez les images.","suppressnote_bubble":"Pour libérer de l'espace de stockage, ouvrez votre panneau « Fichiers chargés sur le site ».","deletefilealt":"Supprimer cette image","imgratio0":"Original","imgratio1":"Allongé","imgratio2":"Carte postale","imgratio3":"Paysage","imgratio4":"Carré","imgratio5":"Portrait","imgratio6":"Carte postale verticale","imgratio7":"Étroit","imgratio":"Format","tabimages":"Images","taboptions":"Options de la note","scale":"Echelle des images : ","fit":"Adpater à la note","crop":"Couper l'image","noScale":"Pas de mise à l'échelle","thumbmargin":"Marge entre les vignettes","thumbwidth":"Taille miniatures","thumbwidthmin":"petites","thumbwidthmax":"grandes","commentsandlinks":"Commentaires et liens","downloadlinks":"Remplir automatiquement les commentaires avec ceux des images originales","nozoom_title":"Zoom","nozoom":"Désactiver le zoom sur les images","imgonly":"Images seules, sans titre ni fond","onepage":"Sans pagination","paginate":"Avec pagination","expertoptions":"Avancé (expert)","renderwide":"Pleine largeur","legend-title":"Commentaires","legend_none":"affichés en mode plein écran","legend_center":"affichés au survol","per_row":"Nombre de miniatures","per_rowdefault":"Automatique"};var photoboxes2_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("photoboxes2_msgs_fr_js_loaded");var photoboxes2_json_template={"version":2,"text":"","header":{"display":"false","text":"","icon":"false"},"images":[],"imgratio":"2","options":{"thumbwidth":80,"thumbmargin":3,"rsslink":"","downloadlinks":"false","mode":"onepage"},"legend":{"display":"none"},"imgonly":false};function photoboxes2_getheadericon(noteid){var r=qsn_thenotes[noteid];if(r.header.icon=="false")return "";return "/services/photoboxes/images/photoboxes48.png";}
function photoboxes2_upgradejson(r){if(!r.version)r.version=1;if(r.version==photoboxes2_json_template.version)return r;if(r.version<2)r=photoboxes2_upgradejsontov2(r);r.version=photoboxes2_json_template.version;return r;}
function photoboxes2_upgradejsontov2(r){r.options.thumbmargin=3;delete r.options.scale;return r;}
function photoboxes2_version(notekind){return{margin:1,rpd:1};}
function photoboxes2_initforweb(id){var div=ge(id);var r=qsn_thenotes[id];if(r.header&&r.header.display=="fold"&&$(".tablenotecontent",div).css("display")=="none"){var haveto_fold=true;qsn_foldclick(div.id,null,true,true);}
photoboxes2_renderplayer(ge(id),qsn_thenotes[id],function(){if(haveto_fold)qsn_foldclick(div.id,null,false,true);});}
function photoboxes2_device_resize(device,div){var $player=$(".photoboxes2_playerdiv",div);photoboxes2_renderzoom(div,qsn_thenotes[div.id]);if(device!="xs"){if($player.attr("rd_mode")==device&&!qsn_thenotes[div.id].render_wide)return;}
$(".photoboxes2_playerdiv .swiper-wrapper",div).hide();$player.attr("rd_mode",device).css("width","").data("jg.controller").checkWidth();photoboxes2_centerlegend(div);}
function photoboxes2_centerlegend(div){var r=qsn_thenotes[div.id];if(!r.legend||r.legend.display!="center")return;quomodoFonts.waitSpaceFonts(function(){$(div).find(".photobox2_overlegend_center").each(function(){var $this=$(this);var imgh=$this.parent().height();$this.show();var $legend=$this.find(".photobox2_legend");$legend.css("top",((imgh-$legend.height())/2)+"px");$this.css("display","");});});}
var photoboxes2_links={};function photoboxes2_renderzoom(div,r){var nozoom=$(".photoboxes2_playerdiv",div).data("nozoom");if(!nozoom&&!r.nozoom&&(qsn_responsive_mod()!="xs"||!r.noxszoom)){if(!$(".photoboxes2_playerdiv",div).data("lightGallery")){$(".photoboxes2_playerdiv",div).lightGallery({"thumbnail":false,"selector":".photoboxes2_thumb"});}}else{if($(".photoboxes2_playerdiv",div).data("lightGallery"))$(".photoboxes2_playerdiv",div).data("lightGallery").destroy(true);$(".photoboxes2_thumb",div).css("cursor","default");$(".photoboxes2_thumb.linkdata",div).css("cursor","pointer");}}
function photoboxes2_renderplayer(div,r,callback){if(q_pagemode()=="makeweb"&&!q_currsvcisweb())return;$(".photoboxes2_playerdiv",div).justifiedGallery("destroy");var $player=$(".photoboxes2_playerdiv",div);$player.empty();function setLink(linkid,linkdata){function doSetLink(promise){var kind=parseInt(promise.kind,10);if(!kind)return;var $mylink=$(div).find("a[ for='"+linkid+"' ]");var mylink=$mylink.get(0);if(!mylink)return;$mylink.addClass("linkdata").css("cursor","pointer");if(promise.href){mylink.href=promise.href;}else{mylink.href="#";mylink.setAttribute("oncontextmenu"," return false; ");}
if(promise.target)mylink.target=promise.target;if(promise.clickAttribute)mylink.setAttribute("onclick",promise.clickAttribute);if(promise.onclick)mylink.onclick=promise.onclick;if(promise.fileref)mylink.setAttribute("fileref",promise.fileref);}
if(photoboxes2_links[div.id]&&photoboxes2_links[div.id][linkid])doSetLink(photoboxes2_links[div.id][linkid]);else{qpromise_linkproperties(linkdata).callback(function(promise){if(!photoboxes2_links[div.id])photoboxes2_links[div.id]={};photoboxes2_links[div.id][linkid]=promise;doSetLink(promise);});}}
var ratio=photoboxes2_getimgratio(r);var thumbwidth=parseInt((r.options&&r.options.thumbwidth)||80,10);if(ratio!="auto")var thumbheight=Math.round(thumbwidth/ratio);var nozoom=false;for(var i=0;i<r.images.length;i++){var img_screen=r.images[i].web?r.images[i].web:q_spaceabsoluteurl(r.common.ownerid,r.images[i].formats.screen);var img_quarterscreen=r.images[i].web?r.images[i].web:q_spaceabsoluteurl(r.common.ownerid,r.images[i].formats.quarterscreen);var comment="";if(r.images[i]["comment"])comment=r.images[i]["comment"];else if(r.options&&r.options.downloadlinks=="true")comment=r.images[i]["linkname"];var thumb_html;if(ratio!="auto"){var blankimg="/images/blankformats/"+String(ratio).replace(/\./g,"-")+".png";thumb_html='<a for="i'+i+'" class="photoboxes2_thumb" href="'+img_screen+'" style="background-image:url('+img_quarterscreen+');" data-sub-html="'+escapeattribute(comment)+'" onclick="return false;"><img src="'+blankimg+'" />';}else{thumb_html='<a for="i'+i+'" class="photoboxes2_thumb" href="'+img_screen+'" data-sub-html="'+escapeattribute(comment)+'" onclick="return false;"><img src="'+img_quarterscreen+'" />';}
if(r.legend&&r.legend.display&&r.legend.display!="none"){if(comment)thumb_html+='<div class="photobox2_overlegend_center rpd-p1"><div class="photobox2_legend rpd-ipr rpd-ipl">'+comment+'</div></div>';nozoom=true;}
var bLink=false;if(r.images[i]["linkdata"]&&r.images[i]["linkdata"].kind!=0){bLink=true;nozoom=true;}
if(!nozoom&&!r.nozoom){thumb_html+='<span class="photoboxes2_zoom"><span class="photoboxes2_iconzoom font-q-i"></span></span>';}
thumb_html+='</a>';$(".photoboxes2_playerdiv",div).append(thumb_html);if(bLink)setLink("i"+i,r.images[i]["linkdata"]);}
var per_row=null;if(r.per_row&&r.per_row!="default")per_row=parseInt(r.per_row,10);var per_row_xs=null;if(r.per_row_xs&&r.per_row_xs!="default")per_row_xs=parseInt(r.per_row_xs,10);$(".photoboxes2_playerdiv",div).justifiedGallery({"lastRow":'nojustify',"pagination":r.options.mode=="paginate","noteid":div.id,"noAutoWidth":true,"margins":(r.options.thumbmargin||3),"fixedHeight":false,"quomodoFixedWidth":(ratio!="auto"?true:false),"perRow":per_row,"perRowXS":per_row_xs,"rowHeight":(ratio!="auto"?thumbheight:thumbwidth),"border":0}).on('jg.complete jg.resize',function(e){var thumbheight=$(".photoboxes2_thumb",div).height();var thumbwidth=$(".photoboxes2_thumb",div).width();var $thumbs=$(".photoboxes2_thumb",div);for(var i=0;i<r.images.length;i++){var img=r.images[i];if(img.web)continue;if(img.imageheight&&img.imagewidth){var imgwidth=img.imagewidth*thumbheight/img.imageheight;if(imgwidth>500&&img.formats.screen){if(ratio!="auto")$thumbs.eq(i).css("background-image","url("+q_spaceabsoluteurl(r.common.ownerid,img.formats.screen)+")");else $thumbs.eq(i).find("img").attr("src",q_spaceabsoluteurl(r.common.ownerid,img.formats.screen));}else if(imgwidth>250&&img.formats.halfscreen){if(ratio!="auto")$thumbs.eq(i).css("background-image","url("+q_spaceabsoluteurl(r.common.ownerid,img.formats.halfscreen)+")");else $thumbs.eq(i).find("img").attr("src",q_spaceabsoluteurl(r.common.ownerid,img.formats.halfscreen));}}else{if(thumbwidth>250){if(img.formats.halfscreen)$thumbs.eq(i).css("background-image","url("+q_spaceabsoluteurl(r.common.ownerid,img.formats.halfscreen)+")");}}}
$(".photoboxes2_playerdiv",div).data("nozoom",nozoom);if(r.noxszoom)$(".photoboxes2_playerdiv",div).addClass("noxszoom");photoboxes2_renderzoom(div,r);photoboxes2_centerlegend(div);if(callback)callback();});}
function photoboxes2_getimgratio(x){if(x.tagName)var r=qsn_thenotes[getContainer(x).id];else var r=x;return["auto",2,1.5,1.33,1,0.75,0.67,0.5][parseInt(r.imgratio,10)];}
var photoflow_message={"newnoteprompt":"Cliquez ici pour créer une nouvelle note Photo flow","notetitleprompt":"Cliquez ici pour ajouter un titre.","notedescprompt":"Entrez ici votre description","plug":"Photo Flow_Créez un super effet façon iTunes® pour présenter vos photos.","desc":"La note Photo Flow propose de faire défiler vos photos comme les morceaux dans iTunes®.","upload_title":"Importer des photos","upload_prompt":"Cliquez sur OK pour sélectionner les photos à importer","thefile":"Cliquez ici pour ouvrir le fichier ","nofiles":"Vous devez sélectionner au moins une image avant de valider.","toomanyfiles":"Trop de fichiers ! Afin de limiter le temps de chargement de la note, le nombre d'images est limité à %s. Merci d'enlever quelques images...","confirmdelete":"Êtes-vous sûr de vouloir enlever cette image ?","suppressnote":"Êtes-vous certain de vouloir supprimer cette note ?\n\nATTENTION : ceci ne supprime pas les images de votre espace de stockage. Pour libérer l'espace de stockage qui est occupé par vos images, ouvrez votre panneau « Fichiers chargés sur le site » et supprimez les images.","suppressnote_bubble":"Pour libérer de l'espace de stockage, ouvrez votre panneau « Fichiers chargés sur le site ».","deletefilealt":"Supprimer cette image","imgratio0":"Trés allongées","imgratio1":"Allongées","imgratio2":"Normales","imgratio3":"Carrées","imgratio4":"Etroites","imgratio5":"Trés étroites","imgratio":"Forme des images","taboptions":"Options de la note","scale":"Echelle des images : ","fit":"Adpater à la note","crop":"Couper l'image","noScale":"Pas de mise à l'échelle","imageangle":"Angle des images : ","imageanglemin":"petit","imageanglemax":"grand","slideshow":"Lecture automatique","slideshowdelay":"Délai entre les images","showscrollbar":"Afficher la barre de controle","commentsandlinks":"Commentaires et liens","downloadlinks":"Remplir automatiquement les commentaires et liens avec ceux des images originales","position":"Position de départ","left":"gauche","center":"centre","right":"droite","imgonly":"Images seules, sans titre ni fond"};var photoflow_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("photoflow_msgs_fr_js_loaded");var photoflow_json_template={version:7,text:"",header:{display:"false",text:"",icon:"false"},images:[],options:{showscrollbar:"true",imageangle:30,slideshow:"true",slideshowdelay:"2",xmlfile:"",position:"center",downloadlinks:"false"},"imgonly":false};function photoflow_getheadericon(noteid){var r=qsn_thenotes[noteid];if(r.header.icon=="false")return "";return "/services/photoflow/images/photoflow48.png";}
function photoflow_upgradejson(r){if(r.version==photoflow_json_template.version)return r;if(r.version<2)r=photoflow_upgradejsontov2(r);if(r.version<3)r=photoflow_upgradejsontov3(r);if(r.version<4)r=photoflow_upgradejsontov4(r);if(r.version<5)r=photoflow_upgradejsontov5(r);if(r.version<6)r=photoflow_upgradejsontov6(r);if(r.version<7)r=photoflow_upgradejsontov7(r);r.version=photoflow_json_template.version;return r;}
function photoflow_upgradejsontov2(r){r.options.position="center";return r;}
function photoflow_upgradejsontov3(r){r.options.downloadlinks="false";return r;}
function photoflow_upgradejsontov4(r){r.margin=10;return r;}
function photoflow_upgradejsontov5(r){r.textsize=12;r.textstyles={font:"-1",bold:"false",italic:"false",center:"false"};return r;}
function photoflow_upgradejsontov6(r){if(r.textstyles&&r.textstyles.center)r.center=(r.textstyles&&r.textstyles.center)||"false";var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function photoflow_upgradejsontov7(r){if(q_pagemode()=="web")return r;if(!r.sortoptions||!r.sortoptions.target||!r.sortoptions.order){delete r.sortoptions;return r;}
r.images=qsn_filestable_coregetsorted(r.images,r.sortoptions.target,r.sortoptions.sortorder);delete r.sortoptions;return r;}
function photoflow_initnote(noteid,callback){var r=qsn_thenotes[noteid];qsn_doupgradejson(noteid);r.version=2;r.common.notekind="photoflow2";qdyn_snload(function(){qsn_initnote(noteid,callback);},null,"photoflow2");return true;}
function photoflow_upgradedNotekind(){return "photoflow2";}
function photoflow_version(notekind){return{margin:1,rpd:1};}
function photoflow_initforweb(id){photoflow_renderplayer(ge(id),qsn_thenotes[id],true);}
function photoflow_renderplayer(div,r,initforweb){if(q_pagemode()=="makeweb"&&!q_currsvcisweb())return;if(window.snchoosersample&&!initforweb)return;if(r.options.xmlfile&&r.options.xmlfile!="undefined")var thefilename=r.options.xmlfile;else{var thefilename=$(div).attr("filename");if(!thefilename)return;}
var playerurl="/services/photoflow/player/photoflow.swf";var flashvars={XMLFile:thefilename};var params={wmode:"transparent",allowFullScreen:"true",allowScriptAccess:"always"};if(typeof swfobject=="function")swfobject=swfobject();if(q_pagemode()!="makeweb"&&!swfobject.hasFlashPlayerVersion("1")){if(ge(div.id+"_swfelem"))swfobject.removeSWF(div.id+"_swfelem");if(!!document.createElement('canvas').getContext){var $playerdiv=$(".photoflow_playerdiv:eq(0)",div);if(!$("#"+div.id+"_swfelem").length)$playerdiv.append('<div id="'+div.id+"_swfelem"+'"></div>');q_include({urls:["/scripts/flashgallery.js"]},function(){$("#"+div.id+"_swfelem").altgallery({galleryName:"photoflow",background:"transparent",config:thefilename,width:$playerdiv.css("width"),height:$playerdiv.css("height")});});}}else{if(ge(div.id+"_swfelem")){if(ge(div.id+"_swfelem").childNodes.length>0)return;else swfobject.removeSWF(div.id+"_swfelem");}
gebcn(div,"photoflow_playerdiv").appendChild(create_elem("DIV",{id:div.id+"_swfelem"}));swfobject.embedSWF(playerurl,div.id+"_swfelem","100%","100%","9.0.0",false,flashvars,params);}}
var photoflow2_message={"newnoteprompt":"Cliquez ici pour créer une nouvelle note Photo flow","notetitleprompt":"Cliquez ici pour ajouter un titre.","notedescprompt":"Entrez ici votre description","plug":"Photo Flow_Créez un super effet façon iTunes® pour présenter vos photos.","desc":"La note Photo Flow propose de faire défiler vos photos comme les morceaux dans iTunes®.","upload_title":"Importer des photos","upload_prompt":"Cliquez sur OK pour sélectionner les photos à importer","thefile":"Cliquez ici pour ouvrir le fichier ","nofiles":"Vous devez sélectionner au moins une image avant de valider.","toomanyfiles":"Trop de fichiers ! Afin de limiter le temps de chargement de la note, le nombre d'images est limité à %s. Merci d'enlever quelques images...","confirmdelete":"Êtes-vous sûr de vouloir enlever cette image ?","suppressnote":"Êtes-vous certain de vouloir supprimer cette note ?\n\nATTENTION : ceci ne supprime pas les images de votre espace de stockage. Pour libérer l'espace de stockage qui est occupé par vos images, ouvrez votre panneau « Fichiers chargés sur le site » et supprimez les images.","suppressnote_bubble":"Pour libérer de l'espace de stockage, ouvrez votre panneau « Fichiers chargés sur le site ».","deletefilealt":"Supprimer cette image","imgratio0":"Trés allongées","imgratio1":"Allongées","imgratio2":"Normales","imgratio3":"Carrées","imgratio4":"Etroites","imgratio5":"Trés étroites","imgratio":"Forme des images","taboptions":"Options de la note","scale":"Echelle des images : ","fit":"Adpater à la note","crop":"Couper l'image","noScale":"Pas de mise à l'échelle","imageangle":"Angle des images : ","imageanglemin":"petit","imageanglemax":"grand","slideshow":"Lecture automatique","slideshowdelay":"Délai entre les images","showscrollbar":"Afficher la barre de controle","commentsandlinks":"Commentaires et liens","downloadlinks":"Remplir automatiquement les commentaires et liens avec ceux des images originales","position":"Position de départ","left":"gauche","center":"centre","right":"droite","imgonly":"Images seules, sans titre ni fond"};var photoflow2_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("photoflow2_msgs_fr_js_loaded");var photoflow2_json_template={"version":2,"text":"","header":{"display":"false","text":"","icon":"false"},"images":[],"options":{"showscrollbar":"true","imageangle":30,"slideshow":"true","slideshowdelay":"2","xmlfile":"","position":"center","downloadlinks":"false"},"imgonly":false};function photoflow2_getheadericon(noteid){var r=qsn_thenotes[noteid];if(r.header.icon=="false")return "";return "/services/photoflow/images/photoflow48.png";}
function photoflow2_upgradejson(r){if(!r.version)r.version=1;if(r.version==photoflow2_json_template.version)return r;if(r.version<2)r=photoflow2_upgradejsontov2(r);r.version=photoflow2_json_template.version;return r;}
function photoflow_upgradejsontov2(r){return r;}
function photoflow2_version(notekind){return{margin:1,rpd:1};}
function photoflow2_loadXMLFile(xmlfile,div,callback){if(q_pagemode()=="makeweb"){var json=[];var o={};o["web"]="/services/photoflow2/images/xmlfile-makeweb.jpg";o["comment"]="www.quomodo.com";o["imagewidth"]="990";o["imageheight"]="450";json.push(o);$(div).data("jsonXML",json);callback();return;}
$.get(xmlfile,function(xml){var json=[];var baseurl=$("gallery settings imagesFolder",xml).text();$("gallery items item",xml).each(function(){var o={};o["web"]=baseurl+$("source",this).text();o["link"]=$("link",this).text();o["comment"]=$("description",this).text();o["imagewidth"]=$("imagewidth",this).text()||"500";o["imageheight"]=$("imageheight",this).text()||"280";json.push(o);});$(div).data("jsonXML",json);callback();});}
function photoflow2_initforweb(id){var r=qsn_thenotes[id];var div=ge(id);var jsonXML=$(div).data("jsonXML");if(r.options.xmlfile&&!jsonXML){photoflow2_loadXMLFile(r.options.xmlfile,div,function(){photoflow2_initforweb(id);});return;}
$(".swiper-wrapper",div).empty().removeAttr("style");photoflow2_renderplayer(div,r);div.toresize=function(){return[$(".swiper-container",div).get(0),$(".swiper-container .swiper-slide",div).get(0)];};div.autorule=true;div.resized=function(elem,w){$(".swiper-wrapper",div).empty().removeAttr("style");photoflow2_renderplayer(div,r);};}
var photoflow2_links={};function photoflow2_renderplayer(div,r,realw){if(q_pagemode()=="makeweb"&&!q_currsvcisweb())return;if($(div).data("swiper")){$(div).data("swiper").destroy(true,true);$(div).removeData("swiper");}
var jsonXML=$(div).data("jsonXML");var images=jsonXML||r.images;var ratio=3/10;var mindim=50;var w=realw||$(".photoflow2_playerdiv",div).width();var imgheight=Math.max(Math.round(w*ratio),mindim);var containerheight=imgheight+(r.options.showscrollbar=="true"?20:0);$(".swiper-container",div).css({"width":w+"px","height":containerheight+"px","float":"none"});if(r.options.showscrollbar=="true")$(".swiper-pagination",div).show();else $(".swiper-pagination",div).hide();function setLink(linkid,linkdata){function doSetLink(promise){var kind=parseInt(promise.kind,10);if(!kind)return;var mylink=$(div).find("a[ for='"+linkid+"' ]").get(0);if(!mylink)return;if(promise.href){mylink.href=promise.href;}else{mylink.href="#";mylink.setAttribute("oncontextmenu"," return false; ");}
if(promise.target)mylink.target=promise.target;if(promise.clickAttribute)mylink.setAttribute("onclick",promise.clickAttribute);if(promise.onclick)mylink.onclick=promise.onclick;if(promise.fileref)mylink.setAttribute("fileref",promise.fileref);}
if(photoflow2_links[div.id]&&photoflow2_links[div.id][linkid])doSetLink(photoflow2_links[div.id][linkid]);else{qpromise_linkproperties(linkdata).callback(function(promise){if(!photoflow2_links[div.id])photoflow2_links[div.id]={};photoflow2_links[div.id][linkid]=promise;doSetLink(promise);});}}
for(var i=0;i<images.length;i++){var img_screen=images[i].web?images[i].web:q_spaceabsoluteurl(r.common.ownerid,images[i].formats.screen);var img_original=images[i].web?images[i].web:q_spaceabsoluteurl(r.common.ownerid,images[i].formats.original);var imgwidth=parseInt(images[i].imagewidth,10)*imgheight/parseInt(images[i].imageheight,10);var slidehtml='<div class="swiper-slide" style="background-image: url('+img_screen+'); width : '+imgwidth+'px; height: '+imgheight+'px">';if(images[i]["comment"])slidehtml+='<div class="swiper-comment rpd-p3" style="color:#ffffff;font-style:normal">'+images[i]["comment"]+'</div>';else if(r.options&&r.options.downloadlinks=="true")slidehtml+='<div class="swiper-comment">'+images[i]["linkname"]+'</div>';var bLink=false;if(images[i]["linkdata"]&&images[i]["linkdata"].kind!=0){slidehtml+='<a for="i'+i+'" class="swiper-link" href="#" onclick="return false" target="_blank"></a>';bLink=true;}else if(r.options&&r.options.downloadlinks=="true")slidehtml+='<a class="swiper-link" href="'+img_original+'" target="_blank"></a>';slidehtml+='</div>';$(".swiper-wrapper",div).append(slidehtml);if(bLink)setLink("i"+i,images[i]["linkdata"]);}
var initialSlide=0;if(r.options.position=="center")initialSlide=Math.round((images.length-1)/2);else if(r.options.position=="right")initialSlide=images.length-1;var notew=qsn_responsive_width(div.id);var bulletsw=18*images.length;var gallery=new Swiper("#"+div.id+" .swiper-container",{"setWrapperSize":true,"effect":'coverflow',"grabCursor":true,"centeredSlides":true,"slidesPerView":'auto',"coverflow":{"rotate":parseInt(r.options.imageangle,10),"stretch":0,"depth":100,"modifier":1,"slideShadows":true},"slideToClickedSlide":true,"autoplay":parseInt(r.options.slideshowdelay,10)*1000,"autoplayDisableOnInteraction":false,"autoplayStopOnLast":false,"spaceBetween":15,"pagination":(r.options.showscrollbar=="true"?"#"+div.id+" .swiper-pagination":""),"paginationType":(notew>=bulletsw?"bullets":"fraction"),"paginationHide":false,"paginationClickable":true,"initialSlide":initialSlide});if(r.options.slideshow=="false"||$(div).data("dragging"))gallery.stopAutoplay();$(div).data("swiper",gallery);if(r.imgonly){$(".qlubcontainer_content",div).css("padding","0");$(".tdcontainer, .tablenotecontent, .tablecontent",div).css({"border":"0","background":"none","box-shadow":"none"});}}
function photoflow2_device_resize(device,div){q_changedwidth(div,qsn_responsive_width(div.id,device));}
var photoslider_message={"newnoteprompt":"Cliquez ici pour créer une nouvelle note Diapo Photos","notetitleprompt":"Cliquez ici pour ajouter un titre.","notedescprompt":"Entrez ici votre description","plug":"Diapo Photos_Créez un diaporama de photos pour les partager avec vos visiteurs.","desc":"La note Diapo Photos permet de créer un diaporama de photos à configurer comme vous le souhaitez","upload_title":"Importer des photos","upload_prompt":"Cliquez sur OK pour sélectionner les photos à importer","thefile":"Cliquez ici pour ouvrir le fichier ","nofiles":"Vous devez sélectionner au moins une image avant de valider.","toomanyfiles":"Trop de fichiers ! Afin de limiter le temps de chargement de la note, le nombre d'images est limité à %s. Merci d'enlever quelques images...","confirmdelete":"Êtes-vous sûr de vouloir enlever cette image ?","suppressnote":"Êtes-vous certain de vouloir supprimer cette note ?\n\nATTENTION : ceci ne supprime pas les images de votre espace de stockage. Pour libérer l'espace de stockage qui est occupé par vos images, ouvrez votre panneau « Fichiers chargés sur le site » et supprimez les images.","suppressnote_bubble":"Pour libérer de l'espace de stockage, ouvrez votre panneau « Fichiers chargés sur le site ».","deletefilealt":"Supprimer cette image","imgratio0":"Très très allongées","imgratio1":"Très allongées","imgratio2":"Allongées","imgratio3":"Normales","imgratio4":"Carrées","imgratio5":"Etroites","imgratio6":"Trés étroites","imgratio":"Forme des images","tabdiapooptions":"Diaporama","tabthumbsoptions":"Miniatures","autostart":"Lecture automatique","downloadlinks":"Remplir automatiquement les commentaires et liens avec ceux des images originales","loop":"Lecture en boucle","showbuttons":"Afficher les boutons","scale":"Echelle des images : ","fit":"L'image s'affiche en entier dans la note","fill":"L'image remplit tout l'espace disponible","noScale":"Pas de mise à l'échelle","phototimer":"Délai entre les images : ","thumbposition":"Position des miniatures : ","nothumbs":"Pas de miniatures","left":"A gauche","right":"A droite","top":"En haut","bottom":"En bas","center":"Au centre","align":"Alignement des images : ","thumbwidth":"Taille : ","thumbwidthmin":"petites","thumbwidthmax":"grandes","thumbpreview":"Afficher l'aperçu","transition":"Transition : ","fade":"Fondu","zoom":"Zoom","pixel":"Pixel","imgonly":"Images seules, sans titre ni fond"};var photoslider_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("photoslider_msgs_fr_js_loaded");var photoslider_json_template={version:6,text:"",center:"false",header:{display:"true",text:"",icon:"false"},images:[],imgratio:"2",options:{transition:"fade",autostart:"false",showbuttons:"true",loop:"true",scale:"fill",align:"center",phototimer:"5",thumbposition:"bottom",thumbwidth:60,thumbpreview:"false",rsslink:"",downloadlinks:"false"},"imgonly":false};function photoslider_getheadericon(noteid){var r=qsn_thenotes[noteid];if(r.header.icon=="false")return "";return "/services/photoslider/images/photoslider48.png";}
function photoslider_upgradejson(r){if(!r.version)r.version=1;if(r.version==photoslider_json_template.version)return r;if(r.version<2)r=photoslider_upgradejsontov2(r);if(r.version<3)r=photoslider_upgradejsontov3(r);if(r.version<4)r=photoslider_upgradejsontov4(r);if(r.version<5)r=photoslider_upgradejsontov5(r);if(r.version<6)r=photoslider_upgradejsontov6(r);r.version=photoslider_json_template.version;return r;}
function photoslider_upgradejsontov2(r){r.options.downloadlinks="false";return r;}
function photoslider_upgradejsontov3(r){r.margin=10;return r;}
function photoslider_upgradejsontov4(r){var sizes=qsn_definefontsizes(r.common.notekind);r.textsize=parseInt(sizes[r.textstyles.size],10);delete r.textstyles.size;return r;}
function photoslider_upgradejsontov5(r){if(r.textstyles&&r.textstyles.center)r.center=(r.textstyles&&r.textstyles.center)||"false";var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function photoslider_upgradejsontov6(r){if(q_pagemode()=="web")return r;if(!r.sortoptions||!r.sortoptions.target||!r.sortoptions.order){delete r.sortoptions;return r;}
r.images=qsn_filestable_coregetsorted(r.images,r.sortoptions.target,r.sortoptions.sortorder);delete r.sortoptions;var imgratio=parseInt(r.imgratio,10);if(imgratio>0)r.imgratio=String(imgratio+1);return r;}
function photoslider_initnote(noteid,callback){var r=qsn_thenotes[noteid];qsn_doupgradejson(noteid);r.version=2;r.common.notekind="photoslider2";r.options.transition="fade";if(r.options.scale=="noScale")r.options.scale="fill";if(parseInt(r.options.thumbwidth,10)<40)r.options.thumbwidth=40;qdyn_snload(function(){qsn_initnote(noteid,callback);},null,"photoslider2");return true;}
function photoslider_upgradedNotekind(){return "photoslider2";}
function photoslider_version(notekind){return{margin:1,rpd:1};}
function photoslider_initforweb(id){photoslider_renderplayer(ge(id),qsn_thenotes[id],true);}
function photoslider_renderplayer(div,r,initforweb){if(q_pagemode()=="makeweb"&&!q_currsvcisweb())return;if(window.snchoosersample&&!initforweb)return;var thefilename=$(div).attr("filename");if(!thefilename)return;var playerurl="/services/photoslider/player/photoslider.swf";var flashvars={XMLFile:$(div).attr("filename")};var params={wmode:"transparent",allowFullScreen:"true",allowScriptAccess:"always",bgColor:RPD.altbgcolor(r.rpd)};if(typeof swfobject=="function")swfobject=swfobject();if(q_pagemode()!="makeweb"&&!swfobject.hasFlashPlayerVersion("1")){if(ge(div.id+"_swfelem"))swfobject.removeSWF(div.id+"_swfelem");if(!!document.createElement('canvas').getContext){var $playerdiv=$(".photoslider_playerdiv:eq(0)",div);if(!$("#"+div.id+"_swfelem").length)$playerdiv.append('<div id="'+div.id+"_swfelem"+'"></div>');q_include({urls:["/scripts/flashgallery.js"]},function(){$("#"+div.id+"_swfelem").altgallery({galleryName:"art",background:RPD.altbgcolor(r.rpd),config:thefilename,width:$playerdiv.css("width"),height:$playerdiv.css("height")});});}}else{if(ge(div.id+"_swfelem")){if(ge(div.id+"_swfelem").childNodes.length>0)return;else swfobject.removeSWF(div.id+"_swfelem");}
$(".photoslider_playerdiv:eq(0)",div).empty().append('<div id="'+div.id+'_swfelem"></div>');swfobject.embedSWF(playerurl,div.id+"_swfelem","100%","100%","9.0.0",false,flashvars,params);}}
var photoslider2_message={"newnoteprompt":"Cliquez ici pour créer une nouvelle note Diapo Photos","notetitleprompt":"Cliquez ici pour ajouter un titre.","notedescprompt":"Entrez ici votre description","plug":"Diapo Photos_Créez un diaporama de photos pour les partager avec vos visiteurs.","desc":"La note Diapo Photos permet de créer un diaporama de photos à configurer comme vous le souhaitez","upload_title":"Importer des photos","upload_prompt":"Cliquez sur OK pour sélectionner les photos à importer","thefile":"Cliquez ici pour ouvrir le fichier ","nofiles":"Vous devez sélectionner au moins une image avant de valider.","toomanyfiles":"Trop de fichiers ! Afin de limiter le temps de chargement de la note, le nombre d'images est limité à %s. Merci d'enlever quelques images...","confirmdelete":"Êtes-vous sûr de vouloir enlever cette image ?","suppressnote":"Êtes-vous certain de vouloir supprimer cette note ?\n\nATTENTION : ceci ne supprime pas les images de votre espace de stockage. Pour libérer l'espace de stockage qui est occupé par vos images, ouvrez votre panneau « Fichiers chargés sur le site » et supprimez les images.","suppressnote_bubble":"Pour libérer de l'espace de stockage, ouvrez votre panneau « Fichiers chargés sur le site ».","deletefilealt":"Supprimer cette image","imgratio0":"Très très allongées","imgratio1":"Très allongées","imgratio2":"Allongées","imgratio3":"Normales","imgratio4":"Carrées","imgratio5":"Etroites","imgratio6":"Trés étroites","imgratio":"Forme des images","tabdiapooptions":"Diaporama","tabthumbsoptions":"Miniatures","autostart":"Lecture automatique","downloadlinks":"Remplir automatiquement les commentaires et liens avec ceux des images originales","loop":"Lecture en boucle","showbuttons":"Afficher les boutons","scale":"Echelle des images : ","fit":"L'image s'affiche en entier dans la note","fill":"L'image remplit tout l'espace disponible","noScale":"Pas de mise à l'échelle","phototimer":"Délai entre les images : ","thumbposition":"Position des miniatures : ","nothumbs":"Pas de miniatures","left":"A gauche","right":"A droite","top":"En haut","bottom":"En bas","center":"Au centre","align":"Alignement des images : ","thumbwidth":"Taille : ","thumbwidthmin":"petites","thumbwidthmax":"grandes","thumbpreview":"Afficher l'aperçu","transition":"Transition : ","fade":"Fondu","slide":"Slide","cube":"Cube","imgonly":"Images seules, sans titre ni fond"};var photoslider2_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("photoslider2_msgs_fr_js_loaded");var photoslider2_json_template={"version":2,"text":"","center":"false","header":{"display":"true","text":"","icon":"false"},"images":[],"imgratio":"2","options":{"transition":"fade","autostart":"false","showbuttons":"true","loop":"true","scale":"fill","align":"center","phototimer":"5","thumbposition":"bottom","thumbwidth":60,"thumbpreview":"false","rsslink":"","downloadlinks":"false"},"imgonly":false};function photoslider2_getheadericon(noteid){var r=qsn_thenotes[noteid];if(r.header.icon=="false")return "";return "/services/photoslider/images/photoslider48.png";}
function photoslider2_upgradejson(r){if(!r.version)r.version=1;if(r.version&&r.version==photoslider2_json_template.version)return r;if(r.version<2)r=photoslider2_upgradejsontov2(r);r.version=photoslider2_json_template.version;return r;}
function photoslider2_upgradejsontov2(r){return r;}
function photoslider2_version(notekind){return{margin:1,rpd:1};}
function photoslider2_initforweb(id){var div=ge(id);var r=qsn_thenotes[id];$(".swiper-wrapper",div).empty().removeAttr("style");photoslider2_renderplayer(ge(id),qsn_thenotes[id]);div.toresize=function(){if(r.options&&(r.options.thumbposition=="top"||r.options.thumbposition=="bottom"||r.options.thumbposition=="nothumbs"))return[$(".photoslider2_wideview",div).get(0),$(".photoslider2_thumbs",div).get(0),$(".photoslider2_wideview .swiper-slide",div).get(0)];return[$(".photoslider2_wideview",div).get(0),$(".photoslider2_wideview .swiper-slide",div).get(0)];};div.autorule=true;div.resized=function(elem,w){$(".swiper-wrapper",div).empty().removeAttr("style");photoslider2_renderplayer(div,r);};}
var photoslider2_links={};function photoslider2_renderplayer(div,r,nothumbs,realw){if(q_pagemode()=="makeweb"&&!q_currsvcisweb())return;var haveto_fold;if(r.header&&r.header.display=="fold"&&$(".tablenotecontent",div).css("display")=="none"){haveto_fold=true;qsn_foldclick(div.id,null,true,true);}
if(r.imgonly){$(".qlubcontainer_content",div).css("padding","0");$(".tdcontainer, .tablenotecontent, .tablecontent",div).css({"border":"0","background":"none","box-shadow":"none"});}
if($(div).data("swiper")){$(div).data("swiper").destroy(true,true);$(div).removeData("swiper");}
if($(div).data("swiper_th")){$(div).data("swiper_th").destroy(true,true);$(div).removeData("swiper_th");}
var ratio=photoslider2_getimgratio(r);var mindim=20;var thumbwidth=parseInt((r.options&&r.options.thumbwidth)||60,10);if(qsn_responsive_mod()=="xs"&&(r.options.thumbposition=="left"||r.options.thumbposition=="right"))thumbwidth=Math.min(thumbwidth,Math.round(qsn_width_xs(div.id)*0.25));var thumbheight=Math.round(thumbwidth*ratio);if(!nothumbs&&r.options&&(r.options.thumbposition=="right"||r.options.thumbposition=="left"))var w=(realw||$(".photoslider2_playerdiv",div).width())-10-thumbwidth;else var w=realw||$(".photoslider2_playerdiv",div).width();var imgheight=Math.max(Math.round(w*ratio),mindim);if(!nothumbs&&r.options&&r.options.thumbposition!="nothumbs"){if(r.options.thumbposition=="top"||r.options.thumbposition=="bottom")$(".photoslider2_thumbs",div).show().css({"width":w+"px","height":thumbheight+"px","float":"none"});else $(".photoslider2_thumbs",div).show().css({"width":thumbwidth+"px","height":imgheight+"px","float":"left"});}else $(".photoslider2_thumbs",div).hide();if(r.options.thumbposition=="top"||r.options.thumbposition=="bottom")$(".photoslider2_wideview",div).css({"width":w+"px","height":imgheight+"px","float":"none"});else $(".photoslider2_wideview",div).css({"width":w+"px","height":imgheight+"px","float":"left"});var lg_elems=[];function setLink(linkid,linkdata){function doSetLink(promise){var kind=parseInt(promise.kind,10);if(!kind)return;var mylink=$(div).find("a[ for='"+linkid+"' ]").get(0);if(!mylink)return;if(promise.href){mylink.href=promise.href;}else{mylink.href="#";mylink.setAttribute("oncontextmenu"," return false; ");}
if(promise.target)mylink.target=promise.target;if(promise.clickAttribute)mylink.setAttribute("onclick",promise.clickAttribute);if(promise.onclick)mylink.onclick=promise.onclick;if(promise.fileref)mylink.setAttribute("fileref",promise.fileref);}
if(photoslider2_links[div.id]&&photoslider2_links[div.id][linkid])doSetLink(photoslider2_links[div.id][linkid]);else{qpromise_linkproperties(linkdata).callback(function(promise){if(!photoslider2_links[div.id])photoslider2_links[div.id]={};photoslider2_links[div.id][linkid]=promise;doSetLink(promise);});}}
for(var i=0;i<r.images.length;i++){var img_screen=r.images[i].web?r.images[i].web:q_spaceabsoluteurl(r.common.ownerid,r.images[i].formats.screen);var img_original=r.images[i].web?r.images[i].web:q_spaceabsoluteurl(r.common.ownerid,r.images[i].formats.original);var img_quarterscreen=r.images[i].web?r.images[i].web:q_spaceabsoluteurl(r.common.ownerid,r.images[i].formats.quarterscreen);var slidehtml='<div class="swiper-slide" style="background-image: url('+img_screen+'); height: '+imgheight+'px">';if(r.images[i]["comment"])slidehtml+='<div class="swiper-comment rpd-p3" style="color:#ffffff;font-style:normal">'+r.images[i]["comment"]+'</div>';else if(r.options&&r.options.downloadlinks=="true")slidehtml+='<div class="swiper-comment">'+r.images[i]["linkname"]+'</div>';var bLink=false;if(r.images[i]["linkdata"]&&r.images[i]["linkdata"].kind!=0){slidehtml+='<a for="i'+i+'" class="swiper-link" href="#" onclick="return false" target="_blank"></a>';bLink=true;}else if(r.options&&r.options.downloadlinks=="true")slidehtml+='<a class="swiper-link" href="'+img_original+'" target="_blank"></a>';slidehtml+='</div>';var lg_elem={"src":img_screen};if(r.images[i]["comment"])lg_elem.subHtml=r.images[i]["comment"];else if(r.options&&r.options.downloadlinks=="true")lg_elem.subHtml=r.images[i]["linkname"];lg_elems.push(lg_elem);$(".photoslider2_wideview .swiper-wrapper",div).append(slidehtml);if(bLink)setLink("i"+i,r.images[i]["linkdata"]);if(!nothumbs&&r.options&&r.options.thumbposition!="nothumbs"){$(".photoslider2_thumbs .swiper-wrapper",div).append('<div class="swiper-slide" style="background-image: url('+img_quarterscreen+'); height:'+thumbheight+'px; background-size:cover"></div>');}}
var transition=r.options&&r.options.transition||"fade";if(isIE&&r.options.transition=="cube")transition="slide";if(isIE_9||isIE_8){transition="slide";}
if(!nothumbs&&r.options&&r.options.thumbposition!="nothumbs")$(".photoslider2_thumbs .swiper-slide",div).width(thumbwidth).first().addClass("is-selected");if(r.options&&(r.options.align=="center"||r.options.align=="left"||r.options.align=="right"))$(".swiper-slide",div).css("background-position",r.options.align+" center");else $(".swiper-slide",div).css("background-position","center "+r.options.align);if(r.options&&r.options.scale=="fit")$(".photoslider2_wideview .swiper-slide",div).css("background-size","contain");else $(".photoslider2_wideview .swiper-slide",div).css("background-size","cover");if(transition=="cube")$(".photoslider2_wideview",div).css({"overflow":"inherit"});else $(".photoslider2_wideview",div).css({"overflow":"hidden"});if(r.options&&r.options.showbuttons=="true"){$(".swiper-buttons",div).addClass("show");$(".photoslider2_notebody",div).addClass("showbuttons");}else{$(".swiper-buttons",div).removeClass("show");$(".photoslider2_notebody",div).removeClass("showbuttons");}
if(r.options&&r.options.autostart=="true"){$(".swiper-button-play",div).hide();$(".swiper-button-stop",div).show();}else{$(".swiper-button-play",div).show();$(".swiper-button-stop",div).hide();}
var galleryTop_init=false;var galleryThumbs_init=false;var galleryTop=new Swiper("#"+div.id+" .photoslider2_wideview",{"nextButton":'.swiper-button-next2',"prevButton":'.swiper-button-prev2',"spaceBetween":0,"setWrapperSize":true,"speed":500,"effect":transition,"fade":{"crossFade":true},"cube":{"slideShadows":true,"shadow":false,"shadowOffset":2,"shadowScale":0.94},"onSlideChangeStart":function(swiper){if(nothumbs||(r.options&&r.options.thumbposition=="nothumbs"))return;var activeIndex=swiper.activeIndex;$(galleryThumbs.slides).removeClass('is-selected');$(galleryThumbs.slides).eq(activeIndex).addClass('is-selected');galleryThumbs.slideTo(activeIndex,500,false);},"onSlideChangeEnd":function(swiper){if(qsn_isTouchDevice())$(".swiper-comment",div).ellipsis({"html":true,"height":64});},"autoplay":parseInt(r.options.phototimer,10)*1000,"autoplayDisableOnInteraction":false,"autoplayStopOnLast":Boolean(r.options&&r.options.loop=="false"),"direction":(nothumbs||r.options.thumbposition=="top"||r.options.thumbposition=="bottom"||isIE_9||isIE_8?"horizontal":"vertical"),"pagination":((nothumbs&&r.options&&r.options.thumbposition!="nothumbs")?".swiper-pagination":null),"paginationType":"fraction","onInit":function(swiper){galleryTop_init=true;if(haveto_fold&&(!(!nothumbs&&r.options&&r.options.thumbposition!="nothumbs")||galleryThumbs_init)){qsn_foldclick(div.id,null,false,true);haveto_fold=false;}}});if(nothumbs&&r.options&&r.options.thumbposition!="nothumbs"){if(qsn_isTouchDevice()){$(".swiper-button-prev2, .swiper-button-next2",div).hide();$(".swiper-pagination > span",div).css("color","#ffffff");}else{$(".swiper-container",div).height(function(){return $(this).height()+$(".swiper-container .swiper-pagination",div).height();});}}
if(qsn_isTouchDevice()){quomodoFonts.waitSpaceFonts(function(){$(".swiper-comment",div).ellipsis({"html":true,"height":64});});}
var thumbs_translate;if(!nothumbs&&r.options&&r.options.thumbposition!="nothumbs"){var galleryThumbs=new Swiper("#"+div.id+" .photoslider2_thumbs",{"spaceBetween":10,"centeredSlides":false,"slidesPerView":"auto","touchRatio":0.2,"setWrapperSize":true,"freeMode":true,"onClick":function(swiper,event){var clicked=swiper.clickedIndex;$(swiper.slides).removeClass('is-selected');$(swiper.clickedSlide).addClass('is-selected');galleryTop.slideTo(clicked,500,false);if(r.onThumbClick){var h;try{h=eval("("+r.onThumbClick+")");}catch(err){}
if(h)h(swiper,event);}},"direction":(r.options.thumbposition=="top"||r.options.thumbposition=="bottom"?"horizontal":"vertical"),"onSetTranslate":function(swiper,translate){thumbs_translate=translate;},"onInit":function(swiper){galleryThumbs_init=true;if(haveto_fold&&galleryTop_init){qsn_foldclick(div.id,null,false,true);haveto_fold=false;}}});if(r.options.thumbposition=="top")$(".photoslider2_thumbs",div).prependTo($(".photoslider2_playerdiv",div)).css({"padding":"0 0 10px 0"});else if(r.options.thumbposition=="bottom")$(".photoslider2_thumbs",div).appendTo($(".photoslider2_playerdiv",div)).css({"padding":"10px 0 0 0"});else if(r.options.thumbposition=="left")$(".photoslider2_thumbs",div).prependTo($(".photoslider2_playerdiv",div)).css({"padding":"0 10px 0 0"});else if(r.options.thumbposition=="right")$(".photoslider2_thumbs",div).appendTo($(".photoslider2_playerdiv",div)).css({"padding":"0 0 0 10px"});var thumbs_interval=null;if(!thumbs_translate)thumbs_translate=parseInt(galleryThumbs.translate,10);$(".photoslider2_thumbs",div).unbind("mouseenter").on("mouseenter",function(event){if(galleryTop.autoplayTimeoutId)$(div).data("wasplaying",true);galleryTop.stopAutoplay();});$(".photoslider2_thumbs",div).unbind("mouseleave").on("mouseleave",function(){if($(div).data("wasplaying")){galleryTop.startAutoplay();$(div).data("wasplaying",false);}
clearInterval(thumbs_interval);thumbs_interval=null;});$(".photoslider2_thumbs",div).unbind("mousemove").on("mousemove",function(event){var event=event||window.event;div.thex=q_clientX(event);div.they=q_clientY(event);var swiperTop=$(this).offset().top;var swiperBottom=swiperTop+$(this).height();var swiperLeft=$(this).offset().left;var swiperRight=swiperLeft+$(this).width();if(!thumbs_interval)thumbs_interval=setInterval(function(){if(r.options.thumbposition=="top"||r.options.thumbposition=="bottom"){var wrapperLeft=$(".photoslider2_thumbs .swiper-wrapper",div).offset().left;var wrapperRight=$(".photoslider2_thumbs .swiper-wrapper",div).offset().left+$(".photoslider2_thumbs .swiper-wrapper",div).width();if(div.thex>=swiperLeft&&div.thex<=swiperLeft+50&&wrapperLeft<swiperLeft&&wrapperRight-10>=swiperRight)thumbs_translate+=1;if(div.thex>=(swiperRight-50)&&div.thex<=swiperRight&&wrapperLeft<=swiperLeft&&wrapperRight-10>swiperRight)thumbs_translate-=1;$(".photoslider2_thumbs .swiper-wrapper",div).css({"transform":"translate3d( "+thumbs_translate+"px, 0px, 0px)"});}else{var wrapperTop=$(".photoslider2_thumbs .swiper-wrapper",div).offset().top;var wrapperBottom=$(".photoslider2_thumbs .swiper-wrapper",div).offset().top+$(".photoslider2_thumbs .swiper-wrapper",div).height();if(div.they>=swiperTop&&div.they<=swiperTop+50&&wrapperTop<swiperTop&&wrapperBottom-10>=swiperBottom)thumbs_translate+=1;if(div.they>=(swiperBottom-50)&&div.they<=swiperBottom&&wrapperTop<=swiperTop&&wrapperBottom-10>swiperBottom)thumbs_translate-=1;$(".photoslider2_thumbs .swiper-wrapper",div).css({"transform":"translate3d( 0px, "+thumbs_translate+"px, 0px)"});}},5);});$(div).data("swiper_th",galleryThumbs);}
if(!r.options||r.options.autostart=="false"||$(div).data("dragging"))galleryTop.stopAutoplay();$(div).data("swiper",galleryTop);$(".swiper-button-fullscreen",div).unbind("click").on("click",function(){$(this).lightGallery({"thumbnail":false,"dynamic":true,"dynamicEl":lg_elems,"index":galleryTop.activeIndex});$(this).on("onCloseAfter.lg",function(){if($(this).data('lightGallery'))$(this).data('lightGallery').destroy(true);});});if(r.options&&r.options.render_play){if($(".swiper-play",div).length==0)$(".photoslider2_wideview",div).append('<div class="swiper-play" onclick="photoslider2_play( this )"></div>');}}
function photoslider2_device_resize(device,div){q_changedwidth(div,qsn_responsive_width(div.id,device));if(qsn_isTouchDevice())$(div).addClass("touchmod");else $(div).removeClass("touchmod");}
function photoslider2_play(elem){var div=getContainer(elem);$(div).data("swiper").startAutoplay();$(".swiper-button-play",div).hide();$(".swiper-button-stop",div).show();$(".swiper-play",div).hide();}
function photoslider2_stop(elem){var div=getContainer(elem);$(div).data("swiper").stopAutoplay();$(".swiper-button-play",div).show();$(".swiper-button-stop",div).hide();$(".swiper-play",div).show();}
function photoslider2_getimgratio(x){if(x.tagName)var r=qsn_thenotes[getContainer(x).id];else var r=x;if((typeof r.imgratio)=="string")return[0.25,0.33,0.5,0.75,1,1.25,1.5][parseInt(r.imgratio,10)];return r.imgratio;}
var rss2_message={"deleteprompt":"Etes-vous sûr de vouloir supprimer ce fil RSS ?","notetitleprompt":"Entrez le titre de la note","notedescprompt":"Entrez ici votre description","exist":"Ce fil RSS figure déjà dans la liste","howto":"comment ça marche ?","chosenews":"Choisissez votre groupe d'actualités","cancel":"annuler","validate":"ok","close":"fermer","confirmdelete":"Etes-vous sûr de vouloir supprimer ce flux RSS de votre liste : ","notyet":"Cette fonction n'est pas encore disponible","plug":"RSS_Affichez les infos de vos sites préférés avec leurs fils RSS.","nourl":"Veuillez rentrer une adresse pour le flux.","norss":"Veuillez renseigner au moins un flux RSS, ou cliquez sur annuler.","taboptions":"Options de la note","displayfeed":"Afficher : ","displaytitle":"Le titre des articles","displaydesc":"Le contenu des articles","displayimg":"Le titre et résumé des articles","displayenhanced":"Mise en avant premier article","nbfeed":"Nb d'articles par page : ","clicknews":"Clic sur une news...","openswebsite":"va directement sur le site","nohash":"va sur la page, supprime le lien vers une note","displaydate":"Date :","hidetime":"afficher la date sans l'heure","invalidfeed":"Cette adresse ne correspond pas à un flux RSS. Merci de réessayer avec une autre adresse.","addfeed":"Ajouter un flux RSS à la liste","addfeed_title":"Indiquez le titre du Flux : ","addfeed_url":"Indiquez l'adresse (URL) du Flux : ","addfeed_preset":"Sélectionnez un élément du menu ci-dessous, ou bien indiquez le titre et l'url du flux rss à ajouter :","addfeed_preset_select":"Flux préselectionnés","addfeed_preset_choose":"Sélectionnez un flux RSS","addfeed_ownfeed":"<u>Remarque :</u><br />Votre site aussi a son flux RSS (<span class=\"rss2_ownfeed\"></span>), constitué avec le contenu des dernières notes \"Billet\" publiées. <br />Pensez à l'utiliser pour présenter les nouveautés de votre club, ou à le communiquer à vos membres."};var rss2_default_feeds={"Billard":[{name:"FFBillard (Billard) - Info Fédé",url:"http://www.ffbillard.com/index.php?option=com_rss&feed=RSS.0&no_html=1"}],"Boxe":[{name:"Sport365 - Les Articles - Boxe",url:"http://www.sport365.fr/rss/filinfo.xml?collection=1365"},{name:"Eurosport - Boxe",url:"http://www.eurosport.fr/boxe/rss-flash.xml"}],"Judo":[{name:"Sport365 - Les Articles - Judo",url:"http://www.sport365.fr/rss/filinfo.xml?collection=1371"}],"Tennis":[{name:"Sport.fr - Tennis",url:"http://www.sport.fr/RSS/sport3.xml"},{name:"Sport.fr - Roland Garros",url:"http://www.sport.fr/rss/rss3.aspx?sport=2571"},{name:"Sport365 - Les Articles - Tennis",url:"http://sport365.feedsportal.com/c/356/f/599900/index.rss"},{name:"Sport24 - L'intégrale Tennis",url:"http://www.sport24.com/rssfeeds/sport24-tennis.xml"},{name:"Sport24 - Tennis - ATP",url:"www.sport24.com/layout/set/smilerss/content/view/smilerss/118"},{name:"Sport24 - Tennis - WTA",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/122"},{name:"Sport24 - Tennis - Coupe Davis",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/126"},{name:"Sport24 - Tennis - Fed Cup",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/128"},{name:"Sport24 - Tennis - Roland Garros",url:"www.sport24.com/layout/set/smilerss/content/view/smilerss/133"},{name:"Sport24 - Tennis - Open Australie",url:"www.sport24.com/layout/set/smilerss/content/view/smilerss/129"},{name:"Sport24 - Tennis - US Open",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/2186"},{name:"Sport24 - Tennis - Wimbledon",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/137"},{name:"Eurosport - Tennis",url:"http://www.eurosport.fr/tennis/rss-flash.xml"},{name:"L'équipe - Tennis",url:"http://www.lequipe.fr/Xml/Tennis/Titres/actu_rss_Tennis.xml"},{name:"FranceTV - Tennis",url:"http://feeds.feedburner.com/francetv-sports/tennis?format=xml"},{name:"Le Figaro - Tennis",url:"http://www.lefigaro.fr/rss/figaro_tennis.xml"}],"Basket":[{name:"Sport.fr - Basket France/Europe",url:"www.sport.fr/RSS/sport4.xml"},{name:"Sport365 - Les Articles - Basket",url:"http://sport365.feedsportal.com/c/356/f/599889/index.rss"},{name:"Sport24 - L'intégrale Basket/NBA",url:"http://www.sport24.com/rssfeeds/sport24-basket.xml"},{name:"Sport24 - Basket Pro A",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/150"},{name:"Sport24 - Basket NBA",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/154"},{name:"Sport24 - Basket Euroligue",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/157"},{name:"Eurosport - Basket",url:"http://www.eurosport.fr/basketball/rss-flash.xml"},{name:"L'équipe - Basket",url:"http://www.lequipe.fr/Xml/Basket/Titres/actu_rss_Basket.xml"},{name:"FranceTV - Basket, Hand et Volley",url:"http://feeds.feedburner.com/francetv-sports/basket-hand-volley?format=xml"},{name:"Le Figaro - Basket",url:"http://www.lefigaro.fr/rss/figaro_basket.xml"},{name:"Google news - Basket",url:"http://news.google.com/news?ned=fr&hl=fr&ned=fr&q=basket&ie=UTF-8&output=rss"}],"Football":[{name:"Sport.fr - Football",url:"http://www.sport.fr/RSS/sport1.xml"},{name:"Sport.fr - Ligue 1",url:"http://www.sport.fr/rss/rss3.aspx?sport=4221"},{name:"Sport.fr - Ligue des champions",url:"http://www.sport.fr/rss/rss3.aspx?sport=147"},{name:"Sport.fr - Equipe de France",url:"http://www.sport.fr/rss/rss3.aspx?sport=975"},{name:"Sport.fr - Euro 2008",url:"http://www.sport.fr/rss/rss3.aspx?sport=1184"},{name:"Sport365 - Les Articles - Football",url:"http://www.sport365.fr/rss/filinfo.xml?collection=33"},{name:"Sport24 - L'intégrale Football",url:"http://www.sport24.com/rssfeeds/sport24-football.xml"},{name:"Sport24 - Football - Ligue 1",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/60"},{name:"Sport24 - Football - Ligue 2",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/70"},{name:"Sport24 - Football - Coupe de France",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/78"},{name:"Sport24 - Football - Coupe de la Ligue",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/81"},{name:"Sport24 - Football - Championnats étrangers",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/84"},{name:"Sport24 - Football - Allemagne",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/995"},{name:"Sport24 - Football - Angleterre",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/996"},{name:"Sport24 - Football - Italie",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/1000"},{name:"Sport24 - Football - Espagne",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/999"},{name:"Sport24 - Football - Portugal",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/1002"},{name:"Sport24 - Football - Ligue des Champions",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/94"},{name:"Sport24 - Football - Coupe UEFA",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/101"},{name:"Sport24 - Football - Equipe de France",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/108"},{name:"Sport24 - Football - Euro 2008",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/4829"},{name:"Eurosport - Football",url:"http://www.eurosport.fr/football/rss-flash_sea70.xml"},{name:"L'équipe - Foot  ",url:"http://www.lequipe.fr/Xml/Football/Titres/actu_rss.xml"},{name:"FranceTV - Football",url:"http://feeds.feedburner.com/francetv-sports/football?format=xml"},{name:"Le Figaro - Football",url:"http://www.lefigaro.fr/rss/figaro_football.xml"}],"Handball":[{name:"Sport.fr - Basket, Hand et Volley",url:"http://www.sport.fr/RSS/sport4.xml"},{name:"Sport365 - Les Articles - Handball",url:"http://www.sport365.fr/rss/filinfo.xml?collection=1370"},{name:"Sport24 - L'intégrale Handball",url:"http://www.sport24.com/rssfeeds/sport24-handball.xml"},{name:"Sport24 - Handball - Division 1",url:"http://www.sport24.com/rssfeeds/sport24-handball.xml"},{name:"L'équipe - Handball",url:"http://www.lequipe.fr/Xml/Basket/Titres/actu_rss_Hand.xml"},{name:"FranceTV - Basket, Hand et Volley",url:"http://feeds.feedburner.com/francetv-sports/basket-hand-volley?format=xml"}],"Hockey sur Gazon":[{name:"FFHockey (Hockey) - Info Fédé",url:"http://www.ffhockey.org/index2.php?option=com_rss&feed=RSS.0&no_html=1"}],"Rugby":[{name:"Sport.fr - Rugby",url:"http://www.sport.fr/RSS/sport2.xml"},{name:"Sport365 - Les Articles - Rugby",url:"http://rugby365.feedsportal.com/c/32983/f/532370/index.rss"},{name:"Sport24 - L'intégrale Rugby",url:"http://www.sport24.com/rssfeeds/sport24-rugby.xml"},{name:"Sport24 - Rugby - Top 14",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/169"},{name:"Sport24 - Rugby - H Cup",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/174"},{name:"Sport24 - Rugby - VI Nations",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/177"},{name:"RugbyRama - Rugby  ",url:"http://www.rugbyrama.fr/rugby/rss.xml"},{name:"RugbyRama - Top 14",url:"http://www.rugbyrama.fr/rugby/top-14/rss.xml"},{name:"RugbyRama - Coupe d'Europe",url:"http://www.rugbyrama.fr/rugby/coupe-d-europe/rss.xml"},{name:"RugbyRama - Six Nations",url:"http://www.rugbyrama.fr/rugby/6-nations/rss.xml"},{name:"RugbyRama - TriNation",url:"http://www.rugbyrama.fr/rugby/tri-nations/rss.xml"},{name:"L'équipe - Rugby",url:"http://www.lequipe.fr/Xml/Rugby/Titres/actu_rss.xml"},{name:"FranceTV - Rugby",url:"http://feeds.feedburner.com/francetv-sports/rugby?format=xml"},{name:"Le Figaro - Rugby",url:"http://www.lefigaro.fr/rss/figaro_rugby.xml"}],"Volleyball":[{name:"Sport.fr - Volley",url:"http://www.sport.fr/RSS/sport4.xml"},{name:"Sport365 - Les Articles - Volley",url:"http://www.sport365.fr/rss/filinfo.xml?collection=1378"},{name:"Sport24 - L'intégrale Volley",url:"http://www.sport24.com/rssfeeds/sport24-volley.xml"},{name:"Sport24 - Volley - Ligue A",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/274"},{name:"L'équipe - Volley",url:"http://www.lequipe.fr/Xml/Basket/Titres/actu_rss_Volley.xml"},{name:"FranceTV - Basket, Hand et Volley",url:"http://feeds.feedburner.com/francetv-sports/basket-hand-volley?format=xml"}],"Athlétisme":[{name:"Sport365 - Les Articles - Athlétisme",url:"http://www.sport365.fr/rss/filinfo.xml?collection=1364"},{name:"Sport24 - L'intégrale Athlétisme",url:"http://www.sport24.com/rssfeeds/sport24-athletisme.xml"},{name:"L'équipe - Athlé",url:"http://www.lequipe.fr/Xml/Aussi/Titres/actu_rss_Athletisme.xml"},{name:"FranceTV - Athlétisme",url:"http://feeds.feedburner.com/francetv-sports/athletisme?format=xml"}],"Cyclisme":[{name:"Sport.fr - Cyclisme",url:"http://www.sport.fr/RSS/sport6.xml"},{name:"Sport.fr - Tour de France",url:"http://www.sport.fr/rss/rss3.aspx?sport=99"},{name:"Sport365 - Les Articles - Cyclisme",url:"http://www.sport365.fr/rss/filinfo.xml?collection=162"},{name:"Eurosport - Cyclisme",url:"http://www.eurosport.fr/cyclisme/rss-flash.xml"},{name:"L'équipe - Cyclisme",url:"http://www.lequipe.fr/Xml/Cyclisme/Titres/actu_rss.xml"},{name:"FranceTV - Cyclisme",url:"http://feeds.feedburner.com/francetv-sports/cyclisme?format=xml"},{name:"Le Figaro - Cyclisme",url:"http://www.lefigaro.fr/rss/figaro_cyclisme.xml"}],"Golf":[{name:"Sport.fr - Golf",url:"http://www.sport.fr/RSS/sport7.xml"},{name:"Sport365 - Les Articles - Golf",url:"http://www.sport365.fr/rss/filinfo.xml?collection=1368"},{name:"Eurosport - Golf",url:"http://www.eurosport.fr/golf/rss-flash.xml"},{name:"L'équipe - Golf",url:"http://www.lequipe.fr/Xml/Tennis/Titres/actu_rss_Golf.xml"},{name:"Le Figaro - Golf",url:"http://golf.lefigaro.fr/rss/rss_flash-golf.xml"},{name:"FFGolf (Golf) - Info Fédé",url:"http://www.ffgolf.org/rss.aspx?origine=rubrique&id=0"}],"Gymnastique":[{name:"FFGym (Gymnastique) - Info Fédé",url:"http://www.ffgym.com/rss/feed/flash"}],"Natation":[{name:"Sport365 - Les Articles - Natation",url:"http://www.sport365.fr/rss/filinfo.xml?collection=1372"},{name:"Eurosport - Natation",url:"http://www.eurosport.fr/natation/rss-flash.xml"},{name:"FFN (Natation) - Général",url:"http://www.ffnatation.fr/media/news/0_rss.xml"}],"Aérostation (montgolfieres)":[{name:"FFAerostation (Mongolfière) - Général",url:"http://www.ffaerostation.org/index.php?format=feed&type=rss"}],"Equitation":[{name:"FFE (Fédé Equitation) - Général :",url:"http://www.1cheval.com/rss/rss.php"}],"Voile":[{name:"Sport365 - Les Articles - Voile",url:"http://www.sport365.fr/rss/filinfo.xml?collection=1377 "},{name:"Sport24 - Voile",url:"http://www.sport24.com/rssfeeds/sport24-voile.xml"},{name:"L'équipe - Voile",url:"http://www.lequipe.fr/Xml/Aussi/Titres/actu_rss_Voile.xml"},{name:"FranceTV - Voile",url:"http://feeds.feedburner.com/francetv-sports/voile?format=xml"},{name:"Le Figaro - Voile",url:"http://www.lefigaro.fr/rss/figaro_voile.xml"}],"Automobile":[{name:"Sport.fr - Sports Auto",url:"http://www.sport.fr/RSS/sport5.xml"},{name:"Sport365 - Les Articles - Auto-Moto",url:"http://www.sport365.fr/rss/filinfo.xml?collection=1356"},{name:"Sport24 - L'intégrale Auto/Moto",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/220"},{name:"TF1 - Auto-Moto",url:"http://www.tf1.fr/xml/rss/0,,538,00.xml"},{name:"Eurosport - Auto-moto",url:"http://www.eurosport.fr/automoto/rss-flash.xml"},{name:"L'équipe - Général Auto-Moto",url:"http://www.lequipe.fr/rss/actu_rss_Auto-Moto.xml"}],"Formule 1":[{name:"Sport.fr - Formule 1",url:"http://www.sport.fr/rss/rss3.aspx?sport=3811"},{name:"Sport24 - Formule 1",url:"http://www.sport24.com/rssfeeds/sport24-formule1.xml"},{name:"L'équipe - F1",url:"http://www.lequipe.fr/Xml/Formule1/Titres/actu_rss_F1.xml"}],"Formule 3000":[{name:"Sport.fr - Formule 1",url:"http://www.sport.fr/rss/rss3.aspx?sport=3811"},{name:"Sport24 - Formule 1",url:"http://www.sport24.com/rssfeeds/sport24-formule1.xml"},{name:"L'équipe - F1",url:"http://www.lequipe.fr/Xml/Formule1/Titres/actu_rss_F1.xml"}],"Moto":[{name:"Sport.fr - Moto",url:"http://www.sport.fr/RSS/sport5.xml"},{name:"Sport365 - Les Articles - Auto-Moto",url:"http://www.sport365.fr/rss/filinfo.xml?collection=1356"},{name:"Sport24 - L'intégrale Auto/Moto",url:"http://www.sport24.com/layout/set/smilerss/content/view/smilerss/220"},{name:"Sport24 - Moto",url:"http://www.sport24.com/rssfeeds/sport24-moto.xml"},{name:"TF1 - Auto-Moto",url:"http://www.tf1.fr/xml/rss/0,,538,00.xml"},{name:"Eurosport - Auto-moto",url:"http://www.eurosport.fr/automoto/rss-flash.xml"},{name:"L'équipe - Général Auto-Moto",url:"http://www.lequipe.fr/rss/actu_rss_Auto-Moto.xml"},{name:"L'équipe - Moto",url:"http://www.lequipe.fr/rss/actu_rss_Moto.xml"}],"Rallye Auto":[{name:"Sport.fr - Rallyes WRC",url:"http://www.sport.fr/rss/rss3.aspx?sport=4817"},{name:"Sport24 - Rallye",url:"http://www.sport24.com/rssfeeds/sport24-rallye.xml"},{name:"L'équipe - Rallye",url:"http://www.lequipe.fr/Xml/Formule1/Titres/actu_rss_Rallye.xml"}],"Ski":[{name:"Sport.fr - Ski",url:"http://www.sport.fr/RSS/sport8.xml"},{name:"L'équipe - Ski  ",url:"http://www.lequipe.fr/Xml/Aussi/Titres/actu_rss_Ski.xml"},{name:"FFS (Ski) - Infos Fédérales",url:"http://www.ffs.fr/site/rss.php"},{name:"FFS (Ski) - Modif Calendrier",url:"http://www.ffs.fr/site/rss2.php"}],"Surf":[{name:"SurfingFrance (Surf) - Info Fédé",url:"http://www.surfingfrance.com/actualites/RSS"}]};var rss2_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("rss2_msgs_fr_js_loaded");var rss2_json_template={version:2,text:"",header:{display:"true",text:"",icon:"false"},title:"",keywords:[],pagesize:5,rssfeeds:[],rsstemp:[],displaycount:5,rssItems:null,common:{width:310},displaydesc:"false",displaydate:"true",openswebsite:"false","displaymode":"0"};function rss2_getheadericon(noteid){var r=qsn_thenotes[noteid];if(r.header.icon=="false")return "";return "/services/rss2/images/rss48.png";}
function rss2_upgradejson(r){if(!r.version)r.version=1;if(r.version==rss2_json_template.version)return r;if(r.version<2)r=rss2_upgradejsontov2(r);r.version=rss2_json_template.version;if(!r.displaydesc)r.displaydesc=rss2_json_template.displaydesc;return r;}
function rss2_upgradejsontov2(r){if(r.textstyles&&r.textstyles.center)r.center=(r.textstyles&&r.textstyles.center)||"false";var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);if(r.displaydesc=="true")r.displaymode="1";else r.displaymode="0";delete r.displaydesc;delete r.displaydate;return r;}
function rss2_version(notekind){return{margin:1,rpd:1};}
var rss2_timers={};function rss2_initforweb(noteid){rss2_refresh(noteid,true);}
function rss2_refresh(noteid,forceRefresh){if(qsn_currstate=="edit"||(!forceRefresh&&q_fsmpresent()))return;var div;var r;div=ge(noteid);if(isremoved(div))return clearInterval(rss2_timers[noteid]);hideshowblock(gebcn(div,"rss2_content"),gebcn(div,"rss2_loading"));r=qsn_thenotes[div.id];rss2_getitems(div,r,forceRefresh);hideblock(gebcn(div,"rss2_filtered"));}
function rss2_device_resize(device,div){q_changedwidth(div,qsn_responsive_width(div.id,device));var pc=div.rssPageContainer;if($(".tablenotecontent",div).css("display")=="none"){$(".tablenotecontent",div).show();var hide_content=true;}
if(pc)rss2_renderitems(div,pc.GetCurrentPage());if(hide_content)$(".tablenotecontent",div).hide();if(device=="xs"){if($(".rss2_viewer").length>0)$(".rss2_viewer").width($(window).width()-82);}else{if($(".rss2_viewer").length>0)$(".rss2_viewer").css("width","");}}
function rss2_getitems(div,r,forceRefresh){div.rssPageContainer=div.rssContainer=null;var ar=[];for(var i=0;i<r.displaycount;i++)ar.push(null);hideshowblock(gebcn(div,"rss2_content"),gebcn(div,"rss2_loading"));var rssChannel,request;rssfeedscopy=[].concat(r.rssfeeds);r.rsstemp=[].concat(tofeedswoname(rssfeedscopy));if(r.rsstemp.length>0)rss2_load(r.rsstemp.pop(),div,forceRefresh);else{hideshowblock(gebcn(div,"rss2_loading"),gebcn(div,"rss2_content"));rss2_renderitems(div,ar);}}
function tofeedswoname(myArray){var newArray=[];var myelem;while(myArray.length>0){myelem=myArray.pop();if(myelem.visible)newArray.push(myelem.url);}
return newArray;}
function rss2_rendercount(div,count){gebcn(div,'rss2_count').innerHTML='('+count+')';}
function rss2_timeprefix(item,prefix,r){if(!item.Time)return "";var t=item.Time;var res=twodigs(t.getDate())+"."+twodigs(t.getMonth()+1);if(!(r.hidetime||(window.quomodoclient&&quomodoclient.rssHideTime)))res=res+" "+twodigs(t.getHours())+":"+twodigs(t.getMinutes())+prefix;return res;}
function rss2_isv9(div){return $(".rss2_v9_items",div).length>0;}
function rss2_renderitems(div,items){var rss2_debug=0;try{if(isremoved(div))return;var noteid=div.id;var r=qsn_thenotes[noteid];var list=gebcn(div,'rss2_v9_items');if(!list){div=ge(noteid);if(isremoved(div))return;list=gebcn(div,'rss2_v9_items');if(!list)return;}
if(list.tagName=="UL"){var table=$('<table cellspacing="0" cellpadding="0" border="0" width="100%" class="rss2_v9_item"></table>');$(list).before(table).remove();list=table;}
$(list).empty();if(!items){return;}
rss2_debug++;var pc=div.rssPageContainer;for(var i=0;i<items.length;i++){var item=items[i];if((r.nohash||(window.quomodoclient&&quomodoclient.rssNoHash))&&item&&item.Url)item.Url=item.Url.replace(/#.*/,"");var tr_hr=$('<tr></tr>').appendTo(list);tr_hr.append('<div class="hr"></div>');var tr=$('<tr></tr>').appendTo(list);var td=$('<td class="rss2_v9_item rpd-list-item '+(i==0?"first":"")+(i==(items.length-1)?"last":"")+'" ></td>').appendTo(tr);var myelem=$('<div class="rss2_div_resize"></div>');if(item){if($.inArray(qsn_thenotes[noteid].displaymode,["2","3"])!=-1){myelem.append('<div class="rss2_image_wrapper rpd-imr"></div>');}
var title_elem=$('<span class="rss2_an_item"><a href="'+item.Url+'" title="'+item.Site+'" '+((r.nohash||(window.quomodoclient&&quomodoclient.rssNoHash))?'':'target="_blank" ')+'class="rpd-h5 rpd-link"><span class="rss2_title">'+item.Title.replace(/<[^>]+>?/g,"").replace(//g,"’")+'</span></a></span>');myelem.append(title_elem);if(qsn_thenotes[noteid].displaymode!="0")myelem.append('<div class="rss2_date rpd-p2 rpd-halfpr">'+rss2_timeprefix(item,"",qsn_thenotes[noteid])+'</div>');else title_elem.prepend('<a href="'+item.Url+'" title="'+item.Site+'" '+((r.nohash||(window.quomodoclient&&quomodoclient.rssNoHash))?'':'target="_blank" ')+'style="text-decoration:none" class="rpd-halfpr"><span class="rss2_date rpd-p2">'+rss2_timeprefix(item,"",qsn_thenotes[noteid])+'</span></a>');$(".rss2_an_item",myelem).css({"text-decoration":"none","display":"block","cursor":"pointer"});$(".rss2_an_item",myelem).mousedown(function(event){q_stopPropagation(event);});$(".rss2_an_item",myelem).click(function(event){if(qsn_thenotes[noteid].openswebsite=="true")return true;rss2_viewitem(this,event,r.rpd);return false;});$(".rss2_an_item",myelem).data("item",item);if(qsn_thenotes[noteid].displaymode!="0"){myelem.append($('<div class="rss2_an_item_desc rpd-p1" style="white-space:normal"></div>').html(item.Content));}}else myelem.append('<a class="rss2_an_item rpd-h5" style="text-decoration:none; display:block; cursor:pointer;"> </a>');td.append(myelem);if(item&&/^<br/.test(item.Content)&&qsn_thenotes[noteid].displaymode!="0"){$(".rss2_an_item_desc br:eq(0)",myelem).remove();}
myelem.get(0).widthrule=function(w){return Math.max(0,w-parseInt(RPD.contentMargin(r.rpd).right,10)*2-(RPD.hasborder(r.rpd)?2:0));};if(i==(items.length-1)){var tr_hr=$('<tr></tr>').appendTo(list);tr_hr.append('<div class="hr"></div>');}
if(qsn_thenotes[noteid].displaymode!="0")$(".rss2_an_item",myelem).css({"text-overflow":"inherit","white-space":"normal"});else $(".rss2_an_item",div).css({"text-overflow":"ellipsis","white-space":"nowrap"});if($.inArray(qsn_thenotes[noteid].displaymode,["2","3"])!=-1){var $src=$(".rss2_an_item_desc img:eq(0)",myelem);var $wrapper=$(".rss2_image_wrapper",myelem);var src=$src.attr("src");if(!src){$wrapper.css({"width":"25%"});var h=$wrapper.width();$wrapper.hide();if(!(qsn_thenotes[noteid].displaymode=="3"&&i==0&&window.quomodoclient&&quomodoclient.rssNoEllipsisForFirstEnhanced&&pc.IsFirstPage()))$(myelem).ellipsis({height:h,html:true});}else{$.each(["formats","imagewidth","imageheight"],function(index,value){var v=$src.attr(value);if(v)$wrapper.attr(value,v);});$wrapper.css({"background-image":"url("+src+")","width":"25%"});$wrapper.height($wrapper.width());$(".rss2_an_item_desc img",myelem).remove();if(!(qsn_thenotes[noteid].displaymode=="3"&&i==0&&window.quomodoclient&&quomodoclient.rssNoEllipsisForFirstEnhanced&&pc.IsFirstPage()))$(myelem).ellipsis({height:$wrapper.height(),html:true});}}}
rss2_debug++;if(pc){$(".rss2_pre, .rss2_pre_new",div).toggle(!pc.IsFirstPage());$(".rss2_next, .rss2_next_new",div).toggle(!pc.IsLastPage());}else $(".rss2_pre, .rss2_next, .rss2_pre_new, .rss2_next_new",div).hide();rss2_debug++;rss2_debug++;qsn_jcssmanagerapply(div,r);rss2_debug++;div.toresize=function(){var x=$(".rss2_div_resize",this).get();x=x.concat(qsn_container_toresize(this));return x;};var w=0;$(".rss2_date",div).each(function(){w=Math.max(w,this.offsetWidth);});$(".rss2_date",div).width(w);q_changedwidth(div,qsn_responsive_width(r.common.noteid));if(qsn_thenotes[div.id].displaymode=="3"){var $target=$(div).find(".rss2_v9_items");if(pc.IsFirstPage()){var w=$target.width();var $img=$target.find(".rpd-list-item.first .rss2_image_wrapper");var formats=$img.attr("formats");if(formats){formats=eval("("+formats+")");var screenFilename=formats["screen"];var cssUrl=$img.css("background-image");$img.css("background-image",cssUrl.replace(/\/[^\/"]+(["')])/,"/"+screenFilename+"$1"));}
var imgh=Math.round(w/2);if(qsn_thenotes[div.id].originalRatio){var imagewidth=parseInt($img.attr("imagewidth"),10);var imageheight=parseInt($img.attr("imageheight"),10);if(!isNaN(imagewidth)&&!isNaN(imageheight))imgh=Math.round(imageheight*w/imagewidth);}
$img.removeClass("rpd-imr").addClass("rpd-imb").css("width","100%").css("height",""+imgh+"px");$target.find(".rpd-list-item.first .rss2_an_item").css("clear","both");}
$target.find(".rpd-list-item").css("padding","0px");$target.find(".hr").css("margin","35px 0").each(function(i){if(i==0){$(this).hide();}else{if($(this).parents("tr").eq(0).next().find(".rss2_an_item_desc").length==0)$(this).hide();}});if(pc.GetPageNum()>1){var $currentPage=$(div).find(".rss2_v9_pager .rss2_currentpage");if($currentPage.length==0){$(div).find(".rss2_v9_pager").prepend('<span class="rss2_currentpage"></span>');$currentPage=$(div).find(".rss2_v9_pager .rss2_currentpage");}
$currentPage.text(""+(pc.GetPageIndex()+1)+"/"+pc.GetPageNum());}}
if(window.quomodoclient&&quomodoclient.rss2_renderitemsFinalize)quomodoclient.rss2_renderitemsFinalize(div);}catch(e){debugmail("in rss2/rss2_renderitems (debug v.2012-08-07) for "+noteid+" step "+rss2_debug+" : "+e.message+"\r"+"club_menubariconsize="+window.club_menubariconsize+" - club_sitecolorpalette="+window.club_sitecolorpalette+" - club_siteelemscolor="+window.club_siteelemscolor+" - qlub0_checked="+window.qlub0_checked);};}
function rss2_resize_div_width(div,wref){var r=qsn_thenotes[div.id];var thew=qsn_responsive_width(div.id)-parseInt(RPD.contentMargin(r.rpd).left,10)-parseInt(RPD.contentMargin(r.rpd).right,10);return wref||thew;}
function rss2_resize_divs(div,wref){$(".rss2_div_resize",div).css("width",Math.round(rss2_resize_div_width(div,wref))+"px");}
function rss2_viewitem(elem,e,rpd){if(qsn_currstate!="view")return;rpd=rpd||"";var noteid=getContainer(elem).id;var sectioncolor=qsn_sectioncolor(noteid);var item=$(elem).data("item");var thehtml=$('<div class="rss2_viewer color_'+sectioncolor.replace(/[+@]/g,"_")+'" style="background-color:'+(rpd?RPD.pbgcolor(rpd,null,sectioncolor):"white")+'"><div class="'+rpd+'"></div></div>');$("> div",thehtml).append($('<div class="rss2_item_title rpd-h4"></div>').append($('<a target="_blank"></a>').attr("href",item.Url).html(item.Title.replace(//g,"’")))).append($('<div class="rss2_item_time rpd-p2"></div>').html(item.Time.toLocaleString())).append($('<div class="rss2_item_content rpd-p1"></div>').html(item.Content.replace(//g,"’")))
thehtml.find("a").addClass("rpd-link");thehtml.find("img:eq(0)").css("margin","0px 15px 0px 0px");q_fsm_reveal({src:thehtml.wrap('<div></div>').parent().html(),closeonly:true,closeoutside:true,reveal_callback:function(){if(qsn_responsive_mod()!="xs")return;$(".rss2_viewer").width($(window).width()-82);$(".q_fsmblockcontainer_block").css({"left":function(){return Math.round((q_windowInnerWidth()-$(this).width())/2)+"px"},"top":function(){return Math.round((q_windowInnerHeight()-$(this).height())/4)+"px";}});}});}
function rss2_search(x,empty){if(qsn_currstate!="view")return;var div=getContainer(x);var r=qsn_thenotes[div.id];if(empty)gebcn(div,'rss2_search_input').value="";gebcn(div,"rss2_cancelbutton").style.display=(empty)?"none":"inline";gebcn(div,"rss2_searchbutton").style.display=(empty)?"inline":"none";try{var txtKeywords=gebcn(div,'rss2_search_input').value;var keywords=rss2_keywordize(txtKeywords);if(keywords.length>0)gebcn(div,"rss2_filtered").style.display="block";else gebcn(div,"rss2_filtered").style.display="none";var content=rss2_filter(div.rssContainer,keywords);rss2_sortbydate(content);var pc;if(!div.rssPageContainer){pc=new PageContainer(content,r.displaycount);div.rssPageContainer=pc;}
else{pc=div.rssPageContainer;pc.SetContent(content);}
rss2_renderitems(div,pc.GetFirstPage());}
catch(e){q_alert(e.message,{},true);}
if(r.rsstemp.length>0)rss2_load(r.rsstemp.pop(),div);else hideshowblock(gebcn(div,"rss2_loading"),gebcn(div,"rss2_content"));}
function rss2_load(url,div,forceRefresh){if(qsn_currstate=="edit"||(!forceRefresh&&q_fsmpresent()))return;if(isremoved(div))return;var noteid=div.id;var r=qsn_thenotes[noteid];if(!r)r=qsn_thenotes[q_idalias[noteid]];rss2_ajaxget("/cgi-bin/cgixml?url="+encodeURIComponent(url),function(xml){hideshowblock(gebcn(div,"rss2_loading"),gebcn(div,"rss2_content"));if($(".tablenotecontent",div).css("display")=="none")$(".tablenotecontent",div).show().attr("tohide",true);var rss2_conteneurs=["item","entry"];var rss2_conteneur;var rss2_title="title";var rss2_description=["description","content","summary"];var rss2_link="link";var rss2_date=["pubDate","updated","dc:date","issued","modified"];for(var i=0;i<rss2_conteneurs.length;i++){if($(rss2_conteneurs[i],xml).length>0){rss2_conteneur=rss2_conteneurs[i];break;}}
if(rss2_conteneur){var currmax=0;var currindex=0;for(var i=0;i<rss2_description.length;i++){if($(rss2_description[i],xml).length>=currmax){currindex=i;currmax=$(rss2_description[i],xml).length;}}
rss2_description=rss2_description[currindex];currmax=0;currindex=0;for(var i=0;i<rss2_date.length;i++){if($(rss2_date[i],xml).length>=currmax){currindex=i;currmax=$(rss2_date[i],xml).length;}}
rss2_date=rss2_date[currindex];var item,author,link,title,description,date,rssItem;var rss2_debug=0;try{if($("title",xml).length>0)author=rss2_getcdata($("title",xml).get(0));var items=$(rss2_conteneur,xml);var rssItems=[];rss2_debug++;$(rss2_conteneur,xml).each(function(i,item){link=title=description=date='';try{link=$(rss2_link,item).eq(0).text()||$(rss2_link,item).eq(0).attr("href");}catch(e){}
try{title=rss2_getcdata($(rss2_title,item).get(0));}catch(e){}
try{description=rss2_getcdata($(rss2_description,item).get(0));description=description.replace(/\r\n/,'<br />').replace(/\n/,'<br />');}catch(e){}
var date=($(rss2_date,item).length)?rss2_extractdate($(rss2_date,item).eq(0).text()):new Date();rssItem=new RssItem(author,link,title,description,date);rssItems.push(rssItem);});rss2_debug++;if(!div.rssContainer)div.rssContainer=rssItems;else div.rssContainer=div.rssContainer.concat(rssItems);rss2_debug++;var content=rss2_filter(div.rssContainer,r.keywords);rss2_debug++;rss2_sortbydate(content);var pc;if(!div.rssPageContainer){pc=new PageContainer(content,r.displaycount);div.rssPageContainer=pc;}else{pc=div.rssPageContainer;pc.SetContent(content);}
rss2_debug++;quomodoFonts.waitSpaceFonts(function(){var div=ge(noteid);rss2_renderitems(div,pc.GetFirstPage());});rss2_debug++;if(q_pagemode()=="makeweb"&&r.makewebdisplay&&$(div).data("resumepause")==1&&window.ASresumepause_dec){$(div).data("resumepause",0);ASresumepause_dec();}}
catch(e){debugmail("in rss2/HandleXML for "+noteid+" step "+rss2_debug+" : "+e.message);}}
if($(".tablenotecontent",div).attr("tohide"))$(".tablenotecontent",div).hide().removeAttr("tohide");}).complete(function(){if(r.rsstemp&&r.rsstemp.length>0)rss2_load(r.rsstemp.pop(),div,forceRefresh);});};function rss2_getcdata(element){var s='';function trim(myString){return myString.replace(/^\s+/g,'').replace(/\s+$/g,'');}
for(var i=0;i<element.childNodes.length;i++){if(element.childNodes[i].nodeType==1)s+=rss2_getcdata(element.childNodes[i]);if(element.childNodes[i].nodeName=='#cdata-section')s+=element.childNodes[i].nodeValue;else if(element.childNodes[i].nodeName=='#text'&&trim(element.childNodes[i].nodeValue)!="")s+=element.childNodes[i].nodeValue;}
return s;}
function rss2_extractdate(sdate){try{var date=q_isot2date(sdate);if(date!="Invalid Date"&&date!=new Date(null)&&!isNaN(date))return date;}catch(e){};var temp=sdate.replace(/^([0-9]{1,2})\/([0-9]{1,2})\/([0-9]{2,4})/g,'$2/$1/$3');temp=temp.replace(/ [A-Z]+(\+|-| |)\d\d:\d\d$/,"");var date=new Date(temp);if(date=="Invalid Date"||date==new Date(null)||isNaN(date)){try{var datetime=sdate.split(' ');var thedate=datetime[0].split(".");var month=thedate[1];thedate[1]=thedate[0];thedate[0]=month;date=new Date(thedate[0]+"/"+thedate[1]+"/"+thedate[2]+" "+datetime[1]);if(date=="Invalid Date"||date==new Date(null))date=q_isot2date(sdate);if(date=="Invalid Date"||date==new Date(null))if(sdate.substring(sdate.length-3)==":00")date=new Date(sdate.substring(0,sdate.length-3));}catch(e){}}
return date;}
function RssItem(site,url,title,content,time){this.Site=site;this.Url=url;this.Title=title;this.Content=content;this.Time=time;}
function PageContainer(content,pageSize){this.PageIndex=0;this.Content=content;this.PageSize=pageSize;}
PageContainer.prototype.GetPageIndex=function(){return this.PageIndex;};PageContainer.prototype.GetCount=function(){return(this.Content==null)?0:this.Content.length;};PageContainer.prototype.GetPageNum=function(){return Math.ceil(this.GetCount()/this.PageSize);};PageContainer.prototype.IsLastPage=function(){return this.PageIndex==(this.GetPageNum()-1)||this.GetPageNum()==0;};PageContainer.prototype.IsFirstPage=function(){return this.PageIndex==0;};PageContainer.prototype.GetPage=function(index){if(index>this.GetPageNum()-1||index<0)return null;this.PageIndex=index;if(index<this.GetPageNum()-1){var result=[];for(var i=0;i<this.PageSize;i++)result[i]=this.Content[this.PageIndex*this.PageSize+i];return result;}else{var result=[];for(var i=0;i<this.Content.length-this.PageSize*index;i++)result[i]=this.Content[this.PageIndex*this.PageSize+i];for(var i=this.Content.length-this.PageSize*index;i<this.PageSize;i++)result[i]=null;return result;}};PageContainer.prototype.GetFirstPage=function(){return this.GetPage(0);};PageContainer.prototype.GetLastPage=function(){return this.GetPage(this.GetPageNum()-1);};PageContainer.prototype.GetNextPage=function(){return this.GetPage(this.PageIndex+1);};PageContainer.prototype.GetPrePage=function(){return this.GetPage(this.PageIndex-1);};PageContainer.prototype.GetCurrentPage=function(){return this.GetPage(this.PageIndex);};PageContainer.prototype.SetPageSize=function(pageSize){this.PageSize=pageSize;};PageContainer.prototype.SetContent=function(content){this.Content=content;};function rss2_ajaxget(url,callback){var re=new RegExp("feed://","g");url=url.replace(re,"http://");return $.get(url,function(xml){callback.apply(this,[xml]);},"xml");}
function rss2_filter(items,keywords){if(!items||!items.length||!keywords||!keywords.length)return items;var temp=[];var i,j,k=0;for(i=items.length-1;i>=0;i--){for(j=0;j<keywords.length;j++){if(items[i].Title.toLowerCase().indexOf(keywords[j].toLowerCase())>=0||items[i].Content.toLowerCase().indexOf(keywords[j].toLowerCase())>=0)break;}
if(j<keywords.length)temp[k++]=items[i];}
return temp;}
function rss2_sortbydate(items){if(!items)return;var j,temp;var exchanged;for(var i=0;i<items.length;i++){exchanged=false;for(j=0;j<items.length-i-1;j++){if(items[j].Time<items[j+1].Time){temp=items[j];items[j]=items[j+1];items[j+1]=temp;exchanged=true;}}
if(!exchanged)break;}}
function rss2_pre(x){if(qsn_currstate!="view")return;var div=getContainer(x);var pc=div.rssPageContainer;rss2_renderitems(div,pc.GetPrePage());q_scrolltonote(div.id,null,true);}
function rss2_next(x){if(qsn_currstate!="view")return;var div=getContainer(x);var pc=div.rssPageContainer;rss2_renderitems(div,pc.GetNextPage());q_scrolltonote(div.id,null,true);}
function rss2_keywordize(x){x=x.split(' ');y=[];for(var i=0;i<x.length;i++)if(x[i]!="")y.push(x[i]);return y;}
var slide_message={"lastimage":"Il est impossible de supprimer la dernière image d'un diaporama.\n\nVous pouvez supprimer le diaporama.","uploadtitle":"Insérer des images","uploadprompt":"Cliquez sur le bouton ci-dessous, puis sélectionnez une ou plusieurs images.","fullscreen":"Mode Plein écran","plug":"Diaporama_La projection de diapos sur votre page web!","remove":"supprimer","add":"ajouter","photos":"Photos","back":"Retour"}
var slide_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("slide_msgs_fr_js_loaded");var slide_json_template={version:3,lastphotoindex:0,visible:true,color:"1",tempo:1,reverse:false,common:{width:300}};function slide_upgradejson(r){if((r.version)&&(r.version==slide_json_template.version))return r;if(r.version<2)r.color=1;if(r.version<3){r.tempo=1;r.reverse=false;}
r.version=slide_json_template.version;return r;}
function slide_initforweb(id){$.getScript("/services/slide/scripts/slide_msgs_"+q_lang+".js",function(){$.getScript("/services/slide/scripts/slide.js",function(){slide_doinitforweb(id);});});}
var table_message={"plug":"Tableau_Copiez-coller un tableau depuis un tableur et modifiez-le en direct.","hidepasteblock":"Masquer le bloc de changement de données","showpasteblock":"Changer toutes les données du tableau","tablemargin":"Bordure et espacement","tablecolortitle":"Couleur du tableau","tablecontrast":"Contraste des cellules","tablenotecolor":"Couleur de la note","textalign":"Alignement horizontal","tabletextvalign":"Alignement vertical","tablealtmode":"Bandes alternées","tablelegend":"Couleur des légendes","tablebordersize":"Bordures","tablecellspacing":"Espacement entre les cellules","sliderpadding":"Marge intérieure des cellules","align0":"gauche","align1":"centré","align2":"droite","notecolor0":"comme le tableau","notecolor1":"blanc","notecolor2":"transparent","textvalign0":"haut","textvalign1":"milieu","textvalign2":"bas","altmode0":"aucune","altmode1":"horizontales","altmode2":"verticales","legend0":"1ère ligne contrastée","legend1":"1ère colonne contrastée","bordersize0":"sans","bordersize1":"fine","bordersize2":"moyenne","bordersize3":"épaisse","cellspacing0":"cellules collées","cellspacing1":"cellules légèrement espacées","cellspacing2":"cellules très espacées","sliderpaddingmin":"aucune","sliderpaddingmax":"grande","margin":"Marge","applymargin":"Appliquer la marge au tableau","styleedit_row":"Styles de la rangée","styleedit_col":"Styles de la colonne","styleedit_cell":"Styles de la cellule","participants_edit_rights":"les participants peuvent modifier les données","changedata_title_add":"Comment voulez-vous ajouter les données du tableau ?","changedata_title_modify":"Comment voulez-vous modifier les données du tableau?","CSVprompt":"Veuillez entrer vos données tabulées ci-dessous.<br/>Vous pouvez effectuer un copier-coller depuis Excel par exemple.","CSVprompt_title":"Données tabulées","HTMLprompt":"Collez ci-dessous le tableau que vous avez copié depuis une page web.","HTMLprompt_title":"Tableau d'une page web","HTMLnotable":"Aucun tableau n'a été trouvé dans votre copie.","HTMLbadtable":"Le tableau que vous avez copié ne peut pas être importé correctement.","desc":"(...)","linkpagetitle":"Cliquez pour accéder à la page","popuppagetitle":"Cliquez pour voir","linkfiletitle":"Cliquez pour télécharger le fichier","linkbroken":"La page vers laquelle pointait ce lien a été supprimée.","tip_exportxls":"Exporter","innermargin":"Marge interne du tableau","applynotemargin":"auto","tableborder":"Filet","borderv":"entre colonnes","borderh":"entre rangées","borderdouble":"double","bordertransparent":"transparente","tablestyle":"Style du tableau","mode":"Mode","modetext":"mise en page de texte","modedata":"tableur","tablecontrast":"Contraste","alt":"rangées alternées","sharelinks":"Liens utiles","sharelinks_desc":"Afficher les liens 'Envoyer par mail' et 'Imprimer'","sociallinks_desc":"Afficher les liens 'Partager sur Facebook' et 'Partager sur Twitter'","sociallinks_notactive":"Le partage ne fonctionne qu'en mode web. Pour tester le partage passez en mode visiteur, sans oublier de publier la page si nécessaire !","cancel":"annuler","send":"envoyer","mailTitle":"Titre : %s<br/>","mailContent":"<br/>%s<br/>","mailPageurl":"----<br/>Retrouvez ce tableau sur : <a href=\"%url\">%url</a><br/>","celltextsize":"Taille de texte","textsizedefault":"taille par défaut","bodyalertreply":"Un internaute partage cet article avec vous."};var table_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("table_msgs_fr_js_loaded");function table_xs_resize(div){q_changedwidth(div,qsn_width_xs(div.id));table_overflowsize(div);}
function table_sm_resize(div){q_changedwidth(div,qsn_width_sm(div.id));table_overflowsize(div);}
function table_lg_resize(div){q_changedwidth(div,qsn_width_lg(div.id));table_overflowsize(div);}
function table_md_resize(div){q_changedwidth(div,parseInt(qsn_width(div.id),10));table_overflowsize(div);}
function table_overflowsize(div){var r=qsn_thenotes[div.id];$(".table_tabletable",div).css({"overflow-x":"hidden","width":"100%"});var currw=$(".table_tabletable",div).parent().width();$(".table_tabletable",div).width(0);var w=$(".table_tabletable",div).parent().width();if(w<currw)$(".table_tabletable",div).css({"overflow-x":"scroll","width":w+"px"});else $(".table_tabletable",div).css("width","");}
function table_print(elem){var div=getContainer(elem);var r=qsn_thenotes[div.id];var div=$('<div></div>').append($('<h1></h1>',{html:r.header.text})).append($('<div></div>',{html:$(".table_tabletable",div).html()}))
q_printThis($('<div></div>').append(div).html());}
function table_prepareMail(div,r,wantdefault){var contentmail="";if(r.header.text)contentmail+=table_message["mailTitle"].replace(/%s/,"<b>"+r.header.text.replace(/\r/g,"\n").split("\n").join("</b><br/><b>")+"</b>");contentmail+=table_message["mailContent"].replace(/%s/,$(".table_tabletable",div).html());if(q_pagemode()=="web"){contentmail+=table_message["mailPageurl"].replace(/%url/g,window.location.href);}else if(q_currsvcisweb()){var svc=q_currsvcjson();contentmail+=table_message["mailPageurl"].replace(/%url/g,"http://"+((window.clubhost)?clubhost:window.location.host+"/"+window.clubprivatedomain)+"/"+svc.weblink);}else if(!q_currsvcisweb()){contentmail+=table_message["mailPageurl"].replace(/%url/g,q_privateurl(currsvcid,true));}
return{"content":contentmail,"replyto_txt":table_message["bodyalertreply"]};}
function table_mail(elem){var div=getContainer(elem);var r=qsn_thenotes[div.id];qlub_openemailalert("mailthis",table_prepareMail(div,r));}
var team_message={"snname":"Note Equipe","plug":"Equipe_Affichez la fiche détaillée des membres d'une de vos équipes.","desc":"La note Equipe permet de présenter les membres d'une équipe avec photos et infos personnalisables","notetitleprompt":"Cliquez ici pour donner un titre à la note équipe.","newnoteprompt":"Cliquez ici pour ajouter une description de l'équipe.","cardfields":"Champs de la fiche","cardfieldsinfo":"Vous pouvez modifier certains titres des champs de la fiche selon le sport de l'équipe.","changecardfields":"valider ces titres","colon":" :","confirmdeletecard":"Voulez-vous vraiment supprimer la fiche '%s' ?","confirmdeletephoto":"Voulez-vous vraiment supprimer la photos de '%s' ?","addmemberphoto":"Ajouter la photo d'un membre","selectphoto":"Veuillez sélectionner une photo.","noplayer":"(Aucun joueur)","teamtimer":"Temps d'affichage des fiches","importCSV":"Ajouter une liste de joueurs depuis des données CSV (Excel)","importCSV_noselect_title":"Informations concernant les joueurs","importCSV_confirm":"Vous pouvez, soit indiquer un fichier .csv (export Excel par exemple), soit procéder par copier-coller depuis Excel.<br/><br/>Colonnes : Nom, Prénom, Date de naissance, %s1 , %s2, %s3, %s4.<br/><br/>Cliquez sur OK pour poursuivre.","editcard_firstname":"Prénom","editcard_name":"Nom","editcard_birthdate":"Date de naissance","display":"Affichage","displaybirthdate":"Afficher la date de naissance","displayname":"Afficher le nom de famille"};var team_cardfields=["Poste","Numéro","Poids","Taille"];var team_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("team_msgs_fr_js_loaded");var team_json_template={version:6,text:"",header:{display:"true",text:"",icon:"false"},common:{left:20,top:0,width:450},cardfields:["?","?","?","?"],cards:[{firstname:"",name:"?",birthdate:"",comment:"",other1:"",other2:"",other3:"",other4:"",photo:{}}],display:{birthdate:"true",name:"true"},timer:3000};function team_upgradejson(r){if((r.version)&&(r.version==team_json_template.version))return r;if(r.version<2)team_upgradejsontov2(r);if(r.version<3)team_upgradejsontov3(r);if(r.version<4)team_upgradejsontov4(r);if(r.version<5)team_upgradejsontov5(r);if(r.version<6)team_upgradejsontov6(r);r.version=team_json_template.version;return r;}
function team_upgradejsontov2(r){if(!r.display)r.display=team_json_template.display;return r;}
function team_upgradejsontov3(r){if(!r.timer)r.timer=team_json_template.timer;return r;}
function team_upgradejsontov4(r){var sizes=qsn_definefontsizes(r.common.notekind);r.textsize=parseInt(sizes[r.textstyles.size].replace("px",""),10);delete r.textstyles.size;return r;}
function team_upgradejsontov5(r){r.margin=10;return r;}
function team_upgradejsontov6(r){if(r.textstyles&&r.textstyles.center)r.center=(r.textstyles&&r.textstyles.center)||"false";var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function team_version(notekind){return{margin:1,rpd:1};}
function team_isv6(div){return $(".v6_players_list",div).length>0;}
function team_mouseover(elem,ee){team_pauseall();qsn_mouseover(elem,ee,true);}
function team_mouseout(elem,ee){team_resumeall();qsn_mouseout(elem,ee,true);}
function team_initforweb(id){var div=ge(id);var r=qsn_thenotes[id];if(qsn_thenotes[id].cards.length>1)team_program(div);quomodoFonts.waitSpaceFonts(function(){$(".team_v6_cardslist_item",div).css("padding-right",function(){return($(".team_v6_cardlistarrow",this).outerWidth()+2)+"px";});});$(".team_v6_cardslist_item",div).on("mouseenter",function(){var sectioncolor=qsn_sectioncolor(id);var bgcolor=RPD.altpbgcolor(r.rpd,false,sectioncolor);var bgcolor_modifier=bgcolor+"@"+(quomodoColors.isdark(bgcolor)?"l5":"d5");$(this).css("background-color",quomodoColors.richColor(bgcolor_modifier).c);}).on("mouseleave",function(){$(this).css("background-color","");});setTimeout("q_addwindowfocushandlers( 'team_resumeall' ) ; q_addwindowblurhandlers( 'team_pauseall' ) ; ",5000);}
var team_timers={};function team_pauseall(){for(var id in team_timers)if(team_timers[id])team_cleartimer(id);}
function team_resumeall(){if(qsn_currstate=="edit")return;for(var id in team_timers)if(ge(id))team_program(ge(id));}
function team_cleartimer(id){if(!team_timers[id])return;clearTimeout(team_timers[id]);team_timers[id]=null;}
function team_program(div,t){team_cleartimer(div.id);if(!$(div).data("currentcard"))$(div).data("currentcard",0);team_timers[div.id]=setTimeout(function(){team_doanim_card(div);},t?t:qsn_thenotes[div.id].timer);}
function team_doanim_card(div){if(isremoved(div))return;if(!div.id||!qsn_thenotes[div.id])return;var r=qsn_thenotes[div.id];if(qsn_currstate=="edit"||q_fsmpresent())return team_program(div);var currtimer=team_timers[div.id];var d=$(".team_viewcard:eq(0)",div).fadeOut(200,function(){if(currtimer!=team_timers[div.id])return;var i=$(div).data("currentcard");var newselected=(i+1)%r.cards.length;team_renderonecard(parseInt(newselected,10),div);d.fadeIn(200,function(){if(currtimer!=team_timers[div.id])return;team_timers[div.id]=setTimeout(function(){team_doanim_card(div);},r.timer);});});}
function team_renderonecard(x,div){var target,cardindex,fromEvent=false;if(typeof x=="number"){target=div;cardindex=x;}else if(!x)return;else if(x.tagName){target=x;cardindex=$(target).attr("cardindex");}else{target=getElementFromEvent(x);target=team_isv6(div)?getContainer(target,"team_v6_cardslist_item"):getContainer(target,"team_cardslist_item");cardindex=$(target).attr("cardindex");fromEvent=true;}
div=getContainer(target);var cardlist=$(".team_cardslist:eq(0)",div);var r=qsn_thenotes[div.id];var rec=r.cards[cardindex]||r.cards[0];var d=$(".team_viewcard:eq(0)",div);var currentcard=$(div).data("currentcard");if(currentcard!=undefined)$(".team_cardslist_item[cardindex='"+currentcard+"'] .team_cardlistarrow, .team_v6_cardslist_item[cardindex='"+currentcard+"'] .team_v6_cardlistarrow",cardlist).css("visibility","hidden");$(div).data("currentcard",cardindex);$(".team_cardslist_item[cardindex='"+cardindex+"'] .team_cardlistarrow, .team_v6_cardslist_item[cardindex='"+cardindex+"'] .team_v6_cardlistarrow",cardlist).css("visibility","visible");for(var p in rec){if(p=="name")$(".team_viewcard_name, .team_v6_viewcard_name",d).html(rec["firstname"]+((r.display.name=="true")?(" "+rec["name"]):""));else if(p=="firstname")continue;else if(p=="photo")team_rendercardphoto(d,rec.photo.src,rec.photo.width,rec.photo.height);else $(".team_viewcard_"+p,d).html(" "+rec[p]);}
if(fromEvent)team_program(div);}
function team_rendercardphoto(card,imgsrc,imgwidth,imgheight){var div=$(card).parents(".container:first").get(0);var r=qsn_thenotes[div.id];if(!(imgsrc&&imgwidth&&imgheight)){$(".team_"+((qsn_currstate=="edit")?"edit":"view")+"card_photo",card).removeAttr("imgwidth").removeAttr("imgheight").removeAttr("imgsrc").attr("src","/services/team/images/playerdefault-flat.jpg").css({"width":"80px","height":(team_isv6(div)?"103px":"90px")});if(qsn_currstate=="edit")$(".team_suppress_photo_button",card).hide();}else{var defaultwidth=80;$(".team_"+((qsn_currstate=="edit")?"edit":"view")+"card_photo",card).attr("imgwidth",imgwidth).attr("imgheight",imgheight).attr("imgsrc",imgsrc).attr("src",q_spaceabsoluteurl(r.common.ownerid,imgsrc)).css("width",defaultwidth+"px").css("height",Math.round(defaultwidth*(parseInt(imgheight,10)/parseInt(imgwidth,10)))+"px");if(qsn_currstate=="edit")$(".team_suppress_photo_button",card).show();}}
var vc_message={"newnoteprompt":"%n vues","visible_guest":"Cette note affiche le nombre de visites de la page web","plug":"Compteur_Affichez le nombre de visites d'une page sur celle-ci.","plug_qlub":"Compteur_Affichez le nombre de visites sur votre page web.","emptynote":"(aucun message)","desc":"(...)","tabcolor":"Fond de la note","titlecolorbg":"Fond","tabstyle":"Style","textfont":"Lettres","bold":"G","italic":"I","uppercase":"majusc.","tip_edit":"modifier la smartnote compteur","razcounter":"Le compteur a été réinitialisé à 0","razcounter_confirm":"Voulez-vous réinitialiser ce compteur à 0 ?"}
var vc_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("vc_msgs_fr_js_loaded");var vc_json_template={version:9,text:"",header:{display:"false",text:"",icon:""},textalign:"0"};function vc_upgradejson(r){if(!r.version)r.version=1;if(r.version==vc_json_template.version)return r;if(r.version<2)r=vc_upgradejsontov2(r);if(r.version<3)r=vc_upgradejsontov3(r);if(r.version<4)r=vc_upgradejsontov4(r);if(r.version<5)r=vc_upgradejsontov5(r);if(r.version<6)r=vc_upgradejsontov6(r);if(r.version<7)r=vc_upgradejsontov7(r);if(r.version<8)r=vc_upgradejsontov8(r);if(r.version<9)r=vc_upgradejsontov9(r);r.version=vc_json_template.version;return r;}
function vc_upgradejsontov2(r){r.textuppercase="0";return r;}
function vc_upgradejsontov3(r){r.textspacing="1";return r;}
function vc_upgradejsontov4(r){r.textalign="0";return r;}
function vc_upgradejsontov5(r){r.color=-1;return r;}
function vc_upgradejsontov6(r){r.margin="2";r.opacity="4";return r;}
function vc_upgradejsontov7(r){r["textstyles"]={bold:String(r.textbold!="0"),uppercase:String(r.textuppercase!="0"),italic:String(r.textitalic!="0")};if(parseInt(r.textfont,10)>0)r.textfont=""+(parseInt(r.textfont,10)-1);r.textmargin=r.margin;r.textopacity=r.opacity;delete r.textbold;delete r.textitalic;delete r.uppercase;delete r.margin;r.version=vc_json_template.version;return r;}
function vc_upgradejsontov8(r){var margins=qsn_definemargins("vc");r.margin=margins[r.textmargin];delete r.textmargin;return r;}
function vc_upgradejsontov9(r){var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);delete r.textspacing;return r;}
function vc_version(notekind){return{margin:1,rpd:1};}
function vc_initforweb(id){vc_request(id);}
function vc_request(noteid){var div=ge(noteid);function callback(data){if($(".textbackgroundtext",div).length){gebcn(noteid,"textbackgroundtext").innerHTML=gebcn(noteid,"textforegroundtext").innerHTML=gebcn(noteid,"textforegroundtext").innerHTML.replace(/% *n/g,data.total);showblock(gebcn(noteid,"textforegroundtext"));}else $(".vc_text",div).html($(".vc_text",div).html().replace(/% *n/g,data.total));}
return q_ajaxcount("bingetcount",callback);if(window.client_bincounter)return q_ajaxcount("bingetcount",callback);$.get("/cgi-bin/cgicounter",{"data":q_toplist({mission:"getdata",privatedomain:clubprivatedomain,page:currsvcid.replace(/[^0-9]/g,"")})},function(data){if(!data.ajaxerror)callback(data);},"json");}
var video_message={"newnoteprompt":"cliquez ici pour ajouter une légende","pclocalnotvalidate":"Vous n'avez pas validé le choix de votre image.\n\nCelle-ci ne va pas être enregistrée.","fermer":"fermer","film":"Vidéo","audiostream":"Flux audio","audio":"Audio","seconds":" secondes","validateimage":"Veuillez valider l'image","plug":"Video_Stockez, visionnez et montrez vos vidéos sur votre espace.","selectavideo":"Choisissez la vidéo dans votre ordinateur:","uploadtitle":"Chargement d'une vidéo (mpg, mpeg, mp4, mov)","desc":"(...)","errqt":"Erreur Plugin Quicktime "};var video_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("video_msgs_fr_js_loaded");var video_json_template={version:3,text:"",video:{kind:""},color:1,textstyles:{size:"2",font:"1",bold:"false",center:"false",italic:"false"}};function video_upgradejson(r){if((r.version)&&(r.version==video_json_template.version))return r;if(r.version<2)r.color=1;if(r.version<3){r.textstyles={size:r.textsize,font:r.textfont,bold:String(r.textbold!=0),center:String(r.textcenter!=0),italic:String(r.textitalic!=0)};r.textsize=null;r.textfont=null;r.textbold=null;r.textcenter=null;r.textitalic=null;}
r.version=video_json_template.version;return r;}
function video_initforweb(id){$.getScript("/services/video/scripts/video_msgs_"+q_lang+".js",function(){$.getScript("/services/video/scripts/video.js");});}
var wsg_message={"notetitleprompt":"Cliquez ici pour ajouter un titre...","big-data-img":"Vous ne pouvez pas mettre une image en données brutes. Utilisez le bouton Insérer une image ou utilisez d'autres smartnotes si nécessaire.","validateimage":"Veuillez valider l'image","suppressimage":"Voulez-vous réellement supprimer l'image dans la note ?","pclocalnotvalidate":"Vous n'avez pas validé le choix de votre image.\n\nCelle-ci ne va pas être enregistrée.","selectanimage":"Veuillez choisir une image sur votre ordinateur :","selectafile":"Veuillez choisir un fichier sur votre ordinateur :","uploadtitlefile":"Lien vers un fichier","uploadtitlenew":"Afficher une image dans la note","uploadtitleedit":"Changer l'image à afficher","uploadtitleimage":"Insertion d'une image","selectpage":"Veuillez d'abord sélectionner une page ou cliquer sur 'annuler'.","plug":"Traitement de texte_Réalisez des blocs de texte comme dans un traitement de texte.","desc":"(...)","imgmargin_title":"Marge autour de l'image","imgmargin":"appliquer la marge à l'image","rss":"RSS","showrss":"Afficher le contenu dans le flux RSS du site","updatetitlerss":"Modifier le titre","rss_title":"Titre : ","rss_autotitle":"(auto)","updatedaterss":"Modifier la date","rss_date":"Date : ","sharelinks":"Liens utiles","sharelinks_desc":"Afficher les liens 'Envoyer par mail' et 'Imprimer'","sociallinks_desc":"Afficher les liens 'Partager sur Facebook' et 'Partager sur Twitter'","sociallinks_notactive":"Le partage ne fonctionne qu'en mode web. Pour tester le partage passez en mode visiteur, sans oublier de publier la page si nécessaire !","showsource":"Source HTML","showsourcedesc":"Vous pouvez modifiez ci-dessous le code HTML de la note.","insertfromword":"Insérer depuis Word","insertfromworddesc":"Veuillez coller ci-dessous le texte copié dans Word.","insertlink_web":"Insérer un lien vers un site web","insertlink_web_prompt":"Veuillez entrer l'adresse web de destination :","insertlink_mailto":"Insérer un lien vers une adresse électronique","insertlink_mailto_prompt":"Veuillez entrer l'adresse e-mail de destination : ","insertlink_page":"Insérer un lien vers une page du site","mailImgNotDisplayed":"Attention : vous êtes sur une page privée, l'image ne s'affichera pas dans le mail. Voulez-vous envoyer le mail ?","cancel":"annuler","send":"envoyer","mailTitle":"Titre : %s<br/>","mailContent":"Article :<br/>%s<br/>","mailPageurl":"----<br/>Retrouvez cet article sur : <a href=\"%url\">%url</a><br/>","bodyalertreply":"Un internaute partage cet article avec vous.","zoomimage":"Cliquez pour voir l'image en grand","source_code":"Code source","standard":"standard","wide":"image pleine largeur","high":"image pleine hauteur","label":"image étiquette","tabmodel":"Modèle","shrink-label":"Largeur","1col":"1 colonne","ncols":"%n colonnes","ncols-more-half":" et demie","fractional-col-0.67":"2/3 de colonne","fractional-col-0.50":"1/2 colonne","fractional-col-0.33":"1/3 de colonne","fractional-col-0.25":"1/4 de colonne","fractional-col-0.17":"1/6 de colonne","fractional-col-0.08":"1/12 de colonne","imglegend":"Légende de l'image","imgnolegend":"(aucune)","imgratio":{"auto":"Automatique","image":"Format d'origine","4":"Très très allongé","3":"Très allongé","2":"Allongé","1.5":"Carte postale","1.33":"Paysage","1":"Carré","0.75":"Portrait","0.67":"Carte postale v.","0.5":"Étroit","0.33":"Très étroit","0.25":"Très très étroit","truewidth":"Taille d'origine","retinawidth":"Taille d'origine Retina"},"imgalign":{"left":"à gauche","right":"à droite"},"imgzoom":{"false":"désactivé","true":"activé","yes":"toujours","xs":"sur mobile","no":"jamais"},"newversion":"Nouvelle version","newversion_msg":"Votre note Billet exploite dorénavant des <strong>styles pré-définis</strong>, disponibles dans le nouveau menu déroulant <strong>Styles</strong>.<br/><br/>Pour prévenir tout conflit, nous vous conseillons dès à présent de <strong>Supprimer la mise en forme actuelle</strong>, puis d'utiliser les styles pré-définis.","delete_style":"Supprimer la mise en forme actuelle","nodelete_style":"Pas maintenant","notnow_delete":"Vous pourrez <strong>Supprimer la mise en forme actuelle</strong> ultérieurement, au moyen du bouton Effacer la mise en forme (1er bouton de la 1ère rangée).","q_label_connexion":"Afficher le bouton connexion","q_label_search":"Afficher la recherche","altimg":"Référencement : nom de l'image (« alt »)","zoom_disabled":"L'option de zoom de l'image n'est pas compatible avec un lien associé à l'image. Le zoom a donc été désactivé.","zoom_forbidden":"L'option de zoom de l'image n'est pas compatible avec un lien associé à l'image. Il faut supprimer le lien pour pouvoir autoriser le zoom."};var wsg_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("wsg_msgs_fr_js_loaded");var wsg_json_template={version:7,html:"",header:{display:"true",text:"",icon:""},showsignature:"false",img:{kind:"",border:"0",align:"left",shrink:"50"},common:{left:20,top:0,width:600},palettesstatus:{imagepalette:false,textpalette:false,linkspalette:false},showrss:"false",sharelinks:"false",sociallinks:"false",imgmargin:"true",linkdata:{kind:0},enablezoom:"no",model:"standard",titlerss:""};var wsg_oldjson_template={"1":{version:1,html:"<div><br/></div>",color:"3",header:{display:"true",color:"0",text:"",icon:""},showsignature:"false",img:{kind:"",border:"0",align:"left",shrink:"50"},common:{left:20,top:0,width:600},palettesstatus:{imagepalette:false,textpalette:false,linkspalette:false}},"2":{version:2,html:"<div><br/></div>",color:"-1",header:{display:"true",color:"c1",text:"",icon:"pushpin"},showsignature:"false",img:{kind:"",border:"0",align:"left",shrink:"50"},common:{left:20,top:0,width:600},palettesstatus:{imagepalette:false,textpalette:false,linkspalette:false},showrss:"true",textmargin:10},"3":{version:3,html:"<div><br/></div>",color:"-1",header:{display:"true",text:"",icon:""},showsignature:"false",img:{kind:"",border:"0",align:"left",shrink:"50"},common:{left:20,top:0,width:600},palettesstatus:{imagepalette:false,textpalette:false,linkspalette:false},showrss:"true",sharelinks:"true",sociallinks:"true",textmargin:10,imgmargin:"true"},"4":{version:4,html:"<div><br/></div>",color:"-1",header:{display:"true",text:"",icon:""},showsignature:"false",img:{kind:"",border:"0",align:"left",shrink:"50"},common:{left:20,top:0,width:600},palettesstatus:{imagepalette:false,textpalette:false,linkspalette:false},showrss:"true",sharelinks:"true",sociallinks:"true",textmargin:10,imgmargin:"true",linkdata:{kind:0},enablezoom:false},"5":{version:5,html:"<div><br/></div>",color:"-1",margin:10,header:{display:"true",text:"",icon:""},showsignature:"false",img:{kind:"",border:"0",align:"left",shrink:"50"},common:{left:20,top:0,width:600},palettesstatus:{imagepalette:false,textpalette:false,linkspalette:false},showrss:"true",sharelinks:"true",sociallinks:"true",imgmargin:"true",linkdata:{kind:0},enablezoom:false},"6":{version:6,html:"",header:{display:"true",text:"",icon:""},showsignature:"false",img:{kind:"",border:"0",align:"left",shrink:"50"},common:{left:20,top:0,width:600},palettesstatus:{imagepalette:false,textpalette:false,linkspalette:false},showrss:"false",sharelinks:"false",sociallinks:"false",imgmargin:"true",linkdata:{kind:0},enablezoom:false,model:"standard",titlerss:""}};var wsg_models_with_header_and_label=["m1d","m2d","m3d","m4d","m5d","m6d","m11","m12","m13","m14","m15","m16","m17","m21","m22","m23","m24","m25","m26"];function wsg_upgradejson(r){if((r.version)&&(r.version==wsg_json_template.version))return r;if(r.version<2)r=wsg_upgradejsontov2(r);if(r.version<3)r=wsg_upgradejsontov3(r);if(r.version<4)r=wsg_upgradejsontov4(r);if(r.version<5)r=wsg_upgradejsontov5(r);if(r.version<6)r=wsg_upgradejsontov6(r);if(r.version<7)r=wsg_upgradejsontov7(r);r.version=wsg_json_template.version;return r;}
function wsg_upgradejsontov2(r){if(!r.showrss)r.showrss="true";return r;}
function wsg_upgradejsontov3(r){if(!r.sharelinks)r.sharelinks="false";if(!r.textmargin||isNaN(r.textmargin))r.textmargin=10;return r;}
function wsg_upgradejsontov4(r){r.linkdata={kind:0};r.enablezoom=false;return r;}
function wsg_upgradejsontov5(r){r.margin=r.textmargin;delete r.textmargin;return r;}
function wsg_upgradejsontov6(r){var rpd=RPD.qsnUpgrade.common(r);r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);r.model="standard";r.img.ratio="image";var s=r.html;s=s.replace(/ color=("|') *white *\1/ig," color=$1whitesmoke$1");s=s.replace(/ color=("|') *#FFF(FFF)? *\1/ig," color=$1#F5F5F5$1");s=s.replace(/ color=("|') *rgb *\( *255 *, *255 *, *255 *\) *\1/ig," color=$1rgb(245,245,245)$1");s=s.replace(/ color=("|') *rgba *\( *255 *, *255 *, *255 *,([^"')]+)\) *\1/ig," color=$1rgba(245,245,245,$2)$1");s=s.replace(/( style="([^"]*;)? *color *: *)white( |;|")/ig,"$1whitesmoke$3");s=s.replace(/( style="([^"]*;)? *color *: *)#FFF(FFF)?( |;|")/ig,"$1#F5F5F5$4");s=s.replace(/( style="([^"]*;)? *color *: *)rgb *\( *255 *, *255 *, *255 *\)( |;|")/ig,"$1rgb(245,245,245)$3");s=s.replace(/( style="([^"]*;)? *color *: *)rgba *\( *255 *, *255 *, *255 *,([^")]+)\)( |;|")/ig," color=$1rgba(245,245,245,$3)$4");s=s.replace(/( style='([^']*;)? *color *: *)white( |;|')/ig,"$1whitesmoke$3");s=s.replace(/( style='([^']*;)? *color *: *)#FFF(FFF)?( |;|')/ig,"$1#F5F5F5$4");s=s.replace(/( style='([^']*;)? *color *: *)rgb *\( *255 *, *255 *, *255 *\)( |;|')/ig,"$1rgb(245,245,245)$3");s=s.replace(/( style='([^']*;)? *color *: *)rgba *\( *255 *, *255 *, *255 *,([^')]+)\)( |;|')/ig,"$1rgba(245,245,245,$3)$4");r.html=s;delete r.imgmargin;return r;}
function wsg_upgradejsontov7(r){r.enablezoom=(r.enablezoom)?"yes":"no";return r;}
function wsg_version(notekind){return{margin:1,rpd:1};}
function wsg_mouseoverimg(x){var div=getContainer(x);var $img=$(x);var l=$img.position().left+parseInt($img.css("margin-left"),10);var t=$img.position().top+parseInt($img.css("margin-top"),10);var enablezoom=qsn_thenotes[div.id].enablezoom;var b=(enablezoom=="yes")||(enablezoom=="xs"&&(qsn_responsive_mod()=="xs"||qsn_responsive_mod()=="sm"));$(x).find(".wsg_zoombutton, .wsg_zoombutton2").css({"left":l+"px","top":t+"px"}).toggle(b);}
function wsg_mouseoutimg(x){var div=getContainer(x);$(x).find(".wsg_zoombutton, .wsg_zoombutton2").toggle(false);}
function wsg_renderimg_fsm(x){var r=qsn_thenotes[getContainer(x).id];var src;if($(x).parents(".wsg_noteimage").attr("screen")){var array=$(x).parents(".wsg_noteimage").attr("screen").split(":");var key;key=array[0];array.shift();path=array.join(":");if(key&&path){if(key=="quomodo")
src=q_spaceabsoluteurl(r.common.ownerid,path);else if(key=="web")
src=path;}}else{if(!r.img)return;if(r.img.kind=="pc")src=q_spaceabsoluteurl(r.common.ownerid,r.img.src);else src=r.img.src;}
if($(x).data('lightGallery'))$(x).data('lightGallery').destroy(true);$(x).lightGallery({"thumbnail":false,"dynamic":true,"dynamicEl":[{"src":src}],"controls":false,"counter":false,"download":false,"fullScreen":false});$(x).on("onCloseAfter.lg",function(){if($(this).data('lightGallery'))$(this).data('lightGallery').destroy(true);}).on("onAfterOpen.lg",function(){$(".lg-backdrop").css("opacity","0.4");});}
function wsg_readmore(noteid){var div=ge(noteid);var height=$(window).height()-100;var jsoncss={};if(qsn_responsive_mod()=="md")var jsoncss={"min-width":"500px"};else if(qsn_responsive_mod()=="xs"){var jsoncss={"width":"100%"};}
$(div).data("readmore",true);q_fsm_reveal({"src":$('<div style="max-height:'+height+'px;overflow:auto; background-color: #FFF ; padding: 0px 21px"></div>').append($("#"+noteid+"-dup").clone().css(jsoncss).get(0)).get(0),"reveal_callback":function(div){$(".q_fsmblockcontainer_content",div).addClass("color_white").css("padding","21px 0px");},"closeonly":true,"cancel_callback":function(){$(div).removeData("readmore");}});}
function wsg_initforweb(id){var div=ge(id);var r=qsn_thenotes[div.id];if(r.img&&r.img.src&&r.model=="label"){$(".wsg_content_html-v6",div).html($("#"+div.id+"-dup .wsg_content_html-v6").html());wsg_finalizelabel(div,r);}
if(r.img&&r.img.src&&r.model=="high"){wsg_finalizehigh(div,r);}
wsg_swiper(id);wsg_render_language(div);wsg_render_readmore(id);wsg_render_showmore(id);}
function wsg_render_language(div){var $target=$(".q-language-menu",div);if($target.length==0)return;var options={"mode":$target.attr("mode"),"shortname":$target.attr("shortname"),"dark":$target.attr("dark"),"togglepage":$target.attr("togglepage")};$target.after(q_languageHTML(options)).remove();}
function wsg_render_showmore(id){var div=ge(id);$(".wsg-showmore-link",div).unbind("click").click(function(){$(".wsg-showmore-content",div).slideDown();$(".wsg-showmore-link",div).hide();$(".wsg-showless-link",div).show();});$(".wsg-showless-link",div).unbind("click").click(function(){$(".wsg-showmore-content",div).slideUp();$(".wsg-showmore-link",div).show();$(".wsg-showless-link",div).hide();});}
function wsg_render_readmore(id){var r=qsn_thenotes[id];var div=ge(id);if(r.model!="label"&&$(".wsg_readmore_content",div).length>0){var section=quomodo.page.sections.get(qsn_stuffID(id));$(".wsg_readmore_content",div).hide();$(".wsg_readmore_open",div).attr("onmousedown","q_stopPropagation( event )").unbind("click").on("click",function(){$(".wsg_readmore_open",div).hide();$(".wsg_readmore_content",div).slideDown(400,function(){if(section.isaligned())$("#ghost_"+div.id).height($(div).height());else section.updateoffsets();$(".wsg_readmore_close",div).fadeIn();});return false;});$(".wsg_readmore_close",div).attr("onmousedown","q_stopPropagation( event )").unbind("click").on("click",function(){$(".wsg_readmore_close",div).hide();$(".wsg_readmore_content",div).slideUp(400,function(){if(section.isaligned())$("#ghost_"+div.id).height($(div).height());else section.updateoffsets();$(".wsg_readmore_open",div).fadeIn();});return false;});}}
function wsg_fitHeight(noteid,ntrial){if(qsn_responsive_mod()=="xs")return;var r=qsn_thenotes[noteid];if(!r.fitHeight)return;var fitToNote=r.fitHeight.noteid;if(!qsn_thenotes[fitToNote])return;var $div=$("#"+noteid);var $fit=$("#"+fitToNote);if($fit.length==0){ntrial=ntrial||0;if(ntrial>10)return;setTimeout(function(){wsg_fitHeight(noteid,ntrial+1)},ntrial<3?200:500);}
var b=$div.offset().top+$div.height();var b0=$fit.offset().top+$fit.height();var dh=b0-b;var $img=$div.find(".wsg_noteimage");var wimg=$img.width();var himg=$img.outerHeight();$img.css("padding-bottom",(100*(himg+dh)/wimg)+"%");}
function wsg_swiper(noteid){var div=ge(noteid);var r=qsn_thenotes[noteid];var device=qsn_responsive_mod();var $swiperContainer=$(".wsg_content_html-v6:eq(0) .swiper-container",div);if($swiperContainer.length>0){var disable=false;if(device=="xs")disable=true;if(device=="xs"&&r.swiperxs==undefined){var deviceEnabled=$swiperContainer.attr(device+"-enabled");if(deviceEnabled!=null)disable=(deviceEnabled=="0");}else if(device=="xs"&&r.swiperxs!=undefined){disable=!r.swiperxs;}else if(device!="xs"){var deviceEnabled=$swiperContainer.attr(device+"-enabled");if(deviceEnabled!=null)disable=(deviceEnabled=="0");}
if($(div).data("swiper")){$(div).data("swiper").destroy(true,true);$(div).removeData("swiper");$(".wsg_content_html-v6:eq(0) .swiper-slide",div).each(function(){var $this=$(this);var style=$this.attr("ori-style");if(style)$this.attr("style",style);});}else{if($(div).data("swiper-loading"))return;$(".wsg_content_html-v6:eq(0) .swiper-slide",div).each(function(){var $this=$(this);var style=$this.attr("style")||"";if($this.attr("ori-style")==undefined)$this.attr("ori-style",style);});}
$(div).data("swiper-loading",true);var vAlignTop=($swiperContainer.attr(device+"-valigntop")||$swiperContainer.attr("valigntop"))=="1";var container_paddingtop=$swiperContainer.attr("paddingtop");container_paddingtop=(container_paddingtop?parseInt(container_paddingtop,10):52);var $container_padding=$(".wsg_content-v6:eq(0)",div);var container_padding=parseInt($container_padding.css("padding-left")||0,10)+parseInt($container_padding.css("padding-right")||0,10);$swiperContainer.parents().each(function(){var $this=$(this);if($this.hasClass("wsg_content-v6"))return false;container_padding+=parseInt($this.css("padding-left")||0,10)+parseInt($this.css("padding-right")||0,10);});$swiperContainer.css("height","");$(".wsg_content_html-v6:eq(0) .swiper-slide",div).hide();$(".wsg_content_html-v6:eq(0)",div).hide();var container_width=(q_pagemode()=="web")?($swiperContainer.parents(".responsive_overflow-wrapper").width()-container_padding):null;quomodoFonts.waitSpaceFonts(function(){setTimeout(function(){var div=ge(noteid);var $swiperContainer=$(".wsg_content_html-v6:eq(0) .swiper-container",div);var container_height=0;if(container_width)$swiperContainer.css({"width":function(){return container_width-(($(this).find(".swiper-button-prev").length>0&&!vAlignTop)?(20*container_width/100):0)+"px";},"padding":function(){return($(this).find(".swiper-button-prev").length>0&&!vAlignTop)?"0 10%":"0"}});var bShowed;$(".wsg_content_html-v6:eq(0) .swiper-slide",div).each(function(){if(!bShowed)$(".wsg_content_html-v6:eq(0)",div).show();var $this=$(this);$this.show();if(!container_width)container_width=(device=="xs")?$swiperContainer.parents(".responsive_overflow-wrapper").width():$swiperContainer.parent().width();if(!bShowed)bShowed=true;$this.hide();});if(disable){$(".wsg_content_html-v6:eq(0) .swiper-slide-duplicate",div).remove();$(".wsg_content_html-v6:eq(0) .swiper-slide",div).css({"display":"block","float":"none","width":"100%"}).addClass("rpd-ipb");$(".wsg_content_html-v6:eq(0) .swiper-wrapper",div).addClass("swiper-wrapper-old").removeClass("swiper-wrapper").removeAttr("style");$("#"+noteid+" .swiper-button-next, #"+noteid+" .swiper-button-prev").hide();$(div).data("swiper-loading",false);return;}
$swiperContainer.css({"width":function(){return container_width-(($(this).find(".swiper-button-prev").length>0&&!vAlignTop)?(20*container_width/100):0)+"px";},"padding":function(){return($(this).find(".swiper-button-prev").length>0&&!vAlignTop)?"0 10%":"0"}});$(".wsg_content_html-v6:eq(0) .swiper-slide",div).each(function(){var $this=$(this);$this.show();var h=$this.height();$this.attr("slideheight",""+h);if(container_height<$this.height())container_height=h;$this.hide();});$(".wsg_content_html-v6:eq(0) .swiper-slide",div).css({"display":"","float":"","width":""}).removeClass("rpd-ipb");$(".wsg_content_html-v6:eq(0) .swiper-wrapper-old",div).removeClass("swiper-wrapper-old").addClass("swiper-wrapper");if(vAlignTop)container_height=container_height+container_paddingtop;if(!vAlignTop){$(".wsg_content_html-v6:eq(0) .swiper-slide",div).each(function(){var $this=$(this);var h=parseInt($this.attr("slideheight"),10);if(container_height==h)return;$this.css("margin-top",Math.round((container_height-h)/2)+"px");});}
$swiperContainer.css({"height":container_height+"px","overflow":"hidden"});var slide_offset=$swiperContainer.width();if($(this).find(".swiper-button-prev").length>0&&!vAlignTop)slide_offset=slide_offset*0.1;function getSlideDataIndex(swipe){var activeIndex=swipe.activeIndex;var slidesLen=swipe.slides.length;if(swipe.params.loop){switch(swipe.activeIndex){case 0:activeIndex=slidesLen-3;break;case slidesLen-1:activeIndex=0;break;default:--activeIndex;}}
return activeIndex+1;}
var mySwiper=new Swiper('#'+noteid+' .swiper-container',{"direction":'horizontal',"loop":true,"autoHeight":false,"nextButton":'#'+noteid+' .swiper-button-next',"prevButton":'#'+noteid+' .swiper-button-prev',"autoplay":$("#"+noteid+" .swiper-container").attr("data-swiper-autoplay")?parseInt($("#"+noteid+" .swiper-container").attr("data-swiper-autoplay"),10):undefined,"speed":parseInt(($("#"+noteid+" .swiper-container").attr("data-swiper-speed")||1000),10),"roundLengths":true,"setWrapperSize":true,"centeredSlides":true,"onSlideChangeStart":function(swiper){var activeIndex=getSlideDataIndex(swiper);$(".swiper-tab").each(function(){var swiper_ctrl=$(this).attr("data-swiper-ctrl");if(!swiper_ctrl)return;swiper_ctrl=swiper_ctrl.split(":");if(swiper_ctrl.length!=2)return;var targetid=swiper_ctrl[0];if(!targetid)targetid=$(this).parents(".note").attr("id");var swindex=parseInt(swiper_ctrl[1],10);if(targetid==div.id){$(this).removeClass("active");if(swindex==activeIndex)$(this).addClass("active");}});$(".swiper-toggler").each(function(){var swiper_ctrl=$(this).attr("data-swiper-ctrl");var targetid;if(!swiper_ctrl){if($(div).find(".swiper-toggler").length==0)return;if($(div).find(".swiper-toggler").get(0)!=this)return;}else{targetid=swiper_ctrl;if(!targetid)targetid=$(this).parents(".note").attr("id");if(targetid!=div.id)return;}
$(this).find("input").prop("checked",activeIndex==2);});},"width":container_width,"spaceBetween":slide_offset});var $next=$("#"+noteid+" .swiper-button-next").css("display","");var $prev=$("#"+noteid+" .swiper-button-prev").css("display","");var style;if(vAlignTop){style=$next.attr("style")||"";if($next.attr("ori-style")==undefined)$next.attr("ori-style",style);style=$prev.attr("style")||"";if($prev.attr("ori-style")==undefined)$prev.attr("ori-style",style);$next.css({"margin-top":"0","right":"0px","top":"0px"});$prev.css({"margin-top":"0","left":"auto","right":"30px","top":"0px"});$("#"+noteid+" .swiper-wrapper").css("padding-top",container_paddingtop+"px");}else{$next.attr("style",$next.attr("ori-style")||"");$prev.attr("style",$prev.attr("ori-style")||"");}
$(div).data("swiper",mySwiper);$(div).data("swiper-loading",false);},10);});}
$(".wsg_content_html-v6:eq(0) .swiper-tab",div).each(function(){var swiper_ctrl=$(this).attr("data-swiper-ctrl");if(!swiper_ctrl)return;swiper_ctrl=swiper_ctrl.split(":");if(swiper_ctrl.length!=2)return;var targetid=swiper_ctrl[0];var swindex=parseInt(swiper_ctrl[1],10);$(this).unbind("click").on("click",function(event){event.preventDefault();var targetswiper=$("#"+(targetid||noteid)).data("swiper");if(targetswiper){targetswiper.slideTo(swindex);}});});$(".wsg_content_html-v6:eq(0) .swiper-toggler",div).each(function(){$(this).find("input").unbind("click").on("click",function(event){var $this=$(this);var targetid=$this.attr("data-swiper-ctrl");var b=$this.prop("checked");var targetswiper=$("#"+(targetid||noteid)).data("swiper");if(targetswiper){targetswiper.slideTo(b?2:1);$this.parents(".swiper-toggler").attr("swipper-index",b?2:1);}});});}
function wsg_customselectOnChange(select){var $select=$(select);var index=select.selectedIndex;var label=$select.find("option").eq(index).text();$select.parent().find(".custom-form-select").text(label);}
function wsg_finalizehigh(div,r){if(qsn_currstate=="edit")return;var $img=$(".wsg_noteimage",div);var $imgwrapper=$(".wsg_noteimage-wrapper",div);var align=(r.img&&r.img.align)||"left";var $content=$(".wsg_content_html-v6",div);var currentPadding=$img.css("padding-bottom");var oldPadding=$img.attr("originalPadding");if(!oldPadding)$img.attr("originalPadding",currentPadding);if(qsn_responsive_mod()=="xs"){var notew=parseInt(qsn_width(div.id),10);if(qsn_width_xs(div.id)<notew){var ratio=qsn_responsive_ratio(div.id,r.img&&r.img.ratio,notew/100*parseInt(r.img.shrink,10));$img.css("padding-bottom",(100/ratio)+"%");$imgwrapper.addClass("rpd-imb");$content.addClass(align=="left"?"rpd-ipl":"rpd-ipr");return;}}
$imgwrapper.removeClass("rpd-imb");$content.removeClass(align=="left"?"rpd-ipl":"rpd-ipr");if(oldPadding&&currentPadding!=oldPadding)$img.css("padding-bottom",oldPadding);var imgheight=$img.outerHeight();quomodoFonts.waitSpaceFonts(function(){var contentheight=$(".wsg_content_html-v6",div).outerHeight();if(contentheight<imgheight)return;$img.attr("originalPadding",oldPadding);$img.height(contentheight);contentheight=$(".wsg_content_html-v6",div).outerHeight();$img.css("padding-bottom",contentheight+"px").css("height","");});}
function wsg_finalizelabel(div,r){if(qsn_currstate=="edit")return;var noteid=div.id;var $div=$(div);$div.css("min-width","");if($(".wsg_noteimage",div).attr("saved-padding-bottom"))$(".wsg_noteimage",div).css("padding-bottom",$(".wsg_noteimage",div).attr("saved-padding-bottom"));var share_height=$(".wsg_readmore",div).height();var note_margin=RPD.contentMargin(r.rpd);var share_width=$(".wsg_readmore",div).width()+parseInt(note_margin.margin,10)+parseInt(note_margin.left,10);var w=$div.width();var imgwidth=(function(){var device=qsn_responsive_mod();if(device=="sm"&&$div.attr("sm_imgwidth")){return parseInt($div.attr("sm_imgwidth"),10);}else if(device=="lg"&&$div.attr("lg_imgwidth")){return parseInt($div.attr("lg_imgwidth"),10);}else if(device=="xs"&&$div.attr("xs_imgtriggerwidth")){if($(window).width()<parseInt($div.attr("xs_imgtriggerwidth"),10)){return Math.round($div.width()/2);}}
return parseInt($(".wsg_noteimage-wrapper",div).get(0).style.width,10);})();var current_shrink=imgwidth/w;if(current_shrink>Math.max(0.5,parseFloat(r.img.shrink)/100))current_shrink=Math.max(0.5,parseFloat(r.img.shrink)/100);var minimgheight=parseInt($(".wsg_content_html-v6",div).css("line-height"),10)+(2*parseInt($(".wsg_content_html-v6",div).css("padding-top"),10))+share_height;var minwidth1=minimgheight*wsg_getimgratio(r)/current_shrink;var minwidth2=share_width/(1-current_shrink);var minwidth=Math.ceil(Math.max(minwidth1,minwidth2));if(q_pagemode()!="edit"&&minwidth>w&&$(".wsg_noteimage",div).width()<minimgheight){var oldPadding=100*parseFloat($(".wsg_noteimage",div).css("padding-bottom"))/imgwidth;var newPadding=100*minimgheight/imgwidth;$(".wsg_noteimage",div).attr("saved-padding-bottom",oldPadding+"%").css("padding-bottom",newPadding+"%");}else $div.css("min-width",minwidth+"px");$(".wsg_readmore",div).hide();function make_ellipsis(imgheight){if($(".wsg_content_html-v6",div).outerHeight()>imgheight){$(".wsg_readmore",div).show();var share_height=$(".wsg_readmore",div).height();$(".wsg_readmore",div).hide();var newheight=imgheight-(2*parseInt($(".wsg_content_html-v6",div).css("padding-top"),10))-share_height;if($(".wsg_content_html-v6",div).height()>newheight){$(".wsg_v6_footer",div).hide();$(".wsg_content_html-v6",div).ellipsis({height:newheight,html:true});$(".wsg_readmore",div).css("left",(r.img&&r.img.align=="right"?0:$(".wsg_noteimage",div).width())+"px").show();$(".wsg_readmore",div).attr("onclick","wsg_readmore( '"+noteid+"' ) ; return false");}else{$(".wsg_readmore",div).hide();}
if(q_pagemode()!="makeweb")div.labelized=true;}else{if(q_pagemode()!="makeweb")div.labelized=true;}}
quomodoFonts.waitSpaceFonts(function(){var imgheight=imgwidth/wsg_getimgratio(r);var share_height=$(".wsg_readmore",div).height();var newheight=imgheight-(2*parseInt($(".wsg_content_html-v6",div).css("padding-top"),10))-share_height;$(".wsg_content_html-v6",div).css("height",newheight+"px").css("overflow","hidden");setTimeout(function(){$(".wsg_content_html-v6",div).css("height","").css("overflow","");make_ellipsis(imgheight);},500);});}
function wsg_renderhtml(noteid,bSpacesLoaded){bSpacesLoaded=bSpacesLoaded||(noteid&&/-dup/.test(noteid))||q_pagemode()=="web";var div=getelement(noteid);noteid=div.id;div.minWidth="10px";var r=qsn_thenotes[noteid];if(r.enablezoom!="no"&&r.linkdata&&r.linkdata.kind!=0)r.enablezoom="no";var sectionid=qsn_stuffID(noteid);if(/^h-/.test(sectionid)||/^f-/.test(sectionid))r.showrss="false";if(r.showrss=="false"&&r.titlerss&&qsn_isloremipsum(r.titlerss))r.titlerss="";if(qsn_currstate!="edit"){}
if(q_pagemode()=="edit"){div.dragupdone=function(){var r=qsn_thenotes[ge(this.id).id];wsg_renderimg(this,r);wsg_renderhtml(noteid);wsg_centerlegend(this);this.toresize=null;var swiperContainer=gebcn(this,'swiper-container');if(swiperContainer)swiperContainer.widthrule=null;};}
if((r.model=="label"||r.model=="high")&&$.inArray(RPD.getRPDById(r.rpd).rpd.model,wsg_models_with_header_and_label)==-1)r.header.display="false";qsn_container_renderhtml(div,r);if(qsn_currstate!="edit"){if((r.html!="")&&(r.html!="<br>")){function unescapeattribute(x){x=x||"";return x.replace(/‘/g,"'").replace(/&apos;/g,"'").replace(/&quot;/g,"\"").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&");}
var html=r.html.replace(/———([a-zA-Z0-9_-]+)———/g,"——$1——");var re=new RegExp("(href=['\"])uploads/","g");html=html.replace(re,"$1qlink:file:uploads/");var re=new RegExp("href=\"qlink:([^\"]*)\"","g");html=html.replace(re,function(){var v=q_link_getproperties(unescapeattribute(arguments[1]));return((v.href)?("href=\""+v.href+"\""):"href=\"#\" oncontextmenu=\"return false\"")+" onclick=\""+escapeattribute(v.clickAttribute,true)+"\""+" target=\""+v.target+"\"";});var re=new RegExp("href='qlink:([^']*)'","g");html=html.replace(re,function(){var v=q_link_getproperties(unescapeattribute(arguments[1]));return((v.href)?("href=\""+v.href+"\""):"href=\"#\" oncontextmenu=\"return false\"")+" onclick=\""+escapeattribute(v.clickAttribute,true)+"\""+" target=\""+v.target+"\"";});if(!bSpacesLoaded){var re=new RegExp("<a[^>]*onclick=[^>]*openservice\\([^)]*?([0-9a-fA-F-]+)/#[0-9]+#[a-zA-Z0-9]+@intl[^>]*>","g");var otherspaceids=[];for(var s=re.exec(html);s!=null;s=re.exec(html)){if(s&&s[1]&&$.inArray(s[1],otherspaceids)==-1)otherspaceids.push(s[1]);}
if(otherspaceids.length>0){div.waitSpacesLoaded=true;if(window.ASresumepause_inc){ASresumepause_inc();if(spacexml.id=="8A831BE2-6ECE-4A62-9BF9-37EA12C3FB84"&&window.q_makeweb){console.log("ASresumepause_inc for "+noteid+" : "+otherspaceids.join(" — "));}}
function loadspacexml(){if(otherspaceids.length==0){div.waitSpacesLoaded=false;wsg_renderhtml(noteid,true);if(window.ASresumepause_dec){ASresumepause_dec();if(spacexml.id=="8A831BE2-6ECE-4A62-9BF9-37EA12C3FB84"&&window.q_makeweb){console.log("ASresumepause_dec for "+noteid+" ASresumepause = "+ASresumepause);}}
return;}
var spaceid=otherspaceids[0];otherspaceids.splice(0,1);qpromise_spacexmlfromId(spaceid,true).callback(function(){loadspacexml();});}
return loadspacexml();}}
if(window.q_makeweb){var re=new RegExp("(<a[^>]*) href=(\"|')[^>]+?\\2([^>]*onclick=[^>]*openservice\\([^)]*?([0-9a-fA-F-]+/#[0-9]+#[a-zA-Z0-9]+@intl)[^>]*>)","g");html=html.replace(re,function(){var svc=q_svcfromid(arguments[4]);if(!svc||!svc.weblink)return arguments[0];var thehref=svc.weblink+".html";thehref=thehref.replace(/^index_?\.html$/,".").replace(/\/(index_?)?\.html$/,"/");return arguments[1]+" href=\""+thehref+"\""+arguments[3];});var re=new RegExp("(<a[^>]*onclick=[^>]*openservice\\([^)]*?([0-9a-fA-F-]+/#[0-9]+#[a-zA-Z0-9]+@intl)[^>]*) href=(\"|')[^>]+?\\3([^>]*>)","g");html=html.replace(re,function(){var svc=q_svcfromid(arguments[2]);if(!svc||!svc.weblink)return arguments[0];var thehref=svc.weblink+".html";thehref=thehref.replace(/^index_?\.html$/,".").replace(/\/(index_?)?\.html$/,"/");return arguments[1]+" href=\""+thehref+"\""+arguments[4];});var re=new RegExp("href=(\"|')_([0-9]+)_page\.html(#note_[0-9]+)?(\\1)","g");html=html.replace(re,function(){var svc=q_svcfromid("#"+arguments[2]+"#artemapage@intl");if(!svc||!svc.weblink)return arguments[0];return "href=\""+svc.weblink+".html"+((arguments[3])?arguments[3]:"")+"\"";});}
if($(".wsg_content_html-v6:eq(0)",div).length==0)$(".wsg_content-v6:eq(0)",div).append("<div class='wsg_content_html-v6'></div>");$(".wsg_content_html-v6:eq(0)",div).html(html.replace(/<(\/?)p( |>)/g,"<$1div$2"));if(spacexml.theme.banner&&spacexml.theme.banner.expert_mode)var rdatas=r.datas;else var rdatas=spacexml.theme.banner;if(rdatas){if(rdatas["connexion"]==undefined)rdatas["connexion"]=true;if(rdatas["search"]==undefined)rdatas["search"]=true;if(q_pagemode()=="view"){rdatas["connexion"]=false;rdatas["search"]=false;}
$(".wsg_content_html-v6:eq(0) *[q_data]",div).each(function(){var thedata;var key=$(this).attr("q_data");if(rdatas[key]){thedata=rdatas[key];}else if(key=="display"&&$(this).attr("q_rule")){var x=$(this).attr("q_rule");if(!/[+|()]/.test(x))x=x.replace(/ +/g,"+");x=x.replace(/[+]/g," && ").replace(/[|]/g," || ");var tmp=[];var re=new RegExp("[a-zA-Z0-9_]+","g");var fneval="(function(){\n";for(var v=re.exec(x);v;v=re.exec(x)){v=v[0];if($.inArray(v,tmp)!=-1)continue;tmp.push(v);fneval+="var "+v+" = "+Boolean(rdatas[v])+";\n";}
fneval+="return ( "+x+" ) ;\n";fneval+="})()";var display=eval(fneval);if(display==false)$(this).hide();}
if(key=="connexion"||key=="search"){if(thedata){$(this).show();if(key=="search"&&window.ecwidID&&rdatas["search-shop"]){var svc=quomodo.shop.svcfromShopId("search");if(svc){var link=q_link_getproperties("qlink:page:"+svc.id);$(this).find("a").attr("href",link.href).attr("onclick",link.clickAttribute);}}}else $(this).hide();}else{if(thedata){thedata=thedata.replace(/(\r\n|\r|\n)/g,"<br/>");if($(this).attr("q_bicolor")||key=="name"||key=="baseline"){$(this).html(qsn_splitHalf(thedata));$(this).css("cursor","pointer").attr("onclick","speciallink_home(); return false;");}else if($(this).attr("q_href")){if(/^qlink:/.test(thedata)){var v=q_link_getproperties(thedata.replace("qlink:",""));$(this).attr("href",v.href||"#").attr("oncontextmenu","return false").attr("onclick",v.clickAttribute).attr("target",v.target);}else{$(this).attr("href",thedata||"#").attr("target","_blank");}}else if(key=="phone"&&$(this).is("a")){$(this).attr("onclick","qlub_xs_phone_click(\""+thedata+"\"); return false;");}else if(key=="address"&&$(this).is("a")){$(this).attr("onclick","qlub_xs_address_click(\""+thedata+"\"); return false;");}else $(this).html(thedata);}else if(key!="display")$(this).hide();}});}}
$(".wsg_facebook:eq(0)",div)[(r.sociallinks=="true")?"show":"remove"]();$(".wsg_twitter:eq(0)",div)[(r.sociallinks=="true")?"show":"remove"]();$(".wsg_maillink:eq(0)",div)[(r.sharelinks=="true")?"show":"remove"]();$(".wsg_printlink:eq(0)",div)[(r.sharelinks=="true")?"show":"remove"]();wsg_correcthtml(gebcn(div,"wsg_content-v6"));$(".wsg_content-v6",div).find("h1 .rpd-h4, h1 .rpd-h5, h1 .rpd-p1, h1 .rpd-p2, h1 .rpd-p3, h2 .rpd-h4, h2 .rpd-h5, h2 .rpd-p1, h2 .rpd-p2, h2 .rpd-p3, h3 .rpd-h4, h3 .rpd-h5, h3 .rpd-p1, h3 .rpd-p2, h3 .rpd-p3").each(function(){var theclass=$(this).attr("class");var m=theclass.match(/\b(rpd-(h4|h5|p1|p2|p3))\b/);var c=m[1];$(this).removeClass(c).parents("h1, h2, h3").addClass(c);});$(".wsg_content-v6 .rpd-h4, .wsg_content-v6 .rpd-h5",div).each(function(){var $this=$(this);if($this.hasClass("no-h"))return;if($this.parents("a").length>0)return;if($.inArray(this.tagName.toLowerCase(),["div","span","font","p","i","b","em"])==-1)return;var b=$.inArray(this.tagName.toLowerCase(),["div","p"])==-1;if(/rpd-h4/.test($this.attr("class")))$this.wrap('<h4></h4>');else $this.wrap('<h5></h5>');if($this.is("a")){$this.parent().css("display","inline");return;}
var attributes=$this.prop("attributes");var _this=this;$.each(attributes,function(){$(_this).parent().attr(this.name,this.value);});if(b)$this.parent().css("display","inline").html($this.html());});$(".wsg_content-v6 h1 strong, .wsg_content-v6 h2 strong, .wsg_content-v6 h3 strong, .wsg_content-v6 h4 strong, .wsg_content-v6 h5 strong, .wsg_content-v6 h1 em, .wsg_content-v6 h2 em, .wsg_content-v6 h3 em, .wsg_content-v6 h4 em, .wsg_content-v6 h5 em",div).each(function(){var $this=$(this);var styleDict={"strong":"font-weight: bold","em":"font-style: italic"};var tagName=this.tagName.toLowerCase();$this.wrap('<span style="'+styleDict[tagName]+'"></span>');var attributes=$this.prop("attributes");$.each(attributes,function(){if(this.name=="style"){$this.parent().attr(this.name,this.value+" ; "+styleDict[tagName]);}else{$this.parent().attr(this.name,this.value);}});$this.parent().html($this.html());});if(r.common.date<"2017-02-15T10:00:00Z"){var i=0;var css=[];$(".wsg_content_html-v6:eq(0) *[style]",div).each(function(){if($(this).hasClass("mce_iconchar"))return;if(!$(this).attr("q_data")&&/font-size/.test($(this).attr("style"))){var fs=parseInt($(this).css("font-size"),10);$(this).css("font-size","");var fs0=parseInt($(this).css("font-size"),10);var lh0=parseInt($(this).css("line-height"),10)/fs0;if(isNaN(lh0))lh0=1.2;lh0=Math.round(lh0*100)/100;if(!/line-height/.test($(this).attr("style")))$(this).css({"font-size":fs+"px","line-height":qsn_define_lh(fs,fs0,lh0)}).addClass("wsg-font-size-"+i);else $(this).css("font-size",fs+"px").addClass("wsg-font-size-"+i);var xsfs=RPD.responsive_fontsize(fs,"xs");css.push(".viewmode.responsive #"+noteid+" .wsg_content_html-v6 .wsg-font-size-"+i+" { font-size: "+xsfs+"px !important ; line-height: "+qsn_define_lh(xsfs,fs0,lh0)+" !important }");i++;}});if(css.length>0)qsn_css_note(noteid,"@media screen and ( max-width: 767px ) { "+css.join("\n")+" }","wsg-font-size");}}else{wsg_load_tinymce(div,r);}
if(qsn_currstate=="edit")wsg_initshrinklist(div,r);if(r.img)var savedShrink=r.img.shrink;if(!(r.model=="standard"&&r.img&&r.img.align=="left"&&r.img.shrink!="100"&&r.img.src))$(div).addClass("list-outside");wsg_renderimg(div,r);wsg_rendermargin(div,r);if(r.img)r.img.shrink=savedShrink;var $coloreds=$(".wsg_content_html-v6 *[qcolor]",div);if($coloreds.length>0){var sectioncolor=qsn_sectioncolor(div.id)||"transparent";$coloreds.each(function(){$(this).css("color",quomodoColors.richColor($(this).attr("qcolor")+"-"+(r.altbgcolor||RPD.altpbgcolor(r.rpd,true,sectioncolor))).c);});}
qsn_jcssmanagerapply(div,r);if(qsn_currstate!="edit"&&r.common.date>="2017-02-15T10:00:00Z"){var i=0;var css=[];$(".wsg_content_html-v6:eq(0) *[style]",div).each(function(){var $this=$(this);if($this.hasClass("mce_iconchar"))return;if(!$this.attr("q_data")&&$this.parentsUntil(".wsg_content_html-v6","[q_data]").length==0&&/font-size/.test($this.attr("style"))){var inlineDisplay=$this.css("display")=="inline";inlineDisplay=false;var fs=parseInt($this.css("font-size"),10);$this.css("font-size","");var fs0=parseInt($this.css("font-size"),10);var lh0=parseInt($this.css("line-height"),10)/fs0;if(isNaN(lh0))lh0=1.2;lh0=Math.round(lh0*100)/100;if(!/line-height/.test($this.attr("style"))){if(inlineDisplay)$this.css({"font-size":fs+"px"}).addClass("wsg-font-size-"+i);else $this.css({"font-size":fs+"px","line-height":qsn_define_lh(fs,fs0,lh0)}).addClass("wsg-font-size-"+i);}else $this.css("font-size",fs+"px").addClass("wsg-font-size-"+i);var xsfs=RPD.responsive_fontsize(fs,"xs");if(inlineDisplay)css.push(".viewmode.responsive #"+noteid+" .wsg_content_html-v6 .wsg-font-size-"+i+" { font-size: "+xsfs+"px !important }");else css.push(".viewmode.responsive #"+noteid+" .wsg_content_html-v6 .wsg-font-size-"+i+" { font-size: "+xsfs+"px !important ; line-height: "+qsn_define_lh(xsfs,fs0,lh0)+" !important }");i++;}});if(css.length>0)qsn_css_note(noteid,"@media screen and ( max-width: 767px ) { "+css.join("\n")+" }","wsg-font-size");}
$(".wsg_content_html-v6 li",div).each(function(){var $this=$(this);var $nodeset=$this.find("> *[style]");if($nodeset.length!=1)return;var elem=$nodeset.get(0);if(elem.style&&elem.style.fontSize)$this.css("font-size",elem.style.fontSize);if(elem.style&&elem.style.lineHeight)$this.css("line-height",elem.style.lineHeight);});$(div).find(".qlubcontainer_content").css("padding","0");if(r.limits){function limits_size(){var i=100;var sizes={};while((!(spacexml.theme.banner&&spacexml.theme.banner.expert_mode)&&$(".wsg_content_html-v6",div).width()>r.limits.w)||$(".wsg_content_html-v6",div).height()>r.limits.h){$('[q_data]',div).each(function(){var size=parseInt($(this).css("font-size"),10);if(size>11){size=size-1;$(this).css("font-size",size+"px");$(this).css("line-height",size+"px");sizes[$(this).attr("q_data")]=size+"px";}});i--;if(i==0)break;}
return sizes;}
if(q_pagemode()=="edit"&&/artemapage/.test(currsvcid)){var sizes=limits_size();if(qsn_currstate=="view")r.limitedFont=sizes;}else{if(r.limitedFont){$('[q_data]',div).each(function(){$(this).css("font-size",r.limitedFont[$(this).attr("q_data")]);$(this).css("line-height",r.limitedFont[$(this).attr("q_data")]);});}else limits_size();}}
if(r.vcenter){function vcenterTop(){var vOffset=0;if(r.vcenter!=true)vOffset=Math.round((parseInt(r.vcenter.split(" ")[0]||0,10)-parseInt(r.vcenter.split(" ")[1]||0,10))/2);var top=(vOffset+Math.round(($(div).parents(".sk-sec:eq(0)").height()-$(div).height())/2))+"px";$(div).css("top",top);return top;}
if(q_pagemode()=="edit"){var top=vcenterTop();if(qsn_currstate=="view")r.vcenterTop=top;}else{if(r.vcenterTop){$(div).css("top",r.vcenterTop);}else vcenterTop();}}
if(r["flex-maxwidth"]&&r.althtml){if($(".wsg_content_html-v6",div).width()>parseInt(r["flex-maxwidth"],10))r.html=r.althtml;delete r["flex-maxwidth"];delete r.althtml;qsn_notechanged(noteid,null,function(){wsg_renderhtml(noteid);});}
if(qsn_currstate!="edit"){var html='<div class="wsg_zoombutton2"><div class="font-q-sn" '+
'onmousedown="q_stopPropagation( event )" onmouseover="q_mouseoverbutton( this )" onmouseout="q_mouseoutbutton( this )" onclick="wsg_renderimg_fsm( this ); return false;" '+
' title=\"'+escapeattribute(wsg_message["zoomimage"])+'\"></div></div>';$(".wsg_notebody",div).find(".wsg_noteimage[qzoom=\"true\"], .wsg_noteimage[qzoom=\"yes\"], .wsg_noteimage[qzoom=\"xs\"]").each(function(){var $html=$(html);$html.find(".btnbtn").attr("screen",$(this).attr("screen"));$(this).attr("onmouseover","wsg_mouseoverimg( this );").attr("onmouseout","wsg_mouseoutimg( this );").html($html);});}
if(qsn_currstate!="edit"){$(".wsg_notebody",div).find(".wsg_noteimage[qlink]").each(function(){if($(this).parent().is("a"))return;var v=q_link_getproperties($(this).attr("qlink"));if(v.kind!=0){var $a=$('<a></a>');$a.attr("href",v.href).attr("onclick",v.clickAttribute).attr("target",v.target).css("border","none");$(this).wrap($a);$(".wsg_noteimage-wrapper",div).addClass("wsg_over_effect");}});wsg_renderimgs($(".wsg_notebody:eq(0)",div).get(0),r);}
if(spacexml.fonts&&spacexml.fonts.f2&&spacexml.fonts.f2.url)$('select[qkey="fonts"] option:eq(0)',div).after('<option value="'+spacexml.fonts.f2.css+'">'+spacexml.fonts.f2.name+'</option>');if(spacexml.fonts&&spacexml.fonts.f1&&spacexml.fonts.f1.url)$('select[qkey="fonts"] option:eq(0)',div).after('<option value="'+spacexml.fonts.f1.css+'">'+spacexml.fonts.f1.name+'</option>');if(qsn_currstate!="edit"){$(".wsg_content_html-v6 .wsg_v6_footer",div).remove();if($(".wsg_v6_sharelinks",div).children().length==0){$(".wsg_v6_footer",div).remove();}else{var $last=$(".wsg_content_html-v6",div).contents().last();if($last.get(0).nodeType==3){$last.after(" ");$(".wsg_v6_footer",div).show().clone().insertAfter($last);}else{$last.append(" ");$(".wsg_v6_footer",div).show().clone().appendTo($last);}
$(".wsg_content_html-v6 .wsg_v6_footer",div).css({"display":"inline","visibility":"hidden","position":"static","padding":"0"});}}
if(qsn_currstate!="edit"){if($(".qlubcontainer_signature",div).length>0){var c=$(".qlubcontainer_signature",div).attr("class");var tmp=$(".qlubcontainer_signature",div).html();$(".qlubcontainer_signature",div).parent().remove();$("<div></div>").attr("class",c).html(tmp).appendTo($(".wsg_v6_footer",div));$(".qlubcontainer_signature",div).removeClass("rpd-ipt rpd-opr rpd-opb");$(".wsg_content-v6 .qlubcontainer_signature",div).css("visibility","hidden");}else $(".wsg_content_html-v6 .wsg_v6_sharelinks",div).css({"display":"inline"});}else{if(spacexml.memberparams&&spacexml.memberparams.skexpert=="1"){var expertHTML='<div style="padding-top: 12px"><span class="paletteaction"><span class="icon-font font-q-i"></span><span>Utilitaires...</span><div style="position:absolute; z-index: 1 ;top: 0px ; left: 0px"><select onmousedown="q_stopPropagation( event )" onchange="wsg_expert( this.value ) ; return false" onfocus="this.selectedIndex = -1 ; this.blur() ;" style="cursor: pointer ; opacity: 0 ; width: 100%">';expertHTML+='<option value="background-image">Image de fond</option>';expertHTML+='<option value="icons-table">Tableau d\'icônes</option>';if(window.ecwidID){expertHTML+='<option value="embed-shop">Code boutique</option>';}
expertHTML+='</select></div></span></div>';$(".wsg_palettebarimgnew, .wsg_paletteactions",div).append(expertHTML);$(".wsg_palette",div).addClass("skexpert");}}
if(q_pagemode()!="web")wsg_cloneNoteForLabel(div,r);if(qsn_currstate!="edit")wsg_addiconfonts(div);if(qsn_width(noteid)=="auto")return;if(r.img&&r.img.src&&r.model=="label"){$(div).addClass("fullheightimage-model");if(r.img.align=="right"){$(".wsg_noteimage-wrapper",div).insertAfter($(".wsg_content_html-v6",div));}
wsg_finalizelabel(div,r);}
if(r.img&&r.img.src&&r.model=="high"){$(div).addClass("fullheightimage-model");if(r.img.align=="right"){$(".wsg_noteimage-wrapper",div).insertAfter($(".wsg_content_html-v6",div));}
wsg_finalizehigh(div,r);}
if(r.img&&r.img.src&&r.model=="standard"&&r.img.align=="right"&&$(".wsg_content_html-v6",div).height()<$(".wsg_noteimage",div).height())$(".wsg_v6_footer",div).css({"left":"0","right":"auto"});var oldwidth=$(".qlubcontainer_content",div).width();$(".wsg_notebody",div).css({"overflow":"visible","width":"auto"});if($(".wsg_content_html-v6:eq(0) *[q_data]",div).length==0){if($(".qlubcontainer_content",div).width()>oldwidth)$(".wsg_notebody",div).css({"overflow":"","width":oldwidth+"px"});}
$(".wsg_noteimage .wsg_legend",div).remove();if(r.img.legend&&r.img.legend.text){if(r.img.legend.display=="outright"||r.img.legend.display=="outleft"){$(".wsg_noteimage",div).css("position","relative").after('<div class="rpd-halfpt wsg_legend_'+r.img.legend.display+' '+(r.img.legend.style?r.img.legend.style:"rpd-p3")+'">'+escapeHTML(r.img.legend.text)+'</div>');}else{$(".wsg_noteimage",div).css("position","relative").append('<div class="wsg_legend_center"><div class="wsg_legend rpd-ipr rpd-ipl '+(r.img.legend.style?r.img.legend.style:"rpd-h4")+'" style="line-height: 1.2em">'+escapeHTML(r.img.legend.text)+'</div></div>');if(r.img.legend.filter&&r.img.legend.filter=="white")$(".wsg_legend",div).css("color","black");else $(".wsg_legend",div).css("color","white");wsg_centerlegend(div);}}
wsg_swiper(noteid);wsg_render_language(div);wsg_render_readmore(noteid);wsg_render_showmore(noteid);$(".wsg_notebody",div).css("min-width",($(".wsg_notebody > .wsg_v6_footer",div).width()||0)+"px");if(qsn_currstate!="edit"){if($("[q_data]",div).length>0||r.nohyphens)$(div).addClass("nohyphens");if(window.Hyphenator){$("a",div).each(function(){function iterate(node){if(node.nodeType==3&&(/(https?:|www)/).test(node.nodeValue))node.nodeValue=Hyphenator.hyphenate(node.nodeValue,q_lang);if(node.nodeType!=1)return;var childNodes=node.childNodes;for(var i=0;i<childNodes.length;i++)iterate(childNodes[i]);}
iterate(this);});}}
if(!/-dup/.test(noteid)){var b=false;if($(".wsg_content_html-v6:eq(0) .swiper-container",div).length>0)b=true;if($(".wsg_content_html-v6:eq(0) .swiper-tab",div).length>0)b=true;if(!(!r.img||!r.img.legend||!r.img.legend.text||r.img.legend.display=="outright"||r.img.legend.display=="outleft"))b=true;if(r.model=="label")b=true;if(r.model=="high")b=true;if(b)qsn_setresponsive_note(div);var section=quomodo.page.sections.get(qsn_stuffID(noteid));if((!section.aligned||r.parentid)&&r.model!="label"&&r.model!="high")$(div).addClass("responsive_finalizeresize").attr("wsg_heightoverflow","1");}
if(window.q_makeweb&&div.customxsmenuSuspended){div.customxsmenuSuspended=false;qlub_menus_create_xs();}
if(r.quomodoclient&&window.quomodoclient&&quomodoclient.wsg_finalize){quomodoclient.wsg_finalize(div,r);}
if(spacexml.shop&&spacexml.shop.doit){if($(".togglecart_note__",div).length>0){$(div).addClass("shop-banner-cart");if(q_pagemode()=="edit"&&!(spacexml.memberparams&&spacexml.memberparams.skexpert)){$(div).attr("prevent-suppress","1");}}}
var svc=q_currsvcjson();var shopId=svc&&svc["shop-id"];$(div).find("#my-store-auto").each(function(){if(!window.ecwidID)return;var $this=$(this);if(shopId==undefined)return;if(q_pagemode()=="edit"&&$("body").data("my-edit-store")){$this.attr("id","my-store-"+ecwidID);$this.html($("body").data("my-edit-store"));}});if(q_pagemode()=="edit"&&spacexml.shop&&spacexml.shop.doit&&window.ecwidID&&!(spacexml.memberparams&&spacexml.memberparams.skexpert)&&$(div).find("#my-store-auto, #my-store-"+ecwidID).length>0&&shopId!=undefined){$(div).attr("prevent-suppress","1");}
if(r.fitHeight){qsn_setresponsive_note(div);wsg_fitHeight(noteid);}
if(q_pagemode()!="edit")$(".q-edit-only",div).remove();if(window.qZoning_wsgFinalize)qZoning_wsgFinalize(div);}
function wsg_centerlegend(div){var r=qsn_thenotes[div.id];if(!r.img||!r.img.legend||!r.img.legend.text)return;if(r.img.legend.display=="outright"||r.img.legend.display=="outleft")return;var imgh=$(".wsg_noteimage",div).width()/wsg_getimgratio(r);$(".wsg_legend",div).css("top",function(){return(imgh-$(this).height())/2+"px";});}
function wsg_renderimgs(elem,r){if(!r&&qsn_currstate=="edit")r=qsn_thenotes[qsn_edittarget.id];$(elem).find("img[qsrc-kind='pc']").each(function(){var $img=$(this);$img.attr("src",q_spaceabsoluteurl(r.common.ownerid,$img.attr("qsrc-src")));});$(elem).find("div[qkind='pc']").each(function(){var $img=$(this);var base=$img.attr("qbase")||"";var rimg={formats:{}};if($img.attr("qsrc"))rimg.downloadsrc=base+$img.attr("qsrc");var tmp=$img.attr("qformats").split(" ");for(var i=0;i<tmp.length;i++){var x=tmp[i].split(":");rimg.formats[x[0]]=base+decodeURI(x[1]);}
rimg.ratio=$img.attr("qratio");if(rimg.ratio!="auto"&&rimg.ratio!="image")rimg.ratio=parseFloat(rimg.ratio);rimg.imagewidth=parseInt($img.attr("qimagewidth"),10);rimg.imageheight=parseInt($img.attr("qimageheight"),10);var wimg=$img.attr("width")||(this.style&&this.style.width);if(wimg)wimg=parseInt(wimg,10);if($img.attr("qtruewidth")=="1")$img.css({"background-image":"url("+q_spaceabsoluteurl(r.common.ownerid,rimg.formats.original)+")","background-size":"auto"});else $img.css("background-image","url("+q_spaceabsoluteurl(r.common.ownerid,qsn_imgurlwithratio(rimg,wimg,r))+")");if(qsn_currstate=="edit")$img.height((wimg||$img.width())/qsn_imgratio(rimg.ratio,rimg,r));});}
function wsg_responsive_finalizeresize(noteid,device){var div=ge(noteid);if($(div).attr("wsg_heightoverflow")!="1")return;if(device=="sm"){wsg_heightoverflow_sm(div);}else{if($(".tablecontent",div).attr("sm-overlap"))$(".tablecontent",div).removeAttr("sm-overlap").unwrap();}}
function wsg_device_resize(device,div,forceDup){if(device=="xs"){if(!forceDup&&/-dup/.test(div.id))return;}else if(device=="sm"){if(/-dup/.test(div.id))return;}
var r=qsn_thenotes[div.id];if(r.img&&r.img.src&&r.model=="label"){if(div.labelized){$(".wsg_content_html-v6",div).html($("#"+div.id+"-dup .wsg_content_html-v6").html());wsg_finalizelabel(div,r);}}
if(r.img&&r.img.src&&r.model=="high"){wsg_finalizehigh(div,r);}
if(device=="xs"||device=="sm"){wsg_toolongelem(div);}
wsg_fitHeight(div.id);wsg_swiper(div.id);wsg_centerlegend(div);if($(div).data("readmore")){q_fsm_delete();wsg_readmore(div.id);}}
function wsg_heightoverflow_sm(div){var r=qsn_thenotes[div.id];var div_left=$(div).offset().left;var div_top=$(div).offset().top;var div_right=div_left+$(div).width();var div_bottom=div_top+$(div).height();var overlap=false;$(div).nextAll(".note").each(function(){var this_left=$(this).offset().left;var this_top=$(this).offset().top;var this_right=this_left+$(this).width();var this_bottom=this_top+$(this).height();if(div_left<this_right&&div_right>this_left&&div_bottom>this_top&&div_top<this_bottom){overlap=true;return false;}else if(this_top>=div_bottom)return false;});if(overlap){if(!$(div).attr("md_contentheight")){function md_contentheight(){if($("#sn_duplicate").length==0)$("body").append('<div id="sn_duplicate"></div>');var newnoteid=div.id+"-dupmd";$("#"+newnoteid).remove();qsn_thenotes[newnoteid]=$.extend(true,{},r);var duplicate_r=qsn_thenotes[newnoteid];duplicate_r.common.noteid=newnoteid;delete duplicate_r.parentid;delete duplicate_r.pagesparent;var $newdiv=$(div).clone(true);$newdiv.attr("id",newnoteid);$("#sn_duplicate").append($newdiv);wsg_renderhtml(newnoteid);$newdiv.css({"position":"relative","top":"0","left":"0","width":parseInt(qsn_width(div.id),10)+"px"});$newdiv.attr("onmousedown","").attr("onmouseout","").attr("onmouseover","");delete qsn_thenotes[newnoteid];$("#sn_duplicate").show();var h=$("#"+div.id+"-dupmd .tablecontent").height();$("#sn_duplicate").hide();$("#"+newnoteid).remove();return h;}
$(div).attr("md_contentheight",md_contentheight());}
if(!$(".tablecontent",div).attr("sm-overlap"))$(".tablecontent",div).attr("sm-overlap","1").wrap('<div style="height:'+parseInt($(div).attr("md_contentheight"),10)+'px;overflow:auto"></div>');}}
function wsg_toolongelem(div){var b=false;$(".wsg_content_html-v6 *",div).each(function(){if($(this).width()>$(".wsg_content_html-v6",div).width()){b=true;return false;}});if(b)$(".wsg_notebody",div).css("overflow","auto");else $(".wsg_notebody",div).css("overflow","");}
function wsg_getimgratio(r){if(r.img&&(r.img.truewidth||r.img.retinawidth))return parseFloat(qsn_imgratio("image",r.img,r));if(r.customratio)return parseFloat(r.customratio);return parseFloat(qsn_imgratio(r.img&&r.img.ratio,r.img,r));}
function wsg_cssratio(noteid,ratio,wmd,maxwidth){return qsn_responsive_cssratio(noteid,ratio,wmd,".wsg_noteimage",maxwidth);if(ratio==1)return "";var tmp=[];var wimg_md=wmd||(qsn_width_sm(noteid)*990/750);var minratio=(ratio>1)?1.2:0.67;var w1=wimg_md*minratio/ratio;if(w1>766){tmp.push("@media screen and ( max-width:"+(maxwidth?Math.min(maxwidth,767):767)+"px ) { .viewmode.responsive #"+noteid+" .wsg_noteimage { padding-bottom: "+(100/minratio)+"% !important } }");}else{var w1=Math.floor(w1);if(!maxwidth||(w1+1)<maxwidth)tmp.push("@media screen and ( min-width:"+(w1+1)+"px ) and ( max-width:"+(Math.min((maxwidth?Math.min(maxwidth,767):767),Math.floor(wimg_md)))+"px ) { .viewmode.responsive #"+noteid+" .wsg_noteimage { padding-bottom: "+(wimg_md/ratio)+"px !important } }");tmp.push("@media screen and ( max-width:"+(maxwidth?Math.min(maxwidth,w1):w1)+"px ) { .viewmode.responsive #"+noteid+" .wsg_noteimage { padding-bottom: "+(100/minratio)+"% !important } }");}
return tmp.join("\n");}
function wsg_imgaltEnabled(){return true;if(q_ispros("account")||(window.quomodoclient&&quomodoclient.imgaltEnabled)||(spacexml.memberparams&&spacexml.memberparams.skexpert))return true;return false;}
function wsg_renderimg2(div,r){if(!div)div=qsn_edittarget;if(!r)r=qsn_thenotes[div.id];var noteid=div.id;var img,wimg;var notew=parseInt(qsn_width(div.id),10);if(r.img.oldratio){r.img.ratio=r.img.oldratio;delete r.img.oldratio;}
if(r.img&&r.img.src){if(r.img.truewidth){wimg=r.img.imagewidth;}else if(r.img.retinawidth){wimg=r.img.imagewidth/2;}else{var sec=quomodo.page.sections.get(qsn_stuffID(div.id));wimg=notew/100*parseInt(r.img.shrink,10);var notecss=[];var md_wimg=parseInt(qsn_width(div.id),10)/100*parseInt(r.img.shrink,10);var ratio=wsg_getimgratio(r);if(r.img.shrink==100){if(r.keepformat!=true)notecss.push(wsg_cssratio(noteid,ratio,parseInt(qsn_width(div.id),10)));notecss.push("@media screen and ( max-width: 767px ) { .viewmode.responsive #"+noteid+" .wsg_noteimage-wrapper { width: 100% !important } }");}else if(r.model=="standard"){var w1=md_wimg/0.75+30;notecss.push("@media screen and ( max-width:"+Math.min(767,Math.floor(w1))+"px ) { .viewmode.responsive #"+noteid+" .wsg_noteimage-wrapper { width: 100% !important ; padding-left: 0px !important ; padding-right: 0px !important ; } }");if(r.keepformat!=true)notecss.push(wsg_cssratio(noteid,ratio,md_wimg,Math.min(767,Math.floor(w1))));var w2=md_wimg/0.5+30;if(w1<767){notecss.push("@media screen and ( min-width:"+(Math.floor(w1)+1)+"px ) and ( max-width:"+(Math.floor(w2))+"px ) { .viewmode.responsive #"+noteid+" .wsg_noteimage-wrapper { width: 50% !important } }");}}else if(r.model=="high"){notecss.push("@media screen and ( max-width: "+Math.min(767,Math.floor(notew))+"px ) { .viewmode.responsive #"+noteid+" .wsg_noteimage-wrapper { width: 100% !important } }");}else if(r.model=="label"){var w2=md_wimg/0.5+30;notecss.push("@media screen and ( max-width:"+Math.min(767,Math.floor(w2))+"px ) { .viewmode.responsive #"+noteid+" .wsg_noteimage-wrapper { width: 50% !important } }");$(div).attr("xs_imgtriggerwidth",Math.min(767,Math.floor(w2)));}
var sm_imgwidth=md_wimg*devicesDef.sm.contentWidth/devicesDef.md.contentWidth;var lg_imgwidth=md_wimg*devicesDef.lg.contentWidth/devicesDef.md.contentWidth;var sm_notew=qsn_width_sm(div.id);if(sec.isaligned()&&r.img.shrink!="100"){var col=r.common.col||sec.encodeCol(notew);var tmp=sec["imgwidth_def"][r.img.align][col];if(!tmp||tmp.length==0)tmp=sec["imgwidth_def"][r.img.align][sec.encodeCol(notew)]
if(tmp&&tmp.length>0)wimg=[].concat(tmp).sort(function(a,b){return Math.abs(a.v-wimg)-Math.abs(b.v-wimg);})[0].v;var col=r.common.col||sec.encodeCol(sm_notew);var tmp=sec["sm_imgwidth_def"][r.img.align][col];if(!tmp||tmp.length==0)tmp=sec["sm_imgwidth_def"][r.img.align][sec.encodeCol(sm_notew)]
if(tmp&&tmp.length>0)sm_imgwidth=[].concat(tmp).sort(function(a,b){return Math.abs(a.v-sm_imgwidth)-Math.abs(b.v-sm_imgwidth);})[0].v;if(spacexml.lgresponsive){var col=r.common.col||sec.encodeCol(notew);var tmp=sec["lg_imgwidth_def"][r.img.align][col];if(!tmp||tmp.length==0)tmp=sec["lg_imgwidth_def"][r.img.align][sec.encodeCol(notew)]
if(tmp&&tmp.length>0)lg_imgwidth=[].concat(tmp).sort(function(a,b){return Math.abs(a.v-lg_imgwidth)-Math.abs(b.v-lg_imgwidth);})[0].v;}}
if(r.img.shrink!="100"){notecss.push("@media screen and ( min-width : 768px ) and ( max-width:1007px ) { .viewmode.responsive #"+noteid+" .wsg_noteimage-wrapper { width: "+sm_imgwidth+"px !important } }");if(r.model=="label"){$(div).attr("sm_imgwidth",sm_imgwidth);}
if(spacexml.lgresponsive){notecss.push("@media screen and ( min-width : 1200px ) { .viewmode.responsive #"+noteid+" .wsg_noteimage-wrapper { width: "+lg_imgwidth+"px !important } }");if(r.model=="label"){$(div).attr("lg_imgwidth",lg_imgwidth);}}}
var m=RPD.contentMargin(r.rpd);qsn_css_note(div.id,notecss.join("\n"),"note");}}
img=gebcn(div,"wsg_noteimage");if(r.img&&r.img.src){if(!img){var cnode=gebcn(div,"wsg_content-v6");img=document.createElement("DIV");img.className="wsg_noteimage";if(qsn_currstate!="edit"){img=(cnode.childNodes[0])?cnode.insertBefore(img,cnode.childNodes[0]):cnode.appendChild(img);$(img).wrap('<div class="wsg_noteimage-wrapper">'+(wsg_imgaltEnabled()?'<div style="position: relative"></div>':'')+'</div>');var cleardiv=document.createElement("DIV");cleardiv.className="q_clearboth";cnode.appendChild(cleardiv);if(r.img.shrink=="100")$(".wsg_noteimage-wrapper",div).width("100%");else $(".wsg_noteimage-wrapper",div).width((wimg)?wimg:(r.img.shrink+"%"));var m=RPD.contentMargin(r.rpd);var bContentBox=false;if(r.img.align=="left"&&r.model=="standard"&&parseInt(m.left,10)==0)bContentBox=true;if(r.img.align=="right"&&r.model=="standard"&&parseInt(m.right,10)==0)bContentBox=true;if(r.model=="label"||r.model=="high")bContentBox=true;if(r.img.truewidth||r.img.retinawidth)bContentBox=true;if(bContentBox)$(".wsg_noteimage-wrapper",div).css("box-sizing","content-box");wimg=wimg||parseInt(img.style.width,10);wsg_renderimg_align(img,r);}else{}
cnode=null;}else if(qsn_currstate!="edit"){if(r.img.shrink=="100")$(".wsg_noteimage-wrapper",div).width("100%");else $(".wsg_noteimage-wrapper",div).width((wimg)?wimg:(r.img.shrink+"%"));wsg_renderimg_align(img,r);}
function editimgurl(){var rimg=r.img;if(!rimg.formats)return rimg.downloadsrc||rimg.src;return rimg.formats["quarterscreen"]||rimg.formats["height50"]||rimg.downloadsrc||rimg.src;}
if(qsn_currstate=="edit"){if(r.img.kind=="web")$(".wsg_imageedit",div).css("background-image","url("+r.img.src+")");else $(".wsg_imageedit",div).css("background-image","url("+q_spaceabsoluteurl(r.common.ownerid,(qsn_currstate=="edit")?editimgurl():qsn_imgurlwithratio(r.img,wimg,r))+")");hideshowblock("wsg_palettebarimgnew","wsg_palettebarimgoptions",div);wsg_init_paletteitem_value(div,r);}else{$(img).css("background-size","");var url;if(r.img.kind=="web")$(img).css("background-image","url("+r.img.src+")");else if(r.img.truewidth||r.img.retinawidth){url=q_spaceabsoluteurl(r.common.ownerid,r.img.formats.original);$(img).css({"background-image":"url("+url.replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27").replace(/"/g,"%22")+")","background-size":r.img.truewidth?"auto":(Math.round(r.img.imagewidth/2)+"px")});}else{url=q_spaceabsoluteurl(r.common.ownerid,(qsn_currstate=="edit")?editimgurl():qsn_imgurlwithratio(r.img,wimg,r));$(img).css("background-image","url("+url.replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27").replace(/"/g,"%22")+")");}
if(wsg_imgaltEnabled()&&url){var $img=$(".wsg-img-wrapper img",div);if($img.length==0){$(img).before('<div class="wsg-img-wrapper"><img src="/images/blank.gif"/></div>');$img=$(".wsg-img-wrapper img",div);}
$img.attr("src",url);$img.attr("alt",wsg_getAlt(r));}}}else{if(qsn_currstate=="edit")hideshowblock("wsg_palettebarimgoptions","wsg_palettebarimgnew",div);if(img)img.parentNode.removeChild(img);}
if(qsn_currstate=="edit")qsn_adjustvstretch(true,true);var $img=$(".wsg_noteimage",div);var linkproperties=q_link_getproperties(r.linkdata);if(linkproperties){$img.attr("qlink",linkproperties.qhref);}
if(qsn_currstate=="edit"){$(qsn_edittarget).find('.wsg_link_type_elem').text(qsn_message["currentlink"+linkproperties.kind||"0"]);$(qsn_edittarget).find('.wsg_link_value_elem').text(linkproperties.displayValue||"");return;}
if(!img)return;wimg=wimg||parseInt(img.style.width,10);$img.attr("qzoom",r.enablezoom);if(r.img.truewidth){wimg=r.img.imagewidth;$img.css("padding-bottom",r.img.imageheight+"px");}else if(r.img.retinawidth){$img.css("padding-bottom",Math.round(r.img.imageheight/2)+"px");}else{$img.css("padding-bottom",(100/wsg_getimgratio(r))+"%");}
if(r.img.kind=="pc")$img.attr("screen","quomodo:"+((r.img.formats)?r.img.formats.screen:r.img.src));else $img.attr("screen","web:"+r.img.src);}
function wsg_renderimg(div,r){if(spacexml.responsive)return wsg_renderimg2(div,r);if(!div)div=qsn_edittarget;if(!r)r=qsn_thenotes[div.id];var img,wimg;var imgwidth_def="imgwidth_def";var device=qsn_responsive_mod();var notew=parseInt(qsn_responsive_width(div.id),10);if(device=="sm")imgwidth_def="sm_imgwidth_def";if(r.img.oldratio){r.img.ratio=r.img.oldratio;delete r.img.oldratio;}
if(r.img&&r.img.src){var sec=quomodo.page.sections.get(qsn_stuffID(div.id));wimg=notew/100*parseInt(r.img.shrink,10);if(device=="xs"){if(r.model=="standard"){var md_wimg=parseInt(qsn_width(div.id),10)/100*parseInt(r.img.shrink,10);var imgshrink=md_wimg/notew*100;if(imgshrink>75)r.img.shrink=100;else if(imgshrink>=50&&imgshrink<=75)r.img.shrink=50;else r.img.shrink=imgshrink;wimg=Math.round(notew/100*r.img.shrink);}else if(r.model=="label"||r.model=="high"){var md_wimg=parseInt(qsn_width(div.id),10)/100*parseInt(r.img.shrink,10);var imgshrink=md_wimg/notew*100;if(imgshrink>=50)r.img.shrink=50;else r.img.shrink=imgshrink;wimg=Math.round(notew/100*r.img.shrink);}else{var md_wimg=parseInt(qsn_width(div.id),10)/100;wimg=notew;}
if(r.img.shrink==100){var ratio=wsg_getimgratio(r);if(r.img.ratio!=1){r.img.oldratio=r.img.ratio;r.img.ratio=qsn_responsive_ratio(div.id,ratio,md_wimg,wimg);}}}else if(sec.isaligned()&&r.img.shrink!="100"){var col=r.common.col||sec.encodeCol(notew);var tmp=sec[imgwidth_def][r.img.align][col];if(!tmp||tmp.length==0)tmp=sec[imgwidth_def][r.img.align][sec.encodeCol(notew)]
if(tmp&&tmp.length>0)wimg=[].concat(tmp).sort(function(a,b){return Math.abs(a.v-wimg)-Math.abs(b.v-wimg);})[0].v;}
var m=RPD.contentMargin(r.rpd);if((r.img.align=="left"||r.img.shrink=="100")&&r.model=="standard")wimg-=parseInt(m.left,10);if((r.img.align=="right"||r.img.shrink=="100")&&r.model=="standard")wimg-=parseInt(m.right,10);}
img=gebcn(div,"wsg_noteimage");if(r.img&&r.img.src){if(!img){var cnode=gebcn(div,"wsg_content-v6");img=document.createElement("DIV");img.className="wsg_noteimage";if(qsn_currstate!="edit"){img=(cnode.childNodes[0])?cnode.insertBefore(img,cnode.childNodes[0]):cnode.appendChild(img);var cleardiv=document.createElement("DIV");cleardiv.className="q_clearboth";cnode.appendChild(cleardiv);$(img).width((wimg)?wimg:(r.img.shrink+"%"));wimg=wimg||parseInt(img.style.width,10);wsg_renderimg_align(img,r);}else{}
cnode=null;}else if(qsn_currstate!="edit"){$(img).width((wimg)?wimg:(r.img.shrink+"%"));wsg_renderimg_align(img,r);}
function editimgurl(){var rimg=r.img;if(!rimg.formats)return rimg.downloadsrc||rimg.src;return rimg.formats["quarterscreen"]||rimg.formats["height50"]||rimg.downloadsrc||rimg.src;}
if(qsn_currstate=="edit"){if(r.img.kind=="web")$(".wsg_imageedit",div).css("background-image","url("+r.img.src+")");else $(".wsg_imageedit",div).css("background-image","url("+q_spaceabsoluteurl(r.common.ownerid,(qsn_currstate=="edit")?editimgurl():qsn_imgurlwithratio(r.img,wimg,r))+")");hideshowblock("wsg_palettebarimgnew","wsg_palettebarimgoptions",div);wsg_init_paletteitem_value(div,r);}else{$(img).css("background-size","");if(r.img.kind=="web")$(img).css("background-image","url("+r.img.src+")");else if(r.img.truewidth){$(img).css({"background-image":"url("+q_spaceabsoluteurl(r.common.ownerid,r.img.formats.original)+")","background-size":"auto"});}else $(img).css("background-image","url("+q_spaceabsoluteurl(r.common.ownerid,(qsn_currstate=="edit")?editimgurl():qsn_imgurlwithratio(r.img,wimg,r))+")");}}else{if(qsn_currstate=="edit")hideshowblock("wsg_palettebarimgoptions","wsg_palettebarimgnew",div);if(img)img.parentNode.removeChild(img);}
if(qsn_currstate=="edit")qsn_adjustvstretch(true,true);var $img=$(".wsg_noteimage",div);var linkproperties=q_link_getproperties(r.linkdata);if(linkproperties){$img.attr("qlink",linkproperties.qhref);}
if(qsn_currstate=="edit"){$(qsn_edittarget).find('.wsg_link_type_elem').text(qsn_message["currentlink"+linkproperties.kind||"0"]);$(qsn_edittarget).find('.wsg_link_value_elem').text(linkproperties.displayValue||"");return;}
if(!img)return;wimg=wimg||parseInt(img.style.width,10);$img.attr("qzoom",r.enablezoom);$img.attr("qratio",wsg_getimgratio(r));if(r.img.kind=="pc")$img.attr("screen","quomodo:"+((r.img.formats)?r.img.formats.screen:r.img.src));else $img.attr("screen","web:"+r.img.src);}
function wsg_rendermargin2(div,r){var hastitle=!($(".tablenote",div).css("display")=="none"||r.header.display=="false");var hasimg=(r.img&&r.img.src)?true:false;var imgwide=(r.img&&r.img.shrink=="100")?true:false;var hascontent=r.html?true:false;switch(r.model){case "standard":$(".wsg_content-v6",div).addClass("rpd-opt rpd-opr rpd-opl rpd-opb");$(".wsg_noteimage-wrapper",div).removeClass("rpd-imb rpd-omb rpd-ipr rpd-ipl");if(hasimg){if(imgwide)$(".wsg_noteimage-wrapper",div).addClass(hascontent?"rpd-imb":"rpd-omb");else if(r.img.align=="left")$(".wsg_noteimage-wrapper",div).addClass("rpd-ipr");else if(r.img.align=="right")$(".wsg_noteimage-wrapper",div).addClass("rpd-ipl");}
break;case "wide":$(".wsg_content_html-v6",div).addClass("rpd-opr rpd-opl");$(".wsg_content-v6",div).addClass("rpd-opb");if(hasimg){$(".wsg_noteimage-wrapper",div).addClass(hascontent?"rpd-imb":"rpd-omb").css("float","none");if(hastitle&&$.inArray(RPD.getRPDById(r.rpd).rpd.model,wsg_models_with_header_and_label)==-1)$(".wsg_noteimage-wrapper",div).addClass("rpd-omt");}else{$(".wsg_content_html-v6",div).addClass("rpd-opt");}
break;case "label":case "high":if(hasimg){$(".wsg_content_html-v6",div).addClass("rpd-opt rpd-opb");if(r.img.align=="left"){$(".wsg_noteimage-wrapper",div).addClass("rpd-ipr");$(".wsg_content_html-v6",div).addClass("rpd-opr");$(".wsg_v6_footer",div).css({"left":"auto","right":"0"});}else if(r.img.align=="right"){$(".wsg_noteimage-wrapper",div).addClass("rpd-ipl");$(".wsg_content_html-v6",div).addClass("rpd-opl");$(".wsg_v6_footer",div).css({"left":"0","right":"auto"});}}else{$(".wsg_content-v6",div).addClass("rpd-opt rpd-opr rpd-opl rpd-opb");if(hasimg){if(imgwide)$(".wsg_noteimage-wrapper",div).addClass(hascontent?"rpd-imb":"rpd-omb");else if(r.img.align=="left")$(".wsg_noteimage-wrapper",div).addClass("rpd-ipr");else if(r.img.align=="right")$(".wsg_noteimage-wrapper",div).addClass("rpd-ipl");}}
break;}}
function wsg_rendermargin(div,r){if($(".wsg_noteimage-wrapper",div).length>0)return wsg_rendermargin2(div,r);var hastitle=!($(".tablenote",div).css("display")=="none"||r.header.display=="false");var hasimg=(r.img&&r.img.src)?true:false;var imgwide=(r.img&&r.img.shrink=="100")?true:false;var hascontent=r.html?true:false;switch(r.model){case "standard":$(".wsg_content-v6",div).addClass("rpd-opt rpd-opr rpd-opl rpd-opb");$(".wsg_noteimage",div).removeClass("rpd-imb rpd-omb rpd-imr rpd-iml");if(hasimg){if(imgwide)$(".wsg_noteimage",div).addClass(hascontent?"rpd-imb":"rpd-omb");else if(r.img.align=="left")$(".wsg_noteimage",div).addClass("rpd-imr");else if(r.img.align=="right")$(".wsg_noteimage",div).addClass("rpd-iml");}
break;case "wide":$(".wsg_content_html-v6",div).addClass("rpd-opr rpd-opl");$(".wsg_content-v6",div).addClass("rpd-opb");if(hasimg){$(".wsg_noteimage",div).addClass(hascontent?"rpd-imb":"rpd-omb");if(hastitle&&$.inArray(RPD.getRPDById(r.rpd).rpd.model,wsg_models_with_header_and_label)==-1)$(".wsg_noteimage",div).addClass("rpd-omt");}else{$(".wsg_content_html-v6",div).addClass("rpd-opt");}
break;case "label":case "high":if(hasimg){$(".wsg_content_html-v6",div).addClass("rpd-opt rpd-opb");if(r.img.align=="left"){$(".wsg_noteimage",div).addClass("rpd-imr");$(".wsg_content_html-v6",div).addClass("rpd-opr");$(".wsg_v6_footer",div).css({"left":"auto","right":"0"});}else if(r.img.align=="right"){$(".wsg_noteimage",div).addClass("rpd-iml");$(".wsg_content_html-v6",div).addClass("rpd-opl");$(".wsg_v6_footer",div).css({"left":"0","right":"auto"});}}else{$(".wsg_content-v6",div).addClass("rpd-opt rpd-opr rpd-opl rpd-opb");if(hasimg){if(imgwide)$(".wsg_noteimage",div).addClass(hascontent?"rpd-imb":"rpd-omb");else if(r.img.align=="left")$(".wsg_noteimage",div).addClass("rpd-imr");else if(r.img.align=="right")$(".wsg_noteimage",div).addClass("rpd-iml");}}
break;}}
function wsg_renderimg_align(img,r){var $img=$(img);var $imgwrapper=$img.parent();if($imgwrapper.hasClass("wsg_noteimage-wrapper"))$img=$imgwrapper;else if($img.parents(".wsg_noteimage-wrapper").length>0)$img=$img.parents(".wsg_noteimage-wrapper");$img.css("float",(r.img.shrink=="100")?"none":r.img.align);}
function wsg_correcthtml(html){var fonts=html.getElementsByTagName("font");for(var i in fonts){if(fonts[i].color){var color=fonts[i].color;fonts[i].style.color=color;}};if(/mailto:clubs@quomodo;com/.test(html.innerHTML)){var selectedmember;for(var mid in members)if(members[mid]&&members[mid].userlevel=="admin"&&members[mid].email){if(!selectedmember||(mid<selectedmember))selectedmember=mid;}
if(selectedmember)html.innerHTML=html.innerHTML.replace(/mailto:clubs@quomodo.com/,members[selectedmember].email);}
function clean(elem){var nodes=elem.childNodes;var reBadAttribute=new RegExp("([a-zA-Z0-9]+:){2,"+"}[a-zA-Z0-9]+","i");for(var i=nodes.length-1;i>=0;i--){if(nodes[i].nodeType!=1)continue;var badAttributes=[];for(var j=0;j<nodes[i].attributes.length;j++){if(reBadAttribute.test(nodes[i].attributes[j].nodeName))badAttributes.push(nodes[i].attributes[j].nodeName);}
for(var j=0;j<badAttributes.length;j++){var badAttribute=badAttributes[j]
if(nodes[i].getAttribute(badAttribute))nodes[i].setAttribute(badAttribute.replace(/^.*:([^:]+)$/,"$1"),nodes[i].getAttribute(badAttribute));nodes[i].removeAttribute(badAttribute);}
clean(nodes[i]);}}
var reBadAttribute=new RegExp("<[^>]+ ([a-zA-Z0-9]+:){2,"+"}[a-zA-Z0-9]+=\"","i");if(reBadAttribute.test(html.innerHTML))clean(html);}
function wsg_addiconfonts(div){function addiconprocess(elem,target){var iconclasses=$(elem).attr("class").split(" ");var theiconclass;for(var i=0;i<iconclasses.length;i++){if(/^font-q-sn/.test(iconclasses[i]))theiconclass=iconclasses[i];}
var caticon=theiconclass.replace("font-q-sn-","");quomodoFonts.load("q-sn-"+caticon);}
$(".wsg_content_html-v6 .mce_iconchar",div).each(function(){addiconprocess(this,document);});}
function wsg_cloneforexport(div,r){if(r.model=="label")var htmldiv=$("#"+div.id+"-dup .wsg_content_html-v6:eq(0)").clone();else var htmldiv=$(".wsg_content_html-v6:eq(0)",div).clone();htmldiv.find(".wsg_v6_footer, .mce_icon_rpd").remove();$(htmldiv).find('[class]').each(function(){$(this).css({"color":$(this).css("color"),"font-weight":$(this).css("font-weight"),"font-style":$(this).css("font-style")});});return htmldiv.get(0);}
function wsg_print(elem){var div=getContainer(elem);var r=qsn_thenotes[div.id.replace("-dup","")];var $toprintdiv=$(div).clone();$toprintdiv.css("border","0").removeAttr("mouseover mouseout mousedown").find(".note_borderselection, .qlubcontainer_secorner, .wsg_v6_footer").remove();q_printThis($('<div></div>').append($toprintdiv).html(),RPD.altbgcolor(r.rpd));}
function wsg_prepareNoteHTML(div,r,options){var htmldiv=wsg_cloneforexport(div,r);var host="http://"+((window.clubhost)?clubhost:window.location.host+"/"+window.clubprivatedomain)+"/";if(!htmldiv)var contentHTML="";else{options=$.extend({maxlength:10000,mode:"html",href:function(href,svcid){if(/_[0-9]+_page.html$/.test(href)&&!svcid)svcid="#"+(href.replace(/^.*\/_([0-9]+)_page.html$/,"$1"))+"#artemapage@intl";if(svcid){var hrefpath=q_svcid2hrefpath(svcid);if(hrefpath)return host+hrefpath;return href;}
if(/\/uploads\//.test(href))return host+href.replace(/^.*\/(uploads\/.*)$/,"$1");return href;}},options);var res=q_innerLightHTML(htmldiv,options);var contentHTML=res[0];}
if(r.img&&r.img.src){if(!q_currsvcisweb()){return contentHTML;}
var tw=options.w||Math.min(650,div.offsetWidth);function imgWidth(){return Math.floor((tw-10)/100*parseInt(r.img.shrink,10));}
function imgSrc(){if(r.img.kind=="web")return r.img.src;var formats=["quarterscreen","halfscreen","screen"];var width=imgWidth();if(width>500)formats=["screen","halfscreen","quarterscreen"];else if(width>250)formats=["halfscreen","screen","quarterscreen"];if(!r.img.formats)return host+(r.img.downloadsrc||r.img.src);var src=r.img.formats[formats[0]];if(!src)src=r.img.formats[formats[1]];if(!src)src=r.img.formats[formats[2]];return host+src;}
function imgAlign(){if(r.img.shrink=="100")return "center";if(r.img.align=="left")return "left";return "right";}
var html='<table cellspacing="12" width="'+tw+'"><tbody><tr>';var htmlimg='<td align="'+imgAlign()+'" valign="top"><img width="'+imgWidth()+'" src="'+imgSrc()+'" /></td>';var htmltxt=(contentHTML=="")?'':('<td valign="top">'+contentHTML+'</td>');html+=(r.img.shrink=="100"||r.img.align=="left")?htmlimg:htmltxt;if(r.img.shrink=="100")html+='</tr><tr>';html+=(r.img.shrink=="100"||r.img.align=="left")?htmltxt:htmlimg;html+='</tr></tbody></table>';return html;}else return contentHTML;}
function wsg_prepareMail(div,r,wantdefault){if(!wantdefault&&window.client_wsg_prepareMail)return client_wsg_prepareMail(div,r);var contentmail="";if(r.header.text)contentmail+=wsg_message["mailTitle"].replace(/%s/,"<b>"+r.header.text.replace(/\r/g,"\n").split("\n").join("</b><br/><b>")+"</b>");contentmail+=wsg_message["mailContent"].replace(/%s/,wsg_prepareNoteHTML(div,r));var mailPageurl=(window.quomodoclient&&quomodoclient.message&&quomodoclient.message["mailPageurl"]!=undefined)?quomodoclient.message["mailPageurl"]:wsg_message["mailPageurl"];mailPageurl=mailPageurl.replace(/%name/g,(window.spacexml&&spacexml.infos&&spacexml.infos.name)||"");if(q_pagemode()=="web"){contentmail+=mailPageurl.replace(/%url/g,window.location.href);}else if(q_currsvcisweb()){var svc=q_currsvcjson();contentmail+=mailPageurl.replace(/%url/g,"http://"+((window.clubhost)?clubhost:window.location.host+"/"+window.clubprivatedomain)+"/"+svc.weblink);}else if(!q_currsvcisweb()){contentmail+=mailPageurl.replace(/%url/g,q_privateurl(currsvcid,true));}
return{"content":contentmail,"replyto_txt":wsg_message["bodyalertreply"]};}
function wsg_mail(elem){var div=getContainer(elem);var r=qsn_thenotes[div.id];if(r.img&&r.img.src&&!q_currsvcisweb()){var path="/services/dialogs/q_confirm-flatdesign/index_"+q_lang+".html";var options={json:{msg:wsg_message.mailImgNotDisplayed,buttons:{validate:wsg_message.send,cancel:wsg_message.cancel}},callback:function(x){if(!x)return false;qlub_openemailalert("mailthis",wsg_prepareMail(div,r));}};return quomodo.fsm.loadDialog(path,options);}
qlub_openemailalert("mailthis",wsg_prepareMail(div,r));}
function wsg_exportnl(id){if(id=="note_000000002")return "";var r=qsn_thenotes[id];var div=ge(id);var htmldiv=wsg_cloneforexport(div,r);if(!htmldiv)return "";var wsgitem={};var thedate=q_isot2date(r.common.date);var thecurrdate=new Date();if(thecurrdate<thedate)thedate=thecurrdate;wsgitem.pubDate=q_date2isot(thedate);var pagelink=q_svcid2svcpage(currsvcid)+"#"+id;wsgitem.link="%%qluburl%%"+pagelink;wsgitem.notekind=r.common.notekind;wsgitem.id=(document.mainform.q_space.value)+"-"+currsvcid+"-"+id;var res=q_innerLightHTML(htmldiv,{mode:"html",href:function(href,svcid,s){if(/_[0-9]+_page.html$/.test(href)&&!svcid)svcid="#"+(href.replace(/^.*\/_([0-9]+)_page.html$/,"$1"))+"#artemapage@intl";if(svcid){var hrefpath=q_svcid2hrefpath(svcid);if(hrefpath)return "http://%%/qluburl%%"+hrefpath;wsgitem.brokenlink=s||"(???)";return href;}
var basehtml=window.location.href.replace(/\/[^/]*$/,"/");var re=new RegExp("^("+basehtml+")?uploads/");if(re.test(href))return href.replace(/^.*\/(uploads\/.*)$/,"http://%%/qluburl%%"+"$1");return href;}});var description=res[0];description=description.replace(/ /g," ").replace(/\r/g,"\n").replace(/^([\s\t\r\n]*<br\/?>)+/,"").replace(/(<br\/?>[\s\t\r\n]*)+$/,"");wsgitem.image=r.img;wsgitem.content=description;wsgitem.rawtitle=(r.header&&r.header.display=="true"&&r.header.text)?r.header.text:"";if(r.header.text)var title=r.header.text;else{var maxtitlelength=65;var i=0;var title="";try{title=/^[ \t]*([^ \t].+)/m.exec(description.replace(/<br\/?>/g,"\n").replace(/<[^>]+>/g,""))[0]}catch(err){};title=q_nl_truncate(title,maxtitlelength);}
wsgitem.title=title;var imgdesc="";var hspacedesc="";if(r.img&&r.img.src){var imgurl=r.img.src;wsgitem.img=imgurl;var w=(window.client_nl_img_width||120);var dims=qlub_nl_imgsDims[qlub_nl_imgurl(r)];var dimAttributes='width="'+w+'" ';if(dims.height&&dims.width){dimAttributes+='height="'+Math.round(w*dims.height/dims.width)+'" ';hspacedesc='<img src="http://www.quomodo.com/images/blank.gif" width="25" height="'+Math.round(w*dims.height/dims.width)+'" align="left" vspace="15" />';}
if(r.img.kind&&r.img.kind!="web"){imgurl="http://%%nlurlimg%%"+qsn_screenfilepath(r,1);qlub_nl_imgs.push(imgurl.replace(/http:\/\/%%nlurlimg%%/,""));}
imgdesc='<img src="'+imgurl+'" '+dimAttributes+'alt="'+escapeattribute(title)+'" align="left" vspace="15" />';}
wsgitem.description=imgdesc+hspacedesc+"<br/>"+description;return wsgitem;}
function wsg_facebook(elem){var div=getContainer(elem);var noteid=div.id.replace("-dup","");var r=qsn_thenotes[noteid];if(q_pagemode()=="web"){var bgImage=$(".wsg_noteimage",div).css("background-image");function share(size,url){var currentNote_url;if(window.btoa){var query={};if(size){query.w=size.width;query.h=size.height;}
if(url)query.u=url;query.s=currsvcid.replace(/[^0-9]/g,"");query.n=noteid;query.p=spacexml.infos.privatedomain;query.d=r.common.date.replace(/[^0-9]/g,"");var p=[];for(var k in query){p.push(k+"="+encodeURIComponent(query[k]));}
p="base64"+btoa(p.join("&"));currentNote_url=encodeURIComponent("http://"+document.location.host+document.location.pathname+"?share="+encodeURIComponent(p)+"#"+noteid);}else{var sizeQuery="";if(size)sizeQuery="-w"+size.width+"-h"+size.height;currentNote_url=encodeURIComponent("http://"+document.location.host+document.location.pathname+"?share="+encodeURIComponent(currsvcid.replace(/[^0-9]/g,"")+"-"+noteid+"-"+spacexml.infos.privatedomain+"-"+r.common.date.replace(/[^0-9]/g,""))+sizeQuery+"#"+noteid);}
window.open("https://www.facebook.com/share.php?u="+currentNote_url);}
if(!bgImage)return share();var url=/url\(\s*(['"]?)(.*?)\1\s*\)/g.exec(bgImage)[2];var halfscreenUrl=false;if(r.img&&r.img.formats&&r.img.formats.halfscreen){url=q_spaceabsoluteurl("",r.img.formats.halfscreen);halfscreenUrl=true;}
q_fsm_wait();q_waitimgloaded(url,function(size){q_fsm_delete();if(halfscreenUrl&&(size.width<200||size.height<200)){if(r.img&&r.img.formats&&r.img.formats.screen){url=q_spaceabsoluteurl("",r.img.formats.screen);size.width=2*size.width;size.height=2*size.height;}}
share(size,halfscreenUrl?url:null);},null,true,function(){q_fsm_delete();});}else{q_alert(wsg_message["sociallinks_notactive"],{},true);}}
function wsg_twitter(elem){var div=getContainer(elem);var noteid=div.id.replace("-dup","");var r=qsn_thenotes[noteid];if(q_pagemode()=="web"){var currentNote_url=encodeURIComponent(document.location.href+"#"+noteid);var currentNote_title;var maxtitlelength=120;if(r.header.display!="false"&&r.header.text){currentNote_title=r.header.text;if(currentNote_title.length>maxtitlelength){var rest=currentNote_title.substring(maxtitlelength-4).replace(/^([^ ]*) .*/,"$1...");currentNote_title=currentNote_title.substring(0,maxtitlelength-1)+rest;}}else{currentNote_title=gebcn(div,"wsg_content_html");if(!currentNote_title)currentNote_title=gebcn(div,"wsg_content_html-v6");var res=q_innerLightHTML(currentNote_title,{maxlength:116,href:function(href){return false;}});currentNote_title=res[0].replace(/ /g," ").replace(/\r/g,"\n");}
currentNote_title=encodeURIComponent(currentNote_title);window.open("https://twitter.com/share?text="+currentNote_title+"&url="+currentNote_url);}else{q_alert(wsg_message["sociallinks_notactive"],{},true);}}
function wsg_toolbaroptions(elem){var div=getContainer(elem);var r=qsn_thenotes[div.id];var toolbar_options=qsn_toolbaroptions(elem,true)
if(r.datas&&$("*[q_data]",div).length==0){var index_edit=$.inArray("edit",toolbar_options);if(index_edit!=-1)toolbar_options.splice(index_edit,1);}
if(!quomodo.node||(spacexml.memberparams&&spacexml.memberparams.skexpert))toolbar_options.push("archive");if(spacexml.memberparams&&spacexml.memberparams.skexpert){var secid=qsn_stuffID(div.id).replace(/-stuff/,"");if(/^ph/.test(secid)){var section=quomodo.page.sections.get(secid);var settings=section.noteid&&qsn_thenotes[section.noteid];if(settings&&settings.skeleton&&settings.skeleton.slideshow&&settings.skeleton["imgsection-mod"]=="slideshow"){toolbar_options.push("transform");}}}
if(spacexml.shop&&spacexml.shop.doit){if($(".togglecart_note__",div).length>0){toolbar_options.push("togglecart");if(!(spacexml.memberparams&&spacexml.memberparams.skexpert)){var index=$.inArray("edit",toolbar_options);if(index!=-1)toolbar_options.splice(index,1);var index=$.inArray("suppress",toolbar_options);if(index!=-1)toolbar_options.splice(index,1);}}}
if(spacexml.shop&&spacexml.shop.doit&&window.ecwidID&&!(spacexml.memberparams&&spacexml.memberparams.skexpert)){if($(div).find("#my-store-auto, #my-store-"+ecwidID).length>0)return[];if(quomodo.node&&$(div).find(".shop-cart-quantity-container").length>0){return[];}}
return toolbar_options;}
var pmtxt_message={"newnoteprompt":"cliquez ici pour rédiger une nouvelle note","plug":"Titre_Créez un titre ou une légende avec un grand choix de mises en forme.","emptynote":"(aucun message)","desc":"(...)","tabcolor":"Fond de la note","titlecolorbg":"Fond","tabstyle":"Style","textfont":"Lettres","bold":"G","italic":"I","uppercase":"majusc.","tip_edit":"modifier ce titre","htype":"Type de contenu","notitle":"Vous devez entrer un titre","customcolor":"couleur personnalisée","titlecolor":"Couleur de texte","titlesize":"Taille de texte","textsizedefault":"défaut","auto":"auto","left":"gauche","right":"droite","center":"centré","textalign":"Alignement","expertoptions":"Avancé","tag":"Référencement : balise","tag_auto":"défaut","tag_none":"(aucune)","tag_h1":"h1","tag_h2":"h2","tag_h3":"h3","tag_h4":"h4","tag_h5":"h5"}
var pmtxt_msgs_fr_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("pmtxt_msgs_fr_js_loaded");var pmtxt_json_template={version:10,textalign:"3",header:{display:"true",text:"",icon:"false"},margin:10,textopacity:"0","customcolor":"false","titlecolor":"default","titlesize":"default"};var pmtxt_oldjson_template={"7":{version:7,text:"",textsize:14,textfont:"-1",textcolor:"2",textstyles:{bold:"false",italic:"false",uppercase:"false"},textspacing:"1",textalign:"0",color:1,textmargin:2,textopacity:4},"8":{version:8,text:"",textsize:14,textfont:"-1",textcolor:"2",textstyles:{bold:"false",italic:"false",uppercase:"false"},textspacing:"1",textalign:"0",color:1,margin:10,textopacity:4},"9":{version:9,text:"",textalign:"0",header:{display:"true",text:"",icon:"false"},margin:10,textopacity:"0",htype:"3","customcolor":"false","titlecolor":"default","titlesize":"default"}};var pmtxt_textsizes=[["default","textsizedefault"],["9px","9px"],["10px","10px"],["11px","11px"],["12px","12px"],["13px","13px"],["14px","14px"],["18px","18px"],["22px","22px"],["28px","28px"],["35px","35px"],["44px","44px"],["55px","55px"],["69px","69px"],["86px","86px"],["108px","108px"]];function pmtxt_upgradejson(r){if(!r.version)r.version=1;if(r.version==pmtxt_json_template.version)return r;if(r.version<2)r=pmtxt_upgradejsontov2(r);if(r.version<3)r=pmtxt_upgradejsontov3(r);if(r.version<4)r=pmtxt_upgradejsontov4(r);if(r.version<5)r=pmtxt_upgradejsontov5(r);if(r.version<6)r=pmtxt_upgradejsontov6(r);if(r.version<7)r=pmtxt_upgradejsontov7(r);if(r.version<8)r=pmtxt_upgradejsontov8(r);if(r.version<9)r=pmtxt_upgradejsontov9(r);if(r.version<10)r=pmtxt_upgradejsontov10(r);r.version=pmtxt_json_template.version;return r;}
function pmtxt_upgradejsontov2(r){r.textuppercase="0";return r;}
function pmtxt_upgradejsontov3(r){r.textspacing="1";return r;}
function pmtxt_upgradejsontov4(r){r.textalign="0";return r;}
function pmtxt_upgradejsontov5(r){r.color=-1;return r;}
function pmtxt_upgradejsontov6(r){r.margin="2";r.opacity="4";return r;}
function pmtxt_upgradejsontov7(r){r["textstyles"]={bold:String(r.textbold!="0"),uppercase:String(r.textuppercase!="0"),italic:String(r.textitalic!="0")};if(parseInt(r.textfont,10)>0)r.textfont=""+(parseInt(r.textfont,10)-1);r.textmargin=r.margin;r.textopacity=r.opacity;delete r.textbold;delete r.textitalic;delete r.uppercase;delete r.margin;return r;}
function pmtxt_upgradejsontov8(r){r.margin=parseInt(qsn_definepaddings(r.common.notekind)[r.textmargin],10);delete r.textmargin;return r;}
function pmtxt_upgradejsontov9(r){if(r.textcolor==0)r.textcolor="bw";var rpd=RPD.qsnUpgrade.common(r);r.header.text=r.text;if(parseInt(r.textsize,10)>=16){r.rpd="rpdp-sectitle0";}else{r.htype="2";r.rpd=rpd;}
RPD.qsnUpgrade.commonClean(r);return r;rpd.params.hbgcolor=rpd.params.bgcolor;rpd.model="m12";if(parseInt(r.textsize,10)>=16){r.htype="0";r.header.display="true";}else{r.htype="3";}
r.rpd=rpd;RPD.qsnUpgrade.commonClean(r);return r;}
function pmtxt_upgradejsontov10(r){r.header.display="true";if(!r.header.text)r.header.text=r.text;r.textalign="3";delete r.text;delete r.htype;return r;}
function pmtxt_version(notekind){return{margin:1,rpd:1};}
function pmtxt_changealign(noteid){if(qsn_currstate=="edit")return;function getalign(textalign){switch(textalign){case "0":return "left";break;case "1":return "right";break;case "2":return "center";break;case "3":return "auto";break;default:return "left";break;}}
var div=ge(noteid);var r=qsn_thenotes[noteid];var textalign=getalign(r.textalign);if(textalign=="auto")$(".tablenote, .qlubcontainer_headertext",div).css("text-align","");else $(".tablenote, .qlubcontainer_headertext",div).css("text-align",textalign);}
var pmtxt_js_loaded=true;if(window.qdyn_loaded)qdyn_loaded("pmtxt_js_loaded");